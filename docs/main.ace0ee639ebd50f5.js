"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[792],{5845:(Qt,We,L)=>{L.d(We,{$:()=>Ds,A:()=>le,G:()=>ze,K:()=>bi,L:()=>hs,N:()=>ci,P:()=>gd,R:()=>_r,U:()=>$n,V:()=>Ii,W:()=>hr,X:()=>ps,Y:()=>ba,Z:()=>Vi,_:()=>Ai,a:()=>uo,a0:()=>jo,a1:()=>ks,a2:()=>Aa,a3:()=>Ga,a4:()=>Jo,a5:()=>Wa,a6:()=>wl,a7:()=>gi,a8:()=>To,a9:()=>$o,aA:()=>ot,aB:()=>Ve,aC:()=>ue,aD:()=>Za,aE:()=>$t,aF:()=>cr,aG:()=>Al,aH:()=>_i,aI:()=>ef,aJ:()=>mn,aN:()=>yn,aQ:()=>wi,aa:()=>ta,ab:()=>za,ac:()=>is,ad:()=>bo,ae:()=>Ka,af:()=>ra,ag:()=>Pi,ah:()=>Ss,ak:()=>Do,al:()=>ll,am:()=>Pa,ap:()=>G,aq:()=>lt,as:()=>Sn,at:()=>Wt,au:()=>mt,av:()=>Xi,aw:()=>Sr,ax:()=>je,ay:()=>Oo,az:()=>Mo,b:()=>Xs,c:()=>Zp,d:()=>Jh,e:()=>Zh,f:()=>Xr,g:()=>ft,h:()=>Po,i:()=>So,j:()=>Ui,k:()=>Pc,l:()=>as,m:()=>Jp,p:()=>oe,r:()=>pd,s:()=>ma,u:()=>Xp});var p=L(467),F=L(7852),_=L(1076),ge=L(8041),V=L(1635),Q=L(1362);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ze=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},yt=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new _.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new ge.Vy("@firebase/auth");function Vt(w,...h){pt.logLevel<=ge.$b.ERROR&&pt.error(`Auth (${F.SDK_VERSION}): ${w}`,...h)}function je(w,...h){throw Je(w,...h)}function Ve(w,...h){return Je(w,...h)}function be(w,h,g){const T=Object.assign(Object.assign({},yt()),{[h]:g});return new _.FA("auth","Firebase",T).create(h,{appName:w.name})}function ve(w){return be(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Te(w,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&je(w,"argument-error"),be(w,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(w,...h){if("string"!=typeof w){const g=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(g,...T)}return At.create(w,...h)}function ue(w,h,...g){if(!w)throw Je(h,...g)}function Ae(w){const h="INTERNAL ASSERTION FAILED: "+w;throw Vt(h),new Error(h)}function mt(w,h){w||Ae(h)}function Ee(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ht(){return"http:"===In()||"https:"===In()}function In(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class bt{constructor(h,g){this.shortDelay=h,this.longDelay=g,mt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,_.jZ)()||(0,_.lV)()}get(){return function It(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ht()||(0,_.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pe(w,h){mt(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class He{static initialize(h,g,T){this.fetchImpl=h,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new bt(3e4,6e4);function ht(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function qe(w,h,g,T){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,p.A)(function*(w,h,g,T,H={}){return Gt(w,H,(0,p.A)(function*(){let ie={},Le={};T&&("GET"===h?Le=T:ie={body:JSON.stringify(T)});const ut=(0,_.Am)(Object.assign({key:w.config.apiKey},Le)).slice(1),St=yield w._getAdditionalHeaders();return St["Content-Type"]="application/json",w.languageCode&&(St["X-Firebase-Locale"]=w.languageCode),He.fetch()(bn(w,w.config.apiHost,g,ut),Object.assign({method:h,headers:St,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function Gt(w,h,g){return sn.apply(this,arguments)}function sn(){return(sn=(0,p.A)(function*(w,h,g){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},ct),h);try{const H=new Gn(w),ie=yield Promise.race([g(),H.promise]);H.clearNetworkTimeout();const Le=yield ie.json();if("needConfirmation"in Le)throw Kn(w,"account-exists-with-different-credential",Le);if(ie.ok&&!("errorMessage"in Le))return Le;{const ut=ie.ok?Le.errorMessage:Le.error.message,[St,vn]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===St)throw Kn(w,"credential-already-in-use",Le);if("EMAIL_EXISTS"===St)throw Kn(w,"email-already-in-use",Le);if("USER_DISABLED"===St)throw Kn(w,"user-disabled",Le);const Pn=T[St]||St.toLowerCase().replace(/[_\s]+/g,"-");if(vn)throw be(w,Pn,vn);je(w,Pn)}}catch(H){if(H instanceof _.g)throw H;je(w,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function Mt(w,h,g,T){return dn.apply(this,arguments)}function dn(){return(dn=(0,p.A)(function*(w,h,g,T,H={}){const ie=yield qe(w,h,g,T,H);return"mfaPendingCredential"in ie&&je(w,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function bn(w,h,g,T){const H=`${h}${g}?${T}`;return w.config.emulator?Pe(w.config,H):`${w.config.apiScheme}://${H}`}function Mn(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Ve(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(w,h,g){const T={appName:w.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const H=Ve(w,h,T);return H.customData._tokenResponse=g,H}function Bn(w){return void 0!==w&&void 0!==w.getResponse}function Jt(w){return void 0!==w&&void 0!==w.enterprise}class ir{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return Mn(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function xn(){return(xn=(0,p.A)(function*(w){return(yield qe(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jn(w,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,p.A)(function*(w,h){return qe(w,"GET","/v2/recaptchaConfig",ht(w,h))})).apply(this,arguments)}function br(){return(br=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function an(){return(an=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function hn(w,h){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ye(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Be(){return(Be=(0,p.A)(function*(w,h=!1){const g=(0,_.Ku)(w),T=yield g.getIdToken(h),H=Et(T);ue(H&&H.exp&&H.auth_time&&H.iat,g.auth,"internal-error");const ie="object"==typeof H.firebase?H.firebase:void 0,Le=ie?.sign_in_provider;return{claims:H,token:T,authTime:Ye(et(H.auth_time)),issuedAtTime:Ye(et(H.iat)),expirationTime:Ye(et(H.exp)),signInProvider:Le||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function et(w){return 1e3*Number(w)}function Et(w){const[h,g,T]=w.split(".");if(void 0===h||void 0===g||void 0===T)return Vt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,_.u)(g);return H?JSON.parse(H):(Vt("Failed to decode base64 JWT payload"),null)}catch(H){return Vt("Caught error parsing JWT payload as JSON",H?.toString()),null}}function Wn(w){const h=Et(w);return ue(h,"internal-error"),ue(typeof h.exp<"u","internal-error"),ue(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function nn(w,h){return On.apply(this,arguments)}function On(){return(On=(0,p.A)(function*(w,h,g=!1){if(g)return h;try{return yield h}catch(T){throw T instanceof _.g&&function An({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}class or{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const H=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,p.A)(function*(){yield g.iteration()}),T)}iteration(){var h=this;return(0,p.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class Dr{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ye(this.lastLoginAt),this.creationTime=Ye(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zr(w){return ui.apply(this,arguments)}function ui(){return(ui=(0,p.A)(function*(w){var h;const g=w.auth,T=yield w.getIdToken(),H=yield nn(w,hn(g,{idToken:T}));ue(H?.users.length,g,"internal-error");const ie=H.users[0];w._notifyReloadListener(ie);const Le=null!==(h=ie.providerUserInfo)&&void 0!==h&&h.length?me(ie.providerUserInfo):[],ut=function Ke(w,h){return[...w.filter(T=>!h.some(H=>H.providerId===T.providerId)),...h]}(w.providerData,Le),Pn=!!w.isAnonymous&&!(w.email&&ie.passwordHash||ut?.length),Ir={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:ut,metadata:new Dr(ie.createdAt,ie.lastLoginAt),isAnonymous:Pn};Object.assign(w,Ir)})).apply(this,arguments)}function Fe(){return(Fe=(0,p.A)(function*(w){const h=(0,_.Ku)(w);yield zr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function me(w){return w.map(h=>{var{providerId:g}=h,T=(0,V.Tt)(h,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function ae(){return(ae=(0,p.A)(function*(w,h){const g=yield Gt(w,{},(0,p.A)(function*(){const T=(0,_.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:ie}=w.config,Le=bn(w,H,"/v1/token",`key=${ie}`),ut=yield w._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",He.fetch()(Le,{method:"POST",headers:ut,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Y(){return(Y=(0,p.A)(function*(w,h){return qe(w,"POST","/v2/accounts:revokeToken",ht(w,h))})).apply(this,arguments)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ue(h.idToken,"internal-error"),ue(typeof h.idToken<"u","internal-error"),ue(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Wn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){ue(0!==h.length,"internal-error");const g=Wn(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var T=this;return(0,p.A)(function*(){return g||!T.accessToken||T.isExpired?(ue(T.refreshToken,h,"user-token-expired"),T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null):T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var T=this;return(0,p.A)(function*(){const{accessToken:H,refreshToken:ie,expiresIn:Le}=yield function xe(w,h){return ae.apply(this,arguments)}(h,g);T.updateTokensAndExpiration(H,ie,Number(Le))})()}updateTokensAndExpiration(h,g,T){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,g){const{refreshToken:T,accessToken:H,expirationTime:ie}=g,Le=new re;return T&&(ue("string"==typeof T,"internal-error",{appName:h}),Le.refreshToken=T),H&&(ue("string"==typeof H,"internal-error",{appName:h}),Le.accessToken=H),ie&&(ue("number"==typeof ie,"internal-error",{appName:h}),Le.expirationTime=ie),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return Ae("not implemented")}}function X(w,h){ue("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class ke{constructor(h){var{uid:g,auth:T,stsTokenManager:H}=h,ie=(0,V.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new Dr(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,p.A)(function*(){const T=yield nn(g,g.stsTokenManager.getToken(g.auth,h));return ue(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(h){return function Se(w){return Be.apply(this,arguments)}(this,h)}reload(){return function ei(w){return Fe.apply(this,arguments)}(this)}_assign(h){this!==h&&(ue(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new ke(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var T=this;return(0,p.A)(function*(){let H=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),H=!0),g&&(yield zr(T)),yield T.auth._persistUserIfCurrent(T),H&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,p.A)(function*(){if((0,F._isFirebaseServerApp)(h.auth.app))return Promise.reject(ve(h.auth));const g=yield h.getIdToken();return yield nn(h,function Ar(w,h){return br.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var T,H,ie,Le,ut,St,vn,Pn;const Ir=null!==(T=g.displayName)&&void 0!==T?T:void 0,Ys=null!==(H=g.email)&&void 0!==H?H:void 0,La=null!==(ie=g.phoneNumber)&&void 0!==ie?ie:void 0,xc=null!==(Le=g.photoURL)&&void 0!==Le?Le:void 0,Ia=null!==(ut=g.tenantId)&&void 0!==ut?ut:void 0,Pd=null!==(St=g._redirectEventId)&&void 0!==St?St:void 0,Ms=null!==(vn=g.createdAt)&&void 0!==vn?vn:void 0,Ja=null!==(Pn=g.lastLoginAt)&&void 0!==Pn?Pn:void 0,{uid:kl,emailVerified:Eu,isAnonymous:la,providerData:el,stsTokenManager:Ea}=g;ue(kl&&Ea,h,"internal-error");const ys=re.fromJSON(this.name,Ea);ue("string"==typeof kl,h,"internal-error"),X(Ir,h.name),X(Ys,h.name),ue("boolean"==typeof Eu,h,"internal-error"),ue("boolean"==typeof la,h,"internal-error"),X(La,h.name),X(xc,h.name),X(Ia,h.name),X(Pd,h.name),X(Ms,h.name),X(Ja,h.name);const Md=new ke({uid:kl,auth:h,email:Ys,emailVerified:Eu,displayName:Ir,isAnonymous:la,photoURL:xc,phoneNumber:La,tenantId:Ia,stsTokenManager:ys,createdAt:Ms,lastLoginAt:Ja});return el&&Array.isArray(el)&&(Md.providerData=el.map(pr=>Object.assign({},pr))),Pd&&(Md._redirectEventId=Pd),Md}static _fromIdTokenResponse(h,g,T=!1){return(0,p.A)(function*(){const H=new re;H.updateFromServerResponse(g);const ie=new ke({uid:g.localId,auth:h,stsTokenManager:H,isAnonymous:T});return yield zr(ie),ie})()}static _fromGetAccountInfoResponse(h,g,T){return(0,p.A)(function*(){const H=g.users[0];ue(void 0!==H.localId,"internal-error");const ie=void 0!==H.providerUserInfo?me(H.providerUserInfo):[],Le=!(H.email&&H.passwordHash||ie?.length),ut=new re;ut.updateFromIdToken(T);const St=new ke({uid:H.localId,auth:h,stsTokenManager:ut,isAnonymous:Le}),vn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:ie,metadata:new Dr(H.createdAt,H.lastLoginAt),isAnonymous:!(H.email&&H.passwordHash||ie?.length)};return Object.assign(St,vn),St})()}}const _t=new Map;function $t(w){mt(w instanceof Function,"Expected a class definition");let h=_t.get(w);return h?(mt(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,_t.set(w,h),h)}const $n=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.A)(function*(){return!0})()}_set(g,T){var H=this;return(0,p.A)(function*(){H.storage[g]=T})()}_get(g){var T=this;return(0,p.A)(function*(){const H=T.storage[g];return void 0===H?null:H})()}_remove(g){var T=this;return(0,p.A)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return w.type="NONE",w})();function cr(w,h,g){return`firebase:${w}:${h}:${g}`}class fn{constructor(h,g,T){this.persistence=h,this.auth=g,this.userKey=T;const{config:H,name:ie}=this.auth;this.fullUserKey=cr(this.userKey,H.apiKey,ie),this.fullPersistenceKey=cr("persistence",H.apiKey,ie),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,p.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?ke._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,p.A)(function*(){if(g.persistence===h)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,T="authUser"){return(0,p.A)(function*(){if(!g.length)return new fn($t($n),h,T);const H=(yield Promise.all(g.map(function(){var vn=(0,p.A)(function*(Pn){if(yield Pn._isAvailable())return Pn});return function(Pn){return vn.apply(this,arguments)}}()))).filter(vn=>vn);let ie=H[0]||$t($n);const Le=cr(T,h.config.apiKey,h.name);let ut=null;for(const vn of g)try{const Pn=yield vn._get(Le);if(Pn){const Ir=ke._fromJSON(h,Pn);vn!==ie&&(ut=Ir),ie=vn;break}}catch{}const St=H.filter(vn=>vn._shouldAllowMigration);return ie._shouldAllowMigration&&St.length?(ie=St[0],ut&&(yield ie._set(Le,ut.toJSON())),yield Promise.all(g.map(function(){var vn=(0,p.A)(function*(Pn){if(Pn!==ie)try{yield Pn._remove(Le)}catch{}});return function(Pn){return vn.apply(this,arguments)}}())),new fn(ie,h,T)):new fn(ie,h,T)})()}}function en(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Fr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Yn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(sr(h))return"Blackberry";if(Qi(h))return"Webos";if(Lr(h))return"Safari";if((h.includes("chrome/")||ji(h))&&!h.includes("edge/"))return"Chrome";if(Sr(h))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function Yn(w=(0,_.ZQ)()){return/firefox\//i.test(w)}function Lr(w=(0,_.ZQ)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ji(w=(0,_.ZQ)()){return/crios\//i.test(w)}function Fr(w=(0,_.ZQ)()){return/iemobile/i.test(w)}function Sr(w=(0,_.ZQ)()){return/android/i.test(w)}function sr(w=(0,_.ZQ)()){return/blackberry/i.test(w)}function Qi(w=(0,_.ZQ)()){return/webos/i.test(w)}function Xi(w=(0,_.ZQ)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function ot(w=(0,_.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function qt(w=(0,_.ZQ)()){return Xi(w)||Sr(w)||Qi(w)||sr(w)||/windows phone/i.test(w)||Fr(w)}function te(w,h=[]){let g;switch(w){case"Browser":g=en((0,_.ZQ)());break;case"Worker":g=`${en((0,_.ZQ)())}-${w}`;break;default:g=w}const T=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${F.SDK_VERSION}/${T}`}class ye{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const T=ie=>new Promise((Le,ut)=>{try{Le(h(ie))}catch(St){ut(St)}});T.onAbort=g,this.queue.push(T);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,p.A)(function*(){if(g.auth.currentUser===h)return;const T=[];try{for(const H of g.queue)yield H(h),H.onAbort&&T.push(H.onAbort)}catch(H){T.reverse();for(const ie of T)try{ie()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function Qe(){return(Qe=(0,p.A)(function*(w,h={}){return qe(w,"GET","/v2/passwordPolicy",ht(w,h))})).apply(this,arguments)}class xt{constructor(h){var g,T,H,ie;const Le=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Le.minPasswordLength)&&void 0!==g?g:6,Le.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Le.maxPasswordLength),void 0!==Le.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Le.containsLowercaseCharacter),void 0!==Le.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Le.containsUppercaseCharacter),void 0!==Le.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Le.containsNumericCharacter),void 0!==Le.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Le.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(T=h.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(ie=h.forceUpgradeOnSignin)&&void 0!==ie&&ie,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,T,H,ie,Le,ut;const St={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,St),this.validatePasswordCharacterOptions(h,St),St.isValid&&(St.isValid=null===(g=St.meetsMinPasswordLength)||void 0===g||g),St.isValid&&(St.isValid=null===(T=St.meetsMaxPasswordLength)||void 0===T||T),St.isValid&&(St.isValid=null===(H=St.containsLowercaseLetter)||void 0===H||H),St.isValid&&(St.isValid=null===(ie=St.containsUppercaseLetter)||void 0===ie||ie),St.isValid&&(St.isValid=null===(Le=St.containsNumericCharacter)||void 0===Le||Le),St.isValid&&(St.isValid=null===(ut=St.containsNonAlphanumericCharacter)||void 0===ut||ut),St}validatePasswordLengthOptions(h,g){const T=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;T&&(g.meetsMinPasswordLength=h.length>=T),H&&(g.meetsMaxPasswordLength=h.length<=H)}validatePasswordCharacterOptions(h,g){let T;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let H=0;H<h.length;H++)T=h.charAt(H),this.updatePasswordCharacterOptionsStatuses(g,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(h,g,T,H,ie){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ie))}}class Ut{constructor(h,g,T,H){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=T,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _n(this),this.idTokenSubscription=new _n(this),this.beforeStateQueue=new ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,g){var T=this;return g&&(this._popupRedirectResolver=$t(g)),this._initializationPromise=this.queue((0,p.A)(function*(){var H,ie;if(!T._deleted&&(T.persistenceManager=yield fn.create(T,h),!T._deleted)){if(null!==(H=T._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(ie=T.currentUser)||void 0===ie?void 0:ie.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,p.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,p.A)(function*(){try{const T=yield hn(g,{idToken:h}),H=yield ke._fromGetAccountInfoResponse(g,T,h);yield g.directlySetCurrentUser(H)}catch(T){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",T),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,p.A)(function*(){var T;if((0,F._isFirebaseServerApp)(g.app)){const ut=g.app.settings.authIdToken;return ut?new Promise(St=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(ut).then(St,St))}):g.directlySetCurrentUser(null)}const H=yield g.assertedPersistence.getCurrentUser();let ie=H,Le=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ut=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,St=ie?._redirectEventId,vn=yield g.tryRedirectSignIn(h);(!ut||ut===St)&&vn?.user&&(ie=vn.user,Le=!0)}if(!ie)return g.directlySetCurrentUser(null);if(!ie._redirectEventId){if(Le)try{yield g.beforeStateQueue.runMiddleware(ie)}catch(ut){ie=H,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ut))}return ie?g.reloadAndSetCurrentUserOrClear(ie):g.directlySetCurrentUser(null)}return ue(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ie._redirectEventId?g.directlySetCurrentUser(ie):g.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(h){var g=this;return(0,p.A)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,p.A)(function*(){try{yield zr(h)}catch(T){if("auth/network-request-failed"!==T?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function rn(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,p.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,p.A)(function*(){if((0,F._isFirebaseServerApp)(g.app))return Promise.reject(ve(g));const T=h?(0,_.Ku)(h):null;return T&&ue(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(h,g=!1){var T=this;return(0,p.A)(function*(){if(!T._deleted)return h&&ue(T.tenantId===h.tenantId,T,"tenant-id-mismatch"),g||(yield T.beforeStateQueue.runMiddleware(h)),T.queue((0,p.A)(function*(){yield T.directlySetCurrentUser(h),T.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,p.A)(function*(){return(0,F._isFirebaseServerApp)(h.app)?Promise.reject(ve(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,F._isFirebaseServerApp)(this.app)?Promise.reject(ve(this)):this.queue((0,p.A)(function*(){yield g.assertedPersistence.setPersistence($t(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,p.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const T=g._getPasswordPolicyInternal();return T.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,p.A)(function*(){const g=yield function we(w){return Qe.apply(this,arguments)}(h),T=new xt(g);null===h.tenantId?h._projectPasswordPolicy=T:h._tenantPasswordPolicies[h.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new _.FA("auth","Firebase",h())}onAuthStateChanged(h,g,T){return this.registerStateListener(this.authStateSubscription,h,g,T)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,T){return this.registerStateListener(this.idTokenSubscription,h,g,T)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const T=this.onAuthStateChanged(()=>{T(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,p.A)(function*(){if(g.currentUser){const T=yield g.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:T};null!=g.tenantId&&(H.tenantId=g.tenantId),yield function fe(w,h){return Y.apply(this,arguments)}(g,H)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var T=this;return(0,p.A)(function*(){const H=yield T.getOrInitRedirectPersistenceManager(g);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,p.A)(function*(){if(!g.redirectPersistenceManager){const T=h&&$t(h)||g._popupRedirectResolver;ue(T,g,"argument-error"),g.redirectPersistenceManager=yield fn.create(g,[$t(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,p.A)(function*(){var T,H;return g._isInitialized&&(yield g.queue((0,p.A)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===h?g._currentUser:(null===(H=g.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,p.A)(function*(){if(h===g.currentUser)return g.queue((0,p.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,T,H){if(this._deleted)return()=>{};const ie="function"==typeof g?g:g.next.bind(g);let Le=!1;const ut=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(ut,this,"internal-error"),ut.then(()=>{Le||ie(this.currentUser)}),"function"==typeof g){const St=h.addObserver(g,T,H);return()=>{Le=!0,St()}}{const St=h.addObserver(g);return()=>{Le=!0,St()}}}directlySetCurrentUser(h){var g=this;return(0,p.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=te(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,p.A)(function*(){var g;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();H&&(T["X-Firebase-Client"]=H);const ie=yield h._getAppCheckToken();return ie&&(T["X-Firebase-AppCheck"]=ie),T})()}_getAppCheckToken(){var h=this;return(0,p.A)(function*(){var g;const T=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return T?.error&&function Ft(w,...h){pt.logLevel<=ge.$b.WARN&&pt.warn(`Auth (${F.SDK_VERSION}): ${w}`,...h)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function mn(w){return(0,_.Ku)(w)}class _n{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,_.tD)(g=>this.observer=g)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wr={loadJS:()=>(0,p.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mr(w){return wr.loadJS(w)}function tr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class jr{constructor(h){this.type="recaptcha-enterprise",this.auth=mn(h)}verify(h="verify",g=!1){var T=this;return(0,p.A)(function*(){function ie(){return ie=(0,p.A)(function*(ut){if(!g){if(null==ut.tenantId&&null!=ut._agentRecaptchaConfig)return ut._agentRecaptchaConfig.siteKey;if(null!=ut.tenantId&&void 0!==ut._tenantRecaptchaConfigs[ut.tenantId])return ut._tenantRecaptchaConfigs[ut.tenantId].siteKey}return new Promise(function(){var St=(0,p.A)(function*(vn,Pn){jn(ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ir=>{if(void 0!==Ir.recaptchaKey){const Ys=new ir(Ir);return null==ut.tenantId?ut._agentRecaptchaConfig=Ys:ut._tenantRecaptchaConfigs[ut.tenantId]=Ys,vn(Ys.siteKey)}Pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Ir=>{Pn(Ir)})});return function(vn,Pn){return St.apply(this,arguments)}}())}),ie.apply(this,arguments)}function Le(ut,St,vn){const Pn=window.grecaptcha;Jt(Pn)?Pn.enterprise.ready(()=>{Pn.enterprise.execute(ut,{action:h}).then(Ir=>{St(Ir)}).catch(()=>{St("NO_RECAPTCHA")})}):vn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ut,St)=>{(function H(ut){return ie.apply(this,arguments)})(T.auth).then(vn=>{if(!g&&Jt(window.grecaptcha))Le(vn,ut,St);else{if(typeof window>"u")return void St(new Error("RecaptchaVerifier is only supported in browser"));let Pn=function Hi(){return wr.recaptchaEnterpriseScript}();0!==Pn.length&&(Pn+=vn),Mr(Pn).then(()=>{Le(vn,ut,St)}).catch(Ir=>{St(Ir)})}}).catch(vn=>{St(vn)})})})()}}function Kr(w,h,g){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,p.A)(function*(w,h,g,T=!1){const H=new jr(w);let ie;try{ie=yield H.verify(g)}catch{ie=yield H.verify(g,!0)}const Le=Object.assign({},h);return Object.assign(Le,T?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(Le,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Le,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Le})).apply(this,arguments)}function yr(w,h,g,T){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,p.A)(function*(w,h,g,T){var H;if(null!==(H=w._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ie=yield Kr(w,h,g,"getOobCode"===g);return T(w,ie)}return T(w,h).catch(function(){var ie=(0,p.A)(function*(Le){if("auth/missing-recaptcha-token"===Le.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ut=yield Kr(w,h,g,"getOobCode"===g);return T(w,ut)}return Promise.reject(Le)});return function(Le){return ie.apply(this,arguments)}}())}),Ti.apply(this,arguments)}function bi(w,h,g){const T=mn(w);ue(T._canInitEmulator,T,"emulator-config-failed"),ue(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const H=!!g?.disableWarnings,ie=Fo(h),{host:Le,port:ut}=function Ki(w){const h=Fo(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(T);if(H){const ie=H[1];return{host:ie,port:Is(T.substr(ie.length+1))}}{const[ie,Le]=T.split(":");return{host:ie,port:Is(Le)}}}(h);T.config.emulator={url:`${ie}//${Le}${null===ut?"":`:${ut}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Le,port:ut,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Jn(){function w(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Fo(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function Is(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class hs{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Ae("not implemented")}_getIdTokenResponse(h){return Ae("not implemented")}_linkToIdToken(h,g){return Ae("not implemented")}_getReauthenticationResolver(h){return Ae("not implemented")}}function Xo(w,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:resetPassword",ht(w,h))})).apply(this,arguments)}function Os(){return(Os=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function no(w,h){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function fs(){return(fs=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:update",ht(w,h))})).apply(this,arguments)}function ro(w,h){return io.apply(this,arguments)}function io(){return(io=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithPassword",ht(w,h))})).apply(this,arguments)}function Ns(w,h){return so.apply(this,arguments)}function so(){return(so=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:sendOobCode",ht(w,h))})).apply(this,arguments)}function Fi(){return(Fi=(0,p.A)(function*(w,h){return Ns(w,h)})).apply(this,arguments)}function xr(w,h){return oo.apply(this,arguments)}function oo(){return(oo=(0,p.A)(function*(w,h){return Ns(w,h)})).apply(this,arguments)}function fi(w,h){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,p.A)(function*(w,h){return Ns(w,h)})).apply(this,arguments)}function ws(){return(ws=(0,p.A)(function*(w,h){return Ns(w,h)})).apply(this,arguments)}function $i(){return($i=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithEmailLink",ht(w,h))})).apply(this,arguments)}function Uo(){return(Uo=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithEmailLink",ht(w,h))})).apply(this,arguments)}class Cs extends hs{constructor(h,g,T,H=null){super("password",T),this._email=h,this._password=g,this._tenantId=H}static _fromEmailAndPassword(h,g){return new Cs(h,g,"password")}static _fromEmailAndCode(h,g,T=null){return new Cs(h,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,p.A)(function*(){switch(g.signInMethod){case"password":return yr(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ro);case"emailLink":return function ao(w,h){return $i.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:je(h,"internal-error")}})()}_linkToIdToken(h,g){var T=this;return(0,p.A)(function*(){switch(T.signInMethod){case"password":return yr(h,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",no);case"emailLink":return function Vo(w,h){return Uo.apply(this,arguments)}(h,{idToken:g,email:T._email,oobCode:T._password});default:je(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function es(w,h){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithIdp",ht(w,h))})).apply(this,arguments)}class ci extends hs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new ci(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):je("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:H}=g,ie=(0,V.Tt)(g,["providerId","signInMethod"]);if(!T||!H)return null;const Le=new ci(T,H);return Le.idToken=ie.idToken||void 0,Le.accessToken=ie.accessToken||void 0,Le.secret=ie.secret,Le.nonce=ie.nonce,Le.pendingToken=ie.pendingToken||null,Le}_getIdTokenResponse(h){return es(h,this.buildRequest())}_linkToIdToken(h,g){const T=this.buildRequest();return T.idToken=g,es(h,T)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,es(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,_.Am)(g)}return h}}function qi(){return(qi=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:sendVerificationCode",ht(w,h))})).apply(this,arguments)}function ti(){return(ti=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithPhoneNumber",ht(w,h))})).apply(this,arguments)}function zs(){return(zs=(0,p.A)(function*(w,h){const g=yield Mt(w,"POST","/v1/accounts:signInWithPhoneNumber",ht(w,h));if(g.temporaryProof)throw Kn(w,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const bs={USER_NOT_FOUND:"user-not-found"};function yo(){return(yo=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithPhoneNumber",ht(w,Object.assign(Object.assign({},h),{operation:"REAUTH"})),bs)})).apply(this,arguments)}class As extends hs{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new As({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new As({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function _o(w,h){return ti.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function lr(w,h){return zs.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ts(w,h){return yo.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:T,verificationCode:H}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:T,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:T,phoneNumber:H,temporaryProof:ie}=h;return T||g||H||ie?new As({verificationId:g,verificationCode:T,phoneNumber:H,temporaryProof:ie}):null}}class Zr{constructor(h){var g,T,H,ie,Le,ut;const St=(0,_.I9)((0,_.hp)(h)),vn=null!==(g=St.apiKey)&&void 0!==g?g:null,Pn=null!==(T=St.oobCode)&&void 0!==T?T:null,Ir=function Ta(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=St.mode)&&void 0!==H?H:null);ue(vn&&Pn&&Ir,"argument-error"),this.apiKey=vn,this.operation=Ir,this.code=Pn,this.continueUrl=null!==(ie=St.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Le=St.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(ut=St.tenantId)&&void 0!==ut?ut:null}static parseLink(h){const g=function Bo(w){const h=(0,_.I9)((0,_.hp)(w)).link,g=h?(0,_.I9)((0,_.hp)(h)).deep_link_id:null,T=(0,_.I9)((0,_.hp)(w)).deep_link_id;return(T?(0,_.I9)((0,_.hp)(T)).link:null)||T||g||h||w}(h);try{return new Zr(g)}catch{return null}}}let Ii=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,T){return Cs._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const H=Zr.parseLink(T);return ue(H,"argument-error"),Cs._fromEmailAndCode(g,H.code,H.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ei{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class lo extends Ei{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Vi extends lo{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return ue("providerId"in g&&"signInMethod"in g,"argument-error"),ci._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ue(h.idToken||h.accessToken,"argument-error"),ci._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Vi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Vi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:H,pendingToken:ie,nonce:Le,providerId:ut}=h;if(!T&&!H&&!g&&!ie||!ut)return null;try{return new Vi(ut)._credential({idToken:g,accessToken:T,nonce:Le,pendingToken:ie})}catch{return null}}}let hr=(()=>{class w extends lo{constructor(){super("facebook.com")}static credential(g){return ci._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),ps=(()=>{class w extends lo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return ci._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:H}=g;if(!T&&!H)return null;try{return w.credential(T,H)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),ba=(()=>{class w extends lo{constructor(){super("github.com")}static credential(g){return ci._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class wi extends hs{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return es(h,this.buildRequest())}_linkToIdToken(h,g){const T=this.buildRequest();return T.idToken=g,es(h,T)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,es(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:H,pendingToken:ie}=g;return T&&H&&ie&&T===H?new wi(T,ie):null}static _create(h,g){return new wi(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ai extends Ei{constructor(h){ue(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ai.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ai.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=wi.fromJSON(h);return ue(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:T}=h;if(!g||!T)return null;try{return wi._create(T,g)}catch{return null}}}let Ds=(()=>{class w extends lo{constructor(){super("twitter.com")}static credential(g,T){return ci._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:H}=g;if(!T||!H)return null;try{return w.credential(T,H)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function fa(w,h){return co.apply(this,arguments)}function co(){return(co=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signUp",ht(w,h))})).apply(this,arguments)}class Gi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,T,H=!1){return(0,p.A)(function*(){const ie=yield ke._fromIdTokenResponse(h,T,H),Le=Eo(T);return new Gi({user:ie,providerId:Le,_tokenResponse:T,operationType:g})})()}static _forOperation(h,g,T){return(0,p.A)(function*(){yield h._updateTokensIfNecessary(T,!0);const H=Eo(T);return new Gi({user:h,providerId:H,_tokenResponse:T,operationType:g})})()}}function Eo(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function jo(w){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,p.A)(function*(w){var h;if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ve(w));const g=mn(w);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Gi({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield fa(g,{returnSecureToken:!0}),H=yield Gi._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(H.user),H})).apply(this,arguments)}class Ks extends _.g{constructor(h,g,T,H){var ie;super(g.code,g.message),this.operationType=T,this.user=H,Object.setPrototypeOf(this,Ks.prototype),this.customData={appName:h.name,tenantId:null!==(ie=h.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,g,T,H){return new Ks(h,g,T,H)}}function wo(w,h,g,T){return("reauthenticate"===h?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?Ks._fromErrorAndOperation(w,ie,h,T):ie})}function Co(w){return new Set(w.map(({providerId:h})=>h).filter(h=>!!h))}function G(w,h){return z.apply(this,arguments)}function z(){return z=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w);yield Re(!0,g,h);const{providerUserInfo:T}=yield function Xn(w,h){return an.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),H=Co(T||[]);return g.providerData=g.providerData.filter(ie=>H.has(ie.providerId)),H.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),z.apply(this,arguments)}function x(w,h){return se.apply(this,arguments)}function se(){return(se=(0,p.A)(function*(w,h,g=!1){const T=yield nn(w,h._linkToIdToken(w.auth,yield w.getIdToken()),g);return Gi._forOperation(w,"link",T)})).apply(this,arguments)}function Re(w,h,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,p.A)(function*(w,h,g){yield zr(h);const H=!1===w?"provider-already-linked":"no-such-provider";ue(Co(h.providerData).has(g)===w,h.auth,H)})).apply(this,arguments)}function Qn(w,h){return En.apply(this,arguments)}function En(){return(En=(0,p.A)(function*(w,h,g=!1){const{auth:T}=w;if((0,F._isFirebaseServerApp)(T.app))return Promise.reject(ve(T));const H="reauthenticate";try{const ie=yield nn(w,wo(T,H,h,w),g);ue(ie.idToken,T,"internal-error");const Le=Et(ie.idToken);ue(Le,T,"internal-error");const{sub:ut}=Le;return ue(w.uid===ut,T,"user-mismatch"),Gi._forOperation(w,H,ie)}catch(ie){throw"auth/user-not-found"===ie?.code&&je(T,"user-mismatch"),ie}})).apply(this,arguments)}function qs(w,h){return gs.apply(this,arguments)}function gs(){return(gs=(0,p.A)(function*(w,h,g=!1){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ve(w));const T="signIn",H=yield wo(w,T,h),ie=yield Gi._fromIdTokenResponse(w,T,H);return g||(yield w._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function ks(w,h){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,p.A)(function*(w,h){return qs(mn(w),h)})).apply(this,arguments)}function Aa(w,h){return Da.apply(this,arguments)}function Da(){return(Da=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w);return yield Re(!1,g,h.providerId),x(g,h)})).apply(this,arguments)}function Ga(w,h){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,p.A)(function*(w,h){return Qn((0,_.Ku)(w),h)})).apply(this,arguments)}function ns(){return(ns=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithCustomToken",ht(w,h))})).apply(this,arguments)}function Jo(w,h){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,p.A)(function*(w,h){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ve(w));const g=mn(w),T=yield function ms(w,h){return ns.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),H=yield Gi._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(H.user),H}),Ho.apply(this,arguments)}class er{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?ni._fromServerResponse(h,g):"totpInfo"in g?qr._fromServerResponse(h,g):je(h,"internal-error")}}class ni extends er{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new ni(g)}}class qr extends er{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new qr(g)}}function Ri(w,h,g){var T;ue((null===(T=g.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),ue(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ue(g.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(ue(g.android.packageName.length>0,w,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function pi(w){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.A)(function*(w){const h=mn(w);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Wa(w,h,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,p.A)(function*(w,h,g){const T=mn(w),H={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&Ri(T,H,g),yield yr(T,H,"getOobCode",xr)})).apply(this,arguments)}function wl(w,h,g){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,p.A)(function*(w,h,g){yield Xo((0,_.Ku)(w),{oobCode:h,newPassword:g}).catch(function(){var T=(0,p.A)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&pi(w),H});return function(H){return T.apply(this,arguments)}}())}),Sa.apply(this,arguments)}function gi(w,h){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,p.A)(function*(w,h){yield function Es(w,h){return fs.apply(this,arguments)}((0,_.Ku)(w),{oobCode:h})}),Qs.apply(this,arguments)}function To(w,h){return ea.apply(this,arguments)}function ea(){return(ea=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w),T=yield Xo(g,{oobCode:h}),H=T.requestType;switch(ue(H,g,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(T.mfaInfo,g,"internal-error");default:ue(T.email,g,"internal-error")}let ie=null;return T.mfaInfo&&(ie=er._fromServerResponse(mn(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ie},operation:H}})).apply(this,arguments)}function $o(w,h){return al.apply(this,arguments)}function al(){return(al=(0,p.A)(function*(w,h){const{data:g}=yield To((0,_.Ku)(w),h);return g.email})).apply(this,arguments)}function ta(w,h,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ve(w));const T=mn(w),Le=yield yr(T,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fa).catch(St=>{throw"auth/password-does-not-meet-requirements"===St.code&&pi(w),St}),ut=yield Gi._fromIdTokenResponse(T,"signIn",Le);return yield T._updateCurrentUser(ut.user),ut})).apply(this,arguments)}function za(w,h,g){return(0,F._isFirebaseServerApp)(w.app)?Promise.reject(ve(w)):ks((0,_.Ku)(w),Ii.credential(h,g)).catch(function(){var T=(0,p.A)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&pi(w),H});return function(H){return T.apply(this,arguments)}}())}function is(w,h,g){return na.apply(this,arguments)}function na(){return(na=(0,p.A)(function*(w,h,g){const T=mn(w),H={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ie(Le,ut){ue(ut.handleCodeInApp,T,"argument-error"),ut&&Ri(T,Le,ut)})(H,g),yield yr(T,H,"getOobCode",fi)})).apply(this,arguments)}function bo(w,h){const g=Zr.parseLink(h);return"EMAIL_SIGNIN"===g?.operation}function Ka(w,h,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ve(w));const T=(0,_.Ku)(w),H=Ii.credentialWithLink(h,g||Ee());return ue(H._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),ks(T,H)})).apply(this,arguments)}function ss(){return(ss=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:createAuthUri",ht(w,h))})).apply(this,arguments)}function ra(w,h){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,p.A)(function*(w,h){const T={identifier:h,continueUri:Ht()?Ee():"http://localhost"},{signinMethods:H}=yield function pa(w,h){return ss.apply(this,arguments)}((0,_.Ku)(w),T);return H||[]}),Ao.apply(this,arguments)}function Pi(w,h){return ia.apply(this,arguments)}function ia(){return ia=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w),H={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};h&&Ri(g.auth,H,h);const{email:ie}=yield function Zi(w,h){return Fi.apply(this,arguments)}(g.auth,H);ie!==w.email&&(yield w.reload())}),ia.apply(this,arguments)}function Ss(w,h,g){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,p.A)(function*(w,h,g){const T=(0,_.Ku)(w),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:h};g&&Ri(T.auth,ie,g);const{email:Le}=yield function Hn(w,h){return ws.apply(this,arguments)}(T.auth,ie);Le!==w.email&&(yield w.reload())}),Ra.apply(this,arguments)}function qa(){return(qa=(0,p.A)(function*(w,h){return qe(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Do(w,h){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,p.A)(function*(w,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const T=(0,_.Ku)(w),ie={idToken:yield T.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Le=yield nn(T,function Hr(w,h){return qa.apply(this,arguments)}(T.auth,ie));T.displayName=Le.displayName||null,T.photoURL=Le.photoUrl||null;const ut=T.providerData.find(({providerId:St})=>"password"===St);ut&&(ut.displayName=T.displayName,ut.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Le)}),Vs.apply(this,arguments)}function ll(w,h){const g=(0,_.Ku)(w);return(0,F._isFirebaseServerApp)(g.auth.app)?Promise.reject(ve(g.auth)):Us(g,h,null)}function Pa(w,h){return Us((0,_.Ku)(w),null,h)}function Us(w,h,g){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,p.A)(function*(w,h,g){const{auth:T}=w,ie={idToken:yield w.getIdToken(),returnSecureToken:!0};h&&(ie.email=h),g&&(ie.password=g);const Le=yield nn(w,function Li(w,h){return Os.apply(this,arguments)}(T,ie));yield w._updateTokensIfNecessary(Le,!0)}),Bs.apply(this,arguments)}class Ci{constructor(h,g,T={}){this.isNewUser=h,this.providerId=g,this.profile=T}}class b extends Ci{constructor(h,g,T,H){super(h,g,T),this.username=H}}class K extends Ci{constructor(h,g){super(h,"facebook.com",g)}}class O extends b{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class $ extends Ci{constructor(h,g){super(h,"google.com",g)}}class Ie extends b{constructor(h,g,T){super(h,"twitter.com",g,T)}}function lt(w){const{user:h,_tokenResponse:g}=w;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Cl(w){var h,g;if(!w)return null;const{providerId:T}=w,H=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},ie=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&w?.idToken){const Le=null===(g=null===(h=Et(w.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Le)return new Ci(ie,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!T)return null;switch(T){case"facebook.com":return new K(ie,H);case"github.com":return new O(ie,H);case"google.com":return new $(ie,H);case"twitter.com":return new Ie(ie,H,w.screenName||null);case"custom":case"anonymous":return new Ci(ie,null);default:return new Ci(ie,T,H)}}(g)}class kt{constructor(h,g,T){this.type=h,this.credential=g,this.user=T}static _fromIdtoken(h,g){return new kt("enroll",h,g)}static _fromMfaPendingCredential(h){return new kt("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,T;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return kt._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(T=h.multiFactorSession)&&void 0!==T&&T.idToken)return kt._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Dt{constructor(h,g,T){this.session=h,this.hints=g,this.signInResolver=T}static _fromError(h,g){const T=mn(h),H=g.customData._serverResponse,ie=(H.mfaInfo||[]).map(ut=>er._fromServerResponse(T,ut));ue(H.mfaPendingCredential,T,"internal-error");const Le=kt._fromMfaPendingCredential(H.mfaPendingCredential);return new Dt(Le,ie,function(){var ut=(0,p.A)(function*(St){const vn=yield St._process(T,Le);delete H.mfaInfo,delete H.mfaPendingCredential;const Pn=Object.assign(Object.assign({},H),{idToken:vn.idToken,refreshToken:vn.refreshToken});switch(g.operationType){case"signIn":const Ir=yield Gi._fromIdTokenResponse(T,g.operationType,Pn);return yield T._updateCurrentUser(Ir.user),Ir;case"reauthenticate":return ue(g.user,T,"internal-error"),Gi._forOperation(g.user,g.operationType,Pn);default:je(T,"internal-error")}});return function(St){return ut.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,p.A)(function*(){return g.signInResolver(h)})()}}function Sn(w,h){var g;const T=(0,_.Ku)(w),H=h;return ue(h.customData.operationType,T,"argument-error"),ue(null===(g=H.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),Dt._fromError(T,H)}class vr{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>er._fromServerResponse(h.auth,T)))})}static _fromUser(h){return new vr(h)}getSession(){var h=this;return(0,p.A)(function*(){return kt._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var T=this;return(0,p.A)(function*(){const H=h,ie=yield T.getSession(),Le=yield nn(T.user,H._process(T.user.auth,ie,g));return yield T.user._updateTokensIfNecessary(Le),T.user.reload()})()}unenroll(h){var g=this;return(0,p.A)(function*(){const T="string"==typeof h?h:h.uid,H=yield g.user.getIdToken();try{const ie=yield nn(g.user,function Xt(w,h){return qe(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ht(w,h))}(g.user.auth,{idToken:H,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Le})=>Le!==T),yield g.user._updateTokensIfNecessary(ie),yield g.user.reload()}catch(ie){throw ie}})()}}const Mi=new WeakMap;function Wt(w){const h=(0,_.Ku)(w);return Mi.has(h)||Mi.set(h,vr._fromUser(h)),Mi.get(h)}const zt="__sak";class Rs{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(zt,"1"),this.storage.removeItem(zt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xs=(()=>{class w extends Rs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ot(){const w=(0,_.ZQ)();return Lr(w)||Xi(w)}()&&function Nn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const H=this.storage.getItem(T),ie=this.localCache[T];H!==ie&&g(T,ie,H)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((ut,St,vn)=>{this.notifyListeners(ut,vn)});const H=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem(H);if(g.newValue!==ut)null!==g.newValue?this.storage.setItem(H,g.newValue):this.storage.removeItem(H);else if(this.localCache[H]===g.newValue&&!T)return}const ie=()=>{const ut=this.storage.getItem(H);!T&&this.localCache[H]===ut||this.notifyListeners(H,ut)},Le=this.storage.getItem(H);!function vt(){return(0,_.lT)()&&10===document.documentMode}()||Le===g.newValue||g.newValue===g.oldValue?ie():setTimeout(ie,10)}notifyListeners(g,T){this.localCache[g]=T;const H=this.listeners[g];if(H)for(const ie of Array.from(H))ie(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var H=()=>super._set,ie=this;return(0,p.A)(function*(){yield H().call(ie,g,T),ie.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,H=this;return(0,p.A)(function*(){const ie=yield T().call(H,g);return H.localCache[g]=JSON.stringify(ie),ie})()}_remove(g){var T=()=>super._remove,H=this;return(0,p.A)(function*(){yield T().call(H,g),delete H.localCache[g]})()}}return w.type="LOCAL",w})(),uo=(()=>{class w extends Rs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return w.type="SESSION",w})();let Tl=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(ie=>ie.isListeningto(g));if(T)return T;const H=new w(g);return this.receivers.push(H),H}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,p.A)(function*(){const H=g,{eventId:ie,eventType:Le,data:ut}=H.data,St=T.handlersMap[Le];if(!St?.size)return;H.ports[0].postMessage({status:"ack",eventId:ie,eventType:Le});const vn=Array.from(St).map(function(){var Ir=(0,p.A)(function*(Ys){return Ys(H.origin,ut)});return function(Ys){return Ir.apply(this,arguments)}}()),Pn=yield function nr(w){return Promise.all(w.map(function(){var h=(0,p.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return h.apply(this,arguments)}}()))}(vn);H.ports[0].postMessage({status:"done",eventId:ie,eventType:Le,response:Pn})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function yn(w="",h=10){let g="";for(let T=0;T<h;T++)g+=Math.floor(10*Math.random());return w+g}class wn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,T=50){var H=this;return(0,p.A)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Le,ut;return new Promise((St,vn)=>{const Pn=yn("",20);ie.port1.start();const Ir=setTimeout(()=>{vn(new Error("unsupported_event"))},T);ut={messageChannel:ie,onMessage(Ys){const La=Ys;if(La.data.eventId===Pn)switch(La.data.status){case"ack":clearTimeout(Ir),Le=setTimeout(()=>{vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),St(La.data.response);break;default:clearTimeout(Ir),clearTimeout(Le),vn(new Error("invalid_response"))}}},H.handlers.add(ut),ie.port1.addEventListener("message",ut.onMessage),H.target.postMessage({eventType:h,eventId:Pn,data:g},[ie.port2])}).finally(()=>{ut&&H.removeMessageHandler(ut)})})()}}function pn(){return window}function dr(){return typeof pn().WorkerGlobalScope<"u"&&"function"==typeof pn().importScripts}function un(){return(un=(0,p.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vr="firebaseLocalStorageDb",Or="firebaseLocalStorage",rr="fbase_key";class os{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function $r(w,h){return w.transaction([Or],h?"readwrite":"readonly").objectStore(Or)}function ga(){const w=indexedDB.open(Vr,1);return new Promise((h,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(Or,{keyPath:rr})}catch(H){g(H)}}),w.addEventListener("success",(0,p.A)(function*(){const T=w.result;T.objectStoreNames.contains(Or)?h(T):(T.close(),yield function Zt(){const w=indexedDB.deleteDatabase(Vr);return new os(w).toPromise()}(),h(yield ga()))}))})}function Yl(w,h,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,p.A)(function*(w,h,g){const T=$r(w,!0).put({[rr]:h,value:g});return new os(T).toPromise()})).apply(this,arguments)}function Ma(){return(Ma=(0,p.A)(function*(w,h){const g=$r(w,!1).get(h),T=yield new os(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function dd(w,h){const g=$r(w,!0).delete(h);return new os(g).toPromise()}const So=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.A)(function*(){return g.db||(g.db=yield ga()),g.db})()}_withRetries(g){var T=this;return(0,p.A)(function*(){let H=0;for(;;)try{const ie=yield T._openDb();return yield g(ie)}catch(ie){if(H++>3)throw ie;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.A)(function*(){return dr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.A)(function*(){g.receiver=Tl._getInstance(function ri(){return dr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,p.A)(function*(H,ie){return{keyProcessed:(yield g._poll()).includes(ie.key)}});return function(H,ie){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,p.A)(function*(H,ie){return["keyChanged"]});return function(H,ie){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.A)(function*(){var T,H;if(g.activeServiceWorker=yield function js(){return un.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new wn(g.activeServiceWorker);const ie=yield g.sender._send("ping",{},800);ie&&null!==(T=ie[0])&&void 0!==T&&T.fulfilled&&null!==(H=ie[0])&&void 0!==H&&H.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,p.A)(function*(){if(T.sender&&T.activeServiceWorker&&function Qr(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.A)(function*(){try{if(!indexedDB)return!1;const g=yield ga();return yield Yl(g,zt,"1"),yield dd(g,zt),!0}catch{}return!1})()}_withPendingWrite(g){var T=this;return(0,p.A)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var H=this;return(0,p.A)(function*(){return H._withPendingWrite((0,p.A)(function*(){return yield H._withRetries(ie=>Yl(ie,g,T)),H.localCache[g]=T,H.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,p.A)(function*(){const H=yield T._withRetries(ie=>function Kh(w,h){return Ma.apply(this,arguments)}(ie,g));return T.localCache[g]=H,H})()}_remove(g){var T=this;return(0,p.A)(function*(){return T._withPendingWrite((0,p.A)(function*(){return yield T._withRetries(H=>dd(H,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.A)(function*(){const T=yield g._withRetries(Le=>{const ut=$r(Le,!1).getAll();return new os(ut).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const H=[],ie=new Set;if(0!==T.length)for(const{fbase_key:Le,value:ut}of T)ie.add(Le),JSON.stringify(g.localCache[Le])!==JSON.stringify(ut)&&(g.notifyListeners(Le,ut),H.push(Le));for(const Le of Object.keys(g.localCache))g.localCache[Le]&&!ie.has(Le)&&(g.notifyListeners(Le,null),H.push(Le));return H})()}notifyListeners(g,T){this.localCache[g]=T;const H=this.listeners[g];if(H)for(const ie of Array.from(H))ie(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),y=1e12;class R{constructor(h){this.auth=h,this.counter=y,this._widgets=new Map}render(h,g){const T=this.counter;return this._widgets.set(T,new C(h,this.auth.name,g||{})),this.counter++,T}reset(h){var g;const T=h||y;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(h){var g;return(null===(g=this._widgets.get(h||y))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,p.A)(function*(){var T;return null===(T=g._widgets.get(h||y))||void 0===T||T.execute(),""})()}}class C{constructor(h,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;ue(H,"argument-error",{appName:g}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function P(w){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<w;T++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const j=tr("rcb"),J=new bt(3e4,6e4);class Ce{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=pn().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return ue(function at(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Bn(pn().grecaptcha)?Promise.resolve(pn().grecaptcha):new Promise((T,H)=>{const ie=pn().setTimeout(()=>{H(Ve(h,"network-request-failed"))},J.get());pn()[j]=()=>{pn().clearTimeout(ie),delete pn()[j];const ut=pn().grecaptcha;if(!ut||!Bn(ut))return void H(Ve(h,"internal-error"));const St=ut.render;ut.render=(vn,Pn)=>{const Ir=St(vn,Pn);return this.counter++,Ir},this.hostLanguage=g,T(ut)},Mr(`${function li(){return wr.recaptchaV2Script}()}?${(0,_.Am)({onload:j,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ie),H(Ve(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=pn().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nt{load(h){return(0,p.A)(function*(){return new R(h)})()}clearedOneInstance(){}}const on="recaptcha",ur={theme:"light",type:"image"};class _r{constructor(h,g,T=Object.assign({},ur)){this.parameters=T,this.type=on,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(h),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof g?document.getElementById(g):g;ue(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nt:new Ce,this.validateStartingState()}verify(){var h=this;return(0,p.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),T=h.getAssertedRecaptcha();return T.getResponse(g)||new Promise(ie=>{const Le=ut=>{ut&&(h.tokenChangeListeners.delete(Le),ie(ut))};h.tokenChangeListeners.add(Le),h.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof h)h(g);else if("string"==typeof h){const T=pn()[h];"function"==typeof T&&T(g)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,p.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,p.A)(function*(){ue(Ht()&&!dr(),h.auth,"internal-error"),yield function Ur(){let w=null;return new Promise(h=>{"complete"!==document.readyState?(w=()=>h(),window.addEventListener("load",w)):h()}).catch(h=>{throw w&&window.removeEventListener("load",w),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Nt(w){return xn.apply(this,arguments)}(h.auth);ue(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ro{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=As._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function ma(w,h,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ve(w));const T=mn(w),H=yield Zl(T,h,(0,_.Ku)(g));return new Ro(H,ie=>ks(T,ie))})).apply(this,arguments)}function as(w,h,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,p.A)(function*(w,h,g){const T=(0,_.Ku)(w);yield Re(!1,T,"phone");const H=yield Zl(T.auth,h,(0,_.Ku)(g));return new Ro(H,ie=>Aa(T,ie))})).apply(this,arguments)}function pd(w,h,g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,p.A)(function*(w,h,g){const T=(0,_.Ku)(w);if((0,F._isFirebaseServerApp)(T.auth.app))return Promise.reject(ve(T.auth));const H=yield Zl(T.auth,h,(0,_.Ku)(g));return new Ro(H,ie=>Ga(T,ie))})).apply(this,arguments)}function Zl(w,h,g){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,p.A)(function*(w,h,g){var T;const H=yield g.verify();try{let ie;if(ue("string"==typeof H,w,"argument-error"),ue(g.type===on,w,"argument-error"),ie="string"==typeof h?{phoneNumber:h}:h,"session"in ie){const Le=ie.session;if("phoneNumber"in ie)return ue("enroll"===Le.type,w,"internal-error"),(yield function kn(w,h){return qe(w,"POST","/v2/accounts/mfaEnrollment:start",ht(w,h))}(w,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{ue("signin"===Le.type,w,"internal-error");const ut=(null===(T=ie.multiFactorHint)||void 0===T?void 0:T.uid)||ie.multiFactorUid;return ue(ut,w,"missing-multi-factor-info"),(yield function hd(w,h){return qe(w,"POST","/v2/accounts/mfaSignIn:start",ht(w,h))}(w,{mfaPendingCredential:Le.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield function Si(w,h){return qi.apply(this,arguments)}(w,{phoneNumber:ie.phoneNumber,recaptchaToken:H});return Le}}finally{g._reset()}}),Jl.apply(this,arguments)}function Xp(w,h){return ii.apply(this,arguments)}function ii(){return(ii=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w);if((0,F._isFirebaseServerApp)(g.auth.app))return Promise.reject(ve(g.auth));yield x(g,h)})).apply(this,arguments)}let gd=(()=>{class w{constructor(g){this.providerId=w.PROVIDER_ID,this.auth=mn(g)}verifyPhoneNumber(g,T){return Zl(this.auth,g,(0,_.Ku)(T))}static credential(g,T){return As._fromVerification(g,T)}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:H}=g;return T&&H?As._fromTokenResponse(T,H):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function _a(w,h){return h?$t(h):(ue(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Hs extends hs{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return es(h,this._buildIdpRequest())}_linkToIdToken(h,g){return es(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return es(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Yp(w){return qs(w.auth,new Hs(w),w.bypassAuthState)}function Cc(w){const{auth:h,user:g}=w;return ue(g,h,"internal-error"),Qn(g,new Hs(w),w.bypassAuthState)}function ec(w){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.A)(function*(w){const{auth:h,user:g}=w;return ue(g,h,"internal-error"),x(g,new Hs(w),w.bypassAuthState)})).apply(this,arguments)}class Yh{constructor(h,g,T,H,ie=!1){this.auth=h,this.resolver=T,this.user=H,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,p.A)(function*(T,H){h.pendingPromise={resolve:T,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ie){h.reject(ie)}});return function(T,H){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,p.A)(function*(){const{urlResponse:T,sessionId:H,postBody:ie,tenantId:Le,error:ut,type:St}=h;if(ut)return void g.reject(ut);const vn={auth:g.auth,requestUri:T,sessionId:H,tenantId:Le||void 0,postBody:ie||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(St)(vn))}catch(Pn){g.reject(Pn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Yp;case"linkViaPopup":case"linkViaRedirect":return ec;case"reauthViaPopup":case"reauthViaRedirect":return Cc;default:je(this.auth,"internal-error")}}resolve(h){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const md=new bt(2e3,1e4);function Zp(w,h,g){return oa.apply(this,arguments)}function oa(){return(oa=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(Ve(w,"operation-not-supported-in-this-environment"));const T=mn(w);Te(w,h,Ei);const H=_a(T,g);return new Tc(T,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function Zh(w,h,g){return _d.apply(this,arguments)}function _d(){return(_d=(0,p.A)(function*(w,h,g){const T=(0,_.Ku)(w);if((0,F._isFirebaseServerApp)(T.auth.app))return Promise.reject(Ve(T.auth,"operation-not-supported-in-this-environment"));Te(T.auth,h,Ei);const H=_a(T.auth,g);return new Tc(T.auth,"reauthViaPopup",h,H,T).executeNotNull()})).apply(this,arguments)}function Jh(w,h,g){return tc.apply(this,arguments)}function tc(){return(tc=(0,p.A)(function*(w,h,g){const T=(0,_.Ku)(w);Te(T.auth,h,Ei);const H=_a(T.auth,g);return new Tc(T.auth,"linkViaPopup",h,H,T).executeNotNull()})).apply(this,arguments)}let Tc=(()=>{class w extends Yh{constructor(g,T,H,ie,Le){super(g,T,ie,Le),this.provider=H,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.A)(function*(){const T=yield g.execute();return ue(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,p.A)(function*(){mt(1===g.filter.length,"Popup operations only handle one event");const T=yn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(H=>{g.reject(H)}),g.resolver._isIframeWebStorageSupported(g.auth,H=>{H||g.reject(Ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,H;this.pollId=null!==(H=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,md.get())};g()}}return w.currentPopupAction=null,w})();const nc="pendingRedirect",Qa=new Map;class yd extends Yh{constructor(h,g,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,p.A)(function*(){let T=Qa.get(g.auth._key());if(!T){try{const ie=(yield function Xa(w,h){return Tn.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;T=()=>Promise.resolve(ie)}catch(H){T=()=>Promise.reject(H)}Qa.set(g.auth._key(),T)}return g.bypassAuthState||Qa.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,T=this;return(0,p.A)(function*(){if("signInViaRedirect"===h.type)return g().call(T,h);if("unknown"!==h.type){if(h.eventId){const H=yield T.auth._redirectUserForId(h.eventId);if(H)return T.user=H,g().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,p.A)(function*(){})()}cleanUp(){}}function Tn(){return(Tn=(0,p.A)(function*(w,h){const g=_s(h),T=Ac(w);if(!(yield T._isAvailable()))return!1;const H="true"===(yield T._get(g));return yield T._remove(g),H})).apply(this,arguments)}function bc(w,h){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,p.A)(function*(w,h){return Ac(w)._set(_s(h),"true")})).apply(this,arguments)}function ef(){Qa.clear()}function _i(w,h){Qa.set(w._key(),h)}function Ac(w){return $t(w._redirectPersistence)}function _s(w){return cr(nc,w.config.apiKey,w.name)}function Xr(w,h,g){return function tf(w,h,g){return ul.apply(this,arguments)}(w,h,g)}function ul(){return(ul=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ve(w));const T=mn(w);Te(w,h,Ei),yield T._initializationPromise;const H=_a(T,g);return yield bc(H,T),H._openRedirect(T,h,"signInViaRedirect")})).apply(this,arguments)}function Po(w,h,g){return function nf(w,h,g){return vd.apply(this,arguments)}(w,h,g)}function vd(){return(vd=(0,p.A)(function*(w,h,g){const T=(0,_.Ku)(w);if(Te(T.auth,h,Ei),(0,F._isFirebaseServerApp)(T.auth.app))return Promise.reject(ve(T.auth));yield T.auth._initializationPromise;const H=_a(T.auth,g);yield bc(H,T.auth);const ie=yield fo(T);return H._openRedirect(T.auth,h,"reauthViaRedirect",ie)})).apply(this,arguments)}function ft(w,h,g){return function Rr(w,h,g){return ya.apply(this,arguments)}(w,h,g)}function ya(){return(ya=(0,p.A)(function*(w,h,g){const T=(0,_.Ku)(w);Te(T.auth,h,Ei),yield T.auth._initializationPromise;const H=_a(T.auth,g);yield Re(!1,T,h.providerId),yield bc(H,T.auth);const ie=yield fo(T);return H._openRedirect(T.auth,h,"linkViaRedirect",ie)})).apply(this,arguments)}function Ui(w,h){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.A)(function*(w,h){return yield mn(w)._initializationPromise,Al(w,h,!1)})).apply(this,arguments)}function Al(w,h){return xa.apply(this,arguments)}function xa(){return(xa=(0,p.A)(function*(w,h,g=!1){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ve(w));const T=mn(w),H=_a(T,h),Le=yield new yd(T,H,g).execute();return Le&&!g&&(delete Le.user._redirectEventId,yield T._persistUserIfCurrent(Le.user),yield T._setRedirectUser(null,h)),Le})).apply(this,arguments)}function fo(w){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,p.A)(function*(w){const h=yn(`${w.uid}:::`);return w._redirectEventId=h,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),h})).apply(this,arguments)}class Za{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(g=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function xi(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Na(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var T;if(h.error&&!Na(h)){const H=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Ve(this.auth,H))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const T=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mu(h))}saveEventToCache(h){this.cachedEventUids.add(mu(h)),this.lastProcessedEventTime=Date.now()}}function mu(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function Na({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===h?.code}function Mo(w){return va.apply(this,arguments)}function va(){return(va=(0,p.A)(function*(w,h={}){return qe(w,"GET","/v1/projects",h)})).apply(this,arguments)}const aa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xo=/^https?/;function Dl(){return(Dl=(0,p.A)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield Mo(w);for(const g of h)try{if(Sl(g))return}catch{}je(w,"unauthorized-domain")})).apply(this,arguments)}function Sl(w){const h=Ee(),{protocol:g,hostname:T}=new URL(h);if(w.startsWith("chrome-extension://")){const Le=new URL(w);return""===Le.hostname&&""===T?"chrome-extension:"===g&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Le.hostname===T}if(!xo.test(g))return!1;if(aa.test(w))return T===w;const H=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(T)}const Ed=new bt(3e4,6e4);function dl(){const w=pn().___jsl;if(w?.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let Rl=null;const Sc=new bt(5e3,15e3),wd="__/auth/iframe",Cd="emulator/auth/iframe",rf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Td=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bd(w){const h=w.config;ue(h.authDomain,w,"auth-domain-config-required");const g=h.emulator?Pe(h,Cd):`https://${w.config.authDomain}/${wd}`,T={apiKey:h.apiKey,appName:w.name,v:F.SDK_VERSION},H=Td.get(w.config.apiHost);H&&(T.eid=H);const ie=w._getFrameworks();return ie.length&&(T.fw=ie.join(",")),`${g}?${(0,_.Am)(T).slice(1)}`}function rc(){return rc=(0,p.A)(function*(w){const h=yield function Pl(w){return Rl=Rl||function _u(w){return new Promise((h,g)=>{var T,H,ie;function Le(){dl(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{dl(),g(Ve(w,"network-request-failed"))},timeout:Ed.get()})}if(null!==(H=null===(T=pn().gapi)||void 0===T?void 0:T.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(ie=pn().gapi)||void 0===ie||!ie.load){const ut=tr("iframefcb");return pn()[ut]=()=>{gapi.load?Le():g(Ve(w,"network-request-failed"))},Mr(`${function di(){return wr.gapiScript}()}?onload=${ut}`).catch(St=>g(St))}Le()}}).catch(h=>{throw Rl=null,h})}(w),Rl}(w),g=pn().gapi;return ue(g,w,"internal-error"),h.open({where:document.body,url:bd(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rf,dontclear:!0},T=>new Promise(function(){var H=(0,p.A)(function*(ie,Le){yield T.restyle({setHideOnLeave:!1});const ut=Ve(w,"network-request-failed"),St=pn().setTimeout(()=>{Le(ut)},Sc.get());function vn(){pn().clearTimeout(St),ie(T)}T.ping(vn).then(vn,()=>{Le(ut)})});return function(ie,Le){return H.apply(this,arguments)}}()))}),rc.apply(this,arguments)}const Di={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sf{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const si="__/auth/handler",Ml="emulator/auth/handler",xl=encodeURIComponent("fac");function Oo(w,h,g,T,H,ie){return yu.apply(this,arguments)}function yu(){return(yu=(0,p.A)(function*(w,h,g,T,H,ie){ue(w.config.authDomain,w,"auth-domain-config-required"),ue(w.config.apiKey,w,"invalid-api-key");const Le={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:T,v:F.SDK_VERSION,eventId:H};if(h instanceof Ei){h.setDefaultLanguage(w.languageCode),Le.providerId=h.providerId||"",(0,_.Im)(h.getCustomParameters())||(Le.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Pn,Ir]of Object.entries(ie||{}))Le[Pn]=Ir}if(h instanceof lo){const Pn=h.getScopes().filter(Ir=>""!==Ir);Pn.length>0&&(Le.scopes=Pn.join(","))}w.tenantId&&(Le.tid=w.tenantId);const ut=Le;for(const Pn of Object.keys(ut))void 0===ut[Pn]&&delete ut[Pn];const St=yield w._getAppCheckToken(),vn=St?`#${xl}=${encodeURIComponent(St)}`:"";return`${function sc({config:w}){return w.emulator?Pe(w,Ml):`https://${w.authDomain}/${si}`}(w)}?${(0,_.Am)(ut).slice(1)}${vn}`})).apply(this,arguments)}const Ol="webStorageSupport",Pc=class Rc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uo,this._completeRedirectFn=Al,this._overrideRedirectResult=_i}_openPopup(h,g,T,H){var ie=this;return(0,p.A)(function*(){var Le;mt(null===(Le=ie.eventManagers[h._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const ut=yield Oo(h,g,T,Ee(),H);return function af(w,h,g,T=500,H=600){const ie=Math.max((window.screen.availHeight-H)/2,0).toString(),Le=Math.max((window.screen.availWidth-T)/2,0).toString();let ut="";const St=Object.assign(Object.assign({},Di),{width:T.toString(),height:H.toString(),top:ie,left:Le}),vn=(0,_.ZQ)().toLowerCase();g&&(ut=ji(vn)?"_blank":g),Yn(vn)&&(h=h||"http://localhost",St.scrollbars="yes");const Pn=Object.entries(St).reduce((Ys,[La,xc])=>`${Ys}${La}=${xc},`,"");if(function Ge(w=(0,_.ZQ)()){var h;return Xi(w)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(vn)&&"_self"!==ut)return function Nr(w,h){const g=document.createElement("a");g.href=w,g.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(h||"",ut),new sf(null);const Ir=window.open(h||"",ut,Pn);ue(Ir,w,"popup-blocked");try{Ir.focus()}catch{}return new sf(Ir)}(h,ut,yn())})()}_openRedirect(h,g,T,H){var ie=this;return(0,p.A)(function*(){return yield ie._originValidation(h),function fr(w){pn().location.href=w}(yield Oo(h,g,T,Ee(),H)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:H,promise:ie}=this.eventManagers[g];return H?Promise.resolve(H):(mt(ie,"If manager is not set, promise should be"),ie)}const T=this.initAndGetManager(h);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(h){var g=this;return(0,p.A)(function*(){const T=yield function Ps(w){return rc.apply(this,arguments)}(h),H=new Za(h);return T.register("authEvent",ie=>(ue(ie?.authEvent,h,"invalid-auth-event"),{status:H.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:H},g.iframes[h._key()]=T,H})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Ol,{type:Ol},H=>{var ie;const Le=null===(ie=H?.[0])||void 0===ie?void 0:ie[Ol];void 0!==Le&&g(!!Le),je(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Id(w){return Dl.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return qt()||Lr()||Xi()}};class Ad{constructor(h){this.factorId=h}_process(h,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,T);case"signin":return this._finalizeSignIn(h,g.credential);default:return Ae("unexpected MultiFactorSessionType")}}}class vu extends Ad{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new vu(h)}_finalizeEnroll(h,g,T){return function Bt(w,h){return qe(w,"POST","/v2/accounts/mfaEnrollment:finalize",ht(w,h))}(h,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Qh(w,h){return qe(w,"POST","/v2/accounts/mfaSignIn:finalize",ht(w,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jp=(()=>{class w{constructor(){}static assertion(g){return vu._fromCredential(g)}}return w.FACTOR_ID="phone",w})();var lf="@firebase/auth";class Sd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,p.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,_.XA)("authIdTokenMaxAge"),function Cr(w){wr=w}({loadJS:w=>new Promise((h,g)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=h,T.onerror=H=>{const ie=Ve("internal-error");ie.customData=H,g(ie)},T.type="text/javascript",T.charset="UTF-8",function Mc(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(T)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Iu(w){(0,F._registerComponent)(new Q.uA("auth",(h,{options:g})=>{const T=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),ie=h.getProvider("app-check-internal"),{apiKey:Le,authDomain:ut}=T.options;ue(Le&&!Le.includes(":"),"invalid-api-key",{appName:T.name});const St={apiKey:Le,authDomain:ut,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:te(w)},vn=new Ut(T,H,ie,St);return function ki(w,h){const g=h?.persistence||[],T=(Array.isArray(g)?g:[g]).map($t);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(T,h?.popupRedirectResolver)}(vn,g),vn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,T)=>{h.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new Q.uA("auth-internal",h=>{const g=mn(h.getProvider("auth").getImmediate());return new Sd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(lf,"1.7.0",function lc(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,F.registerVersion)(lf,"1.7.0","esm2017")}("Browser")},1076:(Qt,We,L)=>{L.d(We,{Am:()=>Ar,Bd:()=>Ae,FA:()=>qe,Fy:()=>ve,I9:()=>br,Im:()=>ir,Ku:()=>xe,Ll:()=>ue,T9:()=>je,Uj:()=>de,XA:()=>Ve,ZQ:()=>Te,bD:()=>xn,cY:()=>be,eX:()=>He,g:()=>ht,gR:()=>Bn,hp:()=>Xn,jZ:()=>Je,lT:()=>In,lV:()=>Ee,nr:()=>bt,sr:()=>mt,tD:()=>hn,u:()=>ne,zW:()=>Pe,zw:()=>De});const ge=function(ae){const fe=[];let Y=0;for(let re=0;re<ae.length;re++){let X=ae.charCodeAt(re);X<128?fe[Y++]=X:X<2048?(fe[Y++]=X>>6|192,fe[Y++]=63&X|128):55296==(64512&X)&&re+1<ae.length&&56320==(64512&ae.charCodeAt(re+1))?(X=65536+((1023&X)<<10)+(1023&ae.charCodeAt(++re)),fe[Y++]=X>>18|240,fe[Y++]=X>>12&63|128,fe[Y++]=X>>6&63|128,fe[Y++]=63&X|128):(fe[Y++]=X>>12|224,fe[Y++]=X>>6&63|128,fe[Y++]=63&X|128)}return fe},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,fe){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let X=0;X<ae.length;X+=3){const ke=ae[X],_t=X+1<ae.length,$t=_t?ae[X+1]:0,Vn=X+2<ae.length,$n=Vn?ae[X+2]:0;let en=(15&$t)<<2|$n>>6,Yn=63&$n;Vn||(Yn=64,_t||(en=64)),re.push(Y[ke>>2],Y[(3&ke)<<4|$t>>4],Y[en],Y[Yn])}return re.join("")},encodeString(ae,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(ae):this.encodeByteArray(ge(ae),fe)},decodeString(ae,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(ae):function(ae){const fe=[];let Y=0,re=0;for(;Y<ae.length;){const X=ae[Y++];if(X<128)fe[re++]=String.fromCharCode(X);else if(X>191&&X<224){const ke=ae[Y++];fe[re++]=String.fromCharCode((31&X)<<6|63&ke)}else if(X>239&&X<365){const Vn=((7&X)<<18|(63&ae[Y++])<<12|(63&ae[Y++])<<6|63&ae[Y++])-65536;fe[re++]=String.fromCharCode(55296+(Vn>>10)),fe[re++]=String.fromCharCode(56320+(1023&Vn))}else{const ke=ae[Y++],_t=ae[Y++];fe[re++]=String.fromCharCode((15&X)<<12|(63&ke)<<6|63&_t)}}return fe.join("")}(this.decodeStringToByteArray(ae,fe))},decodeStringToByteArray(ae,fe){this.init_();const Y=fe?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let X=0;X<ae.length;){const ke=Y[ae.charAt(X++)],$t=X<ae.length?Y[ae.charAt(X)]:0;++X;const $n=X<ae.length?Y[ae.charAt(X)]:64;++X;const fn=X<ae.length?Y[ae.charAt(X)]:64;if(++X,null==ke||null==$t||null==$n||null==fn)throw new W;re.push(ke<<2|$t>>4),64!==$n&&(re.push($t<<4&240|$n>>2),64!==fn&&re.push($n<<6&192|fn))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(ae){return function(ae){const fe=ge(ae);return Q.encodeByteArray(fe,!0)}(ae).replace(/\./g,"")},ne=function(ae){try{return Q.decodeString(ae,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function De(ae,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===ae&&(ae={});break;case Array:ae=[];break;default:return fe}for(const Y in fe)!fe.hasOwnProperty(Y)||!$e(Y)||(ae[Y]=De(ae[Y],fe[Y]));return ae}function $e(ae){return"__proto__"!==ae}const pt=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ae=process.env.__FIREBASE_DEFAULTS__;return ae?JSON.parse(ae):void 0})()||(()=>{if(typeof document>"u")return;let ae;try{ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const fe=ae&&ne(ae[1]);return fe&&JSON.parse(fe)})()}catch(ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ae}`)}},je=()=>{var ae;return null===(ae=pt())||void 0===ae?void 0:ae.config},Ve=ae=>{var fe;return null===(fe=pt())||void 0===fe?void 0:fe[`_${ae}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Y)=>{this.resolve=fe,this.reject=Y})}wrapCallback(fe){return(Y,re)=>{Y?this.reject(Y):this.resolve(re),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Y):fe(Y,re))}}}function ve(ae,fe){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=fe||"demo-project",X=ae.iat||0,ke=ae.sub||ae.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:X,exp:X+3600,auth_time:X,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(_t)),""].join(".")}function Te(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function ue(){var ae;const fe=null===(ae=pt())||void 0===ae?void 0:ae.forceEnvironment;if("node"===fe)return!0;if("browser"===fe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ae(){return"object"==typeof self&&self.self===self}function mt(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function In(){const ae=Te();return ae.indexOf("MSIE ")>=0||ae.indexOf("Trident/")>=0}function bt(){return!ue()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((ae,fe)=>{try{let Y=!0;const re="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(re);X.onsuccess=()=>{X.result.close(),Y||self.indexedDB.deleteDatabase(re),ae(!0)},X.onupgradeneeded=()=>{Y=!1},X.onerror=()=>{var ke;fe((null===(ke=X.error)||void 0===ke?void 0:ke.message)||"")}}catch(Y){fe(Y)}})}class ht extends Error{constructor(fe,Y,re){super(Y),this.code=fe,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(fe,Y,re){this.service=fe,this.serviceName=Y,this.errors=re}create(fe,...Y){const re=Y[0]||{},X=`${this.service}/${fe}`,ke=this.errors[fe],_t=ke?function Pt(ae,fe){return ae.replace(Gt,(Y,re)=>{const X=fe[re];return null!=X?String(X):`<${re}?>`})}(ke,re):"Error";return new ht(X,`${this.serviceName}: ${_t} (${X}).`,re)}}const Gt=/\{\$([^}]+)}/g;function Bn(ae,fe){return Object.prototype.hasOwnProperty.call(ae,fe)}function ir(ae){for(const fe in ae)if(Object.prototype.hasOwnProperty.call(ae,fe))return!1;return!0}function xn(ae,fe){if(ae===fe)return!0;const Y=Object.keys(ae),re=Object.keys(fe);for(const X of Y){if(!re.includes(X))return!1;const ke=ae[X],_t=fe[X];if(jn(ke)&&jn(_t)){if(!xn(ke,_t))return!1}else if(ke!==_t)return!1}for(const X of re)if(!Y.includes(X))return!1;return!0}function jn(ae){return null!==ae&&"object"==typeof ae}function Ar(ae){const fe=[];for(const[Y,re]of Object.entries(ae))Array.isArray(re)?re.forEach(X=>{fe.push(encodeURIComponent(Y)+"="+encodeURIComponent(X))}):fe.push(encodeURIComponent(Y)+"="+encodeURIComponent(re));return fe.length?"&"+fe.join("&"):""}function br(ae){const fe={};return ae.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[X,ke]=re.split("=");fe[decodeURIComponent(X)]=decodeURIComponent(ke)}}),fe}function Xn(ae){const fe=ae.indexOf("?");if(!fe)return"";const Y=ae.indexOf("#",fe);return ae.substring(fe,Y>0?Y:void 0)}function hn(ae,fe){const Y=new Pr(ae,fe);return Y.subscribe.bind(Y)}class Pr{constructor(fe,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{fe(this)}).catch(re=>{this.error(re)})}next(fe){this.forEachObserver(Y=>{Y.next(fe)})}error(fe){this.forEachObserver(Y=>{Y.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Y,re){let X;if(void 0===fe&&void 0===Y&&void 0===re)throw new Error("Missing Observer.");X=function tn(ae,fe){if("object"!=typeof ae||null===ae)return!1;for(const Y of fe)if(Y in ae&&"function"==typeof ae[Y])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Y,complete:re},void 0===X.next&&(X.next=Se),void 0===X.error&&(X.error=Se),void 0===X.complete&&(X.complete=Se);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),ke}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,fe)}sendOne(fe,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Y(this.observers[fe])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Se(){}function xe(ae){return ae&&ae._delegate?ae._delegate:ae}},388:(Qt,We,L)=>{L.d(We,{_:()=>F});var p=L(4438);let F=(()=>{class _{setData(V,Q){localStorage.setItem(V,JSON.stringify(Q))}getData(V){const Q=localStorage.getItem(V);return Q?JSON.parse(Q):null}removeData(V){localStorage.removeItem(V)}static#e=this.\u0275fac=function(Q){return new(Q||_)};static#t=this.\u0275prov=p.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},9692:(Qt,We,L)=>{L.d(We,{u:()=>y_});var p=L(4438),F=L(5845),_=L(7852),ge=L(1076),V=L(8041),Q=L(1362),W=L(4412),oe=L(3345),de=L(1182),ne=L(388),le=L(9888),De=L(177),$e=L(1825),ze=L(9253),yt=L(3236),At=L(1985),dt=L(8455),pt=L(7673),Ft=L(9172),Vt=L(9974),je=L(4360);function Ve(){return(0,Vt.N)((s,e)=>{let n,o=!1;s.subscribe((0,je._)(e,l=>{const u=n;n=l,o&&e.next([u,l]),o=!0}))})}var be=L(6354),ve=L(2816),Te=L(3669);function ue(s,e){return s===e}var It,Ae=L(5964),Ee=(L(2438),L(467)),Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},In={},rn=rn||{},bt=Ht||self;function Pe(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function He(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var Ze="closure_uid_"+(1e9*Math.random()>>>0),ht=0;function qe(s,e,n){return s.call.apply(s.bind,arguments)}function Pt(s,e,n){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),s.apply(e,l)}}return function(){return s.apply(e,arguments)}}function Gt(s,e,n){return(Gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qe:Pt).apply(null,arguments)}function sn(s,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function Mt(s,e){function n(){}n.prototype=e.prototype,s.$=e.prototype,s.prototype=new n,s.prototype.constructor=s,s.ac=function(o,l,u){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[l].apply(o,f)}}function dn(){this.s=this.s,this.o=this.o}dn.prototype.s=!1,dn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ct(s){Object.prototype.hasOwnProperty.call(s,Ze)&&s[Ze]||(s[Ze]=++ht)}(this)},dn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mn=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let n=0;n<s.length;n++)if(n in s&&s[n]===e)return n;return-1};function Gn(s){const e=s.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=s[o];return n}return[]}function Kn(s,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Pe(o)){const l=s.length||0,u=o.length||0;s.length=l+u;for(let f=0;f<u;f++)s[l+f]=o[f]}else s.push(o)}}function Bn(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var Jt=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const n=()=>{};bt.addEventListener("test",n,e),bt.removeEventListener("test",n,e)}catch{}return s}();function ir(s){return/^[\s\xa0]*$/.test(s)}function Nt(){var s=bt.navigator;return s&&(s=s.userAgent)?s:""}function xn(s){return-1!=Nt().indexOf(s)}function jn(s){return jn[" "](s),s}jn[" "]=function(){};var tn,s,Ar=xn("Opera"),br=xn("Trident")||xn("MSIE"),Xn=xn("Edge"),an=Xn||br,hn=xn("Gecko")&&!(-1!=Nt().toLowerCase().indexOf("webkit")&&!xn("Edge"))&&!(xn("Trident")||xn("MSIE"))&&!xn("Edge"),Pr=-1!=Nt().toLowerCase().indexOf("webkit")&&!xn("Edge");function Ye(){var s=bt.document;return s?s.documentMode:void 0}e:{var Se="",Be=(s=Nt(),hn?/rv:([^\);]+)(\)|;)/.exec(s):Xn?/Edge\/([\d\.]+)/.exec(s):br?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Pr?/WebKit\/(\S+)/.exec(s):Ar?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Be&&(Se=Be?Be[1]:""),br){var et=Ye();if(null!=et&&et>parseFloat(Se)){tn=String(et);break e}}tn=Se}var nn=bt.document&&br&&(Ye()||parseInt(tn,10))||void 0;function On(s,e){if(Bn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var n=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(hn){e:{try{jn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=s.fromElement:"mouseout"==n&&(e=s.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:An[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&On.$.h.call(this)}}Mt(On,Bn);var An={2:"touch",3:"pen",4:"mouse"};On.prototype.h=function(){On.$.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var or="closure_listenable_"+(1e6*Math.random()|0),Dr=0;function zr(s,e,n,o,l){this.listener=s,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=l,this.key=++Dr,this.fa=this.ia=!1}function ui(s){s.fa=!0,s.listener=null,s.proxy=null,s.src=null,s.la=null}function ei(s,e,n){for(const o in s)e.call(n,s[o],o,s)}function Ke(s){const e={};for(const n in s)e[n]=s[n];return e}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(s,e){let n,o;for(let l=1;l<arguments.length;l++){for(n in o=arguments[l],o)s[n]=o[n];for(let u=0;u<me.length;u++)n=me[u],Object.prototype.hasOwnProperty.call(o,n)&&(s[n]=o[n])}}function ae(s){this.src=s,this.g={},this.h=0}function fe(s,e){var n=e.type;if(n in s.g){var u,o=s.g[n],l=Mn(o,e);(u=0<=l)&&Array.prototype.splice.call(o,l,1),u&&(ui(e),0==s.g[n].length&&(delete s.g[n],s.h--))}}function Y(s,e,n,o){for(var l=0;l<s.length;++l){var u=s[l];if(!u.fa&&u.listener==e&&u.capture==!!n&&u.la==o)return l}return-1}ae.prototype.add=function(s,e,n,o,l){var u=s.toString();(s=this.g[u])||(s=this.g[u]=[],this.h++);var f=Y(s,e,o,l);return-1<f?(e=s[f],n||(e.ia=!1)):((e=new zr(e,this.src,u,!!o,l)).ia=n,s.push(e)),e};var re="closure_lm_"+(1e6*Math.random()|0),X={};function ke(s,e,n,o,l){if(o&&o.once)return Vn(s,e,n,o,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)ke(s,e[u],n,o,l);return null}return n=ji(n),s&&s[or]?s.O(e,n,He(o)?!!o.capture:!!o,l):_t(s,e,n,!1,o,l)}function _t(s,e,n,o,l,u){if(!e)throw Error("Invalid event type");var f=He(l)?!!l.capture:!!l,D=Yn(s);if(D||(s[re]=D=new ae(s)),(n=D.add(e,n,o,f,u)).proxy)return n;if(o=function $t(){const e=en;return function s(n){return e.call(s.src,s.listener,n)}}(),n.proxy=o,o.src=s,o.listener=n,s.addEventListener)Jt||(l=f),void 0===l&&(l=!1),s.addEventListener(e.toString(),o,l);else if(s.attachEvent)s.attachEvent(fn(e.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return n}function Vn(s,e,n,o,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Vn(s,e[u],n,o,l);return null}return n=ji(n),s&&s[or]?s.P(e,n,He(o)?!!o.capture:!!o,l):_t(s,e,n,!0,o,l)}function $n(s,e,n,o,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)$n(s,e[u],n,o,l);else o=He(o)?!!o.capture:!!o,n=ji(n),s&&s[or]?(s=s.i,(e=String(e).toString())in s.g&&-1<(n=Y(u=s.g[e],n,o,l))&&(ui(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete s.g[e],s.h--))):s&&(s=Yn(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Y(e,n,o,l)),(n=-1<s?e[s]:null)&&cr(n))}function cr(s){if("number"!=typeof s&&s&&!s.fa){var e=s.src;if(e&&e[or])fe(e.i,s);else{var n=s.type,o=s.proxy;e.removeEventListener?e.removeEventListener(n,o,s.capture):e.detachEvent?e.detachEvent(fn(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Yn(e))?(fe(n,s),0==n.h&&(n.src=null,e[re]=null)):ui(s)}}}function fn(s){return s in X?X[s]:X[s]="on"+s}function en(s,e){if(s.fa)s=!0;else{e=new On(e,this);var n=s.listener,o=s.la||s.src;s.ia&&cr(s),s=n.call(o,e)}return s}function Yn(s){return(s=s[re])instanceof ae?s:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ji(s){return"function"==typeof s?s:(s[Lr]||(s[Lr]=function(e){return s.handleEvent(e)}),s[Lr])}function Fr(){dn.call(this),this.i=new ae(this),this.S=this,this.J=null}function Sr(s,e){var n,o=s.J;if(o)for(n=[];o;o=o.J)n.push(o);if(s=s.S,o=e.type||e,"string"==typeof e)e=new Bn(e,s);else if(e instanceof Bn)e.target=e.target||s;else{var l=e;xe(e=new Bn(o,s),l)}if(l=!0,n)for(var u=n.length-1;0<=u;u--){var f=e.g=n[u];l=sr(f,o,!0,e)&&l}if(l=sr(f=e.g=s,o,!0,e)&&l,l=sr(f,o,!1,e)&&l,n)for(u=0;u<n.length;u++)l=sr(f=e.g=n[u],o,!1,e)&&l}function sr(s,e,n,o){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var f=e[u];if(f&&!f.fa&&f.capture==n){var D=f.listener,M=f.la||f.src;f.ia&&fe(s.i,f),l=!1!==D.call(M,o)&&l}}return l&&!o.defaultPrevented}Mt(Fr,dn),Fr.prototype[or]=!0,Fr.prototype.removeEventListener=function(s,e,n,o){$n(this,s,e,n,o)},Fr.prototype.N=function(){if(Fr.$.N.call(this),this.i){var e,s=this.i;for(e in s.g){for(var n=s.g[e],o=0;o<n.length;o++)ui(n[o]);delete s.g[e],s.h--}}this.J=null},Fr.prototype.O=function(s,e,n,o){return this.i.add(String(s),e,!1,n,o)},Fr.prototype.P=function(s,e,n,o){return this.i.add(String(s),e,!0,n,o)};var Qi=bt.JSON.stringify;function ot(){var s=Qe;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var vt=new class Xi{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qt,s=>s.reset());class qt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Nn(s){var e=1;s=s.split(":");const n=[];for(;0<e&&s.length;)n.push(s.shift()),e--;return s.length&&n.push(s.join(":")),n}function te(s){bt.setTimeout(()=>{throw s},0)}let ye,we=!1,Qe=new class Ge{constructor(){this.h=this.g=null}add(e,n){const o=vt.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},st=()=>{const s=bt.Promise.resolve(void 0);ye=()=>{s.then(xt)}};var xt=()=>{for(var s;s=ot();){try{s.h.call(s.g)}catch(n){te(n)}var e=vt;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}we=!1};function Ut(s,e){Fr.call(this),this.h=s||1,this.g=e||bt,this.j=Gt(this.qb,this),this.l=Date.now()}function mn(s){s.ga=!1,s.T&&(s.g.clearTimeout(s.T),s.T=null)}function _n(s,e,n){if("function"==typeof s)n&&(s=Gt(s,n));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Gt(s.handleEvent,s)}return 2147483647<Number(e)?-1:bt.setTimeout(s,e||0)}function wr(s){s.g=_n(()=>{s.g=null,s.i&&(s.i=!1,wr(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Mt(Ut,Fr),(It=Ut.prototype).ga=!1,It.T=null,It.qb=function(){if(this.ga){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-s):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Sr(this,"tick"),this.ga&&(mn(this),this.start()))}},It.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.N=function(){Ut.$.N.call(this),mn(this),delete this.g};class Cr extends dn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(s){dn.call(this),this.h=s,this.g={}}Mt(Mr,dn);var li=[];function Hi(s,e,n,o){Array.isArray(n)||(n&&(li[0]=n.toString()),n=li);for(var l=0;l<n.length;l++){var u=ke(e,n[l],o||s.handleEvent,!1,s.h||s);if(!u)break;s.g[u.key]=u}}function di(s){ei(s.g,function(e,n){this.g.hasOwnProperty(n)&&cr(e)},s),s.g={}}function tr(){this.g=!0}function jr(s,e,n,o){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Yr(s,e){if(!s.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(s=0;s<n.length;s++)if(Array.isArray(n[s])){var o=n[s];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<l.length;f++)l[f]=""}}}return Qi(n)}catch{return e}}(s,n)+(o?" "+o:"")})}Mr.prototype.N=function(){Mr.$.N.call(this),di(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tr.prototype.Ea=function(){this.g=!1},tr.prototype.info=function(){};var yr={},Ti=null;function Cn(){return Ti=Ti||new Fr}function qn(s){Bn.call(this,yr.Ta,s)}function Ws(s){const e=Cn();Sr(e,new qn(e))}function ki(s,e){Bn.call(this,yr.STAT_EVENT,s),this.stat=e}function bi(s){const e=Cn();Sr(e,new ki(e,s))}function Fo(s,e){Bn.call(this,yr.Ua,s),this.size=e}function Ki(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){s()},e)}yr.Ta="serverreachability",Mt(qn,Bn),yr.STAT_EVENT="statevent",Mt(ki,Bn),yr.Ua="timingevent",Mt(Fo,Bn);var Is={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Jn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hs(){}function hi(){}hs.prototype.h=null;var Yi,Li={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Os(){Bn.call(this,"d")}function no(){Bn.call(this,"c")}function Es(){}function fs(s,e,n,o){this.l=s,this.j=e,this.m=n,this.W=o||1,this.U=new Mr(this),this.P=io,this.V=new Ut(s=an?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ro}function ro(){this.i=null,this.g="",this.h=!1}Mt(Os,Bn),Mt(no,Bn),Mt(Es,hs),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},Yi=new Es;var io=45e3,Ns={},so={};function Zi(s,e,n){s.L=1,s.A=zs(Si(e)),s.u=n,s.S=!0,Fi(s,null)}function Fi(s,e){s.G=Date.now(),Ji(s),s.B=Si(s.A);var n=s.B,o=s.W;Array.isArray(o)||(o=[String(o)]),hr(n.i,"t",o),s.o=0,n=s.l.J,s.h=new ro,s.g=Ka(s.l,n?e:null,!s.u),0<s.O&&(s.M=new Cr(Gt(s.Pa,s,s.g),s.O)),Hi(s.U,s.g,"readystatechange",s.nb),e=s.I?Ke(s.I):{},s.u?(s.v||(s.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ha(s.B,s.v,s.u,e)):(s.v="GET",s.g.ha(s.B,s.v,null,e)),Ws(),function Zn(s,e,n,o,l,u){s.info(function(){if(s.g)if(u)for(var f="",D=u.split("&"),M=0;M<D.length;M++){var B=D[M].split("=");if(1<B.length){var Z=B[0];B=B[1];var pe=Z.split("_");f=2<=pe.length&&"type"==pe[1]?f+(Z+"=")+B+"&":f+(Z+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+n+"\n"+f})}(s.j,s.v,s.B,s.m,s.W,s.u)}function xr(s){return!!s.g&&"GET"==s.v&&2!=s.L&&s.l.Ha}function oo(s,e,n){let l,o=!0;for(;!s.J&&s.o<n.length;){if(l=fi(s,n),l==so){4==e&&(s.s=4,bi(14),o=!1),jr(s.j,s.m,null,"[Incomplete Response]");break}if(l==Ns){s.s=4,bi(15),jr(s.j,s.m,n,"[Invalid Chunk]"),o=!1;break}jr(s.j,s.m,l,null),Vo(s,l)}xr(s)&&0!=s.o&&(s.h.g=s.h.g.slice(s.o),s.o=0),4!=e||0!=n.length||s.h.h||(s.s=1,bi(16),o=!1),s.i=s.i&&o,o?0<n.length&&!s.ba&&(s.ba=!0,(e=s.l).g==s&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$o(e),e.M=!0,bi(11))):(jr(s.j,s.m,n,"[Invalid Chunked Response]"),$i(s),ao(s))}function fi(s,e){var n=s.o,o=e.indexOf("\n",n);return-1==o?so:(n=Number(e.substring(n,o)),isNaN(n)?Ns:(o+=1)+n>e.length?so:(e=e.slice(o,o+n),s.o=o+n,e))}function Ji(s){s.Y=Date.now()+s.P,Hn(s,s.P)}function Hn(s,e){if(null!=s.C)throw Error("WatchDog timer not null");s.C=Ki(Gt(s.lb,s),e)}function ws(s){s.C&&(bt.clearTimeout(s.C),s.C=null)}function ao(s){0==s.l.H||s.J||Go(s.l,s)}function $i(s){ws(s);var e=s.M;e&&"function"==typeof e.sa&&e.sa(),s.M=null,mn(s.V),di(s.U),s.g&&(e=s.g,s.g=null,e.abort(),e.sa())}function Vo(s,e){try{var n=s.l;if(0!=n.H&&(n.g==s||fa(n.i,s)))if(!s.K&&fa(n.i,s)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<s.G))break e;ta(n),rs(n)}ea(n),bi(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ki(Gt(n.ib,n),6e3));if(1>=Ds(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else is(n,11)}else if((s.K||n.g==s)&&ta(n),!ir(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let B=l[e];if(n.V=B[0],B=B[1],2==n.H)if("c"==B[0]){n.K=B[1],n.pa=B[2];const Z=B[3];null!=Z&&(n.ra=Z,n.l.info("VER="+n.ra));const pe=B[4];null!=pe&&(n.Ga=pe,n.l.info("SVER="+n.Ga));const Ne=B[5];null!=Ne&&"number"==typeof Ne&&0<Ne&&(n.L=o=1.5*Ne,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const rt=s.g;if(rt){const jt=rt.g?rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jt){var u=o.i;u.g||-1==jt.indexOf("spdy")&&-1==jt.indexOf("quic")&&-1==jt.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(co(u,u.h),u.h=null))}if(o.F){const Lt=rt.g?rt.g.getResponseHeader("X-HTTP-Session-Id"):null;Lt&&(o.Da=Lt,lr(o.I,o.F,Lt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-s.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=s;if((o=n).wa=bo(o,o.J?o.pa:null,o.Y),f.K){Gi(o.i,f);var D=f,M=o.L;M&&D.setTimeout(M),D.C&&(ws(D),Ji(D)),o.g=f}else To(o);0<n.j.length&&Fs(n)}else"stop"!=B[0]&&"close"!=B[0]||is(n,7);else 3==n.H&&("stop"==B[0]||"close"==B[0]?"stop"==B[0]?is(n,7):pi(n):"noop"!=B[0]&&n.h&&n.h.Aa(B),n.A=0)}Ws()}catch{}}function es(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Pe(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var n=function Cs(s){if(s.ta&&"function"==typeof s.ta)return s.ta();if(!s.Z||"function"!=typeof s.Z){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Pe(s)||"string"==typeof s){var e=[];s=s.length;for(var n=0;n<s;n++)e.push(n);return e}e=[],n=0;for(const o in s)e[n++]=o;return e}}}(s),o=function Uo(s){if(s.Z&&"function"==typeof s.Z)return s.Z();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Pe(s)){for(var e=[],n=s.length,o=0;o<n;o++)e.push(s[o]);return e}for(o in e=[],n=0,s)e[n++]=s[o];return e}(s),l=o.length,u=0;u<l;u++)e.call(void 0,o[u],n&&n[u],s)}(It=fs.prototype).setTimeout=function(s){this.P=s},It.nb=function(s){s=s.target;const e=this.M;e&&3==ns(s)?e.l():this.Pa(s)},It.Pa=function(s){try{if(s==this.g)e:{const Z=ns(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Z)&&(3!=Z||an||this.g&&(this.h.h||this.g.ja()||Jo(this.g)))){this.J||4!=Z||7==e||Ws(),ws(this);var n=this.g.da();this.ca=n;t:if(xr(this)){var o=Jo(this.g);s="";var l=o.length,u=4==ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$i(this),ao(this);var f="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,s+=this.h.i.decode(o[e],{stream:u&&e==l-1});o.length=0,this.h.g+=s,this.o=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function Fn(s,e,n,o,l,u,f){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+u+" "+f})}(this.j,this.v,this.B,this.m,this.W,Z,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ir(D)){var B=D;break t}}B=null}if(!(n=B)){this.i=!1,this.s=3,bi(12),$i(this),ao(this);break e}jr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vo(this,n)}this.S?(oo(this,Z,f),an&&this.i&&3==Z&&(Hi(this.U,this.V,"tick",this.mb),this.V.start())):(jr(this.j,this.m,f,null),Vo(this,f)),4==Z&&$i(this),this.i&&!this.J&&(4==Z?Go(this.l,this):(this.i=!1,Ji(this)))}else(function Ho(s){const e={};s=(s.g&&2<=ns(s)&&s.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<s.length;o++){if(ir(s[o]))continue;var n=Nn(s[o]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const u=e[l]||[];e[l]=u,u.push(n)}!function Fe(s,e){for(const n in s)e.call(void 0,s[n],n,s)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.s=3,bi(12)):(this.s=0,bi(13)),$i(this),ao(this)}}}catch{}},It.mb=function(){if(this.g){var s=ns(this.g),e=this.g.ja();this.o<e.length&&(ws(this),oo(this,s,e),this.i&&4!=s&&Ji(this))}},It.cancel=function(){this.J=!0,$i(this)},It.lb=function(){this.C=null;const s=Date.now();0<=s-this.Y?(function Kr(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Ws(),bi(17)),$i(this),this.s=2,ao(this)):Hn(this,this.Y-s)};var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ci(s){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof ci){this.h=s.h,qi(this,s.j),this.s=s.s,this.g=s.g,_o(this,s.m),this.l=s.l;var e=s.i,n=new Ii;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ti(this,n),this.o=s.o}else s&&(e=String(s).match(Ts))?(this.h=!1,qi(this,e[1]||"",!0),this.s=bs(e[2]||""),this.g=bs(e[3]||"",!0),_o(this,e[4]),this.l=bs(e[5]||"",!0),ti(this,e[6]||"",!0),this.o=bs(e[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}function Si(s){return new ci(s)}function qi(s,e,n){s.j=n?bs(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function _o(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function ti(s,e,n){e instanceof Ii?(s.i=e,function ba(s,e){e&&!s.j&&(Ei(s),s.i=null,s.g.forEach(function(n,o){var l=o.toLowerCase();o!=l&&(lo(this,o),hr(this,l,n))},s)),s.j=e}(s.i,s.h)):(n||(e=ts(e,Zr)),s.i=new Ii(e,s.h))}function lr(s,e,n){s.i.set(e,n)}function zs(s){return lr(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function bs(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function ts(s,e,n){return"string"==typeof s?(s=encodeURI(s).replace(e,yo),n&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function yo(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}ci.prototype.toString=function(){var s=[],e=this.j;e&&s.push(ts(e,As,!0),":");var n=this.g;return(n||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(ts(e,As,!0),"@"),s.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&s.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&s.push("/"),s.push(ts(n,"/"==n.charAt(0)?Bo:Ta,!0))),(n=this.i.toString())&&s.push("?",n),(n=this.o)&&s.push("#",ts(n,ha)),s.join("")};var As=/[#\/\?@]/g,Ta=/[#\?:]/g,Bo=/[#\?]/g,Zr=/[#\?@]/g,ha=/#/g;function Ii(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function Ei(s){s.g||(s.g=new Map,s.h=0,s.i&&function da(s,e){if(s){s=s.split("&");for(var n=0;n<s.length;n++){var o=s[n].indexOf("="),l=null;if(0<=o){var u=s[n].substring(0,o);l=s[n].substring(o+1)}else u=s[n];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(s.i,function(e,n){s.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function lo(s,e){Ei(s),e=ps(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function Vi(s,e){return Ei(s),e=ps(s,e),s.g.has(e)}function hr(s,e,n){lo(s,e),0<n.length&&(s.i=null,s.g.set(ps(s,e),Gn(n)),s.h+=n.length)}function ps(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}(It=Ii.prototype).add=function(s,e){Ei(this),this.i=null,s=ps(this,s);var n=this.g.get(s);return n||this.g.set(s,n=[]),n.push(e),this.h+=1,this},It.forEach=function(s,e){Ei(this),this.g.forEach(function(n,o){n.forEach(function(l){s.call(e,l,o,this)},this)},this)},It.ta=function(){Ei(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const l=s[o];for(let u=0;u<l.length;u++)n.push(e[o])}return n},It.Z=function(s){Ei(this);let e=[];if("string"==typeof s)Vi(this,s)&&(e=e.concat(this.g.get(ps(this,s))));else{s=Array.from(this.g.values());for(let n=0;n<s.length;n++)e=e.concat(s[n])}return e},It.set=function(s,e){return Ei(this),this.i=null,Vi(this,s=ps(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},It.get=function(s,e){return s&&0<(s=this.Z(s)).length?String(s[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const u=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var l=u;""!==f[o]&&(l+="="+encodeURIComponent(String(f[o]))),s.push(l)}}return this.i=s.join("&")};var vo=class{constructor(s,e){this.g=s,this.map=e}};function wi(s){this.l=s||Io,s=bt.PerformanceNavigationTiming?0<(s=bt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(bt.g&&bt.g.Ka&&bt.g.Ka()&&bt.g.Ka().dc),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Io=10;function Ai(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Ds(s){return s.h?1:s.g?s.g.size:0}function fa(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function co(s,e){s.g?s.g.add(e):s.h=e}function Gi(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Eo(s){if(null!=s.h)return s.i.concat(s.h.F);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const n of s.g.values())e=e.concat(n.F);return e}return Gn(s.i)}wi.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}};var jo=class{stringify(s){return bt.JSON.stringify(s,void 0)}parse(s){return bt.JSON.parse(s,void 0)}};function Yo(){this.g=new jo}function Ks(s,e,n){const o=n||"";try{es(s,function(l,u){let f=l;He(l)&&(f=Qi(l)),e.push(o+u+"="+encodeURIComponent(f))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Co(s,e,n,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function G(s){this.l=s.ec||null,this.j=s.ob||!1}function z(s,e){Fr.call(this),this.F=s,this.u=e,this.m=void 0,this.readyState=x,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mt(G,hs),G.prototype.g=function(){return new z(this.l,this.j)},G.prototype.i=function(s){return function(){return s}}({}),Mt(z,Fr);var x=0;function se(s){s.j.read().then(s.Xa.bind(s)).catch(s.ka.bind(s))}function Re(s){s.readyState=4,s.l=null,s.j=null,s.A=null,gn(s)}function gn(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(It=z.prototype).open=function(s,e){if(this.readyState!=x)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,gn(this)},It.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.F||bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Re(this)),this.readyState=x},It.$a=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,gn(this)),this.g&&(this.readyState=3,gn(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;se(this)}else s.text().then(this.Za.bind(this),this.ka.bind(this))},It.Xa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?Re(this):gn(this),3==this.readyState&&se(this)}},It.Za=function(s){this.g&&(this.response=this.responseText=s,Re(this))},It.Ya=function(s){this.g&&(this.response=s,Re(this))},It.ka=function(){this.g&&Re(this)},It.setRequestHeader=function(s,e){this.v.append(s,e)},It.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var n=e.next();!n.done;)s.push((n=n.value)[0]+": "+n[1]),n=e.next();return s.join("\r\n")},Object.defineProperty(z.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Qn=bt.JSON.parse;function En(s){Fr.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qs,this.L=this.M=!1}Mt(En,Fr);var qs="",gs=/^https?$/i,ks=["POST","PUT"];function Aa(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Da(s),Zo(s)}function Da(s){s.F||(s.F=!0,Sr(s,"complete"),Sr(s,"error"))}function Ga(s){if(s.h&&typeof rn<"u"&&(!s.C[1]||4!=ns(s)||2!=s.da()))if(s.v&&4==ns(s))_n(s.La,0,s);else if(Sr(s,"readystatechange"),4==ns(s)){s.h=!1;try{const f=s.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var l=String(s.I).match(Ts)[1]||null;!l&&bt.self&&bt.self.location&&(l=bt.self.location.protocol.slice(0,-1)),o=!gs.test(l?l.toLowerCase():"")}n=o}if(n)Sr(s,"complete"),Sr(s,"success");else{s.m=6;try{var u=2<ns(s)?s.g.statusText:""}catch{u=""}s.j=u+" ["+s.da()+"]",Da(s)}}finally{Zo(s)}}}function Zo(s,e){if(s.g){ms(s);const n=s.g,o=s.C[0]?()=>{}:null;s.g=null,s.C=null,e||Sr(s,"ready");try{n.onreadystatechange=o}catch{}}}function ms(s){s.g&&s.L&&(s.g.ontimeout=null),s.A&&(bt.clearTimeout(s.A),s.A=null)}function ns(s){return s.g?s.g.readyState:0}function Jo(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.K){case qs:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function er(s){let e="";return ei(s,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function ni(s,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=er(n),"string"==typeof s?null!=n&&encodeURIComponent(String(n)):lr(s,e,n))}function qr(s,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[s]||e}function Ri(s){this.Ga=0,this.j=[],this.l=new tr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qr("failFast",!1,s),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qr("baseRetryDelayMs",5e3,s),this.hb=qr("retryDelaySeedMs",1e4,s),this.eb=qr("forwardChannelMaxRetries",2,s),this.xa=qr("forwardChannelRequestTimeoutMs",2e4,s),this.va=s&&s.xmlHttpFactory||void 0,this.Ha=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.i=new wi(s&&s.concurrentRequestLimit),this.Ja=new Yo,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=s&&s.bc||!1,s&&s.Ea&&this.l.Ea(),s&&s.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&s&&s.detectBufferingProxy||!1,this.qa=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.qa=s.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pi(s){if(Wa(s),3==s.H){var e=s.W++,n=Si(s.I);if(lr(n,"SID",s.K),lr(n,"RID",e),lr(n,"TYPE","terminate"),gi(s,n),(e=new fs(s,s.l,e)).L=2,e.A=zs(Si(n)),n=!1,bt.navigator&&bt.navigator.sendBeacon)try{n=bt.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&bt.Image&&((new Image).src=e.A,n=!0),n||(e.g=Ka(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ji(e)}na(s)}function rs(s){s.g&&($o(s),s.g.cancel(),s.g=null)}function Wa(s){rs(s),s.u&&(bt.clearTimeout(s.u),s.u=null),ta(s),s.i.cancel(),s.m&&("number"==typeof s.m&&bt.clearTimeout(s.m),s.m=null)}function Fs(s){if(!Ai(s.i)&&!s.m){s.m=!0;var e=s.Na;ye||st(),we||(ye(),we=!0),Qe.add(e,s),s.C=0}}function Sa(s,e){var n;n=e?e.m:s.W++;const o=Si(s.I);lr(o,"SID",s.K),lr(o,"RID",n),lr(o,"AID",s.V),gi(s,o),s.o&&s.s&&ni(o,s.o,s.s),n=new fs(s,s.l,n,s.C+1),null===s.o&&(n.I=s.s),e&&(s.j=e.F.concat(s.j)),e=Qs(s,n,1e3),n.setTimeout(Math.round(.5*s.xa)+Math.round(.5*s.xa*Math.random())),co(s.i,n),Zi(n,o,e)}function gi(s,e){s.na&&ei(s.na,function(n,o){lr(e,o,n)}),s.h&&es({},function(n,o){lr(e,o,n)})}function Qs(s,e,n){n=Math.min(s.j.length,n);var o=s.h?Gt(s.h.Va,s.h,s):null;e:{var l=s.j;let u=-1;for(;;){const f=["count="+n];-1==u?0<n?(u=l[0].g,f.push("ofs="+u)):u=0:f.push("ofs="+u);let D=!0;for(let M=0;M<n;M++){let B=l[M].g;const Z=l[M].map;if(B-=u,0>B)u=Math.max(0,l[M].g-100),D=!1;else try{Ks(Z,f,"req"+B+"_")}catch{o&&o(Z)}}if(D){o=f.join("&");break e}}}return s=s.j.splice(0,n),e.F=s,o}function To(s){if(!s.g&&!s.u){s.ba=1;var e=s.Ma;ye||st(),we||(ye(),we=!0),Qe.add(e,s),s.A=0}}function ea(s){return!(s.g||s.u||3<=s.A||(s.ba++,s.u=Ki(Gt(s.Ma,s),za(s,s.A)),s.A++,0))}function $o(s){null!=s.B&&(bt.clearTimeout(s.B),s.B=null)}function al(s){s.g=new fs(s,s.l,"rpc",s.ba),null===s.o&&(s.g.I=s.s),s.g.O=0;var e=Si(s.wa);lr(e,"RID","rpc"),lr(e,"SID",s.K),lr(e,"AID",s.V),lr(e,"CI",s.G?"0":"1"),!s.G&&s.qa&&lr(e,"TO",s.qa),lr(e,"TYPE","xmlhttp"),gi(s,e),s.o&&s.s&&ni(e,s.o,s.s),s.L&&s.g.setTimeout(s.L);var n=s.g;s=s.pa,n.L=1,n.A=zs(Si(e)),n.u=null,n.S=!0,Fi(n,s)}function ta(s){null!=s.v&&(bt.clearTimeout(s.v),s.v=null)}function Go(s,e){var n=null;if(s.g==e){ta(s),$o(s),s.g=null;var o=2}else{if(!fa(s.i,e))return;n=e.F,Gi(s.i,e),o=1}if(0!=s.H)if(e.i)if(1==o){n=e.u?e.u.length:0,e=Date.now()-e.G;var l=s.C;Sr(o=Cn(),new Fo(o,n)),Fs(s)}else To(s);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==o&&function wl(s,e){return!(Ds(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.j=e.F.concat(s.j),0):1==s.H||2==s.H||s.C>=(s.cb?0:s.eb)||(s.m=Ki(Gt(s.Na,s,e),za(s,s.C)),s.C++,0)))}(s,e)||2==o&&ea(s)))switch(n&&0<n.length&&(e=s.i,e.i=e.i.concat(n)),l){case 1:is(s,5);break;case 4:is(s,10);break;case 3:is(s,6);break;default:is(s,2)}}function za(s,e){let n=s.ab+Math.floor(Math.random()*s.hb);return s.isActive()||(n*=2),n*e}function is(s,e){if(s.l.info("Error code "+e),2==e){var n=null;s.h&&(n=null);var o=Gt(s.pb,s);n||(n=new ci("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||qi(n,"https"),zs(n)),function wo(s,e){const n=new tr;if(bt.Image){const o=new Image;o.onload=sn(Co,n,o,"TestLoadImage: loaded",!0,e),o.onerror=sn(Co,n,o,"TestLoadImage: error",!1,e),o.onabort=sn(Co,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=sn(Co,n,o,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else e(!1)}(n.toString(),o)}else bi(2);s.H=0,s.h&&s.h.za(e),na(s),Wa(s)}function na(s){if(s.H=0,s.ma=[],s.h){const e=Eo(s.i);(0!=e.length||0!=s.j.length)&&(Kn(s.ma,e),Kn(s.ma,s.j),s.i.i.length=0,Gn(s.j),s.j.length=0),s.h.ya()}}function bo(s,e,n){var o=n instanceof ci?Si(n):new ci(n);if(""!=o.g)e&&(o.g=e+"."+o.g),_o(o,o.m);else{var l=bt.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new ci(null);o&&qi(u,o),e&&(u.g=e),l&&_o(u,l),n&&(u.l=n),o=u}return e=s.Da,(n=s.F)&&e&&lr(o,n,e),lr(o,"VER",s.ra),gi(s,o),o}function Ka(s,e,n){if(e&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new En(s.Ha&&!s.va?new G({ob:n}):s.va)).Oa(s.J),e}function Wo(){}function pa(){if(br&&!(10<=Number(nn)))throw Error("Environmental error: no available transport.")}function ss(s,e){Fr.call(this),this.g=new Ri(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(s?s["X-WebChannel-Client-Profile"]=e.Ca:s={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=s,(s=e&&e.cc)&&!ir(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ir(e)&&(this.g.F=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new Pi(this)}function ra(s){Os.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var e=s.__sm__;if(e){e:{for(const n in e){s=n;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Ao(){no.call(this),this.status=1}function Pi(s){this.g=s}function Ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ra(s,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)o[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)o[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var u=s.g[3],f=(e=s.g[0])+(u^(n=s.g[1])&((l=s.g[2])^u))+o[0]+3614090360&4294967295;f=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=n+(f<<7&4294967295|f>>>25))+((f=u+(l^e&(n^l))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^u&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^n&(l^u))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=u+(l^e&(n^l))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^u&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^n&(l^u))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=u+(l^e&(n^l))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^u&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^n&(l^u))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=u+(l^e&(n^l))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^u&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^u&(n^l))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=u+(n^l&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(u^e&(l^u))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^u&(n^l))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=u+(n^l&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(u^e&(l^u))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^u&(n^l))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=u+(n^l&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(u^e&(l^u))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^u&(n^l))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=u+(n^l&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(u^e&(l^u))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^l^u)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^n^l)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^u)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^n^l)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^u)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^n^l)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^u^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^u)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^n^l)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(l^(n|~u))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=u+(n^(e|~l))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(u|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(u^(l|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~u))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=u+(n^(e|~l))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(u|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(u^(l|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~u))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=u+(n^(e|~l))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(u|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(u^(l|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((u=(e=n+((f=e+(l^(n|~u))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=u+(n^(e|~l))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((l=u+((f=l+(e^(u|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,s.g[0]=s.g[0]+e&4294967295,s.g[1]=s.g[1]+(l+(f<<21&4294967295|f>>>11))&4294967295,s.g[2]=s.g[2]+l&4294967295,s.g[3]=s.g[3]+u&4294967295}function Hr(s,e){this.h=e;for(var n=[],o=!0,l=s.length-1;0<=l;l--){var u=0|s[l];o&&u==e||(n[l]=u,o=!1)}this.g=n}(It=En.prototype).Oa=function(s){this.M=s},It.ha=function(s,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+s);e=e?e.toUpperCase():"GET",this.I=s,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yi.g(),this.C=function Xo(s){return s.h||(s.h=s.i())}(this.u?this.u:Yi),this.g.onreadystatechange=Gt(this.La,this);try{this.G=!0,this.g.open(e,String(s),!0),this.G=!1}catch(u){return void Aa(this,u)}if(s=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)n.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())n.set(u,o.get(u))}o=Array.from(n.keys()).find(u=>"content-type"==u.toLowerCase()),l=bt.FormData&&s instanceof bt.FormData,!(0<=Mn(ks,e))||o||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,f]of n)this.g.setRequestHeader(u,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ms(this),0<this.B&&((this.L=function Ls(s){return br&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.ua,this)):this.A=_n(this.ua,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(u){Aa(this,u)}},It.ua=function(){typeof rn<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sr(this,"timeout"),this.abort(8))},It.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Sr(this,"complete"),Sr(this,"abort"),Zo(this))},It.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zo(this,!0)),En.$.N.call(this)},It.La=function(){this.s||(this.G||this.v||this.l?Ga(this):this.kb())},It.kb=function(){Ga(this)},It.isActive=function(){return!!this.g},It.da=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}},It.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Wa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Qn(e)}},It.Ia=function(){return this.m},It.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=Ri.prototype).ra=8,It.H=1,It.Na=function(s){if(this.m)if(this.m=null,1==this.H){if(!s){this.W=Math.floor(1e5*Math.random()),s=this.W++;const l=new fs(this,this.l,s);let u=this.s;if(this.U&&(u?(u=Ke(u),xe(u,this.U)):u=this.U),null!==this.o||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Qs(this,l,e),lr(n=Si(this.I),"RID",s),lr(n,"CVER",22),this.F&&lr(n,"X-HTTP-Session-Id",this.F),gi(this,n),u&&(this.O?e="headers="+encodeURIComponent(String(er(u)))+"&"+e:this.o&&ni(n,this.o,u)),co(this.i,l),this.bb&&lr(n,"TYPE","init"),this.P?(lr(n,"$req",e),lr(n,"SID","null"),l.aa=!0,Zi(l,n,null)):Zi(l,n,e),this.H=2}}else 3==this.H&&(s?Sa(this,s):0==this.j.length||Ai(this.i)||Sa(this))},It.Ma=function(){if(this.u=null,al(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var s=2*this.S;this.l.info("BP detection timer enabled: "+s),this.B=Ki(Gt(this.jb,this),s)}},It.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bi(10),rs(this),al(this))},It.ib=function(){null!=this.v&&(this.v=null,rs(this),ea(this),bi(19))},It.pb=function(s){s?(this.l.info("Successfully pinged google.com"),bi(2)):(this.l.info("Failed to ping google.com"),bi(1))},It.isActive=function(){return!!this.h&&this.h.isActive(this)},(It=Wo.prototype).Ba=function(){},It.Aa=function(){},It.za=function(){},It.ya=function(){},It.isActive=function(){return!0},It.Va=function(){},pa.prototype.g=function(s,e){return new ss(s,e)},Mt(ss,Fr),ss.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var s=this.g,e=this.l,n=this.h||void 0;bi(0),s.Y=e,s.na=n||{},s.G=s.aa,s.I=bo(s,null,s.Y),Fs(s)},ss.prototype.close=function(){pi(this.g)},ss.prototype.u=function(s){var e=this.g;if("string"==typeof s){var n={};n.__data__=s,s=n}else this.v&&((n={}).__data__=Qi(s),s=n);e.j.push(new vo(e.fb++,s)),3==e.H&&Fs(e)},ss.prototype.N=function(){this.g.h=null,delete this.j,pi(this.g),delete this.g,ss.$.N.call(this)},Mt(ra,Os),Mt(Ao,no),Mt(Pi,Wo),Pi.prototype.Ba=function(){Sr(this.g,"a")},Pi.prototype.Aa=function(s){Sr(this.g,new ra(s))},Pi.prototype.za=function(s){Sr(this.g,new Ao)},Pi.prototype.ya=function(){Sr(this.g,"b")},Mt(Ss,function ia(){this.blockSize=-1}),Ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ss.prototype.j=function(s,e){void 0===e&&(e=s.length);for(var n=e-this.blockSize,o=this.m,l=this.h,u=0;u<e;){if(0==l)for(;u<=n;)Ra(this,s,u),u+=this.blockSize;if("string"==typeof s){for(;u<e;)if(o[l++]=s.charCodeAt(u++),l==this.blockSize){Ra(this,o),l=0;break}}else for(;u<e;)if(o[l++]=s[u++],l==this.blockSize){Ra(this,o),l=0;break}}this.h=l,this.i+=e},Ss.prototype.l=function(){var s=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);s[0]=128;for(var e=1;e<s.length-8;++e)s[e]=0;var n=8*this.i;for(e=s.length-8;e<s.length;++e)s[e]=255&n,n/=256;for(this.j(s),s=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)s[n++]=this.g[e]>>>o&255;return s};var qa={};function Do(s){return-128<=s&&128>s?function Er(s,e){var n=qa;return Object.prototype.hasOwnProperty.call(n,s)?n[s]:n[s]=e(s)}(s,function(e){return new Hr([0|e],0>e?-1:0)}):new Hr([0|s],0>s?-1:0)}function Vs(s){if(isNaN(s)||!isFinite(s))return Us;if(0>s)return K(Vs(-s));for(var e=[],n=1,o=0;s>=n;o++)e[o]=s/n|0,n*=Pa;return new Hr(e,0)}var Pa=4294967296,Us=Do(0),Bs=Do(1),Cl=Do(16777216);function Ci(s){if(0!=s.h)return!1;for(var e=0;e<s.g.length;e++)if(0!=s.g[e])return!1;return!0}function b(s){return-1==s.h}function K(s){for(var e=s.g.length,n=[],o=0;o<e;o++)n[o]=~s.g[o];return new Hr(n,~s.h).add(Bs)}function O(s,e){return s.add(K(e))}function $(s,e){for(;(65535&s[e])!=s[e];)s[e+1]+=s[e]>>>16,s[e]&=65535,e++}function Ie(s,e){this.g=s,this.h=e}function lt(s,e){if(Ci(e))throw Error("division by zero");if(Ci(s))return new Ie(Us,Us);if(b(s))return e=lt(K(s),e),new Ie(K(e.g),K(e.h));if(b(e))return e=lt(s,K(e)),new Ie(K(e.g),e.h);if(30<s.g.length){if(b(s)||b(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Bs,o=e;0>=o.X(s);)n=Ct(n),o=Ct(o);var l=cn(n,1),u=cn(o,1);for(o=cn(o,2),n=cn(n,2);!Ci(o);){var f=u.add(o);0>=f.X(s)&&(l=l.add(n),u=f),o=cn(o,1),n=cn(n,1)}return e=O(s,l.R(e)),new Ie(l,e)}for(l=Us;0<=s.X(e);){for(n=Math.max(1,Math.floor(s.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(u=Vs(n)).R(e);b(f)||0<f.X(s);)f=(u=Vs(n-=o)).R(e);Ci(u)&&(u=Bs),l=l.add(u),s=O(s,f)}return new Ie(l,s)}function Ct(s){for(var e=s.g.length+1,n=[],o=0;o<e;o++)n[o]=s.D(o)<<1|s.D(o-1)>>>31;return new Hr(n,s.h)}function cn(s,e){var n=e>>5;e%=32;for(var o=s.g.length-n,l=[],u=0;u<o;u++)l[u]=0<e?s.D(u+n)>>>e|s.D(u+n+1)<<32-e:s.D(u+n);return new Hr(l,s.h)}(It=Hr.prototype).ea=function(){if(b(this))return-K(this).ea();for(var s=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);s+=(0<=o?o:Pa+o)*e,e*=Pa}return s},It.toString=function(s){if(2>(s=s||10)||36<s)throw Error("radix out of range: "+s);if(Ci(this))return"0";if(b(this))return"-"+K(this).toString(s);for(var e=Vs(Math.pow(s,6)),n=this,o="";;){var l=lt(n,e).g,u=((0<(n=O(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(s);if(Ci(n=l))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},It.D=function(s){return 0>s?0:s<this.g.length?this.g[s]:this.h},It.X=function(s){return b(s=O(this,s))?-1:Ci(s)?0:1},It.abs=function(){return b(this)?K(this):this},It.add=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],o=0,l=0;l<=e;l++){var u=o+(65535&this.D(l))+(65535&s.D(l)),f=(u>>>16)+(this.D(l)>>>16)+(s.D(l)>>>16);o=f>>>16,n[l]=(f&=65535)<<16|(u&=65535)}return new Hr(n,-2147483648&n[n.length-1]?-1:0)},It.R=function(s){if(Ci(this)||Ci(s))return Us;if(b(this))return b(s)?K(this).R(K(s)):K(K(this).R(s));if(b(s))return K(this.R(K(s)));if(0>this.X(Cl)&&0>s.X(Cl))return Vs(this.ea()*s.ea());for(var e=this.g.length+s.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var l=0;l<s.g.length;l++){var u=this.D(o)>>>16,f=65535&this.D(o),D=s.D(l)>>>16,M=65535&s.D(l);n[2*o+2*l]+=f*M,$(n,2*o+2*l),n[2*o+2*l+1]+=u*M,$(n,2*o+2*l+1),n[2*o+2*l+1]+=f*D,$(n,2*o+2*l+1),n[2*o+2*l+2]+=u*D,$(n,2*o+2*l+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Hr(n,0)},It.gb=function(s){return lt(this,s).h},It.and=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&s.D(o);return new Hr(n,this.h&s.h)},It.or=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|s.D(o);return new Hr(n,this.h|s.h)},It.xor=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^s.D(o);return new Hr(n,this.h^s.h)},pa.prototype.createWebChannel=pa.prototype.g,ss.prototype.send=ss.prototype.u,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Jn.COMPLETE="complete",hi.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",Fr.prototype.listen=Fr.prototype.O,En.prototype.listenOnce=En.prototype.P,En.prototype.getLastError=En.prototype.Sa,En.prototype.getLastErrorCode=En.prototype.Ia,En.prototype.getStatus=En.prototype.da,En.prototype.getResponseJson=En.prototype.Wa,En.prototype.getResponseText=En.prototype.ja,En.prototype.send=En.prototype.ha,En.prototype.setWithCredentials=En.prototype.Oa,Ss.prototype.digest=Ss.prototype.l,Ss.prototype.reset=Ss.prototype.reset,Ss.prototype.update=Ss.prototype.j,Hr.prototype.add=Hr.prototype.add,Hr.prototype.multiply=Hr.prototype.R,Hr.prototype.modulo=Hr.prototype.gb,Hr.prototype.compare=Hr.prototype.X,Hr.prototype.toNumber=Hr.prototype.ea,Hr.prototype.toString=Hr.prototype.toString,Hr.prototype.getBits=Hr.prototype.D,Hr.fromNumber=Vs,Hr.fromString=function ll(s,e){if(0==s.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==s.charAt(0))return K(ll(s.substring(1),e));if(0<=s.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Vs(Math.pow(e,8)),o=Us,l=0;l<s.length;l+=8){var u=Math.min(8,s.length-l),f=parseInt(s.substring(l,l+u),e);8>u?(u=Vs(Math.pow(e,u)),o=o.R(u).add(Vs(f))):o=(o=o.R(n)).add(Vs(f))}return o};var Jr=In.createWebChannelTransport=function(){return new pa},U=In.getStatEventTarget=function(){return Cn()},E=In.ErrorCode=Is,v=In.EventType=Jn,S=In.Event=yr,N=In.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_e=(In.FetchXmlHttpFactory=G,In.WebChannel=hi),he=In.XhrIo=En,Oe=In.Md5=Ss,Xe=In.Integer=Hr;const kt="@firebase/firestore";class Dt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");let Sn="10.10.0";const kn=new V.Vy("@firebase/firestore");function Bt(){return kn.logLevel}function gt(s,...e){if(kn.logLevel<=V.$b.DEBUG){const n=e.map(Mi);kn.debug(`Firestore (${Sn}): ${s}`,...n)}}function Xt(s,...e){if(kn.logLevel<=V.$b.ERROR){const n=e.map(Mi);kn.error(`Firestore (${Sn}): ${s}`,...n)}}function vr(s,...e){if(kn.logLevel<=V.$b.WARN){const n=e.map(Mi);kn.warn(`Firestore (${Sn}): ${s}`,...n)}}function Mi(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function Wt(s="Unexpected state"){const e=`FIRESTORE (${Sn}) INTERNAL ASSERTION FAILED: `+s;throw Xt(e),new Error(e)}function zt(s,e){s||Wt()}function Ot(s,e){return s}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends ge.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Xs{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class uo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nr{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let l=this.i;const u=B=>this.i!==l?(l=this.i,n(B)):Promise.resolve();let f=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new mi,e.enqueueRetryable(()=>u(this.currentUser))};const D=()=>{const B=f;e.enqueueRetryable((0,Ee.A)(function*(){yield B.promise,yield u(o.currentUser)}))},M=B=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(B=>M(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?M(B):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new mi)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(zt("string"==typeof o.accessToken),new Xs(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zt(null===e||"string"==typeof e),new Dt(e)}}class Tl{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yn{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new Tl(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=u=>{null!=u.error&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,gt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const l=u=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(zt("string"==typeof n.token),this.R=n.token,new wn(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dr(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<s;o++)n[o]=Math.floor(256*Math.random());return n}class js{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const l=dr(40);for(let u=0;u<l.length;++u)o.length<20&&l[u]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[u]%62))}return o}}function un(s,e){return s<e?-1:s>e?1:0}function Qr(s,e,n){return s.length===e.length&&s.every((o,l)=>n(o,e[l]))}function ri(s){return s+"\0"}class Vr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Tt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Tt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Vr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dn(e)}static min(){return new Dn(new Vr(0,0))}static max(){return new Dn(new Vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Or{constructor(e,n,o){void 0===n?n=0:n>e.length&&Wt(),void 0===o?o=e.length-n:o>e.length-n&&Wt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Or.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const u=e.get(l),f=n.get(l);if(u<f)return-1;if(u>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rr extends Or{construct(e,n,o){return new rr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Tt(tt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new rr(n)}static emptyPath(){return new rr([])}}const os=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends Or{construct(e,n,o){return new $r(e,n,o)}static isValidIdentifier(e){return os.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $r(["__name__"])}static fromServerFormat(e){const n=[];let o="",l=0;const u=()=>{if(0===o.length)throw new Tt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new Tt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new Tt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=M,l+=2}else"`"===D?(f=!f,l++):"."!==D||f?(o+=D,l++):(u(),l++)}if(u(),f)throw new Tt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(n)}static emptyPath(){return new $r([])}}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(rr.fromString(e))}static fromName(e){return new Zt(rr.fromString(e).popFirst(5))}static empty(){return new Zt(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return rr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new rr(e.slice()))}}class ga{constructor(e,n,o,l){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=l}}function Yl(s){return s.fields.find(e=>2===e.kind)}function zo(s){return s.fields.filter(e=>2!==e.kind)}ga.UNKNOWN_ID=-1;class Ma{constructor(e,n){this.fieldPath=e,this.kind=n}}class bl{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bl(0,So.min())}}function gu(s,e){const n=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,l=Dn.fromTimestamp(1e9===o?new Vr(n+1,0):new Vr(n,o));return new So(l,Zt.empty(),e)}function qh(s){return new So(s.readTime,s.key,-1)}class So{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new So(Dn.min(),Zt.empty(),-1)}static max(){return new So(Dn.max(),Zt.empty(),-1)}}function hd(s,e){let n=s.readTime.compareTo(e.readTime);return 0!==n?n:(n=Zt.comparator(s.documentKey,e.documentKey),0!==n?n:un(s.largestBatchId,e.largestBatchId))}const Qh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cl(s){return fd.apply(this,arguments)}function fd(){return fd=(0,Ee.A)(function*(s){if(s.code!==tt.FAILED_PRECONDITION||s.message!==Qh)throw s;gt("LocalStore","Unexpectedly lost primary lease")}),fd.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((o,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,o)=>{n(e)})}static reject(e){return new y((n,o)=>{o(e)})}static waitFor(e){return new y((n,o)=>{let l=0,u=0,f=!1;e.forEach(D=>{++l,D.next(()=>{++u,f&&u===l&&n()},M=>o(M))}),f=!0,u===l&&n()})}static or(e){let n=y.resolve(!1);for(const o of e)n=n.next(l=>l?y.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,u)=>{o.push(n.call(this,l,u))}),this.waitFor(o)}static mapArray(e,n){return new y((o,l)=>{const u=e.length,f=new Array(u);let D=0;for(let M=0;M<u;M++){const B=M;n(e[B]).next(Z=>{f[B]=Z,++D,D===u&&o(f)},Z=>l(Z))}})}static doWhile(e,n){return new y((o,l)=>{const u=()=>{!0===e()?n().next(()=>{u()},l):o()};u()})}}class R{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new mi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new j(e,n.error)):this.V.resolve()},this.transaction.onerror=o=>{const l=on(o.target.error);this.V.reject(new j(e,l))}}static open(e,n,o,l){try{return new R(n,e.transaction(l,o))}catch(u){throw new j(n,u)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Ce(n)}}class C{constructor(e,n,o){this.name=e,this.version=n,this.p=o,12.2===C.S((0,ge.ZQ)())&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gt("SimpleDb","Removing database:",e),at(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ge.zW)())return!1;if(C.C())return!0;const e=(0,ge.ZQ)(),n=C.S(e),o=0<n&&n<10,l=C.v(e),u=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static v(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}O(e){var n=this;return(0,Ee.A)(function*(){return n.db||(gt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,l)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=f=>{o(f.target.result)},u.onblocked=()=>{l(new j(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const D=f.target.error;l("VersionError"===D.name?new Tt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new Tt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new j(e,D))},u.onupgradeneeded=f=>{gt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.p.N(f.target.result,u.transaction,f.oldVersion,n.version).next(()=>{gt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.L&&(n.db.onversionchange=o=>n.L(o)),n.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,l){var u=this;return(0,Ee.A)(function*(){const f="readonly"===n;let D=0;for(;;){++D;try{u.db=yield u.O(e);const M=R.open(u.db,e,f?"readonly":"readwrite",o),B=l(M).next(Z=>(M.g(),Z)).catch(Z=>(M.abort(Z),y.reject(Z))).toPromise();return B.catch(()=>{}),yield M.m,B}catch(M){const B=M,Z="FirebaseError"!==B.name&&D<3;if(gt("SimpleDb","Transaction failed with error:",B.message,"Retrying:",Z),u.close(),!Z)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class P{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return at(this.k.delete())}}class j extends Tt{constructor(e,n){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function J(s){return"IndexedDbTransactionError"===s.name}class Ce{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(gt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),at(o)}add(e){return gt("SimpleDb","ADD",this.store.name,e,e),at(this.store.add(e))}get(e){return at(this.store.get(e)).next(n=>(void 0===n&&(n=null),gt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return gt("SimpleDb","DELETE",this.store.name,e),at(this.store.delete(e))}count(){return gt("SimpleDb","COUNT",this.store.name),at(this.store.count())}W(e,n){const o=this.options(e,n),l=o.index?this.store.index(o.index):this.store;if("function"==typeof l.getAll){const u=l.getAll(o.range);return new y((f,D)=>{u.onerror=M=>{D(M.target.error)},u.onsuccess=M=>{f(M.target.result)}})}{const u=this.cursor(o),f=[];return this.G(u,(D,M)=>{f.push(M)}).next(()=>f)}}j(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new y((l,u)=>{o.onerror=f=>{u(f.target.error)},o.onsuccess=f=>{l(f.target.result)}})}H(e,n){gt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.J=!1;const l=this.cursor(o);return this.G(l,(u,f,D)=>D.delete())}Y(e,n){let o;n?o=e:(o={},n=e);const l=this.cursor(o);return this.G(l,n)}Z(e){const n=this.cursor({});return new y((o,l)=>{n.onerror=u=>{const f=on(u.target.error);l(f)},n.onsuccess=u=>{const f=u.target.result;f?e(f.primaryKey,f.value).next(D=>{D?f.continue():o()}):o()}})}G(e,n){const o=[];return new y((l,u)=>{e.onerror=f=>{u(f.target.error)},e.onsuccess=f=>{const D=f.target.result;if(!D)return void l();const M=new P(D),B=n(D.primaryKey,D.value,M);if(B instanceof y){const Z=B.catch(pe=>(M.done(),y.reject(pe)));o.push(Z)}M.isDone?l():null===M.$?D.continue():D.continue(M.$)}}).next(()=>y.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.J?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function at(s){return new y((e,n)=>{s.onsuccess=o=>{e(o.target.result)},s.onerror=o=>{const l=on(o.target.error);n(l)}})}let nt=!1;function on(s){const e=C.S((0,ge.ZQ)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(n)>=0){const o=new Tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nt||(nt=!0,setTimeout(()=>{throw o},0)),o}}return s}class ur{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;gt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.A)(function*(){n.task=null;try{gt("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(o){J(o)?gt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield cl(o)}yield n.ee(6e4)}))}}class _r{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,Ee.A)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.ne(o,e))})()}ne(e,n){const o=new Set;let l=n,u=!0;return y.doWhile(()=>!0===u&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!o.has(f))return gt("IndexBackfiller",`Processing collection: ${f}`),this.re(e,f,l).next(D=>{l-=D,o.add(f)});u=!1})).next(()=>n-l)}re(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,o).next(u=>{const f=u.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.ie(l,u)).next(D=>(gt("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,n,D))).next(()=>f.size)}))}ie(e,n){let o=e;return n.changes.forEach((l,u)=>{const f=qh(u);hd(f,o)>0&&(o=f)}),new So(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ur=(()=>{class s{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=l=>this.se(l),this.oe=l=>o.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return s._e=-1,s})();function Ro(s){return null==s}function ma(s){return 0===s&&1/s==-1/0}function sa(s){return"number"==typeof s&&Number.isInteger(s)&&!ma(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function as(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=pd(e)),e=ls(s.get(n),e);return pd(e)}function ls(s,e){let n=e;const o=s.length;for(let l=0;l<o;l++){const u=s.charAt(l);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function pd(s){return s+"\x01\x01"}function Ko(s){const e=s.length;if(zt(e>=2),2===e)return zt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),rr.emptyPath();const n=e-2,o=[];let l="";for(let u=0;u<e;){const f=s.indexOf("\x01",u);switch((f<0||f>n)&&Wt(),s.charAt(f+1)){case"\x01":const D=s.substring(u,f);let M;0===l.length?M=D:(l+=D,M=l,l=""),o.push(M);break;case"\x10":l+=s.substring(u,f),l+="\0";break;case"\x11":l+=s.substring(u,f+1);break;default:Wt()}u=f+2}return new rr(o)}const Zl=["userId","batchId"];function Jl(s,e){return[s,as(e)]}function Xp(s,e,n){return[s,as(e),n]}const ii={},gd=["prefixPath","collectionGroup","readTime","documentId"],_a=["prefixPath","collectionGroup","documentId"],Hs=["collectionGroup","readTime","prefixPath","documentId"],Yp=["canonicalId","targetId"],Cc=["targetId","path"],ec=["path","targetId"],ho=["collectionId","parent"],Yh=["indexId","uid"],md=["uid","sequenceNumber"],Zp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oa=["indexId","uid","orderedDocumentKey"],Zh=["userId","collectionPath","documentId"],_d=["userId","collectionPath","largestBatchId"],Jh=["userId","collectionGroup","largestBatchId"],tc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tc=[...tc,"documentOverlays"],nc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qa=nc,yd=[...Qa,"indexConfiguration","indexState","indexEntries"];class Xa extends Xh{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Tn(s,e){const n=Ot(s);return C.M(n.ae,e)}function bc(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ya(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function ef(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _i{constructor(e,n){this.comparator=e,this.root=n||_s.EMPTY}insert(e,n){return new _i(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new _i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?o(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _s{constructor(e,n,o,l,u){this.key=e,this.value=n,this.color=o??_s.RED,this.left=l??_s.EMPTY,this.right=u??_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,u){return new _s(e??this.key,n??this.value,o??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const u=o(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,o),null):0===u?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return _s.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();const e=this.left.check();if(e!==this.right.check())throw Wt();return e+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1,_s.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(e,n,o,l,u){return this}insert(e,n,o){return new _s(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(e){this.comparator=e,this.data=new _i(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tf(this.data.getIterator())}getIteratorFrom(e){return new tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=o.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xr(this.comparator);return n.data=e,n}}class tf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ul(s){return s.hasNext()?s.getNext():void 0}class Po{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Po([])}unionWith(e){let n=new Xr($r.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Po(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qr(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class nf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nf("Invalid base64 string: "+u):u}}(e);return new ft(n)}static fromUint8Array(e){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const Rr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(s){if(zt(!!s),"string"==typeof s){let e=0;const n=Rr.exec(s);if(zt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ui(s.seconds),nanos:Ui(s.nanos)}}function Ui(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Tr(s){return"string"==typeof s?ft.fromBase64String(s):ft.fromUint8Array(s)}function Al(s){var e,n;return"server_timestamp"===(null===(n=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xa(s){const e=s.mapValue.fields.__previous_value__;return Al(e)?xa(e):e}function fo(s){const e=ya(s.mapValue.fields.__local_write_time__.timestampValue);return new Vr(e.seconds,e.nanos)}class Dc{constructor(e,n,o,l,u,f,D,M,B){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=M,this.useFetchStreams=B}}class Oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mu={nullValue:"NULL_VALUE"};function Na(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Al(s)?4:wd(s)?9007199254740991:10:Wt()}function xi(s,e){if(s===e)return!0;const n=Na(s);if(n!==Na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return fo(s).isEqual(fo(e));case 3:return function(l,u){if("string"==typeof l.timestampValue&&"string"==typeof u.timestampValue&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=ya(l.timestampValue),D=ya(u.timestampValue);return f.seconds===D.seconds&&f.nanos===D.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return u=e,Tr(s.bytesValue).isEqual(Tr(u.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,u){return Ui(l.geoPointValue.latitude)===Ui(u.geoPointValue.latitude)&&Ui(l.geoPointValue.longitude)===Ui(u.geoPointValue.longitude)}(s,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Ui(l.integerValue)===Ui(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Ui(l.doubleValue),D=Ui(u.doubleValue);return f===D?ma(f)===ma(D):isNaN(f)&&isNaN(D)}return!1}(s,e);case 9:return Qr(s.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:return function(l,u){const f=l.mapValue.fields||{},D=u.mapValue.fields||{};if(bc(f)!==bc(D))return!1;for(const M in f)if(f.hasOwnProperty(M)&&(void 0===D[M]||!xi(f[M],D[M])))return!1;return!0}(s,e);default:return Wt()}var u}function Mo(s,e){return void 0!==(s.values||[]).find(n=>xi(n,e))}function va(s,e){if(s===e)return 0;const n=Na(s),o=Na(e);if(n!==o)return un(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return un(s.booleanValue,e.booleanValue);case 2:return function(u,f){const D=Ui(u.integerValue||u.doubleValue),M=Ui(f.integerValue||f.doubleValue);return D<M?-1:D>M?1:D===M?0:isNaN(D)?isNaN(M)?0:-1:1}(s,e);case 3:return aa(s.timestampValue,e.timestampValue);case 4:return aa(fo(s),fo(e));case 5:return un(s.stringValue,e.stringValue);case 6:return function(u,f){const D=Tr(u),M=Tr(f);return D.compareTo(M)}(s.bytesValue,e.bytesValue);case 7:return function(u,f){const D=u.split("/"),M=f.split("/");for(let B=0;B<D.length&&B<M.length;B++){const Z=un(D[B],M[B]);if(0!==Z)return Z}return un(D.length,M.length)}(s.referenceValue,e.referenceValue);case 8:return function(u,f){const D=un(Ui(u.latitude),Ui(f.latitude));return 0!==D?D:un(Ui(u.longitude),Ui(f.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(u,f){const D=u.values||[],M=f.values||[];for(let B=0;B<D.length&&B<M.length;++B){const Z=va(D[B],M[B]);if(Z)return Z}return un(D.length,M.length)}(s.arrayValue,e.arrayValue);case 10:return function(u,f){if(u===Za.mapValue&&f===Za.mapValue)return 0;if(u===Za.mapValue)return 1;if(f===Za.mapValue)return-1;const D=u.fields||{},M=Object.keys(D),B=f.fields||{},Z=Object.keys(B);M.sort(),Z.sort();for(let pe=0;pe<M.length&&pe<Z.length;++pe){const Ne=un(M[pe],Z[pe]);if(0!==Ne)return Ne;const rt=va(D[M[pe]],B[Z[pe]]);if(0!==rt)return rt}return un(M.length,Z.length)}(s.mapValue,e.mapValue);default:throw Wt()}}function aa(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return un(s,e);const n=ya(s),o=ya(e),l=un(n.seconds,o.seconds);return 0!==l?l:un(n.nanos,o.nanos)}function xo(s){return Id(s)}function Id(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const o=ya(n);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Tr(s.bytesValue).toBase64():"referenceValue"in s?Zt.fromName(s.referenceValue).toString():"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let o="[",l=!0;for(const u of n.values||[])l?l=!1:o+=",",o+=Id(u);return o+"]"}(s.arrayValue):"mapValue"in s?function(n){const o=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of o)u?u=!1:l+=",",l+=`${f}:${Id(n.fields[f])}`;return l+"}"}(s.mapValue):Wt()}function Sl(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ed(s){return!!s&&"integerValue"in s}function dl(s){return!!s&&"arrayValue"in s}function _u(s){return!!s&&"nullValue"in s}function Rl(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pl(s){return!!s&&"mapValue"in s}function Sc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ya(s.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Sc(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(s.arrayValue.values[n]);return e}return Object.assign({},s)}function wd(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cd(s){return"nullValue"in s?mu:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Sl(Oa.empty(),Zt.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Wt()}function rf(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Sl(Oa.empty(),Zt.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Za:Wt()}function Td(s,e){const n=va(s.value,e.value);return 0!==n?n:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function bd(s,e){const n=va(s.value,e.value);return 0!==n?n:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class Ps{constructor(e){this.value=e}static empty(){return new Ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Pl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=$r.emptyPath(),o={},l=[];e.forEach((f,D)=>{if(!n.isImmediateParentOf(D)){const M=this.getFieldsMap(n);this.applyChanges(M,o,l),o={},l=[],n=D.popLast()}f?o[D.lastSegment()]=Sc(f):l.push(D.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,o,l)}delete(e){const n=this.field(e.popLast());Pl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];Pl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){Ya(n,(l,u)=>e[l]=u);for(const l of o)delete e[l]}clone(){return new Ps(Sc(this.value))}}function rc(s){const e=[];return Ya(s.fields,(n,o)=>{const l=new $r([n]);if(Pl(o)){const u=rc(o.mapValue).fields;if(0===u.length)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new Po(e)}class Di{constructor(e,n,o,l,u,f,D){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.createTime=u,this.data=f,this.documentState=D}static newInvalidDocument(e){return new Di(e,0,Dn.min(),Dn.min(),Dn.min(),Ps.empty(),0)}static newFoundDocument(e,n,o,l){return new Di(e,1,n,Dn.min(),o,l,0)}static newNoDocument(e,n){return new Di(e,2,n,Dn.min(),Dn.min(),Ps.empty(),0)}static newUnknownDocument(e,n){return new Di(e,3,n,Dn.min(),Dn.min(),Ps.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Dn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bi{constructor(e,n){this.position=e,this.inclusive=n}}function hl(s,e,n){let o=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(o=u.field.isKeyField()?Zt.comparator(Zt.fromName(f.referenceValue),n.key):va(f,n.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function yi(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!xi(s.position[n],e.position[n]))return!1;return!0}class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function sf(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class af{}class Nr extends af{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Ad(e,n,o):"array-contains"===n?new Nl(e,o):"in"===n?new Dd(e,o):"not-in"===n?new ac(e,o):"array-contains-any"===n?new lf(e,o):new Nr(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new vu(e,o):new Jp(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(va(n,this.value)):null!==n&&Na(this.value)===Na(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends af{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new si(e,n)}matches(e){return Ml(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ml(s){return"and"===s.op}function xl(s){return"or"===s.op}function Oo(s){return yu(s)&&Ml(s)}function yu(s){for(const e of s.filters)if(e instanceof si)return!1;return!0}function sc(s){if(s instanceof Nr)return s.field.canonicalString()+s.op.toString()+xo(s.value);if(Oo(s))return s.filters.map(e=>sc(e)).join(",");{const e=s.filters.map(n=>sc(n)).join(",");return`${s.op}(${e})`}}function Ol(s,e){return s instanceof Nr?(o=s,(l=e)instanceof Nr&&o.op===l.op&&o.field.isEqual(l.field)&&xi(o.value,l.value)):s instanceof si?function(o,l){return l instanceof si&&o.op===l.op&&o.filters.length===l.filters.length&&o.filters.reduce((u,f,D)=>u&&Ol(f,l.filters[D]),!0)}(s,e):void Wt();var o,l}function Rc(s,e){const n=s.filters.concat(e);return si.create(n,s.op)}function Pc(s){return s instanceof Nr?`${(n=s).field.canonicalString()} ${n.op} ${xo(n.value)}`:s instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(Pc).join(" ,")+"}"}(s):"Filter";var n}class Ad extends Nr{constructor(e,n,o){super(e,n,o),this.key=Zt.fromName(o.referenceValue)}matches(e){const n=Zt.comparator(e.key,this.key);return this.matchesComparison(n)}}class vu extends Nr{constructor(e,n){super(e,"in",n),this.keys=oc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Jp extends Nr{constructor(e,n){super(e,"not-in",n),this.keys=oc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oc(s,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Zt.fromName(o.referenceValue))}class Nl extends Nr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dl(n)&&Mo(n.arrayValue,this.value)}}class Dd extends Nr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Mo(this.value.arrayValue,n)}}class ac extends Nr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Mo(this.value.arrayValue,n)}}class lf extends Nr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Mo(this.value.arrayValue,o))}}class cf{constructor(e,n=null,o=[],l=[],u=null,f=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=u,this.startAt=f,this.endAt=D,this.ce=null}}function Sd(s,e=null,n=[],o=[],l=null,u=null,f=null){return new cf(s,e,n,o,l,u,f)}function lc(s){const e=Ot(s);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>sc(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ro(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>xo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>xo(o)).join(",")),e.ce=n}return e.ce}function Iu(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!sf(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Ol(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!yi(s.startAt,e.startAt)&&yi(s.endAt,e.endAt)}function cc(s){return Zt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function fl(s,e){return s.filters.filter(n=>n instanceof Nr&&n.field.isEqual(e))}function Rd(s,e,n){let o=mu,l=!0;for(const u of fl(s,e)){let f=mu,D=!0;switch(u.op){case"<":case"<=":f=Cd(u.value);break;case"==":case"in":case">=":f=u.value;break;case">":f=u.value,D=!1;break;case"!=":case"not-in":f=mu}Td({value:o,inclusive:l},{value:f,inclusive:D})<0&&(o=f,l=D)}if(null!==n)for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(e)){const f=n.position[u];Td({value:o,inclusive:l},{value:f,inclusive:n.inclusive})<0&&(o=f,l=n.inclusive);break}return{value:o,inclusive:l}}function uc(s,e,n){let o=Za,l=!0;for(const u of fl(s,e)){let f=Za,D=!0;switch(u.op){case">=":case">":f=rf(u.value),D=!1;break;case"==":case"in":case"<=":f=u.value;break;case"<":f=u.value,D=!1;break;case"!=":case"not-in":f=Za}bd({value:o,inclusive:l},{value:f,inclusive:D})>0&&(o=f,l=D)}if(null!==n)for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(e)){const f=n.position[u];bd({value:o,inclusive:l},{value:f,inclusive:n.inclusive})>0&&(o=f,l=n.inclusive);break}return{value:o,inclusive:l}}class ka{constructor(e,n=null,o=[],l=[],u=null,f="F",D=null,M=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=u,this.limitType=f,this.startAt=D,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function Mc(s,e,n,o,l,u,f,D){return new ka(s,e,n,o,l,u,f,D)}function w(s){return new ka(s)}function h(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function g(s){return null!==s.collectionGroup}function T(s){const e=Ot(s);if(null===e.le){e.le=[];const n=new Set;for(const u of e.explicitOrderBy)e.le.push(u),n.add(u.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let D=new Xr($r.comparator);return f.filters.forEach(M=>{M.getFlattenedFilters().forEach(B=>{B.isInequality()&&(D=D.add(B.field))})}),D})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.le.push(new ic(u,o))}),n.has($r.keyField().canonicalString())||e.le.push(new ic($r.keyField(),o))}return e.le}function H(s){const e=Ot(s);return e.he||(e.he=function ie(s,e){if("F"===s.limitType)return Sd(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>new ic(l.field,"desc"===l.dir?"asc":"desc"));const n=s.endAt?new Bi(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new Bi(s.startAt.position,s.startAt.inclusive):null;return Sd(s.path,s.collectionGroup,e,s.filters,s.limit,n,o)}}(e,T(s))),e.he}function Le(s,e){const n=s.filters.concat([e]);return new ka(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function ut(s,e,n){return new ka(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function St(s,e){return Iu(H(s),H(e))&&s.limitType===e.limitType}function vn(s){return`${lc(H(s))}|lt:${s.limitType}`}function Pn(s){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(l=>Pc(l)).join(", ")}]`),Ro(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(l=>{return`${(f=l).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(l=>xo(l)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(l=>xo(l)).join(",")),`Target(${o})`}(H(s))}; limitType=${s.limitType})`}function Ir(s,e){return e.isFoundDocument()&&function(o,l){const u=l.key.path;return null!==o.collectionGroup?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(u):Zt.isDocumentKey(o.path)?o.path.isEqual(u):o.path.isImmediateParentOf(u)}(s,e)&&function(o,l){for(const u of T(o))if(!u.field.isKeyField()&&null===l.data.field(u.field))return!1;return!0}(s,e)&&function(o,l){for(const u of o.filters)if(!u.matches(l))return!1;return!0}(s,e)&&(l=e,!((o=s).startAt&&!function(f,D,M){const B=hl(f,D,M);return f.inclusive?B<=0:B<0}(o.startAt,T(o),l)||o.endAt&&!function(f,D,M){const B=hl(f,D,M);return f.inclusive?B>=0:B>0}(o.endAt,T(o),l)));var o,l}function Ys(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function La(s){return(e,n)=>{let o=!1;for(const l of T(s)){const u=xc(l,e,n);if(0!==u)return u;o=o||l.field.isKeyField()}return 0}}function xc(s,e,n){const o=s.field.isKeyField()?Zt.comparator(e.key,n.key):function(u,f,D){const M=f.data.field(u),B=D.data.field(u);return null!==M&&null!==B?va(M,B):Wt()}(s.field,e,n);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return Wt()}}class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[l,u]of o)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(n,o)=>{for(const[l,u]of o)e(l,u)})}isEmpty(){return ef(this.inner)}size(){return this.innerSize}}const Pd=new _i(Zt.comparator);function Ms(){return Pd}const Ja=new _i(Zt.comparator);function kl(...s){let e=Ja;for(const n of s)e=e.insert(n.key,n);return e}function Eu(s){let e=Ja;return s.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function la(){return Ea()}function el(){return Ea()}function Ea(){return new Ia(s=>s.toString(),(s,e)=>s.isEqual(e))}const ys=new _i(Zt.comparator),Md=new Xr(Zt.comparator);function pr(...s){let e=Md;for(const n of s)e=e.add(n);return e}const eg=new Xr(un);function tg(){return eg}function ng(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ma(e)?"-0":e}}function xd(s){return{integerValue:""+s}}function k_(s,e){return sa(e)?xd(e):ng(s,e)}class Od{constructor(){this._=void 0}}function rg(s,e,n){return s instanceof wu?function(l,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Al(u)&&(u=xa(u)),u&&(f.fields.__previous_value__=u),{mapValue:f}}(n,e):s instanceof Oc?L_(s,e):s instanceof dc?F_(s,e):function(l,u){const f=ig(l,u),D=V_(f)+V_(l.Ie);return Ed(f)&&Ed(l.Ie)?xd(D):ng(l.serializer,D)}(s,e)}function uf(s,e,n){return s instanceof Oc?L_(s,e):s instanceof dc?F_(s,e):n}function ig(s,e){return s instanceof Nc?Ed(o=e)||(u=o)&&"doubleValue"in u?e:{integerValue:0}:null;var o,u}class wu extends Od{}class Oc extends Od{constructor(e){super(),this.elements=e}}function L_(s,e){const n=U_(e);for(const o of s.elements)n.some(l=>xi(l,o))||n.push(o);return{arrayValue:{values:n}}}class dc extends Od{constructor(e){super(),this.elements=e}}function F_(s,e){let n=U_(e);for(const o of s.elements)n=n.filter(l=>!xi(l,o));return{arrayValue:{values:n}}}class Nc extends Od{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function V_(s){return Ui(s.integerValue||s.doubleValue)}function U_(s){return dl(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class df{constructor(e,n){this.field=e,this.transform=n}}class j_{constructor(e,n){this.version=e,this.transformResults=n}}class Gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sg(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Nd{}function vI(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new kd(s.key,Gr.none()):new Cu(s.key,s.data,Gr.none());{const n=s.data,o=Ps.empty();let l=new Xr($r.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);null===f&&u.length>1&&(u=u.popLast(),f=n.field(u)),null===f?o.delete(u):o.set(u,f),l=l.add(u)}return new Ll(s.key,o,new Po(l.toArray()),Gr.none())}}function og(s,e,n){s instanceof Cu?function(l,u,f){const D=l.value.clone(),M=II(l.fieldTransforms,u,f.transformResults);D.setAll(M),u.convertToFoundDocument(f.version,D).setHasCommittedMutations()}(s,e,n):s instanceof Ll?function(l,u,f){if(!sg(l.precondition,u))return void u.convertToUnknownDocument(f.version);const D=II(l.fieldTransforms,u,f.transformResults),M=u.data;M.setAll(ag(l)),M.setAll(D),u.convertToFoundDocument(f.version,M).setHasCommittedMutations()}(s,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wa(s,e,n,o){return s instanceof Cu?function(u,f,D,M){if(!sg(u.precondition,f))return D;const B=u.value.clone(),Z=EI(u.fieldTransforms,M,f);return B.setAll(Z),f.convertToFoundDocument(f.version,B).setHasLocalMutations(),null}(s,e,n,o):s instanceof Ll?function(u,f,D,M){if(!sg(u.precondition,f))return D;const B=EI(u.fieldTransforms,M,f),Z=f.data;return Z.setAll(ag(u)),Z.setAll(B),f.convertToFoundDocument(f.version,Z).setHasLocalMutations(),null===D?null:D.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(pe=>pe.field))}(s,e,n,o):(D=n,sg(s.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):D);var f,D}function H_(s,e){let n=null;for(const o of s.fieldTransforms){const l=e.data.field(o.field),u=ig(o.transform,l||null);null!=u&&(null===n&&(n=Ps.empty()),n.set(o.field,u))}return n||null}function kc(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(o=s.fieldTransforms)&&void 0===l||o&&l&&Qr(o,l,(u,f)=>function B_(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(o=s.transform)instanceof Oc&&l instanceof Oc||o instanceof dc&&l instanceof dc?Qr(o.elements,l.elements,xi):o instanceof Nc&&l instanceof Nc?xi(o.Ie,l.Ie):o instanceof wu&&l instanceof wu);var o,l}(u,f))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var o,l}class Cu extends Nd{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ll extends Nd{constructor(e,n,o,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ag(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=s.data.field(n);e.set(n,o)}}),e}function II(s,e,n){const o=new Map;zt(s.length===n.length);for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,D=e.data.field(u.field);o.set(u.field,uf(f,D,n[l]))}return o}function EI(s,e,n){const o=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);o.set(l.field,rg(u,f,e))}return o}class kd extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $_ extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G_{constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&og(u,e,o[l])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=wa(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=wa(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=el();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let D=this.applyToLocalView(f,u.mutatedFields);D=n.has(l.key)?null:D;const M=vI(f,D);null!==M&&o.set(l.key,M),f.isValidDocument()||f.convertToNoDocument(Dn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pr())}isEqual(e){return this.batchId===e.batchId&&Qr(this.mutations,e.mutations,(n,o)=>kc(n,o))&&Qr(this.baseMutations,e.baseMutations,(n,o)=>kc(n,o))}}class lg{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){zt(e.mutations.length===o.length);let l=function(){return ys}();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,o[f].version);return new lg(e,n,o,l)}}class hc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class W_{constructor(e,n){this.count=e,this.unchangedNames=n}}var xs,Wr;function tl(s){switch(s){default:return Wt();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function z_(s){if(void 0===s)return Xt("GRPC error has no .code"),tt.UNKNOWN;switch(s){case xs.OK:return tt.OK;case xs.CANCELLED:return tt.CANCELLED;case xs.UNKNOWN:return tt.UNKNOWN;case xs.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xs.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xs.INTERNAL:return tt.INTERNAL;case xs.UNAVAILABLE:return tt.UNAVAILABLE;case xs.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xs.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xs.NOT_FOUND:return tt.NOT_FOUND;case xs.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xs.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xs.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xs.ABORTED:return tt.ABORTED;case xs.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xs.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xs.DATA_LOSS:return tt.DATA_LOSS;default:return Wt()}}(Wr=xs||(xs={}))[Wr.OK=0]="OK",Wr[Wr.CANCELLED=1]="CANCELLED",Wr[Wr.UNKNOWN=2]="UNKNOWN",Wr[Wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wr[Wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wr[Wr.NOT_FOUND=5]="NOT_FOUND",Wr[Wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wr[Wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wr[Wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wr[Wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wr[Wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wr[Wr.ABORTED=10]="ABORTED",Wr[Wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wr[Wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wr[Wr.INTERNAL=13]="INTERNAL",Wr[Wr.UNAVAILABLE=14]="UNAVAILABLE",Wr[Wr.DATA_LOSS=15]="DATA_LOSS";function bu(){return new TextEncoder}const wI=new Xe([4294967295,4294967295],0);function cg(s){const e=bu().encode(s),n=new Oe;return n.update(e),new Uint8Array(n.digest())}function ug(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xe([n,o],0),new Xe([l,u],0)]}class Au{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new fc(`Invalid padding: ${n}`);if(o<0)throw new fc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new fc(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new fc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Xe.fromNumber(this.Te)}de(e,n,o){let l=e.add(n.multiply(Xe.fromNumber(o)));return 1===l.compare(wI)&&(l=new Xe([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=cg(e),[o,l]=ug(n);for(let u=0;u<this.hashCount;u++){const f=this.de(o,l,u);if(!this.Ae(f))return!1}return!0}static create(e,n,o){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Au(u,l,n);return o.forEach(D=>f.insert(D)),f}insert(e){if(0===this.Te)return;const n=cg(e),[o,l]=ug(n);for(let u=0;u<this.hashCount;u++){const f=this.de(o,l,u);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lc{constructor(e,n,o,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const l=new Map;return l.set(e,Fd.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Lc(Dn.min(),l,new _i(un),Ms(),pr())}}class Fd{constructor(e,n,o,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Fd(o,n,pr(),pr(),pr())}}class hf{constructor(e,n,o,l){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=l}}class K_{constructor(e,n){this.targetId=e,this.fe=n}}class dg{constructor(e,n,o=ft.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class q_{constructor(){this.ge=0,this.pe=ff(),this.ye=ft.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pr(),n=pr(),o=pr();return this.pe.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:Wt()}}),new Fd(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=ff()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,zt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class CI{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ms(),this.Qe=qo(),this.Ke=new _i(un)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Le(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:Wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,o=e.fe.count,l=this.Ye(n);if(l){const u=l.target;if(cc(u))if(0===o){const f=new Zt(u.path);this.We(n,f,Di.newNoDocument(f,Dn.min()))}else zt(1===o);else{const f=this.Ze(n);if(f!==o){const D=this.Xe(e),M=D?this.et(D,e,f):1;0!==M&&(this.He(n),this.Ke=this.Ke.insert(n,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:u=0}=n;let f,D;try{f=Tr(o).toUint8Array()}catch(M){if(M instanceof nf)return vr("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{D=new Au(f,l,u)}catch(M){return vr(M instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===D.Te?null:D}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Be.getRemoteKeysForTarget(n);let l=0;return o.forEach(u=>{const f=this.Be.nt(),D=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(D)||(this.We(n,u,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((u,f)=>{const D=this.Ye(f);if(D){if(u.current&&cc(D.target)){const M=new Zt(D.target.path);null!==this.qe.get(M)||this.st(f,M)||this.We(f,M,Di.newNoDocument(M,e))}u.De&&(n.set(f,u.ve()),u.Fe())}});let o=pr();this.Qe.forEach((u,f)=>{let D=!0;f.forEachWhile(M=>{const B=this.Ye(M);return!B||"TargetPurposeLimboResolution"===B.purpose||(D=!1,!1)}),D&&(o=o.add(u))}),this.qe.forEach((u,f)=>f.setReadTime(e));const l=new Lc(e,n,this.Ke,this.qe,o);return this.qe=Ms(),this.Qe=qo(),this.Ke=new _i(un),l}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new q_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Xr(un),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||gt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new q_),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function qo(){return new _i(Zt.comparator)}function ff(){return new _i(Zt.comparator)}const Q_={asc:"ASCENDING",desc:"DESCENDING"},hg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},No={and:"AND",or:"OR"};class Vd{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pf(s,e){return s.useProto3Json||Ro(e)?e:{value:e}}function Fc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Y_(s,e){return Fc(s,e.toTimestamp())}function vs(s){return zt(!!s),Dn.fromTimestamp(function(n){const o=ya(n);return new Vr(o.seconds,o.nanos)}(s))}function gf(s,e){return fg(s,e).canonicalString()}function fg(s,e){const n=(l=s,new rr(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?n:n.child(e)}function pg(s){const e=rr.fromString(s);return zt(oy(e)),e}function Ud(s,e){return gf(s.databaseId,e.path)}function pl(s,e){const n=pg(e);if(n.get(1)!==s.databaseId.projectId)throw new Tt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Tt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Zt(gg(n))}function Z_(s,e){return gf(s.databaseId,e)}function J_(s){const e=pg(s);return 4===e.length?rr.emptyPath():gg(e)}function mf(s){return new rr(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function gg(s){return zt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function mg(s,e,n){return{name:Ud(s,e),fields:n.value.mapValue.fields}}function Bd(s,e,n){const o=pl(s,e.name),l=vs(e.updateTime),u=e.createTime?vs(e.createTime):Dn.min(),f=new Ps({mapValue:{fields:e.fields}}),D=Di.newFoundDocument(o,l,u,f);return n&&D.setHasCommittedMutations(),n?D.setHasCommittedMutations():D}function Du(s,e){let n;if(e instanceof Cu)n={update:mg(s,e.key,e.value)};else if(e instanceof kd)n={delete:Ud(s,e.key)};else if(e instanceof Ll)n={update:mg(s,e.key,e.data),updateMask:vg(e.fieldMask)};else{if(!(e instanceof $_))return Wt();n={verify:Ud(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,f){const D=f.transform;if(D instanceof wu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Oc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof dc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Nc)return{fieldPath:f.field.canonicalString(),increment:D.Ie};throw Wt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Y_(s,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Wt()),n;var u}function _f(s,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Gr.updateTime(vs(u.updateTime)):void 0!==u.exists?Gr.exists(u.exists):Gr.none():Gr.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(f,D){let M=null;"setToServerValue"in D?(zt("REQUEST_TIME"===D.setToServerValue),M=new wu):"appendMissingElements"in D?M=new Oc(D.appendMissingElements.values||[]):"removeAllFromArray"in D?M=new dc(D.removeAllFromArray.values||[]):"increment"in D?M=new Nc(f,D.increment):Wt();const B=$r.fromServerFormat(D.fieldPath);return new df(B,M)}(s,l)):[];var u;if(e.update){const l=pl(s,e.update.name),u=new Ps({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Po((e.updateMask.fieldPaths||[]).map(Z=>$r.fromServerFormat(Z)));return new Ll(l,u,f,n,o)}return new Cu(l,u,n,o)}if(e.delete){const l=pl(s,e.delete);return new kd(l,n)}if(e.verify){const l=pl(s,e.verify);return new $_(l,n)}return Wt()}function ny(s,e){return{documents:[Z_(s,e.path)]}}function _g(s,e){const n={structuredQuery:{}},o=e.path;let l;null!==e.collectionGroup?(l=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=Z_(s,l);const u=function(B){if(0!==B.length)return yg(si.create(B,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(B){if(0!==B.length)return B.map(Z=>{return{field:Vc((Ne=Z).field),direction:sy(Ne.dir)};var Ne})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const D=pf(s,e.limit);return null!==D&&(n.structuredQuery.limit=D),e.startAt&&(n.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(n.structuredQuery.endAt=function(B){return{before:!B.inclusive,values:B.position}}(e.endAt)),{ut:n,parent:l};var B}function ry(s){let e=J_(s.parent);const n=s.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){zt(1===o);const Z=n.from[0];Z.allDescendants?l=Z.collectionId:e=e.child(Z.collectionId)}let u=[];n.where&&(u=function(pe){const Ne=bI(pe);return Ne instanceof si&&Oo(Ne)?Ne.getFilters():[Ne]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(Ne=>{return new ic(Su((jt=Ne).field),function(Yt){switch(Yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(jt.direction));var jt}));let D=null;n.limit&&(D=function(pe){let Ne;return Ne="object"==typeof pe?pe.value:pe,Ro(Ne)?null:Ne}(n.limit));let M=null;var pe;n.startAt&&(M=new Bi((pe=n.startAt).values||[],!!pe.before));let B=null;return n.endAt&&(B=function(pe){return new Bi(pe.values||[],!pe.before)}(n.endAt)),Mc(e,l,f,u,D,"F",M,B)}function bI(s){return void 0!==s.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Su(n.unaryFilter.field);return Nr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=Su(n.unaryFilter.field);return Nr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Su(n.unaryFilter.field);return Nr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Su(n.unaryFilter.field);return Nr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Wt()}}(s):void 0!==s.fieldFilter?Nr.create(Su((n=s).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==s.compositeFilter?function(n){return si.create(n.compositeFilter.filters.map(o=>bI(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Wt()}}(n.compositeFilter.op))}(s):Wt();var n}function sy(s){return Q_[s]}function AI(s){return hg[s]}function DI(s){return No[s]}function Vc(s){return{fieldPath:s.canonicalString()}}function Su(s){return $r.fromServerFormat(s.fieldPath)}function yg(s){return s instanceof Nr?function(n){if("=="===n.op){if(Rl(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NAN"}};if(_u(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Rl(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NAN"}};if(_u(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(n.field),op:AI(n.op),value:n.value}}}(s):s instanceof si?function(n){const o=n.getFilters().map(l=>yg(l));return 1===o.length?o[0]:{compositeFilter:{op:DI(n.op),filters:o}}}(s):Wt()}function vg(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oy(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class ko{constructor(e,n,o,l,u=Dn.min(),f=Dn.min(),D=ft.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=M}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ig{constructor(e){this.ct=e}}function Eg(s,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ru(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Ud(u=s.ct,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:Fc(u,f.version.toTimestamp()),createTime:Fc(u,f.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Pu(e.version)};else{if(!e.isUnknownDocument())return Wt();o.unknownDocument={path:n.path.toArray(),version:Pu(e.version)}}var u,f;return o}function Ru(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Pu(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uc(s){const e=new Vr(s.seconds,s.nanoseconds);return Dn.fromTimestamp(e)}function Bc(s,e){const n=(e.baseMutations||[]).map(u=>_f(s.ct,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>_f(s.ct,u)),l=Vr.fromMillis(e.localWriteTimeMs);return new G_(e.batchId,l,n,o)}function jd(s){const e=Uc(s.readTime),n=void 0!==s.lastLimboFreeSnapshotVersion?Uc(s.lastLimboFreeSnapshotVersion):Dn.min();let o;return o=void 0!==s.query.documents?(zt(1===(u=s.query).documents.length),H(w(J_(u.documents[0])))):function(u){return H(ry(u))}(s.query),new ko(o,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,n,ft.fromBase64String(s.resumeToken));var u}function ay(s,e){const n=Pu(e.snapshotVersion),o=Pu(e.lastLimboFreeSnapshotVersion);let l;l=cc(e.target)?ny(s.ct,e.target):_g(s.ct,e.target).ut;const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lc(e.target),readTime:n,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function ly(s){const e=ry({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?ut(e,e.limit,"L"):e}function cy(s,e){return new hc(e.largestBatchId,_f(s.ct,e.overlayMutation))}function Hd(s,e){const n=e.path.lastSegment();return[s,as(e.path.popLast()),n]}function uy(s,e,n,o){return{indexId:s,uid:e,sequenceNumber:n,readTime:Pu(o.readTime),documentKey:as(o.documentKey.path),largestBatchId:o.largestBatchId}}class wg{getBundleMetadata(e,n){return yf(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Uc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return yf(e).put({bundleId:(l=n).id,createTime:Pu(vs(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return jc(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:ly(u.bundledQuery),readTime:Uc(u.readTime)};var u})}saveNamedQuery(e,n){return jc(e).put({name:(l=n).name,readTime:Pu(vs(l.readTime)),bundledQuery:l.bundledQuery});var l}}function yf(s){return Tn(s,"bundles")}function jc(s){return Tn(s,"namedQueries")}class Mu{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new Mu(e,n.uid||"")}getOverlay(e,n){return Hc(e).get(Hd(this.userId,n)).next(o=>o?cy(this.serializer,o):null)}getOverlays(e,n){const o=la();return y.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,n,o){const l=[];return o.forEach((u,f)=>{const D=new hc(n,f);l.push(this.ht(e,D))}),y.waitFor(l)}removeOverlaysForBatchId(e,n,o){const l=new Set;n.forEach(f=>l.add(as(f.getCollectionPath())));const u=[];return l.forEach(f=>{const D=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,o+1],!1,!0);u.push(Hc(e).H("collectionPathOverlayIndex",D))}),y.waitFor(u)}getOverlaysForCollection(e,n,o){const l=la(),u=as(n),f=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Hc(e).W("collectionPathOverlayIndex",f).next(D=>{for(const M of D){const B=cy(this.serializer,M);l.set(B.getKey(),B)}return l})}getOverlaysForCollectionGroup(e,n,o,l){const u=la();let f;const D=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Hc(e).Y({index:"collectionGroupOverlayIndex",range:D},(M,B,Z)=>{const pe=cy(this.serializer,B);u.size()<l||pe.largestBatchId===f?(u.set(pe.getKey(),pe),f=pe.largestBatchId):Z.done()}).next(()=>u)}ht(e,n){return Hc(e).put(function(l,u,f){const[D,M,B]=Hd(u,f.mutation.key);return{userId:u,collectionPath:M,documentId:B,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:Du(l.ct,f.mutation)}}(this.serializer,this.userId,n))}}function Hc(s){return Tn(s,"documentOverlays")}class nl{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ui(e.integerValue));else if("doubleValue"in e){const o=Ui(e.doubleValue);isNaN(o)?this.Et(n,13):(this.Et(n,15),ma(o)?n.dt(0):n.dt(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Et(n,20),"string"==typeof o?n.At(o):(n.At(`${o.seconds||""}`),n.dt(o.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Tr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Et(n,45),n.dt(o.latitude||0),n.dt(o.longitude||0)}else"mapValue"in e?wd(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Wt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const o=e.fields||{};this.Et(n,55);for(const l of Object.keys(o))this.Rt(l,n),this.It(o[l],n)}wt(e,n){const o=e.values||[];this.Et(n,50);for(const l of o)this.It(l,n)}gt(e,n){this.Et(n,37),Zt.fromName(e).path.forEach(o=>{this.Et(n,60),this.St(o,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function vf(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function $c(s){const e=64-function(o){let l=0;for(let u=0;u<8;++u){const f=vf(255&o[u]);if(l+=f,8!==f)break}return l}(s);return Math.ceil(e/8)}nl.bt=new nl;class Cg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ct(o.value),o=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Mt(o.value),o=n.next();this.xt()}Ot(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ct(o);else if(o<2048)this.Ct(960|o>>>6),this.Ct(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|o>>>12),this.Ct(128|63&o>>>6),this.Ct(128|63&o);else{const l=n.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Mt(o);else if(o<2048)this.Mt(960|o>>>6),this.Mt(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|o>>>12),this.Mt(128|63&o>>>6),this.Mt(128|63&o);else{const l=n.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const n=this.Bt(e),o=$c(n);this.kt(1+o),this.buffer[this.position++]=255&o;for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=255&n[l]}qt(e){const n=this.Bt(e),o=$c(n);this.kt(1+o),this.buffer[this.position++]=~(255&o);for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(u){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,u,!1),new Uint8Array(f.buffer)}(e),o=!!(128&n[0]);n[0]^=o?255:128;for(let l=1;l<n.length;++l)n[l]^=o?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Tg{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class If{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ef{constructor(){this.Gt=new Cg,this.zt=new Tg(this.Gt),this.jt=new If(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Fl{constructor(e,n,o,l){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=l}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Fl(this.indexId,this.documentKey,this.arrayValue,o)}}function Fa(s,e){let n=s.indexId-e.indexId;return 0!==n?n:(n=dy(s.arrayValue,e.arrayValue),0!==n?n:(n=dy(s.directionalValue,e.directionalValue),0!==n?n:Zt.comparator(s.documentKey,e.documentKey)))}function dy(s,e){for(let n=0;n<s.length&&n<e.length;++n){const o=s[n]-e[n];if(0!==o)return o}return s.length-e.length}class bg{constructor(e){this.Yt=new Xr((n,o)=>$r.comparator(n.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const o=n;o.isInequality()?this.Yt=this.Yt.add(o):this.Xt.push(o)}}get en(){return this.Yt.size>1}tn(e){if(zt(e.collectionGroup===this.collectionId),this.en)return!1;const n=Yl(e);if(void 0!==n&&!this.nn(n))return!1;const o=zo(e);let l=new Set,u=0,f=0;for(;u<o.length&&this.nn(o[u]);++u)l=l.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const M=o[u];if(!this.rn(D,M)||!this.sn(this.Zt[f++],M))return!1}++u}for(;u<o.length;++u)if(f>=this.Zt.length||!this.sn(this.Zt[f++],o[u]))return!1;return!0}on(){if(this.en)return null;let e=new Xr($r.comparator);const n=[];for(const o of this.Xt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)n.push(new Ma(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),n.push(new Ma(o.field,0))}for(const o of this.Zt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),n.push(new Ma(o.field,"asc"===o.dir?0:1)));return new ga(ga.UNKNOWN_ID,this.collectionId,n,bl.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function hy(s){var e,n;if(zt(s instanceof Nr||s instanceof si),s instanceof Nr){if(s instanceof Dd){const l=(null===(n=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(u=>Nr.create(s.field,"==",u)))||[];return si.create(l,"or")}return s}const o=s.filters.map(l=>hy(l));return si.create(o,s.op)}function RI(s){if(0===s.getFilters().length)return[];const e=Ag(hy(s));return zt(fy(e)),$d(e)||wf(e)?[e]:e.getFilters()}function $d(s){return s instanceof Nr}function wf(s){return s instanceof si&&Oo(s)}function fy(s){return $d(s)||wf(s)||function(n){if(n instanceof si&&xl(n)){for(const o of n.getFilters())if(!$d(o)&&!wf(o))return!1;return!0}return!1}(s)}function Ag(s){if(zt(s instanceof Nr||s instanceof si),s instanceof Nr)return s;if(1===s.filters.length)return Ag(s.filters[0]);const e=s.filters.map(o=>Ag(o));let n=si.create(e,s.op);return n=xu(n),fy(n)?n:(zt(n instanceof si),zt(Ml(n)),zt(n.filters.length>1),n.filters.reduce((o,l)=>Gc(o,l)))}function Gc(s,e){let n;return zt(s instanceof Nr||s instanceof si),zt(e instanceof Nr||e instanceof si),n=s instanceof Nr?e instanceof Nr?si.create([s,e],"and"):Dg(s,e):e instanceof Nr?Dg(e,s):function(l,u){if(zt(l.filters.length>0&&u.filters.length>0),Ml(l)&&Ml(u))return Rc(l,u.getFilters());const f=xl(l)?l:u,D=xl(l)?u:l,M=f.filters.map(B=>Gc(B,D));return si.create(M,"or")}(s,e),xu(n)}function Dg(s,e){if(Ml(e))return Rc(e,s.getFilters());{const n=e.filters.map(o=>Gc(s,o));return si.create(n,"or")}}function xu(s){if(zt(s instanceof Nr||s instanceof si),s instanceof Nr)return s;const e=s.getFilters();if(1===e.length)return xu(e[0]);if(yu(s))return s;const n=e.map(l=>xu(l)),o=[];return n.forEach(l=>{l instanceof Nr?o.push(l):l instanceof si&&(l.op===s.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:si.create(o,s.op)}class PI{constructor(){this._n=new py}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(So.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(So.min())}updateCollectionGroup(e,n,o){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class py{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new Xr(rr.comparator),u=!l.has(o);return this.index[n]=l.add(o),u}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Xr(rr.comparator)).toArray()}}const Sg=new Uint8Array(0);class Gd{constructor(e,n){this.databaseId=n,this.an=new py,this.un=new Ia(o=>lc(o),(o,l)=>Iu(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const o=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const u={collectionId:o,parent:as(l)};return gy(e).put(u)}return y.resolve()}getCollectionParents(e,n){const o=[],l=IDBKeyRange.bound([n,""],[ri(n),""],!1,!0);return gy(e).W(l).next(u=>{for(const f of u){if(f.collectionId!==n)break;o.push(Ko(f.parent))}return o})}addFieldIndex(e,n){const o=Wc(e),l={indexId:(D=n).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var D;delete l.indexId;const u=o.add(l);if(n.indexState){const f=Ou(e);return u.next(D=>{f.put(uy(D,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return u.next()}deleteFieldIndex(e,n){const o=Wc(e),l=Ou(e),u=Vl(e);return o.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Wc(e),o=Vl(e),l=Ou(e);return n.H().next(()=>o.H()).next(()=>l.H())}createTargetIndexes(e,n){return y.forEach(this.cn(n),o=>this.getIndexType(e,o).next(l=>{if(0===l||1===l){const u=new bg(o).on();if(null!=u)return this.addFieldIndex(e,u)}}))}getDocumentsMatchingTarget(e,n){const o=Vl(e);let l=!0;const u=new Map;return y.forEach(this.cn(n),f=>this.ln(e,f).next(D=>{l&&(l=!!D),u.set(f,D)})).next(()=>{if(l){let f=pr();const D=[];return y.forEach(u,(M,B)=>{var Ln;gt("IndexedDbIndexManager",`Using index ${Ln=M,`id=${Ln.indexId}|cg=${Ln.collectionGroup}|f=${Ln.fields.map(mr=>`${mr.fieldPath}:${mr.kind}`).join(",")}`} to execute ${lc(n)}`);const Z=function(Ln,mr){const kr=Yl(mr);if(void 0===kr)return null;for(const oi of fl(Ln,kr.fieldPath))switch(oi.op){case"array-contains-any":return oi.value.arrayValue.values||[];case"array-contains":return[oi.value]}return null}(B,M),pe=function(Ln,mr){const kr=new Map;for(const oi of zo(mr))for(const us of fl(Ln,oi.fieldPath))switch(us.op){case"==":case"in":kr.set(oi.fieldPath.canonicalString(),us.value);break;case"not-in":case"!=":return kr.set(oi.fieldPath.canonicalString(),us.value),Array.from(kr.values())}return null}(B,M),Ne=function(Ln,mr){const kr=[];let oi=!0;for(const us of zo(mr)){const ja=0===us.kind?Rd(Ln,us.fieldPath,Ln.startAt):uc(Ln,us.fieldPath,Ln.startAt);kr.push(ja.value),oi&&(oi=ja.inclusive)}return new Bi(kr,oi)}(B,M),rt=function(Ln,mr){const kr=[];let oi=!0;for(const us of zo(mr)){const ja=0===us.kind?uc(Ln,us.fieldPath,Ln.endAt):Rd(Ln,us.fieldPath,Ln.endAt);kr.push(ja.value),oi&&(oi=ja.inclusive)}return new Bi(kr,oi)}(B,M),jt=this.hn(M,B,Ne),Lt=this.hn(M,B,rt),Yt=this.Pn(M,B,pe),Un=this.In(M.indexId,Z,jt,Ne.inclusive,Lt,rt.inclusive,Yt);return y.forEach(Un,zn=>o.j(zn,n.limit).next(Ln=>{Ln.forEach(mr=>{const kr=Zt.fromSegments(mr.documentKey);f.has(kr)||(f=f.add(kr),D.push(kr))})}))}).next(()=>D)}return y.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:RI(si.create(e.filters,"and")).map(o=>Sd(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,o,l,u,f,D){const M=(null!=n?n.length:1)*Math.max(o.length,u.length),B=M/(null!=n?n.length:1),Z=[];for(let pe=0;pe<M;++pe){const Ne=n?this.Tn(n[pe/B]):Sg,rt=this.En(e,Ne,o[pe%B],l),jt=this.dn(e,Ne,u[pe%B],f),Lt=D.map(Yt=>this.En(e,Ne,Yt,!0));Z.push(...this.createRange(rt,jt,Lt))}return Z}En(e,n,o,l){const u=new Fl(e,Zt.empty(),n,o);return l?u:u.Jt()}dn(e,n,o,l){const u=new Fl(e,Zt.empty(),n,o);return l?u.Jt():u}ln(e,n){const o=new bg(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(u=>{let f=null;for(const D of u)o.tn(D)&&(!f||D.fields.length>f.fields.length)&&(f=D);return f})}getIndexType(e,n){let o=2;const l=this.cn(n);return y.forEach(l,u=>this.ln(e,u).next(f=>{f?0!==o&&f.fields.length<function(M){let B=new Xr($r.comparator),Z=!1;for(const pe of M.filters)for(const Ne of pe.getFlattenedFilters())Ne.field.isKeyField()||("array-contains"===Ne.op||"array-contains-any"===Ne.op?Z=!0:B=B.add(Ne.field));for(const pe of M.orderBy)pe.field.isKeyField()||(B=B.add(pe.field));return B.size+(Z?1:0)}(u)&&(o=1):o=0})).next(()=>null!==n.limit&&l.length>1&&2===o?1:o)}An(e,n){const o=new Ef;for(const l of zo(e)){const u=n.data.field(l.fieldPath);if(null==u)return null;const f=o.Ht(l.kind);nl.bt.Pt(u,f)}return o.Wt()}Tn(e){const n=new Ef;return nl.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const o=new Ef;return nl.bt.Pt(Sl(this.databaseId,n),o.Ht(function(u){const f=zo(u);return 0===f.length?0:f[f.length-1].kind}(e))),o.Wt()}Pn(e,n,o){if(null===o)return[];let l=[];l.push(new Ef);let u=0;for(const f of zo(e)){const D=o[u++];for(const M of l)if(this.Vn(n,f.fieldPath)&&dl(D))l=this.mn(l,f,D);else{const B=M.Ht(f.kind);nl.bt.Pt(D,B)}}return this.fn(l)}hn(e,n,o){return this.Pn(e,n,o.position)}fn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Wt();return n}mn(e,n,o){const l=[...e],u=[];for(const f of o.arrayValue.values||[])for(const D of l){const M=new Ef;M.seed(D.Wt()),nl.bt.Pt(f,M.Ht(n.kind)),u.push(M)}return u}Vn(e,n){return!!e.filters.find(o=>o instanceof Nr&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Wc(e),l=Ou(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(u=>{const f=[];return y.forEach(u,D=>l.get([D.indexId,this.uid]).next(M=>{f.push(function(Z,pe){const Ne=pe?new bl(pe.sequenceNumber,new So(Uc(pe.readTime),new Zt(Ko(pe.documentKey)),pe.largestBatchId)):bl.empty(),rt=Z.fields.map(([jt,Lt])=>new Ma($r.fromServerFormat(jt),Lt));return new ga(Z.indexId,Z.collectionGroup,rt,Ne)}(D,M))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,l)=>{const u=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==u?u:un(o.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const l=Wc(e),u=Ou(e);return this.gn(e).next(f=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(D=>y.forEach(D,M=>u.put(uy(M.indexId,this.uid,f,o)))))}updateIndexEntries(e,n){const o=new Map;return y.forEach(n,(l,u)=>{const f=o.get(l.collectionGroup);return(f?y.resolve(f):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(o.set(l.collectionGroup,D),y.forEach(D,M=>this.pn(e,l,M).next(B=>{const Z=this.yn(u,M);return B.isEqual(Z)?y.resolve():this.wn(e,u,M,B,Z)}))))})}Sn(e,n,o,l){return Vl(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(o,n.key),documentKey:n.key.path.toArray()})}bn(e,n,o,l){return Vl(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(o,n.key),n.key.path.toArray()])}pn(e,n,o){const l=Vl(e);let u=new Xr(Fa);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.Rn(o,n)])},(f,D)=>{u=u.add(new Fl(o.indexId,n,D.arrayValue,D.directionalValue))}).next(()=>u)}yn(e,n){let o=new Xr(Fa);const l=this.An(n,e);if(null==l)return o;const u=Yl(n);if(null!=u){const f=e.data.field(u.fieldPath);if(dl(f))for(const D of f.arrayValue.values||[])o=o.add(new Fl(n.indexId,e.key,this.Tn(D),l))}else o=o.add(new Fl(n.indexId,e.key,Sg,l));return o}wn(e,n,o,l,u){gt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const f=[];return function(M,B,Z,pe,Ne){const rt=M.getIterator(),jt=B.getIterator();let Lt=ul(rt),Yt=ul(jt);for(;Lt||Yt;){let Un=!1,zn=!1;if(Lt&&Yt){const Ln=Z(Lt,Yt);Ln<0?zn=!0:Ln>0&&(Un=!0)}else null!=Lt?zn=!0:Un=!0;Un?(pe(Yt),Yt=ul(jt)):zn?(Ne(Lt),Lt=ul(rt)):(Lt=ul(rt),Yt=ul(jt))}}(l,u,Fa,D=>{f.push(this.Sn(e,n,o,D))},D=>{f.push(this.bn(e,n,o,D))}),y.waitFor(f)}gn(e){let n=1;return Ou(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,u)=>{u.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((f,D)=>Fa(f,D)).filter((f,D,M)=>!D||0!==Fa(f,M[D-1]));const l=[];l.push(e);for(const f of o){const D=Fa(f,e),M=Fa(f,n);if(0===D)l[0]=e.Jt();else if(D>0&&M<0)l.push(f),l.push(f.Jt());else if(M>0)break}l.push(n);const u=[];for(let f=0;f<l.length;f+=2){if(this.Dn(l[f],l[f+1]))return[];u.push(IDBKeyRange.bound([l[f].indexId,this.uid,l[f].arrayValue,l[f].directionalValue,Sg,[]],[l[f+1].indexId,this.uid,l[f+1].arrayValue,l[f+1].directionalValue,Sg,[]]))}return u}Dn(e,n){return Fa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Rg)}getMinOffset(e,n){return y.mapArray(this.cn(n),o=>this.ln(e,o).next(l=>l||Wt())).next(Rg)}}function gy(s){return Tn(s,"collectionParents")}function Vl(s){return Tn(s,"indexEntries")}function Wc(s){return Tn(s,"indexConfiguration")}function Ou(s){return Tn(s,"indexState")}function Rg(s){zt(0!==s.length);let e=s[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<s.length;o++){const l=s[o].indexState.offset;hd(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new So(e.readTime,e.documentKey,n)}const Cf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $s{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new $s(e,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wd(s,e,n){const o=s.store("mutations"),l=s.store("documentMutations"),u=[],f=IDBKeyRange.only(n.batchId);let D=0;const M=o.Y({range:f},(Z,pe,Ne)=>(D++,Ne.delete()));u.push(M.next(()=>{zt(1===D)}));const B=[];for(const Z of n.mutations){const pe=Xp(e,Z.key.path,n.batchId);u.push(l.delete(pe)),B.push(Z.key)}return y.waitFor(u).next(()=>B)}function zd(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Wt();e=s.noDocument}return JSON.stringify(e).length}$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(41943040,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);class Kd{constructor(e,n,o,l){this.userId=e,this.serializer=n,this.indexManager=o,this.referenceDelegate=l,this.Cn={}}static lt(e,n,o,l){zt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Kd(u,n,o,l)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).Y({index:"userMutationsIndex",range:o},(l,u,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(e,n,o,l){const u=pc(e),f=rl(e);return f.add({}).next(D=>{zt("number"==typeof D);const M=new G_(D,n,o,l),B=function(rt,jt,Lt){const Yt=Lt.baseMutations.map(zn=>Du(rt.ct,zn)),Un=Lt.mutations.map(zn=>Du(rt.ct,zn));return{userId:jt,batchId:Lt.batchId,localWriteTimeMs:Lt.localWriteTime.toMillis(),baseMutations:Yt,mutations:Un}}(this.serializer,this.userId,M),Z=[];let pe=new Xr((Ne,rt)=>un(Ne.canonicalString(),rt.canonicalString()));for(const Ne of l){const rt=Xp(this.userId,Ne.key.path,D);pe=pe.add(Ne.key.path.popLast()),Z.push(f.put(B)),Z.push(u.put(rt,ii))}return pe.forEach(Ne=>{Z.push(this.indexManager.addToCollectionParentIndex(e,Ne))}),e.addOnCommittedListener(()=>{this.Cn[D]=M.keys()}),y.waitFor(Z).next(()=>M)})}lookupMutationBatch(e,n){return rl(e).get(n).next(o=>o?(zt(o.userId===this.userId),Bc(this.serializer,o)):null)}vn(e,n){return this.Cn[n]?y.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const l=o.keys();return this.Cn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return rl(e).Y({index:"userMutationsIndex",range:l},(f,D,M)=>{D.userId===this.userId&&(zt(D.batchId>=o),u=Bc(this.serializer,D)),M.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return rl(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,u,f)=>{o=u.batchId,f.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).W("userMutationsIndex",n).next(o=>o.map(l=>Bc(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=Jl(this.userId,n.path),l=IDBKeyRange.lowerBound(o),u=[];return pc(e).Y({range:l},(f,D,M)=>{const[B,Z,pe]=f,Ne=Ko(Z);if(B===this.userId&&n.path.isEqual(Ne))return rl(e).get(pe).next(rt=>{if(!rt)throw Wt();zt(rt.userId===this.userId),u.push(Bc(this.serializer,rt))});M.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Xr(un);const l=[];return n.forEach(u=>{const f=Jl(this.userId,u.path),D=IDBKeyRange.lowerBound(f),M=pc(e).Y({range:D},(B,Z,pe)=>{const[Ne,rt,jt]=B,Lt=Ko(rt);Ne===this.userId&&u.path.isEqual(Lt)?o=o.add(jt):pe.done()});l.push(M)}),y.waitFor(l).next(()=>this.Fn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1,u=Jl(this.userId,o),f=IDBKeyRange.lowerBound(u);let D=new Xr(un);return pc(e).Y({range:f},(M,B,Z)=>{const[pe,Ne,rt]=M,jt=Ko(Ne);pe===this.userId&&o.isPrefixOf(jt)?jt.length===l&&(D=D.add(rt)):Z.done()}).next(()=>this.Fn(e,D))}Fn(e,n){const o=[],l=[];return n.forEach(u=>{l.push(rl(e).get(u).next(f=>{if(null===f)throw Wt();zt(f.userId===this.userId),o.push(Bc(this.serializer,f))}))}),y.waitFor(l).next(()=>o)}removeMutationBatch(e,n){return Wd(e.ae,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),y.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return y.resolve();const o=IDBKeyRange.lowerBound(function(f){return[f]}(this.userId)),l=[];return pc(e).Y({range:o},(u,f,D)=>{if(u[0]===this.userId){const M=Ko(u[1]);l.push(M)}else D.done()}).next(()=>{zt(0===l.length)})})}containsKey(e,n){return Pg(e,this.userId,n)}xn(e){return zc(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pg(s,e,n){const o=Jl(e,n.path),l=o[1],u=IDBKeyRange.lowerBound(o);let f=!1;return pc(s).Y({range:u,J:!0},(D,M,B)=>{const[Z,pe,Ne]=D;Z===e&&pe===l&&(f=!0),B.done()}).next(()=>f)}function rl(s){return Tn(s,"mutations")}function pc(s){return Tn(s,"documentMutations")}function zc(s){return Tn(s,"mutationQueues")}class Kc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Kc(0)}static Ln(){return new Kc(-1)}}class MI{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const o=new Kc(n.highestTargetId);return n.highestTargetId=o.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Dn.fromTimestamp(new Vr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=n,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.kn(e,l)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.Qn(n,o),this.kn(e,o))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>qd(e).delete(n.targetId)).next(()=>this.Bn(e)).next(o=>(zt(o.targetCount>0),o.targetCount-=1,this.kn(e,o)))}removeTargets(e,n,o){let l=0;const u=[];return qd(e).Y((f,D)=>{const M=jd(D);M.sequenceNumber<=n&&null===o.get(M.targetId)&&(l++,u.push(this.removeTargetData(e,M)))}).next(()=>y.waitFor(u)).next(()=>l)}forEachTarget(e,n){return qd(e).Y((o,l)=>{const u=jd(l);n(u)})}Bn(e){return Qd(e).get("targetGlobalKey").next(n=>(zt(null!==n),n))}kn(e,n){return Qd(e).put("targetGlobalKey",n)}qn(e,n){return qd(e).put(ay(this.serializer,n))}Qn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=lc(n),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return qd(e).Y({range:l,index:"queryTargetsIndex"},(f,D,M)=>{const B=jd(D);Iu(n,B.target)&&(u=B,M.done())}).next(()=>u)}addMatchingKeys(e,n,o){const l=[],u=gl(e);return n.forEach(f=>{const D=as(f.path);l.push(u.put({targetId:o,path:D})),l.push(this.referenceDelegate.addReference(e,o,f))}),y.waitFor(l)}removeMatchingKeys(e,n,o){const l=gl(e);return y.forEach(n,u=>{const f=as(u.path);return y.waitFor([l.delete([o,f]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,n){const o=gl(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),l=gl(e);let u=pr();return l.Y({range:o,J:!0},(f,D,M)=>{const B=Ko(f[1]),Z=new Zt(B);u=u.add(Z)}).next(()=>u)}containsKey(e,n){const o=as(n.path),l=IDBKeyRange.bound([o],[ri(o)],!1,!0);let u=0;return gl(e).Y({index:"documentTargetsIndex",J:!0,range:l},([f,D],M,B)=>{0!==f&&(u++,B.done())}).next(()=>u>0)}_t(e,n){return qd(e).get(n).next(o=>o?jd(o):null)}}function qd(s){return Tn(s,"targets")}function Qd(s){return Tn(s,"targetGlobal")}function gl(s){return Tn(s,"targetDocuments")}function Mg([s,e],[n,o]){const l=un(s,n);return 0===l?un(e,o):l}class my{constructor(e){this.Kn=e,this.buffer=new Xr(Mg),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Mg(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xg{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;gt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.A)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){J(o)?gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield cl(o)}yield n.zn(3e5)}))}}class qc{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return y.resolve(Ur._e);const o=new my(n);return this.jn.forEachTarget(e,l=>o.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>o.Wn(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.jn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),y.resolve(Cf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cf):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let o,l,u,f,D,M,B;const Z=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(pe=>(pe>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${pe}`),l=this.params.maximumSequenceNumbersToCollect):l=pe,f=Date.now(),this.nthSequenceNumber(e,l))).next(pe=>(o=pe,D=Date.now(),this.removeTargets(e,o,n))).next(pe=>(u=pe,M=Date.now(),this.removeOrphanedDocuments(e,o))).next(pe=>(B=Date.now(),Bt()<=V.$b.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-Z}ms\n\tDetermined least recently used ${l} in `+(D-f)+`ms\n\tRemoved ${u} targets in `+(M-D)+`ms\n\tRemoved ${pe} documents in `+(B-M)+`ms\nTotal Duration: ${B-Z}ms`),y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:pe})))}}class xI{constructor(e,n){this.db=e,this.garbageCollector=function _y(s,e){return new qc(s,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}Zn(e){let n=0;return this.Jn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(o,l)=>n(l))}addReference(e,n,o){return Tf(e,o)}removeReference(e,n,o){return Tf(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Tf(e,n)}er(e,n){return function(l,u){let f=!1;return zc(l).Z(D=>Pg(l,D,u).next(M=>(M&&(f=!0),y.resolve(!M)))).next(()=>f)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Xn(e,(f,D)=>{if(D<=n){const M=this.er(e,f).next(B=>{if(!B)return u++,o.getEntry(e,f).next(()=>(o.removeEntry(f,Dn.min()),gl(e).delete([0,as(f.path)])))});l.push(M)}}).next(()=>y.waitFor(l)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Tf(e,n)}Xn(e,n){const o=gl(e);let l,u=Ur._e;return o.Y({index:"documentTargetsIndex"},([f,D],{path:M,sequenceNumber:B})=>{0===f?(u!==Ur._e&&n(new Zt(Ko(l)),u),u=B,l=M):u=Ur._e}).next(()=>{u!==Ur._e&&n(new Zt(Ko(l)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tf(s,e){return gl(s).put((l=s.currentSequenceNumber,{targetId:0,path:as(e.path),sequenceNumber:l}));var l}class yy{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Di.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?y.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Qc(e).put(o)}removeEntry(e,n,o){return Qc(e).delete(function(u,f){const D=u.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Ru(f),D[D.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.tr(e,o)))}getEntry(e,n){let o=Di.newInvalidDocument(n);return Qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(n))},(l,u)=>{o=this.nr(n,u)}).next(()=>o)}rr(e,n){let o={size:0,document:Di.newInvalidDocument(n)};return Qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(n))},(l,u)=>{o={document:this.nr(n,u),size:zd(u)}}).next(()=>o)}getEntries(e,n){let o=Ms();return this.ir(e,n,(l,u)=>{const f=this.nr(l,u);o=o.insert(l,f)}).next(()=>o)}sr(e,n){let o=Ms(),l=new _i(Zt.comparator);return this.ir(e,n,(u,f)=>{const D=this.nr(u,f);o=o.insert(u,D),l=l.insert(u,zd(f))}).next(()=>({documents:o,_r:l}))}ir(e,n,o){if(n.isEmpty())return y.resolve();let l=new Xr(Ey);n.forEach(M=>l=l.add(M));const u=IDBKeyRange.bound(Xd(l.first()),Xd(l.last())),f=l.getIterator();let D=f.getNext();return Qc(e).Y({index:"documentKeyIndex",range:u},(M,B,Z)=>{const pe=Zt.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;D&&Ey(D,pe)<0;)o(D,null),D=f.getNext();D&&D.isEqual(pe)&&(o(D,B),D=f.hasNext()?f.getNext():null),D?Z.U(Xd(D)):Z.done()}).next(()=>{for(;D;)o(D,null),D=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,n,o,l,u){const f=n.path,D=[f.popLast().toArray(),f.lastSegment(),Ru(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],M=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qc(e).W(IDBKeyRange.bound(D,M,!0)).next(B=>{u?.incrementDocumentReadCount(B.length);let Z=Ms();for(const pe of B){const Ne=this.nr(Zt.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);Ne.isFoundDocument()&&(Ir(n,Ne)||l.has(Ne.key))&&(Z=Z.insert(Ne.key,Ne))}return Z})}getAllFromCollectionGroup(e,n,o,l){let u=Ms();const f=Iy(n,o),D=Iy(n,So.max());return Qc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,D,!0)},(M,B,Z)=>{const pe=this.nr(Zt.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);u=u.insert(pe.key,pe),u.size===l&&Z.done()}).next(()=>u)}newChangeBuffer(e){return new Nu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return vy(e).get("remoteDocumentGlobalKey").next(n=>(zt(!!n),n))}tr(e,n){return vy(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const o=function SI(s,e){let n;if(e.document)n=Bd(s.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Zt.fromSegments(e.noDocument.path),l=Uc(e.noDocument.readTime);n=Di.newNoDocument(o,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Wt();{const o=Zt.fromSegments(e.unknownDocument.path),l=Uc(e.unknownDocument.version);n=Di.newUnknownDocument(o,l)}}return e.readTime&&n.setReadTime(function(l){const u=new Vr(l[0],l[1]);return Dn.fromTimestamp(u)}(e.readTime)),n}(this.serializer,n);if(!o.isNoDocument()||!o.version.isEqual(Dn.min()))return o}return Di.newInvalidDocument(e)}}function ml(s){return new OI(s)}class Nu extends yy{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ia(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const n=[];let o=0,l=new Xr((u,f)=>un(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const D=this.ur.get(u);if(n.push(this.ar.removeEntry(e,u,D.readTime)),f.isValidDocument()){const M=Eg(this.ar.serializer,f);l=l.add(u.path.popLast());const B=zd(M);o+=B-D.size,n.push(this.ar.addEntry(e,u,M))}else if(o-=D.size,this.trackRemovals){const M=Eg(this.ar.serializer,f.convertToNoDocument(Dn.min()));n.push(this.ar.addEntry(e,u,M))}}),l.forEach(u=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,u))}),n.push(this.ar.updateMetadata(e,o)),y.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(o=>(this.ur.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:o,_r:l})=>(l.forEach((u,f)=>{this.ur.set(u,{size:f,readTime:o.get(u).readTime})}),o))}}function vy(s){return Tn(s,"remoteDocumentGlobal")}function Qc(s){return Tn(s,"remoteDocumentsV14")}function Xd(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Iy(s,e){const n=e.documentKey.path.toArray();return[s,Ru(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ey(s,e){const n=s.path.toArray(),o=e.path.toArray();let l=0;for(let u=0;u<n.length-2&&u<o.length-2;++u)if(l=un(n[u],o[u]),l)return l;return l=un(n.length,o.length),l||(l=un(n[n.length-2],o[o.length-2]),l||un(n[n.length-1],o[o.length-1]))}class NI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Og{constructor(e,n,o,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==o&&wa(o.mutation,l,Po.empty(),Vr.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,pr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=pr()){const l=la();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,o).next(u=>{let f=kl();return u.forEach((D,M)=>{f=f.insert(D,M.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=la();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,pr()))}populateOverlays(e,n,o){const l=[];return o.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,D)=>{n.set(f,D)})})}computeViews(e,n,o,l){let u=Ms();const f=Ea(),D=Ea();return n.forEach((M,B)=>{const Z=o.get(B.key);l.has(B.key)&&(void 0===Z||Z.mutation instanceof Ll)?u=u.insert(B.key,B):void 0!==Z?(f.set(B.key,Z.mutation.getFieldMask()),wa(Z.mutation,B,Z.mutation.getFieldMask(),Vr.now())):f.set(B.key,Po.empty())}),this.recalculateAndSaveOverlays(e,u).next(M=>(M.forEach((B,Z)=>f.set(B,Z)),n.forEach((B,Z)=>{var pe;return D.set(B,new NI(Z,null!==(pe=f.get(B))&&void 0!==pe?pe:null))}),D))}recalculateAndSaveOverlays(e,n){const o=Ea();let l=new _i((f,D)=>f-D),u=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const D of f)D.keys().forEach(M=>{const B=n.get(M);if(null===B)return;let Z=o.get(M)||Po.empty();Z=D.applyToLocalView(B,Z),o.set(M,Z);const pe=(l.get(D.batchId)||pr()).add(M);l=l.insert(D.batchId,pe)})}).next(()=>{const f=[],D=l.getReverseIterator();for(;D.hasNext();){const M=D.getNext(),B=M.key,Z=M.value,pe=el();Z.forEach(Ne=>{if(!u.has(Ne)){const rt=vI(n.get(Ne),o.get(Ne));null!==rt&&pe.set(Ne,rt),u=u.add(Ne)}}),f.push(this.documentOverlayCache.saveOverlays(e,B,pe))}return y.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,l){return Zt.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):g(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,l):this.getDocumentsMatchingCollectionQuery(e,n,o,l);var f}getNextDocuments(e,n,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,l-u.size):y.resolve(la());let D=-1,M=u;return f.next(B=>y.forEach(B,(Z,pe)=>(D<pe.largestBatchId&&(D=pe.largestBatchId),u.get(Z)?y.resolve():this.remoteDocumentCache.getEntry(e,Z).next(Ne=>{M=M.insert(Z,Ne)}))).next(()=>this.populateOverlays(e,B,u)).next(()=>this.computeViews(e,M,B,pr())).next(Z=>({batchId:D,changes:Eu(Z)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Zt(n)).next(o=>{let l=kl();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,o,l){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next(D=>y.forEach(D,M=>{const B=(pe=n,Ne=M.child(u),new ka(Ne,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,Ne;return this.getDocumentsMatchingCollectionQuery(e,B,o,l).next(Z=>{Z.forEach((pe,Ne)=>{f=f.insert(pe,Ne)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u,l))).next(f=>{u.forEach((M,B)=>{const Z=B.getKey();null===f.get(Z)&&(f=f.insert(Z,Di.newInvalidDocument(Z)))});let D=kl();return f.forEach((M,B)=>{const Z=u.get(M);void 0!==Z&&wa(Z.mutation,B,Po.empty(),Vr.now()),Ir(n,B)&&(D=D.insert(M,B))}),D})}}class kI{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(l=n).id,version:l.version,createTime:vs(l.createTime)}),y.resolve();var l}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(l=n).name,query:ly(l.bundledQuery),readTime:vs(l.readTime)}),y.resolve();var l}}class LI{constructor(){this.overlays=new _i(Zt.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const o=la();return y.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((l,u)=>{this.ht(e,n,u)}),y.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.hr.get(o);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.hr.delete(o)),y.resolve()}getOverlaysForCollection(e,n,o){const l=la(),u=n.length+1,f=new Zt(n.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const M=D.getNext().value,B=M.getKey();if(!n.isPrefixOf(B.path))break;B.path.length===u&&M.largestBatchId>o&&l.set(M.getKey(),M)}return y.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let u=new _i((B,Z)=>B-Z);const f=this.overlays.getIterator();for(;f.hasNext();){const B=f.getNext().value;if(B.getKey().getCollectionGroup()===n&&B.largestBatchId>o){let Z=u.get(B.largestBatchId);null===Z&&(Z=la(),u=u.insert(B.largestBatchId,Z)),Z.set(B.getKey(),B)}}const D=la(),M=u.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((B,Z)=>D.set(B,Z)),!(D.size()>=l)););return y.resolve(D)}ht(e,n,o){const l=this.overlays.get(o.key);if(null!==l){const f=this.hr.get(l.largestBatchId).delete(o.key);this.hr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new hc(n,o));let u=this.hr.get(n);void 0===u&&(u=pr(),this.hr.set(n,u)),this.hr.set(n,u.add(o.key))}}class Ng{constructor(){this.Pr=new Xr(Zs.Ir),this.Tr=new Xr(Zs.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const o=new Zs(e,n);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Ar(new Zs(e,n))}Rr(e,n){e.forEach(o=>this.removeReference(o,n))}Vr(e){const n=new Zt(new rr([])),o=new Zs(n,e),l=new Zs(n,e+1),u=[];return this.Tr.forEachInRange([o,l],f=>{this.Ar(f),u.push(f.key)}),u}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Zt(new rr([])),o=new Zs(n,e),l=new Zs(n,e+1);let u=pr();return this.Tr.forEachInRange([o,l],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Zs(e,0),o=this.Pr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Zs{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Zt.comparator(e.key,n.key)||un(e.pr,n.pr)}static Er(e,n){return un(e.pr,n.pr)||Zt.comparator(e.key,n.key)}}class bf{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Xr(Zs.Ir)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,l){const u=this.yr;this.yr++;const f=new G_(u,n,o,l);this.mutationQueue.push(f);for(const D of l)this.wr=this.wr.add(new Zs(D.key,u)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return y.resolve(f)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.br(n+1),u=l<0?0:l;return y.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Zs(n,0),l=new Zs(n,Number.POSITIVE_INFINITY),u=[];return this.wr.forEachInRange([o,l],f=>{const D=this.Sr(f.pr);u.push(D)}),y.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Xr(un);return n.forEach(l=>{const u=new Zs(l,0),f=new Zs(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([u,f],D=>{o=o.add(D.pr)})}),y.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let u=o;Zt.isDocumentKey(u)||(u=u.child(""));const f=new Zs(new Zt(u),0);let D=new Xr(un);return this.wr.forEachWhile(M=>{const B=M.key.path;return!!o.isPrefixOf(B)&&(B.length===l&&(D=D.add(M.pr)),!0)},f),y.resolve(this.Dr(D))}Dr(e){const n=[];return e.forEach(o=>{const l=this.Sr(o);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){zt(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return y.forEach(n.mutations,l=>{const u=new Zs(l.key,n.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=o})}Mn(e){}containsKey(e,n){const o=new Zs(n,0),l=this.wr.firstAfterOrEqual(o);return y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return y.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ul{constructor(e){this.vr=e,this.docs=new _i(Zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),u=l?l.size:0,f=this.vr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return y.resolve(o?o.document.mutableCopy():Di.newInvalidDocument(n))}getEntries(e,n){let o=Ms();return n.forEach(l=>{const u=this.docs.get(l);o=o.insert(l,u?u.document.mutableCopy():Di.newInvalidDocument(l))}),y.resolve(o)}getDocumentsMatchingQuery(e,n,o,l){let u=Ms();const f=n.path,D=new Zt(f.child("")),M=this.docs.getIteratorFrom(D);for(;M.hasNext();){const{key:B,value:{document:Z}}=M.getNext();if(!f.isPrefixOf(B.path))break;B.path.length>f.length+1||hd(qh(Z),o)<=0||(l.has(Z.key)||Ir(n,Z))&&(u=u.insert(Z.key,Z.mutableCopy()))}return y.resolve(u)}getAllFromCollectionGroup(e,n,o,l){Wt()}Fr(e,n){return y.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Yd(this)}getSize(e){return y.resolve(this.size)}}class Yd extends yy{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this.ar.addEntry(e,l)):this.ar.removeEntry(o)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class wy{constructor(e){this.persistence=e,this.Mr=new Ia(n=>lc(n),Iu),this.lastRemoteSnapshotVersion=Dn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ng,this.targetCount=0,this.Lr=Kc.Nn()}forEachTarget(e,n){return this.Mr.forEach((o,l)=>n(l)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Kc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,o){let l=0;const u=[];return this.Mr.forEach((f,D)=>{D.sequenceNumber<=n&&null===o.get(D.targetId)&&(this.Mr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),y.waitFor(u).next(()=>l)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const o=this.Mr.get(n)||null;return y.resolve(o)}addMatchingKeys(e,n,o){return this.Nr.dr(n,o),y.resolve()}removeMatchingKeys(e,n,o){this.Nr.Rr(n,o);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),y.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Nr.gr(n);return y.resolve(o)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}}class Af{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ur(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new wy(this),this.indexManager=new PI,this.remoteDocumentCache=new Ul(o=>this.referenceDelegate.Kr(o)),this.serializer=new Ig(n),this.$r=new kI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new bf(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,o){gt("MemoryPersistence","Starting transaction:",e);const l=new Cy(this.kr.next());return this.referenceDelegate.Ur(),o(l).next(u=>this.referenceDelegate.Wr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Gr(e,n){return y.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Cy extends Xh{constructor(e){super(),this.currentSequenceNumber=e}}class kg{constructor(e){this.persistence=e,this.zr=new Ng,this.jr=null}static Hr(e){return new kg(e)}get Jr(){if(this.jr)return this.jr;throw Wt()}addReference(e,n,o){return this.zr.addReference(o,n),this.Jr.delete(o.toString()),y.resolve()}removeReference(e,n,o){return this.zr.removeReference(o,n),this.Jr.add(o.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(l=>this.Jr.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.Jr.add(u.toString()))}).next(()=>o.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,o=>{const l=Zt.fromPath(o);return this.Yr(e,l).next(u=>{u||n.removeEntry(l,Dn.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(o=>{o?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class tw{constructor(e){this.serializer=e}N(e,n,o,l){const u=new R("createOrUpgrade",n);var M;o<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zl,{unique:!0}),M.createObjectStore("documentMutations"),Df(e),function(M){M.createObjectStore("remoteDocuments")}(e));let f=y.resolve();return o<3&&l>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Df(e)),f=f.next(()=>function(M){const B=M.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dn.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",Z)}(u))),o<4&&l>=4&&(0!==o&&(f=f.next(()=>function(M,B){return B.store("mutations").W().next(Z=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zl,{unique:!0});const pe=B.store("mutations"),Ne=Z.map(rt=>pe.put(rt));return y.waitFor(Ne)})}(e,u))),f=f.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(f=f.next(()=>this.Xr(u))),o<6&&l>=6&&(f=f.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(u)))),o<7&&l>=7&&(f=f.next(()=>this.ti(u))),o<8&&l>=8&&(f=f.next(()=>this.ni(e,u))),o<9&&l>=9&&(f=f.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(f=f.next(()=>this.ri(u))),o<11&&l>=11&&(f=f.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(f=f.next(()=>{!function(M){const B=M.createObjectStore("documentOverlays",{keyPath:Zh});B.createIndex("collectionPathOverlayIndex",_d,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Jh,{unique:!1})}(e)})),o<13&&l>=13&&(f=f.next(()=>function(M){const B=M.createObjectStore("remoteDocumentsV14",{keyPath:gd});B.createIndex("documentKeyIndex",_a),B.createIndex("collectionGroupIndex",Hs)}(e)).next(()=>this.ii(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(f=f.next(()=>this.si(e,u))),o<15&&l>=15&&(f=f.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Yh}).createIndex("sequenceNumberIndex",md,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Zp}).createIndex("documentKeyIndex",oa,{unique:!1})}(e))),f}ei(e){let n=0;return e.store("remoteDocuments").Y((o,l)=>{n+=zd(l)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Xr(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(l=>y.forEach(l,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",f).next(D=>y.forEach(D,M=>{zt(M.userId===u.userId);const B=Bc(this.serializer,M);return Wd(e,u.userId,B).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const u=[];return o.Y((f,D)=>{const M=new rr(f),B=[0,as(M)];u.push(n.get(B).next(Z=>Z?y.resolve():n.put({targetId:0,path:as(M),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>y.waitFor(u))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:ho});const o=n.store("collectionParents"),l=new py,u=f=>{if(l.add(f)){const D=f.lastSegment(),M=f.popLast();return o.put({collectionId:D,parent:as(M)})}};return n.store("remoteDocuments").Y({J:!0},(f,D)=>{const M=new rr(f);return u(M.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([f,D,M],B)=>{const Z=Ko(D);return u(Z.popLast())}))}ri(e){const n=e.store("targets");return n.Y((o,l)=>{const u=jd(l),f=ay(this.serializer,u);return n.put(f)})}ii(e,n){const o=n.store("remoteDocuments"),l=[];return o.Y((u,f)=>{const D=n.store("remoteDocumentsV14"),M=(pe=f,pe.document?new Zt(rr.fromString(pe.document.name).popFirst(5)):pe.noDocument?Zt.fromSegments(pe.noDocument.path):pe.unknownDocument?Zt.fromSegments(pe.unknownDocument.path):Wt()).path.toArray(),B={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};var pe;l.push(D.put(B))}).next(()=>y.waitFor(l))}si(e,n){const o=n.store("mutations"),l=ml(this.serializer),u=new Af(kg.Hr,this.serializer.ct);return o.W().next(f=>{const D=new Map;return f.forEach(M=>{var B;let Z=null!==(B=D.get(M.userId))&&void 0!==B?B:pr();Bc(this.serializer,M).keys().forEach(pe=>Z=Z.add(pe)),D.set(M.userId,Z)}),y.forEach(D,(M,B)=>{const Z=new Dt(B),pe=Mu.lt(this.serializer,Z),Ne=u.getIndexManager(Z),rt=Kd.lt(Z,this.serializer,Ne,u.referenceDelegate);return new Og(l,rt,pe,Ne).recalculateAndSaveOverlaysForDocumentKeys(new Xa(n,Ur._e),M).next()})})}}function Df(s){s.createObjectStore("targetDocuments",{keyPath:Cc}).createIndex("documentTargetsIndex",ec,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yp,{unique:!0}),s.createObjectStore("targetGlobal")}const Zd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ty{constructor(e,n,o,l,u,f,D,M,B,Z,pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.oi=u,this.window=f,this.document=D,this._i=B,this.ai=Z,this.ui=pe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ne=>Promise.resolve(),!Ty.D())throw new Tt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xI(this,l),this.Ti=n+"main",this.serializer=new Ig(M),this.Ei=new C(this.Ti,this.ui,new tw(this.serializer)),this.Qr=new MI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ml(this.serializer),this.$r=new wg,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===Z&&Xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Tt(tt.FAILED_PRECONDITION,Zd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ur(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var o=(0,Ee.A)(function*(l){if(n.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var n=(0,Ee.A)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,Ee.A)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(J(e))return gt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Sf(e).get("owner").next(n=>y.resolve(this.Si(n)))}bi(e){return Jd(e).delete(this.clientId)}Di(){var e=this;return(0,Ee.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Tn(o,"clientMetadata");return l.W().next(u=>{const f=e.vi(u,18e5),D=u.filter(M=>-1===f.indexOf(M));return y.forEach(D,M=>l.delete(M.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const o of n)e.di.removeItem(e.Fi(o.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?y.resolve(!0):Sf(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new Tt(tt.FAILED_PRECONDITION,Zd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jd(e).W().next(o=>void 0===this.vi(o,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&gt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Ee.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Xa(n,Ur._e);return e.yi(o).next(()=>e.bi(o))}),e.Ei.close(),e.Li()})()}vi(e,n){return e.filter(o=>this.Ci(o.updateTimeMs,n)&&!this.Mi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Jd(e).W().next(n=>this.vi(n,18e5).map(o=>o.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Kd.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Mu.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,o){gt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",u=15===(M=this.ui)?yd:14===M?Qa:13===M?nc:12===M?Tc:11===M?tc:void Wt();var M;let f;return this.Ei.runTransaction(e,l,u,D=>(f=new Xa(D,this.kr?this.kr.next():Ur._e),"readwrite-primary"===n?this.gi(f).next(M=>!!M||this.pi(f)).next(M=>{if(!M)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Tt(tt.FAILED_PRECONDITION,Qh);return o(f)}).next(M=>this.wi(f).next(()=>M)):this.ki(f).next(()=>o(f)))).then(D=>(f.raiseOnCommittedEvent(),D))}ki(e){return Sf(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Tt(tt.FAILED_PRECONDITION,Zd)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sf(e).put("owner",n)}static D(){return C.D()}yi(e){const n=Sf(e);return n.get("owner").next(o=>this.Si(o)?(gt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):y.resolve())}Ci(e,n){const o=Date.now();return!(e<o-n||e>o&&(Xt(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,ge.nr)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const o=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return gt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Xt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sf(s){return Tn(s,"owner")}function Jd(s){return Tn(s,"clientMetadata")}function Fg(s,e){let n=s.projectId;return s.isDefaultDatabase||(n+="."+s.database),"firestore/"+e+"/"+n+"/"}class Vg{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.qi=o,this.Qi=l}static Ki(e,n){let o=pr(),l=pr();for(const u of n.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Vg(e,n.fromCache,o,l)}}class FI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class by{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ge.nr)()?8:C.v((0,ge.ZQ)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,o,l){const u={result:null};return this.ji(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Hi(e,n,l,o).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new FI;return this.Ji(e,n,f).next(D=>{if(u.result=D,this.Ui)return this.Yi(e,n,f,D.size)})}).next(()=>u.result)}Yi(e,n,o,l){return o.documentReadCount<this.Wi?(Bt()<=V.$b.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Pn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(Bt()<=V.$b.DEBUG&&gt("QueryEngine","Query:",Pn(n),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.Gi*l?(Bt()<=V.$b.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Pn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,H(n))):y.resolve())}ji(e,n){if(h(n))return y.resolve(null);let o=H(n);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=ut(n,null,"F"),o=H(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const f=pr(...u);return this.zi.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,o).next(M=>{const B=this.Zi(n,D);return this.Xi(n,B,f,M.readTime)?this.ji(e,ut(n,null,"F")):this.es(e,B,n,M)}))})))}Hi(e,n,o,l){return h(n)||l.isEqual(Dn.min())?y.resolve(null):this.zi.getDocuments(e,o).next(u=>{const f=this.Zi(n,u);return this.Xi(n,f,o,l)?y.resolve(null):(Bt()<=V.$b.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pn(n)),this.es(e,f,n,gu(l,-1)).next(D=>D))})}Zi(e,n){let o=new Xr(La(e));return n.forEach((l,u)=>{Ir(e,u)&&(o=o.add(u))}),o}Xi(e,n,o,l){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const u="F"===e.limitType?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ji(e,n,o){return Bt()<=V.$b.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Pn(n)),this.zi.getDocumentsMatchingQuery(e,n,So.min(),o)}es(e,n,o,l){return this.zi.getDocumentsMatchingQuery(e,o,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}class VI{constructor(e,n,o,l){this.persistence=e,this.ts=n,this.serializer=l,this.ns=new _i(un),this.rs=new Ia(u=>lc(u),Iu),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(o)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Og(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Ug(s,e,n,o){return new VI(s,e,n,o)}function Bg(s,e){return jg.apply(this,arguments)}function jg(){return jg=(0,Ee.A)(function*(s,e){const n=Ot(s);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.mutationQueue.getAllMutationBatches(o).next(u=>(l=u,n._s(e),n.mutationQueue.getAllMutationBatches(o))).next(u=>{const f=[],D=[];let M=pr();for(const B of l){f.push(B.batchId);for(const Z of B.mutations)M=M.add(Z.key)}for(const B of u){D.push(B.batchId);for(const Z of B.mutations)M=M.add(Z.key)}return n.localDocuments.getDocuments(o,M).next(B=>({us:B,removedBatchIds:f,addedBatchIds:D}))})})}),jg.apply(this,arguments)}function Hg(s){const e=Ot(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function $g(s,e,n){let o=pr(),l=pr();return n.forEach(u=>o=o.add(u)),e.getEntries(s,o).next(u=>{let f=Ms();return n.forEach((D,M)=>{const B=u.get(D);M.isFoundDocument()!==B.isFoundDocument()&&(l=l.add(D)),M.isNoDocument()&&M.version.isEqual(Dn.min())?(e.removeEntry(D,M.readTime),f=f.insert(D,M)):!B.isValidDocument()||M.version.compareTo(B.version)>0||0===M.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(M),f=f.insert(D,M)):gt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",B.version," Watch version:",M.version)}),{cs:f,ls:l}})}function Gg(s,e){const n=Ot(s);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ku(s,e){const n=Ot(s);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.Qr.getTargetData(o,e).next(u=>u?(l=u,y.resolve(l)):n.Qr.allocateTargetId(o).next(f=>(l=new ko(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Qr.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.ns.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ns=n.ns.insert(o.targetId,o),n.rs.set(e,o.targetId)),o})}function Va(s,e,n){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Ee.A)(function*(s,e,n){const o=Ot(s),l=o.ns.get(e),u=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",u,f=>o.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!J(f))throw f;gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.ns=o.ns.remove(e),o.rs.delete(l.target)}),Wg.apply(this,arguments)}function Pf(s,e,n){const o=Ot(s);let l=Dn.min(),u=pr();return o.persistence.runTransaction("Execute query","readwrite",f=>function(M,B,Z){const pe=Ot(M),Ne=pe.rs.get(Z);return void 0!==Ne?y.resolve(pe.ns.get(Ne)):pe.Qr.getTargetData(B,Z)}(o,f,H(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(f,D.targetId).next(M=>{u=M})}).next(()=>o.ts.getDocumentsMatchingQuery(f,e,n?l:Dn.min(),n?u:pr())).next(D=>(Ay(o,Ys(e),D),{documents:D,hs:u})))}function Mf(s,e){const n=Ot(s),o=Ot(n.Qr),l=n.ns.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",u=>o._t(u,e).next(f=>f?f.target:null))}function zg(s,e){const n=Ot(s),o=n.ss.get(e)||Dn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.os.getAllFromCollectionGroup(l,e,gu(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Ay(n,e,l),l))}function Ay(s,e,n){let o=s.ss.get(e)||Dn.min();n.forEach((l,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),s.ss.set(e,o)}function Kg(){return Kg=(0,Ee.A)(function*(s,e,n,o){const l=Ot(s);let u=pr(),f=Ms();for(const B of n){const Z=e.Ps(B.metadata.name);B.document&&(u=u.add(Z));const pe=e.Is(B);pe.setReadTime(e.Ts(B.metadata.readTime)),f=f.insert(Z,pe)}const D=l.os.newChangeBuffer({trackRemovals:!0}),M=yield ku(l,(Z=o,H(w(rr.fromString(`__bundle__/docs/${Z}`)))));var Z;return l.persistence.runTransaction("Apply bundle documents","readwrite",B=>$g(B,D,f).next(Z=>(D.apply(B),Z)).next(Z=>l.Qr.removeMatchingKeysForTargetId(B,M.targetId).next(()=>l.Qr.addMatchingKeys(B,u,M.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(B,Z.cs,Z.ls)).next(()=>Z.cs)))}),Kg.apply(this,arguments)}function jI(s,e){return xf.apply(this,arguments)}function xf(){return xf=(0,Ee.A)(function*(s,e,n=pr()){const o=yield ku(s,H(ly(e.bundledQuery))),l=Ot(s);return l.persistence.runTransaction("Save named query","readwrite",u=>{const f=vs(e.readTime);if(o.snapshotVersion.compareTo(f)>=0)return l.$r.saveNamedQuery(u,e);const D=o.withResumeToken(ft.EMPTY_BYTE_STRING,f);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(u,D).next(()=>l.Qr.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>l.Qr.addMatchingKeys(u,n,o.targetId)).next(()=>l.$r.saveNamedQuery(u,e))})}),xf.apply(this,arguments)}function HI(s,e){return`firestore_clients_${s}_${e}`}function $I(s,e,n){let o=`firestore_mutations_${s}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Xc(s,e){return`firestore_targets_${s}_${e}`}class Of{constructor(e,n,o,l){this.user=e,this.batchId=n,this.state=o,this.error=l}static Es(e,n,o){const l=JSON.parse(o);let u,f="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return f&&l.error&&(f="string"==typeof l.error.message&&"string"==typeof l.error.code,f&&(u=new Tt(l.error.code,l.error.message))),f?new Of(e,n,l.state,u):(Xt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eh{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Es(e,n){const o=JSON.parse(n);let l,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(l=new Tt(o.error.code,o.error.message))),u?new eh(e,o.state,l):(Xt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const o=JSON.parse(n);let l="object"==typeof o&&o.activeTargetIds instanceof Array,u=tg();for(let f=0;l&&f<o.activeTargetIds.length;++f)l=sa(o.activeTargetIds[f]),u=u.add(o.activeTargetIds[f]);return l?new Nf(e,u):(Xt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class kf{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new kf(n.clientId,n.onlineState):(Xt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qg{constructor(){this.activeTargetIds=tg()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qg{constructor(e,n,o,l,u){this.window=e,this.oi=n,this.persistenceKey=o,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new _i(un),this.started=!1,this.ys=[];const f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ws=HI(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new qg),this.bs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.A)(function*(){const n=yield e.syncEngine.Bi();for(const l of n){if(l===e.Vs)continue;const u=e.getItem(HI(e.persistenceKey,l));if(u){const f=Nf.Es(l,u);f&&(e.ps=e.ps.insert(f.clientId,f))}}e.Ms();const o=e.storage.getItem(e.vs);if(o){const l=e.xs(o);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((o,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,o){this.Ls(e,n,o),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Xc(this.persistenceKey,e));if(o){const l=eh.Es(e,o);l&&(n=l.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xc(this.persistenceKey,e))}updateQueryState(e,n,o){this.qs(e,n,o)}handleUserChange(e,n,o){n.forEach(l=>{this.Bs(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return gt("SharedClientState","READ",e,n),n}setItem(e,n){gt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const o=e;if(o.storageArea===this.storage){if(gt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ws)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,Ee.A)(function*(){if(n.started){if(null!==o.key)if(n.bs.test(o.key)){if(null==o.newValue){const l=n.$s(o.key);return n.Us(l,null)}{const l=n.Ws(o.key,o.newValue);if(l)return n.Us(l.clientId,l)}}else if(n.Ds.test(o.key)){if(null!==o.newValue){const l=n.Gs(o.key,o.newValue);if(l)return n.zs(l)}}else if(n.Cs.test(o.key)){if(null!==o.newValue){const l=n.js(o.key,o.newValue);if(l)return n.Hs(l)}}else if(o.key===n.vs){if(null!==o.newValue){const l=n.xs(o.newValue);if(l)return n.Os(l)}}else if(o.key===n.Ss){const l=function(f){let D=Ur._e;if(null!=f)try{const M=JSON.parse(f);zt("number"==typeof M),D=M}catch(M){Xt("SharedClientState","Failed to read sequence number from WebStorage",M)}return D}(o.newValue);l!==Ur._e&&n.sequenceNumberHandler(l)}else if(o.key===n.Fs){const l=n.Js(o.newValue);yield Promise.all(l.map(u=>n.syncEngine.Ys(u)))}}else n.ys.push(o)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,o){const l=new Of(this.currentUser,e,n,o),u=$I(this.persistenceKey,this.currentUser,e);this.setItem(u,l.ds())}Bs(e){const n=$I(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,o){const l=Xc(this.persistenceKey,e),u=new eh(e,n,o);this.setItem(l,u.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const o=this.$s(e);return Nf.Es(o,n)}Gs(e,n){const o=this.Ds.exec(e),l=Number(o[1]);return Of.Es(new Dt(void 0!==o[2]?o[2]:null),l,n)}js(e,n){const o=this.Cs.exec(e),l=Number(o[1]);return eh.Es(l,n)}xs(e){return kf.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,Ee.A)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);gt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const o=n?this.ps.insert(e,n):this.ps.remove(e),l=this.Ns(this.ps),u=this.Ns(o),f=[],D=[];return u.forEach(M=>{l.has(M)||f.push(M)}),l.forEach(M=>{u.has(M)||D.push(M)}),this.syncEngine.eo(f,D).then(()=>{this.ps=o})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=tg();return e.forEach((o,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Dy{constructor(){this.no=new qg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,o){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qg,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GI{io(e){}shutdown(){}}class Sy{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lf=null;function th(){return null===Lf?Lf=268435456+Math.round(2147483648*Math.random()):Lf++,"0x"+Lf.toString(16)}const nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rw{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Js="WebChannelConnection";class iw extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.fo=o+"://"+n.host,this.po=`projects/${l}/databases/${u}`,this.yo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${u}`}get wo(){return!1}So(n,o,l,u,f){const D=th(),M=this.bo(n,o.toUriEncodedString());gt("RestConnection",`Sending RPC '${n}' ${D}:`,M,l);const B={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(B,u,f),this.Co(n,M,B,l).then(Z=>(gt("RestConnection",`Received RPC '${n}' ${D}: `,Z),Z),Z=>{throw vr("RestConnection",`RPC '${n}' ${D} failed with error: `,Z,"url: ",M,"request:",l),Z})}vo(n,o,l,u,f,D){return this.So(n,o,l,u,f)}Do(n,o,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+Sn,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((u,f)=>n[f]=u),l&&l.headers.forEach((u,f)=>n[f]=u)}bo(n,o){return`${this.fo}/v1/${o}:${nw[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,o,l){const u=th();return new Promise((f,D)=>{const M=new he;M.setWithCredentials(!0),M.listenOnce(v.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case E.NO_ERROR:const Z=M.getResponseJson();gt(Js,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(Z)),f(Z);break;case E.TIMEOUT:gt(Js,`RPC '${e}' ${u} timed out`),D(new Tt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case E.HTTP_ERROR:const pe=M.getStatus();if(gt(Js,`RPC '${e}' ${u} failed with status:`,pe,"response text:",M.getResponseText()),pe>0){let Ne=M.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const rt=Ne?.error;if(rt&&rt.status&&rt.message){const jt=function(Yt){const Un=Yt.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Un)>=0?Un:tt.UNKNOWN}(rt.status);D(new Tt(jt,rt.message))}else D(new Tt(tt.UNKNOWN,"Server responded with status "+M.getStatus()))}else D(new Tt(tt.UNAVAILABLE,"Connection failed."));break;default:Wt()}}finally{gt(Js,`RPC '${e}' ${u} completed.`)}});const B=JSON.stringify(l);gt(Js,`RPC '${e}' ${u} sending request:`,l),M.send(n,"POST",B,o,15)})}Fo(e,n,o){const l=th(),u=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Jr(),D=U(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(M.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(M.useFetchStreams=!0),this.Do(M.initMessageHeaders,n,o),M.encodeInitMessageHeaders=!0;const Z=u.join("");gt(Js,`Creating RPC '${e}' stream ${l}: ${Z}`,M);const pe=f.createWebChannel(Z,M);let Ne=!1,rt=!1;const jt=new rw({lo:Yt=>{rt?gt(Js,`Not sending because RPC '${e}' stream ${l} is closed:`,Yt):(Ne||(gt(Js,`Opening RPC '${e}' stream ${l} transport.`),pe.open(),Ne=!0),gt(Js,`RPC '${e}' stream ${l} sending:`,Yt),pe.send(Yt))},ho:()=>pe.close()}),Lt=(Yt,Un,zn)=>{Yt.listen(Un,Ln=>{try{zn(Ln)}catch(mr){setTimeout(()=>{throw mr},0)}})};return Lt(pe,_e.EventType.OPEN,()=>{rt||gt(Js,`RPC '${e}' stream ${l} transport opened.`)}),Lt(pe,_e.EventType.CLOSE,()=>{rt||(rt=!0,gt(Js,`RPC '${e}' stream ${l} transport closed`),jt.Vo())}),Lt(pe,_e.EventType.ERROR,Yt=>{rt||(rt=!0,vr(Js,`RPC '${e}' stream ${l} transport errored:`,Yt),jt.Vo(new Tt(tt.UNAVAILABLE,"The operation could not be completed")))}),Lt(pe,_e.EventType.MESSAGE,Yt=>{var Un;if(!rt){const zn=Yt.data[0];zt(!!zn);const mr=zn.error||(null===(Un=zn[0])||void 0===Un?void 0:Un.error);if(mr){gt(Js,`RPC '${e}' stream ${l} received error:`,mr);const kr=mr.status;let oi=function(QE){const ds=xs[QE];if(void 0!==ds)return z_(ds)}(kr),us=mr.message;void 0===oi&&(oi=tt.INTERNAL,us="Unknown error status: "+kr+" with message "+mr.message),rt=!0,jt.Vo(new Tt(oi,us)),pe.close()}else gt(Js,`RPC '${e}' stream ${l} received:`,zn),jt.mo(zn)}}),Lt(D,S.STAT_EVENT,Yt=>{Yt.stat===N.PROXY?gt(Js,`RPC '${e}' stream ${l} detected buffering proxy`):Yt.stat===N.NOPROXY&&gt(Js,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{jt.Ro()},0),jt}}function WI(){return typeof window<"u"?window:null}function Xg(){return typeof document<"u"?document:null}function Ff(s){return new Vd(s,!0)}class Ry{constructor(e,n,o=1e3,l=1.5,u=6e4){this.oi=e,this.timerId=n,this.Mo=o,this.xo=l,this.Oo=u,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),o=Math.max(0,Date.now()-this.Bo),l=Math.max(0,n-o);l>0&&gt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Py{constructor(e,n,o,l,u,f,D,M){this.oi=e,this.$o=o,this.Uo=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=M,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ry(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,Ee.A)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,Ee.A)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var o=this;return(0,Ee.A)(function*(){o.n_(),o.r_(),o.jo.cancel(),o.Wo++,4!==e?o.jo.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(Xt(n.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),o.jo.ko()):n&&n.code===tt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.i_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Wo===n&&this.o_(o,l)},o=>{e(()=>{const l=new Tt(tt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.__(l)})})}o_(e,n){const o=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{o(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(l=>{o(()=>this.__(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Yo(){var e=this;this.state=5,this.jo.qo((0,Ee.A)(function*(){e.state=0,e.start()}))}__(e){return gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vf extends Py{constructor(e,n,o,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,f),this.serializer=u}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function ty(s,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:Wt(),l=e.targetChange.targetIds||[],u=function(B,Z){return B.useProto3Json?(zt(void 0===Z||"string"==typeof Z),ft.fromBase64String(Z||"")):(zt(void 0===Z||Z instanceof Uint8Array),ft.fromUint8Array(Z||new Uint8Array))}(s,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(B){const Z=void 0===B.code?tt.UNKNOWN:z_(B.code);return new Tt(Z,B.message||"")}(f);n=new dg(o,l,u,D||null)}else if("documentChange"in e){const o=e.documentChange,l=pl(s,o.document.name),u=vs(o.document.updateTime),f=o.document.createTime?vs(o.document.createTime):Dn.min(),D=new Ps({mapValue:{fields:o.document.fields}}),M=Di.newFoundDocument(l,u,f,D);n=new hf(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,l=pl(s,o.document),u=o.readTime?vs(o.readTime):Dn.min(),f=Di.newNoDocument(l,u);n=new hf([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,l=pl(s,o.document);n=new hf([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Wt();{const o=e.filter,{count:l=0,unchangedNames:u}=o,f=new W_(l,u);n=new K_(o.targetId,f)}}var B;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Dn.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Dn.min():f.readTime?vs(f.readTime):Dn.min()}(e);return this.listener.u_(n,o)}c_(e){const n={};n.database=mf(this.serializer),n.addTarget=function(u,f){let D;const M=f.target;if(D=cc(M)?{documents:ny(u,M)}:{query:_g(u,M).ut},D.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){D.resumeToken=X_(u,f.resumeToken);const B=pf(u,f.expectedCount);null!==B&&(D.expectedCount=B)}else if(f.snapshotVersion.compareTo(Dn.min())>0){D.readTime=Fc(u,f.snapshotVersion.toTimestamp());const B=pf(u,f.expectedCount);null!==B&&(D.expectedCount=B)}return D}(this.serializer,e);const o=function iy(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.t_(n)}l_(e){const n={};n.database=mf(this.serializer),n.removeTarget=e,this.t_(n)}}class Uf extends Py{constructor(e,n,o,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,f),this.serializer=u,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function TI(s,e){return s&&s.length>0?(zt(void 0!==e),s.map(n=>function(l,u){let f=vs(l.updateTime?l.updateTime:u);return f.isEqual(Dn.min())&&(f=vs(u)),new j_(f,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=vs(e.commitTime);return this.listener.T_(o,n)}return zt(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=mf(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Du(this.serializer,o))};this.t_(n)}}class Yg extends class{}{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new Tt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,o,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,fg(n,o),l,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Tt(tt.UNKNOWN,u.toString())})}vo(e,n,o,l,u){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,D])=>this.connection.vo(e,fg(n,o),l,f,D,u)).catch(f=>{throw"FirebaseError"===f.name?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Tt(tt.UNKNOWN,f.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class zI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Xt(n),this.g_=!1):gt("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class xy{constructor(e,n,o,l,u){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=u,this.M_.io(D=>{o.enqueueAndForget((0,Ee.A)(function*(){var M;Bl(f)&&(gt("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,Ee.A)(function*(Z){const pe=Ot(Z);pe.v_.add(4),yield eo(pe),pe.x_.set("Unknown"),pe.v_.delete(4),yield Lu(pe)}),function B(Z){return M.apply(this,arguments)})(f))}))}),this.x_=new zI(o,l)}}function Lu(s){return gc.apply(this,arguments)}function gc(){return gc=(0,Ee.A)(function*(s){if(Bl(s))for(const e of s.F_)yield e(!0)}),gc.apply(this,arguments)}function eo(s){return _l.apply(this,arguments)}function _l(){return _l=(0,Ee.A)(function*(s){for(const e of s.F_)yield e(!1)}),_l.apply(this,arguments)}function nh(s,e){const n=Ot(s);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),jf(n)?Oy(n):uh(n).Jo()&&Zg(n,e))}function rh(s,e){const n=Ot(s),o=uh(n);n.C_.delete(e),o.Jo()&&KI(n,e),0===n.C_.size&&(o.Jo()?o.Xo():Bl(n)&&n.x_.set("Unknown"))}function Zg(s,e){if(s.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dn.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uh(s).c_(e)}function KI(s,e){s.O_.Oe(e),uh(s).l_(e)}function Oy(s){s.O_=new CI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>s.C_.get(e)||null,nt:()=>s.datastore.serializer.databaseId}),uh(s).start(),s.x_.p_()}function jf(s){return Bl(s)&&!uh(s).Ho()&&s.C_.size>0}function Bl(s){return 0===Ot(s).v_.size}function qI(s){s.O_=void 0}function Hf(s){return ih.apply(this,arguments)}function ih(){return ih=(0,Ee.A)(function*(s){s.C_.forEach((e,n)=>{Zg(s,e)})}),ih.apply(this,arguments)}function Jg(s,e){return em.apply(this,arguments)}function em(){return em=(0,Ee.A)(function*(s,e){qI(s),jf(s)?(s.x_.S_(e),Oy(s)):s.x_.set("Unknown")}),em.apply(this,arguments)}function Fu(s,e,n){return sh.apply(this,arguments)}function sh(){return sh=(0,Ee.A)(function*(s,e,n){if(s.x_.set("Online"),e instanceof dg&&2===e.state&&e.cause)try{yield(o=(0,Ee.A)(function*(u,f){const D=f.cause;for(const M of f.targetIds)u.C_.has(M)&&(yield u.remoteSyncer.rejectListen(M,D),u.C_.delete(M),u.O_.removeTarget(M))}),function l(u,f){return o.apply(this,arguments)})(s,e)}catch(o){gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield oh(s,o)}else if(e instanceof hf?s.O_.$e(e):e instanceof K_?s.O_.Je(e):s.O_.Ge(e),!n.isEqual(Dn.min()))try{const o=yield Hg(s.localStore);n.compareTo(o)>=0&&(yield function(u,f){const D=u.O_.it(f);return D.targetChanges.forEach((M,B)=>{if(M.resumeToken.approximateByteSize()>0){const Z=u.C_.get(B);Z&&u.C_.set(B,Z.withResumeToken(M.resumeToken,f))}}),D.targetMismatches.forEach((M,B)=>{const Z=u.C_.get(M);if(!Z)return;u.C_.set(M,Z.withResumeToken(ft.EMPTY_BYTE_STRING,Z.snapshotVersion)),KI(u,M);const pe=new ko(Z.target,M,B,Z.sequenceNumber);Zg(u,pe)}),u.remoteSyncer.applyRemoteEvent(D)}(s,n))}catch(o){gt("RemoteStore","Failed to raise snapshot:",o),yield oh(s,o)}var o}),sh.apply(this,arguments)}function oh(s,e,n){return ah.apply(this,arguments)}function ah(){return ah=(0,Ee.A)(function*(s,e,n){if(!J(e))throw e;s.v_.add(1),yield eo(s),s.x_.set("Offline"),n||(n=()=>Hg(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ee.A)(function*(){gt("RemoteStore","Retrying IndexedDB access"),yield n(),s.v_.delete(1),yield Lu(s)}))}),ah.apply(this,arguments)}function lh(s,e){return e().catch(n=>oh(s,n,e))}function Vu(s){return tm.apply(this,arguments)}function tm(){return tm=(0,Ee.A)(function*(s){const e=Ot(s),n=il(e);let o=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Ny(e);)try{const l=yield Gg(e.localStore,o);if(null===l){0===e.D_.length&&n.Xo();break}o=l.batchId,QI(e,l)}catch(l){yield oh(e,l)}ky(e)&&Ly(e)}),tm.apply(this,arguments)}function Ny(s){return Bl(s)&&s.D_.length<10}function QI(s,e){s.D_.push(e);const n=il(s);n.Jo()&&n.P_&&n.I_(e.mutations)}function ky(s){return Bl(s)&&!il(s).Ho()&&s.D_.length>0}function Ly(s){il(s).start()}function Fy(s){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,Ee.A)(function*(s){il(s).d_()}),Yc.apply(this,arguments)}function $f(s){return ch.apply(this,arguments)}function ch(){return ch=(0,Ee.A)(function*(s){const e=il(s);for(const n of s.D_)e.I_(n.mutations)}),ch.apply(this,arguments)}function XI(s,e,n){return nm.apply(this,arguments)}function nm(){return nm=(0,Ee.A)(function*(s,e,n){const o=s.D_.shift(),l=lg.from(o,e,n);yield lh(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),yield Vu(s)}),nm.apply(this,arguments)}function rm(s,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Ee.A)(function*(s,e){var n;e&&il(s).P_&&(yield(n=(0,Ee.A)(function*(l,u){if(tl(D=u.code)&&D!==tt.ABORTED){const f=l.D_.shift();il(l).Zo(),yield lh(l,()=>l.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield Vu(l)}var D}),function o(l,u){return n.apply(this,arguments)})(s,e)),ky(s)&&Ly(s)}),Gf.apply(this,arguments)}function mc(s,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,Ee.A)(function*(s,e){const n=Ot(s);n.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const o=Bl(n);n.v_.add(3),yield eo(n),o&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Lu(n)}),Wf.apply(this,arguments)}function zf(s,e){return im.apply(this,arguments)}function im(){return im=(0,Ee.A)(function*(s,e){const n=Ot(s);e?(n.v_.delete(2),yield Lu(n)):e||(n.v_.add(2),yield eo(n),n.x_.set("Unknown"))}),im.apply(this,arguments)}function uh(s){return s.N_||(s.N_=function(n,o,l){const u=Ot(n);return u.R_(),new Vf(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{Po:Hf.bind(null,s),To:Jg.bind(null,s),u_:Fu.bind(null,s)}),s.F_.push(function(){var e=(0,Ee.A)(function*(n){n?(s.N_.Zo(),jf(s)?Oy(s):s.x_.set("Unknown")):(yield s.N_.stop(),qI(s))});return function(n){return e.apply(this,arguments)}}())),s.N_}function il(s){return s.L_||(s.L_=function(n,o,l){const u=Ot(n);return u.R_(),new Uf(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{Po:Fy.bind(null,s),To:rm.bind(null,s),E_:$f.bind(null,s),T_:XI.bind(null,s)}),s.F_.push(function(){var e=(0,Ee.A)(function*(n){n?(s.L_.Zo(),yield Vu(s)):(yield s.L_.stop(),s.D_.length>0&&(gt("RemoteStore",`Stopping write stream with ${s.D_.length} pending writes`),s.D_=[]))});return function(n){return e.apply(this,arguments)}}())),s.L_}class sm{constructor(e,n,o,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=u,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,l,u){const f=Date.now()+o,D=new sm(e,n,f,l,u);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zc(s,e){if(Xt("AsyncQueue",`${e}: ${s}`),J(s))return new Tt(tt.UNAVAILABLE,`${e}: ${s}`);throw s}class Jc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Zt.comparator(n.key,o.key):(n,o)=>Zt.comparator(n.key,o.key),this.keyedMap=kl(),this.sortedSet=new _i(this.comparator)}static emptySet(e){return new Jc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=o.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Jc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class om{constructor(){this.B_=new _i(Zt.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Wt():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class _c{constructor(e,n,o,l,u,f,D,M,B){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=M,this.hasCachedResults=B}static fromInitialDocuments(e,n,o,l,u){const f=[];return n.forEach(D=>{f.push({type:0,doc:D})}),new _c(e,n,Jc.emptySet(n),f,o,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&St(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}class Vy{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class Kf{constructor(){this.queries=new Ia(e=>vn(e),St),this.onlineState="Unknown",this.W_=new Set}}function eu(s,e){return qf.apply(this,arguments)}function qf(){return qf=(0,Ee.A)(function*(s,e){const n=Ot(s);let o=3;const l=e.query;let u=n.queries.get(l);u?!u.K_()&&e.U_()&&(o=2):(u=new Vy,o=e.U_()?0:1);try{switch(o){case 0:u.q_=yield n.onListen(l,!0);break;case 1:u.q_=yield n.onListen(l,!1);break;case 2:yield n.onFirstRemoteStoreListen(l)}}catch(f){const D=Zc(f,`Initialization of query '${Pn(e.query)}' failed`);return void e.onError(D)}n.queries.set(l,u),u.Q_.push(e),e.G_(n.onlineState),u.q_&&e.z_(u.q_)&&Uu(n)}),qf.apply(this,arguments)}function dh(s,e){return tu.apply(this,arguments)}function tu(){return tu=(0,Ee.A)(function*(s,e){const n=Ot(s),o=e.query;let l=3;const u=n.queries.get(o);if(u){const f=u.Q_.indexOf(e);f>=0&&(u.Q_.splice(f,1),0===u.Q_.length?l=e.U_()?0:1:!u.K_()&&e.U_()&&(l=2))}switch(l){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}),tu.apply(this,arguments)}function Uy(s,e){const n=Ot(s);let o=!1;for(const l of e){const f=n.queries.get(l.query);if(f){for(const D of f.Q_)D.z_(l)&&(o=!0);f.q_=l}}o&&Uu(n)}function am(s,e,n){const o=Ot(s),l=o.queries.get(e);if(l)for(const u of l.Q_)u.onError(n);o.queries.delete(e)}function Uu(s){s.W_.forEach(e=>{e.next()})}var lm,cm;(cm=lm||(lm={})).j_="default",cm.Cache="cache";class um{constructor(e,n,o){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=o||{}}z_(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new _c(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==lm.Cache}}class YI{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}}class By{constructor(e){this.serializer=e}Ps(e){return pl(this.serializer,e)}Is(e){return e.metadata.exists?Bd(this.serializer,e.document,!1):Di.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return vs(e)}}class jy{constructor(e,n,o){this.ia=e,this.localStore=n,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dm(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;const o=rr.fromString(e.na.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){const n=new Map,o=new By(this.serializer);for(const l of e)if(l.metadata.queries){const u=o.Ps(l.metadata.name);for(const f of l.metadata.queries){const D=(n.get(f)||pr()).add(u);n.set(f,D)}}return n}complete(){var e=this;return(0,Ee.A)(function*(){const n=yield function BI(s,e,n,o){return Kg.apply(this,arguments)}(e.localStore,new By(e.serializer),e.documents,e.ia.id),o=e.oa(e.documents);for(const l of e.queries)yield jI(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:n}})()}}function dm(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class gr{constructor(e){this.key=e}}class hm{constructor(e){this.key=e}}class fm{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=pr(),this.mutatedKeys=pr(),this.ha=La(e),this.Pa=new Jc(this.ha)}get Ia(){return this.ua}Ta(e,n){const o=n?n.Ea:new om,l=n?n.Pa:this.Pa;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,D=!1;const M="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,B="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Z,pe)=>{const Ne=l.get(Z),rt=Ir(this.query,pe)?pe:null,jt=!!Ne&&this.mutatedKeys.has(Ne.key),Lt=!!rt&&(rt.hasLocalMutations||this.mutatedKeys.has(rt.key)&&rt.hasCommittedMutations);let Yt=!1;Ne&&rt?Ne.data.isEqual(rt.data)?jt!==Lt&&(o.track({type:3,doc:rt}),Yt=!0):this.da(Ne,rt)||(o.track({type:2,doc:rt}),Yt=!0,(M&&this.ha(rt,M)>0||B&&this.ha(rt,B)<0)&&(D=!0)):!Ne&&rt?(o.track({type:0,doc:rt}),Yt=!0):Ne&&!rt&&(o.track({type:1,doc:Ne}),Yt=!0,(M||B)&&(D=!0)),Yt&&(rt?(f=f.add(rt),u=Lt?u.add(Z):u.delete(Z)):(f=f.delete(Z),u=u.delete(Z)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Z="F"===this.query.limitType?f.last():f.first();f=f.delete(Z.key),u=u.delete(Z.key),o.track({type:1,doc:Z})}return{Pa:f,Ea:o,Xi:D,mutatedKeys:u}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,l){const u=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const f=e.Ea.k_();f.sort((Z,pe)=>function(rt,jt){const Lt=Yt=>{switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt()}};return Lt(rt)-Lt(jt)}(Z.type,pe.type)||this.ha(Z.doc,pe.doc)),this.Aa(o),l=null!=l&&l;const D=n&&!l?this.Ra():[],M=0===this.la.size&&this.current&&!l?1:0,B=M!==this.ca;return this.ca=M,0!==f.length||B?{snapshot:new _c(this.query,e.Pa,u,f,e.mutatedKeys,0===M,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),Va:D}:{Va:D}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new om,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=pr(),this.Pa.forEach(o=>{this.ma(o.key)&&(this.la=this.la.add(o.key))});const n=[];return e.forEach(o=>{this.la.has(o)||n.push(new hm(o))}),this.la.forEach(o=>{e.has(o)||n.push(new gr(o))}),n}fa(e){this.ua=e.hs,this.la=pr();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return _c.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Bu{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Hy{constructor(e){this.key=e,this.pa=!1}}class $y{constructor(e,n,o,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.ya={},this.wa=new Ia(D=>vn(D),St),this.Sa=new Map,this.ba=new Set,this.Da=new _i(Zt.comparator),this.Ca=new Map,this.va=new Ng,this.Fa={},this.Ma=new Map,this.xa=Kc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function ZI(s,e){return ju.apply(this,arguments)}function ju(){return ju=(0,Ee.A)(function*(s,e,n=!0){const o=nu(s);let l;const u=o.wa.get(e);return u?(o.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.ga()):l=yield $u(o,e,n,!0),l}),ju.apply(this,arguments)}function Hu(s,e){return hh.apply(this,arguments)}function hh(){return hh=(0,Ee.A)(function*(s,e){const n=nu(s);yield $u(n,e,!0,!1)}),hh.apply(this,arguments)}function $u(s,e,n,o){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,Ee.A)(function*(s,e,n,o){const l=yield ku(s.localStore,H(e)),u=l.targetId,f=n?s.sharedClientState.addLocalQueryTarget(u):"not-current";let D;return o&&(D=yield fh(s,e,u,"current"===f,l.resumeToken)),s.isPrimaryClient&&n&&nh(s.remoteStore,l),D}),Qf.apply(this,arguments)}function fh(s,e,n,o,l){return ph.apply(this,arguments)}function ph(){return ph=(0,Ee.A)(function*(s,e,n,o,l){s.Na=(pe,Ne,rt)=>{return(jt=(0,Ee.A)(function*(Yt,Un,zn,Ln){let mr=Un.view.Ta(zn);mr.Xi&&(mr=yield Pf(Yt.localStore,Un.query,!1).then(({documents:ja})=>Un.view.Ta(ja,mr)));const kr=Ln&&Ln.targetChanges.get(Un.targetId),oi=Ln&&null!=Ln.targetMismatches.get(Un.targetId),us=Un.view.applyChanges(mr,Yt.isPrimaryClient,kr,oi);return bm(Yt,Un.targetId,us.Va),us.snapshot}),function Lt(Yt,Un,zn,Ln){return jt.apply(this,arguments)})(s,pe,Ne,rt);var jt};const u=yield Pf(s.localStore,e,!0),f=new fm(e,u.hs),D=f.Ta(u.documents),M=Fd.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==s.onlineState,l),B=f.applyChanges(D,s.isPrimaryClient,M);bm(s,n,B.Va);const Z=new Bu(e,n,f);return s.wa.set(e,Z),s.Sa.has(n)?s.Sa.get(n).push(e):s.Sa.set(n,[e]),B.snapshot}),ph.apply(this,arguments)}function pm(s,e,n){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,Ee.A)(function*(s,e,n){const o=Ot(s),l=o.wa.get(e),u=o.Sa.get(l.targetId);if(u.length>1)return o.Sa.set(l.targetId,u.filter(f=>!St(f,e))),void o.wa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Va(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),n&&rh(o.remoteStore,l.targetId),yc(o,l.targetId)}).catch(cl))):(yc(o,l.targetId),yield Va(o.localStore,l.targetId,!0))}),Xf.apply(this,arguments)}function gm(s,e){return mm.apply(this,arguments)}function mm(){return mm=(0,Ee.A)(function*(s,e){const n=Ot(s),o=n.wa.get(e),l=n.Sa.get(o.targetId);n.isPrimaryClient&&1===l.length&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),rh(n.remoteStore,o.targetId))}),mm.apply(this,arguments)}function _m(){return _m=(0,Ee.A)(function*(s,e,n){const o=yh(s);try{const l=yield function(f,D){const M=Ot(f),B=Vr.now(),Z=D.reduce((rt,jt)=>rt.add(jt.key),pr());let pe,Ne;return M.persistence.runTransaction("Locally write mutations","readwrite",rt=>{let jt=Ms(),Lt=pr();return M.os.getEntries(rt,Z).next(Yt=>{jt=Yt,jt.forEach((Un,zn)=>{zn.isValidDocument()||(Lt=Lt.add(Un))})}).next(()=>M.localDocuments.getOverlayedDocuments(rt,jt)).next(Yt=>{pe=Yt;const Un=[];for(const zn of D){const Ln=H_(zn,pe.get(zn.key).overlayedDocument);null!=Ln&&Un.push(new Ll(zn.key,Ln,rc(Ln.value.mapValue),Gr.exists(!0)))}return M.mutationQueue.addMutationBatch(rt,B,Un,D)}).next(Yt=>{Ne=Yt;const Un=Yt.applyToLocalDocumentSet(pe,Lt);return M.documentOverlayCache.saveOverlays(rt,Yt.batchId,Un)})}).then(()=>({batchId:Ne.batchId,changes:Eu(pe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,D,M){let B=f.Fa[f.currentUser.toKey()];B||(B=new _i(un)),B=B.insert(D,M),f.Fa[f.currentUser.toKey()]=B}(o,l.batchId,n),yield yl(o,l.changes),yield Vu(o.remoteStore)}catch(l){const u=Zc(l,"Failed to persist write");n.reject(u)}}),_m.apply(this,arguments)}function ym(s,e){return vm.apply(this,arguments)}function vm(){return vm=(0,Ee.A)(function*(s,e){const n=Ot(s);try{const o=yield function Rf(s,e){const n=Ot(s),o=e.snapshotVersion;let l=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.os.newChangeBuffer({trackRemovals:!0});l=n.ns;const D=[];e.targetChanges.forEach((Z,pe)=>{const Ne=l.get(pe);if(!Ne)return;D.push(n.Qr.removeMatchingKeys(u,Z.removedDocuments,pe).next(()=>n.Qr.addMatchingKeys(u,Z.addedDocuments,pe)));let rt=Ne.withSequenceNumber(u.currentSequenceNumber);var Lt,Yt,Un;null!==e.targetMismatches.get(pe)?rt=rt.withResumeToken(ft.EMPTY_BYTE_STRING,Dn.min()).withLastLimboFreeSnapshotVersion(Dn.min()):Z.resumeToken.approximateByteSize()>0&&(rt=rt.withResumeToken(Z.resumeToken,o)),l=l.insert(pe,rt),Yt=rt,Un=Z,(0===(Lt=Ne).resumeToken.approximateByteSize()||Yt.snapshotVersion.toMicroseconds()-Lt.snapshotVersion.toMicroseconds()>=3e8||Un.addedDocuments.size+Un.modifiedDocuments.size+Un.removedDocuments.size>0)&&D.push(n.Qr.updateTargetData(u,rt))});let M=Ms(),B=pr();if(e.documentUpdates.forEach(Z=>{e.resolvedLimboDocuments.has(Z)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(u,Z))}),D.push($g(u,f,e.documentUpdates).next(Z=>{M=Z.cs,B=Z.ls})),!o.isEqual(Dn.min())){const Z=n.Qr.getLastRemoteSnapshotVersion(u).next(pe=>n.Qr.setTargetsMetadata(u,u.currentSequenceNumber,o));D.push(Z)}return y.waitFor(D).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,M,B)).next(()=>M)}).then(u=>(n.ns=l,u))}(n.localStore,e);e.targetChanges.forEach((l,u)=>{const f=n.Ca.get(u);f&&(zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.pa=!0:l.modifiedDocuments.size>0?zt(f.pa):l.removedDocuments.size>0&&(zt(f.pa),f.pa=!1))}),yield yl(n,o,e)}catch(o){yield cl(o)}}),vm.apply(this,arguments)}function Gy(s,e,n){const o=Ot(s);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const l=[];o.wa.forEach((u,f)=>{const D=f.view.G_(e);D.snapshot&&l.push(D.snapshot)}),function(f,D){const M=Ot(f);M.onlineState=D;let B=!1;M.queries.forEach((Z,pe)=>{for(const Ne of pe.Q_)Ne.G_(D)&&(B=!0)}),B&&Uu(M)}(o.eventManager,e),l.length&&o.ya.u_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function eE(s,e,n){return Im.apply(this,arguments)}function Im(){return Im=(0,Ee.A)(function*(s,e,n){const o=Ot(s);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.Ca.get(e),u=l&&l.key;if(u){let f=new _i(Zt.comparator);f=f.insert(u,Di.newNoDocument(u,Dn.min()));const D=pr().add(u),M=new Lc(Dn.min(),new Map,new _i(un),f,D);yield ym(o,M),o.Da=o.Da.remove(u),o.Ca.delete(e),Am(o)}else yield Va(o.localStore,e,!1).then(()=>yc(o,e,n)).catch(cl)}),Im.apply(this,arguments)}function Wy(s,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,Ee.A)(function*(s,e){const n=Ot(s),o=e.batch.batchId;try{const l=yield function UI(s,e){const n=Ot(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),u=n.os.newChangeBuffer({trackRemovals:!0});return function(D,M,B,Z){const pe=B.batch,Ne=pe.keys();let rt=y.resolve();return Ne.forEach(jt=>{rt=rt.next(()=>Z.getEntry(M,jt)).next(Lt=>{const Yt=B.docVersions.get(jt);zt(null!==Yt),Lt.version.compareTo(Yt)<0&&(pe.applyToRemoteDocument(Lt,B),Lt.isValidDocument()&&(Lt.setReadTime(B.commitVersion),Z.addEntry(Lt)))})}),rt.next(()=>D.mutationQueue.removeMutationBatch(M,pe))}(n,o,e,u).next(()=>u.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(D){let M=pr();for(let B=0;B<D.mutationResults.length;++B)D.mutationResults[B].transformResults.length>0&&(M=M.add(D.batch.mutations[B].key));return M}(e))).next(()=>n.localDocuments.getDocuments(o,l))})}(n.localStore,e);zy(n,o,null),Cm(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield yl(n,l)}catch(l){yield cl(l)}}),Yf.apply(this,arguments)}function tE(s,e,n){return Em.apply(this,arguments)}function Em(){return Em=(0,Ee.A)(function*(s,e,n){const o=Ot(s);try{const l=yield function(f,D){const M=Ot(f);return M.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let Z;return M.mutationQueue.lookupMutationBatch(B,D).next(pe=>(zt(null!==pe),Z=pe.keys(),M.mutationQueue.removeMutationBatch(B,pe))).next(()=>M.mutationQueue.performConsistencyCheck(B)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(B,Z,D)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,Z)).next(()=>M.localDocuments.getDocuments(B,Z))})}(o.localStore,e);zy(o,e,n),Cm(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield yl(o,l)}catch(l){yield cl(l)}}),Em.apply(this,arguments)}function wm(){return wm=(0,Ee.A)(function*(s,e){const n=Ot(s);Bl(n.remoteStore)||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const D=Ot(f);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>D.mutationQueue.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===o)return void e.resolve();const l=n.Ma.get(o)||[];l.push(e),n.Ma.set(o,l)}catch(o){const l=Zc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),wm.apply(this,arguments)}function Cm(s,e){(s.Ma.get(e)||[]).forEach(n=>{n.resolve()}),s.Ma.delete(e)}function zy(s,e,n){const o=Ot(s);let l=o.Fa[o.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),o.Fa[o.currentUser.toKey()]=l}}function yc(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.Sa.get(e))s.wa.delete(o),n&&s.ya.La(o,n);s.Sa.delete(e),s.isPrimaryClient&&s.va.Vr(e).forEach(o=>{s.va.containsKey(o)||Tm(s,o)})}function Tm(s,e){s.ba.delete(e.path.canonicalString());const n=s.Da.get(e);null!==n&&(rh(s.remoteStore,n),s.Da=s.Da.remove(e),s.Ca.delete(n),Am(s))}function bm(s,e,n){for(const o of n)o instanceof gr?(s.va.addReference(o.key,e),nE(s,o)):o instanceof hm?(gt("SyncEngine","Document no longer in limbo: "+o.key),s.va.removeReference(o.key,e),s.va.containsKey(o.key)||Tm(s,o.key)):Wt()}function nE(s,e){const n=e.key,o=n.path.canonicalString();s.Da.get(n)||s.ba.has(o)||(gt("SyncEngine","New document in limbo: "+n),s.ba.add(o),Am(s))}function Am(s){for(;s.ba.size>0&&s.Da.size<s.maxConcurrentLimboResolutions;){const e=s.ba.values().next().value;s.ba.delete(e);const n=new Zt(rr.fromString(e)),o=s.xa.next();s.Ca.set(o,new Hy(n)),s.Da=s.Da.insert(n,o),nh(s.remoteStore,new ko(H(w(n.path)),o,"TargetPurposeLimboResolution",Ur._e))}}function yl(s,e,n){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,Ee.A)(function*(s,e,n){const o=Ot(s),l=[],u=[],f=[];var D;o.wa.isEmpty()||(o.wa.forEach((D,M)=>{f.push(o.Na(M,e,n).then(B=>{if((B||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(M.targetId,B?.fromCache?"not-current":"current"),B){l.push(B);const Z=Vg.Ki(M.targetId,B);u.push(Z)}}))}),yield Promise.all(f),o.ya.u_(l),yield(D=(0,Ee.A)(function*(B,Z){const pe=Ot(B);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>y.forEach(Z,rt=>y.forEach(rt.qi,jt=>pe.persistence.referenceDelegate.addReference(Ne,rt.targetId,jt)).next(()=>y.forEach(rt.Qi,jt=>pe.persistence.referenceDelegate.removeReference(Ne,rt.targetId,jt)))))}catch(Ne){if(!J(Ne))throw Ne;gt("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of Z){const rt=Ne.targetId;if(!Ne.fromCache){const jt=pe.ns.get(rt),Yt=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);pe.ns=pe.ns.insert(rt,Yt)}}}),function M(B,Z){return D.apply(this,arguments)})(o.localStore,u))}),Dm.apply(this,arguments)}function rE(s,e){return gh.apply(this,arguments)}function gh(){return gh=(0,Ee.A)(function*(s,e){const n=Ot(s);if(!n.currentUser.isEqual(e)){gt("SyncEngine","User change. New user:",e.toKey());const o=yield Bg(n.localStore,e);n.currentUser=e,(u=n).Ma.forEach(D=>{D.forEach(M=>{M.reject(new Tt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ma.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield yl(n,o.us)}var u}),gh.apply(this,arguments)}function iE(s,e){const n=Ot(s),o=n.Ca.get(e);if(o&&o.pa)return pr().add(o.key);{let l=pr();const u=n.Sa.get(e);if(!u)return l;for(const f of u){const D=n.wa.get(f);l=l.unionWith(D.view.Ia)}return l}}function sE(s,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,Ee.A)(function*(s,e){const n=Ot(s),o=yield Pf(n.localStore,e.query,!0),l=e.view.fa(o);return n.isPrimaryClient&&bm(n,e.targetId,l.Va),l}),Sm.apply(this,arguments)}function oE(s,e){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Ee.A)(function*(s,e){const n=Ot(s);return zg(n.localStore,e).then(o=>yl(n,o))}),Rm.apply(this,arguments)}function vl(s,e,n,o){return mh.apply(this,arguments)}function mh(){return mh=(0,Ee.A)(function*(s,e,n,o){const l=Ot(s),u=yield function(D,M){const B=Ot(D),Z=Ot(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",pe=>Z.vn(pe,M).next(Ne=>Ne?B.localDocuments.getDocuments(pe,Ne):y.resolve(null)))}(l.localStore,e);var M;null!==u?("pending"===n?yield Vu(l.remoteStore):"acknowledged"===n||"rejected"===n?(zy(l,e,o||null),Cm(l,e),M=e,Ot(Ot(l.localStore).mutationQueue).Mn(M)):Wt(),yield yl(l,u)):gt("SyncEngine","Cannot apply mutation batch with id: "+e)}),mh.apply(this,arguments)}function Pm(){return Pm=(0,Ee.A)(function*(s,e){const n=Ot(s);if(nu(n),yh(n),!0===e&&!0!==n.Oa){const o=n.sharedClientState.getAllActiveQueryTargets(),l=yield Mm(n,o.toArray());n.Oa=!0,yield zf(n.remoteStore,!0);for(const u of l)nh(n.remoteStore,u)}else if(!1===e&&!1!==n.Oa){const o=[];let l=Promise.resolve();n.Sa.forEach((u,f)=>{n.sharedClientState.isLocalQueryTarget(f)?o.push(f):l=l.then(()=>(yc(n,f),Va(n.localStore,f,!0))),rh(n.remoteStore,f)}),yield l,yield Mm(n,o),function(f){const D=Ot(f);D.Ca.forEach((M,B)=>{rh(D.remoteStore,B)}),D.va.mr(),D.Ca=new Map,D.Da=new _i(Zt.comparator)}(n),n.Oa=!1,yield zf(n.remoteStore,!1)}}),Pm.apply(this,arguments)}function Mm(s,e,n){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,Ee.A)(function*(s,e,n){const o=Ot(s),l=[],u=[];for(const f of e){let D;const M=o.Sa.get(f);if(M&&0!==M.length){D=yield ku(o.localStore,H(M[0]));for(const B of M){const Z=o.wa.get(B),pe=yield sE(o,Z);pe.snapshot&&u.push(pe.snapshot)}}else{const B=yield Mf(o.localStore,f);D=yield ku(o.localStore,B),yield fh(o,_h(B),f,!1,D.resumeToken)}l.push(D)}return o.ya.u_(u),l}),Zf.apply(this,arguments)}function _h(s){return Mc(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function xm(s){return n=Ot(s).localStore,Ot(Ot(n).persistence).Bi();var n}function sw(s,e,n,o){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Ee.A)(function*(s,e,n,o){const l=Ot(s);if(l.Oa)return void gt("SyncEngine","Ignoring unexpected query state notification.");const u=l.Sa.get(e);if(u&&u.length>0)switch(n){case"current":case"not-current":{const f=yield zg(l.localStore,Ys(u[0])),D=Lc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ft.EMPTY_BYTE_STRING);yield yl(l,f,D);break}case"rejected":yield Va(l.localStore,e,!0),yc(l,e,o);break;default:Wt()}}),Jf.apply(this,arguments)}function Ky(s,e,n){return ep.apply(this,arguments)}function ep(){return ep=(0,Ee.A)(function*(s,e,n){const o=nu(s);if(o.Oa){for(const l of e){if(o.Sa.has(l)&&o.sharedClientState.isActiveQueryTarget(l)){gt("SyncEngine","Adding an already active target "+l);continue}const u=yield Mf(o.localStore,l),f=yield ku(o.localStore,u);yield fh(o,_h(u),f.targetId,!1,f.resumeToken),nh(o.remoteStore,f)}for(const l of n)o.Sa.has(l)&&(yield Va(o.localStore,l,!1).then(()=>{rh(o.remoteStore,l),yc(o,l)}).catch(cl))}}),ep.apply(this,arguments)}function nu(s){const e=Ot(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ym.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eE.bind(null,e),e.ya.u_=Uy.bind(null,e.eventManager),e.ya.La=am.bind(null,e.eventManager),e}function yh(s){const e=Ot(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tE.bind(null,e),e}class Gu{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Ee.A)(function*(){n.serializer=Ff(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Ug(this.persistence,new by,e.initialUser,this.serializer)}createPersistence(e){return new Af(kg.Hr,this.serializer)}createSharedClientState(e){return new Dy}terminate(){var e=this;return(0,Ee.A)(function*(){var n,o;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(o=e.indexBackfillerScheduler)||void 0===o||o.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vh extends Gu{constructor(e,n,o){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,Ee.A)(function*(){yield n().call(o,e),yield o.ka.initialize(o,e),yield yh(o.ka.syncEngine),yield Vu(o.ka.remoteStore),yield o.persistence.fi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ug(this.persistence,new by,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new xg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const o=new _r(n,this.persistence);return new ur(e.asyncQueue,o)}createPersistence(e){const n=Fg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new Ty(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,WI(),Xg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Dy}}class qy extends vh{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,Ee.A)(function*(){yield n().call(o,e);const l=o.ka.syncEngine;o.sharedClientState instanceof Qg&&(o.sharedClientState.syncEngine={Zs:vl.bind(null,l),Xs:sw.bind(null,l),eo:Ky.bind(null,l),Bi:xm.bind(null,l),Ys:oE.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.fi(function(){var u=(0,Ee.A)(function*(f){yield function aE(s,e){return Pm.apply(this,arguments)}(o.ka.syncEngine,f),o.gcScheduler&&(f&&!o.gcScheduler.started?o.gcScheduler.start():f||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(f&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():f||o.indexBackfillerScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const n=WI();if(!Qg.D(n))throw new Tt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Fg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qg(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Il{initialize(e,n){var o=this;return(0,Ee.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Gy(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=rE.bind(null,o.syncEngine),yield zf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Kf}createDatastore(e){const n=Ff(e.databaseInfo.databaseId),o=new iw(e.databaseInfo);return new Yg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,l=this.datastore,u=e.asyncQueue,f=n=>Gy(this.syncEngine,n,0),D=Sy.D()?new Sy:new GI,new xy(o,l,u,f,D);var o,l,u,f,D}createSyncEngine(e,n){return function(l,u,f,D,M,B,Z){const pe=new $y(l,u,f,D,M,B);return Z&&(pe.Oa=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,Ee.A)(function*(){var n,o;yield(o=(0,Ee.A)(function*(u){const f=Ot(u);gt("RemoteStore","RemoteStore shutting down."),f.v_.add(5),yield eo(f),f.M_.shutdown(),f.x_.set("Unknown")}),function l(u){return o.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function Om(s,e=10240){let n=0;return{read:()=>(0,Ee.A)(function*(){if(n<s.byteLength){const o={value:s.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,Ee.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Hl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Xt("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ih{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new mi,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(o=>{o&&o.ra()?this.metadata.resolve(o.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.na)}`))},o=>this.metadata.reject(o))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,Ee.A)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,Ee.A)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,Ee.A)(function*(){const n=yield e.Wa();if(null===n)return null;const o=e.$a.decode(n),l=Number(o);isNaN(l)&&e.Ga(`length string (${o}) is not valid number`);const u=yield e.za(l);return new YI(JSON.parse(u),n.length+l)})()}ja(){return this.buffer.findIndex(e=>123===e)}Wa(){var e=this;return(0,Ee.A)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const n=e.ja();n<0&&e.Ga("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}za(e){var n=this;return(0,Ee.A)(function*(){for(;n.buffer.length<e;)(yield n.Ha())&&n.Ga("Reached the end of bundle when more is expected.");const o=n.$a.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,Ee.A)(function*(){const n=yield e.Ka.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Nm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Ee.A)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new Tt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const o=yield(l=(0,Ee.A)(function*(f,D){const M=Ot(f),B={documents:D.map(rt=>Ud(M.serializer,rt))},Z=yield M.vo("BatchGetDocuments",M.serializer.databaseId,rr.emptyPath(),B,D.length),pe=new Map;Z.forEach(rt=>{const jt=function ey(s,e){return"found"in e?function(o,l){zt(!!l.found);const u=pl(o,l.found.name),f=vs(l.found.updateTime),D=l.found.createTime?vs(l.found.createTime):Dn.min(),M=new Ps({mapValue:{fields:l.found.fields}});return Di.newFoundDocument(u,f,D,M)}(s,e):"missing"in e?function(o,l){zt(!!l.missing),zt(!!l.readTime);const u=pl(o,l.missing),f=vs(l.readTime);return Di.newNoDocument(u,f)}(s,e):Wt()}(M.serializer,rt);pe.set(jt.key.toString(),jt)});const Ne=[];return D.forEach(rt=>{const jt=pe.get(rt.toString());zt(!!jt),Ne.push(jt)}),Ne}),function u(f,D){return l.apply(this,arguments)})(n.datastore,e);var l;return o.forEach(l=>n.recordVersion(l)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new kd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,l)=>{const u=Zt.fromPath(l);e.mutations.push(new $_(u,e.precondition(u)))}),yield(o=(0,Ee.A)(function*(u,f){const D=Ot(u),M={writes:f.map(B=>Du(D.serializer,B))};yield D.So("Commit",D.serializer.databaseId,rr.emptyPath(),M)}),function l(u,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Wt();n=Dn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Tt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Dn.min())?Gr.exists(!1):Gr.updateTime(n):Gr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Dn.min()))throw new Tt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gr.updateTime(n)}return Gr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Eh{constructor(e,n,o,l,u){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=l,this.deferred=u,this.Ja=o.maxAttempts,this.jo=new Ry(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,Ee.A)(function*(){const n=new Nm(e.datastore),o=e.Xa(n);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(u=>{e.eu(u)}))}).catch(l=>{e.eu(l)})}))}Xa(e){try{const n=this.updateFunction(e);return!Ro(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!tl(n)}return!1}}class Qy{constructor(e,n,o,l){var u=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=Dt.UNAUTHENTICATED,this.clientId=js.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Ee.A)(function*(D){gt("FirestoreClient","Received user=",D.uid),yield u.authCredentialListener(D),u.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(gt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Tt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const l=Zc(o,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function wh(s,e){return km.apply(this,arguments)}function km(){return km=(0,Ee.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const n=s.configuration;yield e.initialize(n);let o=n.initialUser;s.setCredentialChangeListener(function(){var l=(0,Ee.A)(function*(u){o.isEqual(u)||(yield Bg(e.localStore,u),o=u)});return function(u){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),km.apply(this,arguments)}function Lm(s,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Ee.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const n=yield tp(s);gt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,s.configuration),s.setCredentialChangeListener(o=>mc(e.remoteStore,o)),s.setAppCheckTokenChangeListener((o,l)=>mc(e.remoteStore,l)),s._onlineComponents=e}),Fm.apply(this,arguments)}function Xy(s){return"FirebaseError"===s.name?s.code===tt.FAILED_PRECONDITION||s.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}function tp(s){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,Ee.A)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wh(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Xy(n))throw n;vr("Error using user provided cache. Falling back to memory cache: "+n),yield wh(s,new Gu)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),yield wh(s,new Gu);return s._offlineComponents}),Wu.apply(this,arguments)}function np(s){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,Ee.A)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Lm(s,s._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),yield Lm(s,new Il))),s._onlineComponents}),Yy.apply(this,arguments)}function Zy(s){return tp(s).then(e=>e.persistence)}function zu(s){return tp(s).then(e=>e.localStore)}function Vm(s){return np(s).then(e=>e.remoteStore)}function Um(s){return np(s).then(e=>e.syncEngine)}function ru(s){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,Ee.A)(function*(s){const e=yield np(s),n=e.eventManager;return n.onListen=ZI.bind(null,e.syncEngine),n.onUnlisten=pm.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hu.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gm.bind(null,e.syncEngine),n}),Ch.apply(this,arguments)}function Ku(s,e,n={}){const o=new mi;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function(u,f,D,M,B){const Z=new Hl({next:Ne=>{f.enqueueAndForget(()=>dh(u,pe));const rt=Ne.docs.has(D);!rt&&Ne.fromCache?B.reject(new Tt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&Ne.fromCache&&M&&"server"===M.source?B.reject(new Tt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ne)},error:Ne=>B.reject(Ne)}),pe=new um(w(D.path),Z,{includeMetadataChanges:!0,ta:!0});return eu(u,pe)}(yield ru(s),s.asyncQueue,e,n,o)})),o.promise}function tv(s,e,n={}){const o=new mi;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function(u,f,D,M,B){const Z=new Hl({next:Ne=>{f.enqueueAndForget(()=>dh(u,pe)),Ne.fromCache&&"server"===M.source?B.reject(new Tt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ne)},error:Ne=>B.reject(Ne)}),pe=new um(D,Z,{includeMetadataChanges:!0,ta:!0});return eu(u,pe)}(yield ru(s),s.asyncQueue,e,n,o)})),o.promise}function nv(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const rv=new Map;function iv(s,e,n){if(!n)throw new Tt(tt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function sv(s,e,n,o){if(!0===e&&!0===o)throw new Tt(tt.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function hE(s){if(!Zt.isDocumentKey(s))throw new Tt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ov(s){if(Zt.isDocumentKey(s))throw new Tt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ip(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(o=s).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof s?"a function":Wt()}function Br(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Tt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(s);throw new Tt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function sp(s,e){if(e<=0)throw new Tt(tt.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class qu{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Tt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Tt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nv(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new Tt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Tt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Tt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,n,o,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Tt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Tt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qu(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Wi;switch(o.type){case"firstParty":return new yn(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Tt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=rv.get(n);o&&(gt("ComponentProvider","Removing Datastore"),rv.delete(n),o.terminate())}(this),Promise.resolve()}}class to{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class vi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}}class sl extends to{constructor(e,n,o){super(e,n,w(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new Zt(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function av(s,e,...n){if(s=(0,ge.Ku)(s),iv("collection","path",e),s instanceof iu){const o=rr.fromString(e,...n);return ov(o),new sl(s,null,o)}{if(!(s instanceof vi||s instanceof sl))throw new Tt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(rr.fromString(e,...n));return ov(o),new sl(s.firestore,null,o)}}function Sh(s,e,...n){if(s=(0,ge.Ku)(s),1===arguments.length&&(e=js.newId()),iv("doc","path",e),s instanceof iu){const o=rr.fromString(e,...n);return hE(o),new vi(s,null,new Zt(o))}{if(!(s instanceof vi||s instanceof sl))throw new Tt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(rr.fromString(e,...n));return hE(o),new vi(s.firestore,s instanceof sl?s.converter:null,new Zt(o))}}function lv(s,e){return s=(0,ge.Ku)(s),e=(0,ge.Ku)(e),(s instanceof vi||s instanceof sl)&&(e instanceof vi||e instanceof sl)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function op(s,e){return s=(0,ge.Ku)(s),e=(0,ge.Ku)(e),s instanceof to&&e instanceof to&&s.firestore===e.firestore&&St(s._query,e._query)&&s.converter===e.converter}class fE{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Ry(this,"async_queue_retry"),this.cu=()=>{const n=Xg();n&&gt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Xg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Xg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new mi;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,Ee.A)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(n){if(!J(n))throw n;gt("AsyncQueue","Operation failed with retryable error: "+n)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(o=>{throw this.ou=o,this._u=!1,Xt("INTERNAL UNHANDLED ERROR: ",function(f){let D=f.message||"";return f.stack&&(D=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),D}(o)),o}).then(o=>(this._u=!1,o))));return this.nu=n,n}enqueueAfterDelay(e,n,o){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const l=sm.createAndSchedule(this,e,n,o,u=>this.Iu(u));return this.su.push(l),l}lu(){this.ou&&Wt()}verifyOperationInProgress(){}Tu(){var e=this;return(0,Ee.A)(function*(){let n;do{n=e.nu,yield n}while(n!==e.nu)})()}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.su)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function Qu(s){return function(n,o){if("object"!=typeof n||null===n)return!1;const l=n;for(const u of["next","error","complete"])if(u in l&&"function"==typeof l[u])return!0;return!1}(s)}class pE{constructor(){this._progressObserver={},this._taskCompletionResolver=new mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Oi extends iu{constructor(e,n,o,l){super(e,n,o,l),this.type="firestore",this._queue=new fE,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xu(this),this._firestoreClient.terminate()}}function zi(s){return s._firestoreClient||Xu(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Xu(s){var e,n,o;const l=s._freezeSettings(),u=(M=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Dc(s._databaseId,M,s._persistenceKey,(Z=l).host,Z.ssl,Z.experimentalForceLongPolling,Z.experimentalAutoDetectLongPolling,nv(Z.experimentalLongPollingOptions),Z.useFetchStreams));var M,Z;s._firestoreClient=new Qy(s._authCredentials,s._appCheckCredentials,s._queue,u),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=l.localCache)&&void 0!==o&&o._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function Rh(s,e,n){const o=new mi;return s.asyncQueue.enqueue((0,Ee.A)(function*(){try{yield wh(s,n),yield Lm(s,e),o.resolve()}catch(l){const u=l;if(!Xy(u))throw u;vr("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function uv(s){if(s._initialized||s._terminated)throw new Tt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(ft.fromBase64String(e))}catch(n){throw new Tt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ua{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Tt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class su{constructor(e){this._methodName=e}}class Ph{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Tt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Tt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}const EE=/^__.*__$/;class dv{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Ll(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class wE{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Ll(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt()}}class ou{constructor(e,n,o,l,u,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===u&&this.Ru(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new ou(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.mu({path:o,gu:!1});return l.pu(e),l}yu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.mu({path:o,gu:!1});return l.Ru(),l}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Oh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(hv(this.Vu)&&EE.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class fv{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Ff(e)}Cu(e,n,o,l=!1){return new ou({Vu:e,methodName:n,Du:o,path:$r.emptyPath(),gu:!1,bu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function au(s){const e=s._freezeSettings(),n=Ff(s._databaseId);return new fv(s._databaseId,!!e.ignoreUndefinedProperties,n)}function lp(s,e,n,o,l,u={}){const f=s.Cu(u.merge||u.mergeFields?2:0,e,n,l);Gm("Data must be an object, but it was:",f,o);const D=hp(o,f);let M,B;if(u.merge)M=new Po(f.fieldMask),B=f.fieldTransforms;else if(u.mergeFields){const Z=[];for(const pe of u.mergeFields){const Ne=cu(e,pe,n);if(!f.contains(Ne))throw new Tt(tt.INVALID_ARGUMENT,`Field '${Ne}' is specified in your field mask but missing from your input data.`);yv(Z,Ne)||Z.push(Ne)}M=new Po(Z),B=f.fieldTransforms.filter(pe=>M.covers(pe.field))}else M=null,B=f.fieldTransforms;return new dv(new Ps(D),M,B)}class Mh extends su{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function cp(s,e,n){return new ou({Vu:3,Du:e.settings.Du,methodName:s._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pv extends su{_toFieldTransform(e){return new df(e.path,new wu)}isEqual(e){return e instanceof pv}}class up extends su{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=cp(this,e,!0),o=this.vu.map(u=>lu(u,n)),l=new Oc(o);return new df(e.path,l)}isEqual(e){return e instanceof up&&(0,ge.bD)(this.vu,e.vu)}}class Ua extends su{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=cp(this,e,!0),o=this.vu.map(u=>lu(u,n)),l=new dc(o);return new df(e.path,l)}isEqual(e){return e instanceof Ua&&(0,ge.bD)(this.vu,e.vu)}}class dp extends su{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new Nc(e.serializer,k_(e.serializer,this.Fu));return new df(e.path,n)}isEqual(e){return e instanceof dp&&this.Fu===e.Fu}}function $m(s,e,n,o){const l=s.Cu(1,e,n);Gm("Data must be an object, but it was:",l,o);const u=[],f=Ps.empty();Ya(o,(M,B)=>{const Z=xh(e,M,n);B=(0,ge.Ku)(B);const pe=l.yu(Z);if(B instanceof Mh)u.push(Z);else{const Ne=lu(B,pe);null!=Ne&&(u.push(Z),f.set(Z,Ne))}});const D=new Po(u);return new wE(f,D,l.fieldTransforms)}function gv(s,e,n,o,l,u){const f=s.Cu(1,e,n),D=[cu(e,o,n)],M=[l];if(u.length%2!=0)throw new Tt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ne=0;Ne<u.length;Ne+=2)D.push(cu(e,u[Ne])),M.push(u[Ne+1]);const B=[],Z=Ps.empty();for(let Ne=D.length-1;Ne>=0;--Ne)if(!yv(B,D[Ne])){const rt=D[Ne];let jt=M[Ne];jt=(0,ge.Ku)(jt);const Lt=f.yu(rt);if(jt instanceof Mh)B.push(rt);else{const Yt=lu(jt,Lt);null!=Yt&&(B.push(rt),Z.set(rt,Yt))}}const pe=new Po(B);return new wE(Z,pe,f.fieldTransforms)}function cs(s,e,n,o=!1){return lu(n,s.Cu(o?4:3,e))}function lu(s,e){if(mv(s=(0,ge.Ku)(s)))return Gm("Unsupported field value:",e,s),hp(s,e);if(s instanceof su)return function(o,l){if(!hv(l.Vu))throw l.Su(`${o._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Su(`${o._methodName}() is not currently supported inside arrays`);const u=o._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(o,l){const u=[];let f=0;for(const D of o){let M=lu(D,l.wu(f));null==M&&(M={nullValue:"NULL_VALUE"}),u.push(M),f++}return{arrayValue:{values:u}}}(s,e)}return function(o,l){if(null===(o=(0,ge.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return k_(l.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const u=Vr.fromDate(o);return{timestampValue:Fc(l.serializer,u)}}if(o instanceof Vr){const u=new Vr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Fc(l.serializer,u)}}if(o instanceof Ph)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof El)return{bytesValue:X_(l.serializer,o._byteString)};if(o instanceof vi){const u=l.databaseId,f=o.firestore._databaseId;if(!f.isEqual(u))throw l.Su(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gf(o.firestore._databaseId||l.databaseId,o._key.path)}}throw l.Su(`Unsupported field value: ${ip(o)}`)}(s,e)}function hp(s,e){const n={};return ef(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(s,(o,l)=>{const u=lu(l,e.fu(o));null!=u&&(n[o]=u)}),{mapValue:{fields:n}}}function mv(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Vr||s instanceof Ph||s instanceof El||s instanceof vi||s instanceof su)}function Gm(s,e,n){if(!mv(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const o=ip(n);throw e.Su("an object"===o?s+" a custom object":s+" "+o)}var l}function cu(s,e,n){if((e=(0,ge.Ku)(e))instanceof ua)return e._internalPath;if("string"==typeof e)return xh(s,e);throw Oh("Field path arguments must be of type string or ",s,!1,void 0,n)}const _v=new RegExp("[~\\*/\\[\\]]");function xh(s,e,n){if(e.search(_v)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ua(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Oh(s,e,n,o,l){const u=o&&!o.isEmpty(),f=void 0!==l;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let M="";return(u||f)&&(M+=" (found",u&&(M+=` in field ${o}`),f&&(M+=` in document ${l}`),M+=")"),new Tt(tt.INVALID_ARGUMENT,D+s+M)}function yv(s,e){return s.some(n=>n.isEqual(e))}class Nh{constructor(e,n,o,l,u){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class uu extends Nh{data(){return super.data()}}function kh(s,e){return"string"==typeof e?xh(s,e):e instanceof ua?e._internalPath:e._delegate._internalPath}function fp(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Tt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class Zu extends Wm{}function $l(s,e,...n){let o=[];e instanceof Wm&&o.push(e),o=o.concat(n),function(u){const f=u.filter(M=>M instanceof vc).length,D=u.filter(M=>M instanceof Ju).length;if(f>1||f>0&&D>0)throw new Tt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)s=l._apply(s);return s}class Ju extends Zu{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Ju(e,n,o)}_apply(e){const n=this._parse(e);return ed(e._query,n),new to(e.firestore,e.converter,Le(e._query,n))}_parse(e){const n=au(e.firestore);return function(u,f,D,M,B,Z,pe){let Ne;if(B.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new Tt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){Xm(pe,Z);const rt=[];for(const jt of pe)rt.push(Iv(M,u,jt));Ne={arrayValue:{values:rt}}}else Ne=Iv(M,u,pe)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||Xm(pe,Z),Ne=cs(D,"where",pe,"in"===Z||"not-in"===Z);return Nr.create(B,Z,Ne)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class vc extends Wm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vc(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,u){let f=l;const D=u.getFlattenedFilters();for(const M of D)ed(f,M),f=Le(f,M)}(e._query,n),new to(e.firestore,e.converter,Le(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pp extends Zu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pp(e,n)}_apply(e){const n=function(l,u,f){if(null!==l.startAt)throw new Tt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Tt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(u,f)}(e._query,this._field,this._direction);return new to(e.firestore,e.converter,function(l,u){const f=l.explicitOrderBy.concat([u]);return new ka(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class gp extends Zu{constructor(e,n,o){super(),this.type=e,this._limit=n,this._limitType=o}static _create(e,n,o){return new gp(e,n,o)}_apply(e){return new to(e.firestore,e.converter,ut(e._query,this._limit,this._limitType))}}class Vh extends Zu{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new Vh(e,n,o)}_apply(e){const n=Qm(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(u=n,new ka((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,u,l.endAt)));var l,u}}class qm extends Zu{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new qm(e,n,o)}_apply(e){const n=Qm(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(u=n,new ka((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,u)));var l,u}}function Qm(s,e,n,o){if(n[0]=(0,ge.Ku)(n[0]),n[0]instanceof Nh)return function(u,f,D,M,B){if(!M)throw new Tt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const Z=[];for(const pe of T(u))if(pe.field.isKeyField())Z.push(Sl(f,M.key));else{const Ne=M.data.field(pe.field);if(Al(Ne))throw new Tt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const rt=pe.field.canonicalString();throw new Tt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${rt}' (used as the orderBy) does not exist.`)}Z.push(Ne)}return new Bi(Z,B)}(s._query,s.firestore._databaseId,e,n[0]._document,o);{const l=au(s.firestore);return function(f,D,M,B,Z,pe){const Ne=f.explicitOrderBy;if(Z.length>Ne.length)throw new Tt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const rt=[];for(let jt=0;jt<Z.length;jt++){const Lt=Z[jt];if(Ne[jt].field.isKeyField()){if("string"!=typeof Lt)throw new Tt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof Lt}`);if(!g(f)&&-1!==Lt.indexOf("/"))throw new Tt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${Lt}' contains a slash.`);const Yt=f.path.child(rr.fromString(Lt));if(!Zt.isDocumentKey(Yt))throw new Tt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${Yt}' is not because it contains an odd number of segments.`);const Un=new Zt(Yt);rt.push(Sl(D,Un))}else{const Yt=cs(M,B,Lt);rt.push(Yt)}}return new Bi(rt,pe)}(s._query,s.firestore._databaseId,l,e,n,o)}}function Iv(s,e,n){if("string"==typeof(n=(0,ge.Ku)(n))){if(""===n)throw new Tt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g(e)&&-1!==n.indexOf("/"))throw new Tt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(rr.fromString(n));if(!Zt.isDocumentKey(o))throw new Tt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Sl(s,new Zt(o))}if(n instanceof vi)return Sl(s,n._key);throw new Tt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ip(n)}.`)}function Xm(s,e){if(!Array.isArray(s)||0===s.length)throw new Tt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ed(s,e){const n=function(l,u){for(const f of l)for(const D of f.getFlattenedFilters())if(u.indexOf(D.op)>=0)return D.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Tt(tt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ym{convertValue(e,n="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ya(e,(l,u)=>{o[l]=this.convertValue(u,n)}),o}convertGeoPoint(e){return new Ph(Ui(e.latitude),Ui(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=xa(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(fo(e));default:return null}}convertTimestamp(e){const n=ya(e);return new Vr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=rr.fromString(e);zt(oy(o));const l=new Oa(o.get(1),o.get(3)),u=new Zt(o.popFirst(5));return l.isEqual(n)||Xt(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function _p(s,e,n){let o;return o=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,o}class TE extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,n)}}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gl extends Nh{constructor(e,n,o,l,u,f){super(e,n,o,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(kh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class td extends Gl{data(e={}){return super.data(e)}}class Wl{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new hu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new td(this._firestore,this._userDataWriter,o.key,o,new hu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Tt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new td(l._firestore,l._userDataWriter,D.doc.key,D.doc,new hu(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:f++}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>u||3!==D.type).map(D=>{const M=new td(l._firestore,l._userDataWriter,D.doc.key,D.doc,new hu(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let B=-1,Z=-1;return 0!==D.type&&(B=f.indexOf(D.doc.key),f=f.delete(D.doc.key)),1!==D.type&&(f=f.add(D.doc),Z=f.indexOf(D.doc.key)),{type:Jm(D.type),doc:M,oldIndex:B,newIndex:Z}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Jm(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt()}}function e_(s,e){return s instanceof Gl&&e instanceof Gl?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Wl&&e instanceof Wl&&s._firestore===e._firestore&&op(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class zl extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,n)}}function Tv(s,e,n){s=Br(s,vi);const o=Br(s.firestore,Oi),l=_p(s.converter,e,n);return nd(o,[lp(au(o),"setDoc",s._key,l,null!==s.converter,n).toMutation(s._key,Gr.none())])}function yp(s,e,n,...o){s=Br(s,vi);const l=Br(s.firestore,Oi),u=au(l);let f;return f="string"==typeof(e=(0,ge.Ku)(e))||e instanceof ua?gv(u,"updateDoc",s._key,e,n,o):$m(u,"updateDoc",s._key,e),nd(l,[f.toMutation(s._key,Gr.exists(!0))])}function vp(s,...e){var n,o,l;s=(0,ge.Ku)(s);let u={includeMetadataChanges:!1,source:"default"},f=0;"object"!=typeof e[f]||Qu(e[f])||(u=e[f],f++);const D={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Qu(e[f])){const pe=e[f];e[f]=null===(n=pe.next)||void 0===n?void 0:n.bind(pe),e[f+1]=null===(o=pe.error)||void 0===o?void 0:o.bind(pe),e[f+2]=null===(l=pe.complete)||void 0===l?void 0:l.bind(pe)}let M,B,Z;if(s instanceof vi)B=Br(s.firestore,Oi),Z=w(s._key.path),M={next:pe=>{e[f]&&e[f](i_(B,s,pe))},error:e[f+1],complete:e[f+2]};else{const pe=Br(s,to);B=Br(pe.firestore,Oi),Z=pe._query;const Ne=new zl(B);M={next:rt=>{e[f]&&e[f](new Wl(B,Ne,pe,rt))},error:e[f+1],complete:e[f+2]},fp(s._query)}return function(Ne,rt,jt,Lt){const Yt=new Hl(Lt),Un=new um(rt,Yt,jt);return Ne.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return eu(yield ru(Ne),Un)})),()=>{Yt.Qa(),Ne.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return dh(yield ru(Ne),Un)}))}}(zi(B),Z,D,M)}function nd(s,e){return function(o,l){const u=new mi;return o.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function JI(s,e,n){return _m.apply(this,arguments)}(yield Um(o),l,u)})),u.promise}(zi(s),e)}function i_(s,e,n){const o=n.docs.get(e._key),l=new zl(s);return new Gl(s,l,e._key,o,new hu(n.hasPendingWrites,n.fromCache),e.converter)}const _w={maxAttempts:5};class kE{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=au(e)}set(e,n,o){this._verifyNotCommitted();const l=Ec(e,this._firestore),u=_p(l.converter,n,o),f=lp(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,o);return this._mutations.push(f.toMutation(l._key,Gr.none())),this}update(e,n,o,...l){this._verifyNotCommitted();const u=Ec(e,this._firestore);let f;return f="string"==typeof(n=(0,ge.Ku)(n))||n instanceof ua?gv(this._dataReader,"WriteBatch.update",u._key,n,o,l):$m(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Gr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ec(e,this._firestore);return this._mutations=this._mutations.concat(new kd(n._key,Gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ec(s,e){if((s=(0,ge.Ku)(s)).firestore!==e)throw new Tt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Rv extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=au(n)}get(n){const o=Ec(n,this._firestore),l=new TE(this._firestore);return this._transaction.lookup([o._key]).then(u=>{if(!u||1!==u.length)return Wt();const f=u[0];if(f.isFoundDocument())return new Nh(this._firestore,l,f.key,f,o.converter);if(f.isNoDocument())return new Nh(this._firestore,l,o._key,null,o.converter);throw Wt()})}set(n,o,l){const u=Ec(n,this._firestore),f=_p(u.converter,o,l),D=lp(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,l);return this._transaction.set(u._key,D),this}update(n,o,l,...u){const f=Ec(n,this._firestore);let D;return D="string"==typeof(o=(0,ge.Ku)(o))||o instanceof ua?gv(this._dataReader,"Transaction.update",f._key,o,l,u):$m(this._dataReader,"Transaction.update",f._key,o),this._transaction.update(f._key,D),this}delete(n){const o=Ec(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ec(e,this._firestore),o=new zl(this._firestore);return super.get(e).then(l=>new Gl(this._firestore,o,n._key,l._document,new hu(!1,!1),n.converter))}}function Lv(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Tt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function UE(){if(typeof Uint8Array>"u")throw new Tt("unimplemented","Uint8Arrays are not available in this environment.")}function BE(){if(!function vd(){return typeof atob<"u"}())throw new Tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){Sn=_.SDK_VERSION,(0,_._registerComponent)(new Q.uA("firestore",(o,{instanceIdentifier:l,options:u})=>{const f=o.getProvider("app").getImmediate(),D=new Oi(new nr(o.getProvider("auth-internal")),new pn(o.getProvider("app-check-internal")),function(B,Z){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new Tt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(B.options.projectId,Z)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),D._setSettings(u),D},"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(kt,"4.5.1",e),(0,_.registerVersion)(kt,"4.5.1","esm2017")}();class Ip{constructor(e){this._delegate=e}static fromBase64String(e){return BE(),new Ip(El.fromBase64String(e))}static fromUint8Array(e){return UE(),new Ip(El.fromUint8Array(e))}toBase64(){return BE(),this._delegate.toBase64()}toUint8Array(){return UE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fv(s){return function jE(s,e){if("object"!=typeof s||null===s)return!1;const n=s;for(const o of e)if(o in n&&"function"==typeof n[o])return!0;return!1}(s,["next","error","complete"])}class rd{enableIndexedDbPersistence(e,n){return function mE(s,e){uv(s=Br(s,Oi));const n=zi(s);if(n._uninitializedComponentsProvider)throw new Tt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");vr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=s._freezeSettings(),l=new Il;return Rh(n,l,new vh(l,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function ap(s){uv(s=Br(s,Oi));const e=zi(s);if(e._uninitializedComponentsProvider)throw new Tt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");vr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=s._freezeSettings(),o=new Il;return Rh(e,o,new qy(o,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function uw(s){if(s._initialized&&!s._terminated)throw new Tt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new mi;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.A)(function*(){try{yield(n=(0,Ee.A)(function*(l){if(!C.D())return Promise.resolve();const u=l+"main";yield C.delete(u)}),function o(l){return n.apply(this,arguments)})(Fg(s._databaseId,s._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class id{constructor(e,n,o){this._delegate=n,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,o={}){!function Ah(s,e,n,o={}){var l;const u=(s=Br(s,iu))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==u.host&&u.host!==f&&vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),o.mockUserToken){let D,M;if("string"==typeof o.mockUserToken)D=o.mockUserToken,M=Dt.MOCK_USER;else{D=(0,ge.Fy)(o.mockUserToken,null===(l=s._app)||void 0===l?void 0:l.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new Tt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Dt(B)}s._authCredentials=new uo(new Xs(D,M))}}(this._delegate,e,n,o)}enableNetwork(){return function yE(s){return function ev(s){return s.asyncQueue.enqueue((0,Ee.A)(function*(){const e=yield Zy(s),n=yield Vm(s);return e.setNetworkEnabled(!0),function(l){const u=Ot(l);return u.v_.delete(0),Lu(u)}(n)}))}(zi(s=Br(s,Oi)))}(this._delegate)}disableNetwork(){return function jm(s){return function Th(s){return s.asyncQueue.enqueue((0,Ee.A)(function*(){const e=yield Zy(s),n=yield Vm(s);return e.setNetworkEnabled(!1),(o=(0,Ee.A)(function*(u){const f=Ot(u);f.v_.add(0),yield eo(f),f.x_.set("Offline")}),function l(u){return o.apply(this,arguments)})(n);var o}))}(zi(s=Br(s,Oi)))}(this._delegate)}enablePersistence(e){let n=!1,o=!1;return e&&(n=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,sv("synchronizeTabs",n,"experimentalForceOwningTab",o)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _E(s){return function(n){const o=new mi;return n.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function ca(s,e){return wm.apply(this,arguments)}(yield Um(n),o)})),o.promise}(zi(s=Br(s,Oi)))}(this._delegate)}onSnapshotsInSync(e){return function r_(s,e){return function uE(s,e){const n=new Hl(e);return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return l=yield ru(s),u=n,Ot(l).W_.add(u),void u.next();var l,u})),()=>{n.Qa(),s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return l=yield ru(s),u=n,void Ot(l).W_.delete(u);var l,u}))}}(zi(s=Br(s,Oi)),Qu(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hh(this,av(this._delegate,e))}catch(n){throw Qo(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ba(this,Sh(this._delegate,e))}catch(n){throw Qo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Lo(this,function Dh(s,e){if(s=Br(s,iu),iv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tt(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new to(s,null,(o=e,new ka(rr.emptyPath(),o)));var o}(this._delegate,e))}catch(n){throw Qo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Pv(s,e,n){s=Br(s,Oi);const o=Object.assign(Object.assign({},_w),n);return function(u){if(u.maxAttempts<1)throw new Tt(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,f,D){const M=new mi;return u.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){const B=yield function Jy(s){return np(s).then(e=>e.datastore)}(u);new Eh(u.asyncQueue,B,D,f,M).Ya()})),M.promise}(zi(s),l=>e(new Rv(s,l)),o)}(this._delegate,n=>e(new d_(this,n)))}batch(){return zi(this._delegate),new Vv(new kE(this._delegate,e=>nd(this._delegate,e)))}loadBundle(e){return function cv(s,e){const n=zi(s=Br(s,Oi)),o=new pE;return function rp(s,e,n,o){const l=function(f,D){let M;return M="string"==typeof f?bu().encode(f):f,Z=function(Z,pe){if(Z instanceof Uint8Array)return Om(Z,void 0);if(Z instanceof ArrayBuffer)return Om(new Uint8Array(Z),void 0);if(Z instanceof ReadableStream)return Z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Ih(Z,D);var Z}(n,Ff(e));s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){!function jl(s,e,n){const o=Ot(s);var l;(l=(0,Ee.A)(function*(f,D,M){try{const B=yield D.getMetadata();if(yield function(jt,Lt){const Yt=Ot(jt),Un=vs(Lt.createTime);return Yt.persistence.runTransaction("hasNewerBundle","readonly",zn=>Yt.$r.getBundleMetadata(zn,Lt.id)).then(zn=>!!zn&&zn.createTime.compareTo(Un)>=0)}(f.localStore,B))return yield D.close(),M._completeWith({taskState:"Success",documentsLoaded:(jt=B).totalDocuments,bytesLoaded:jt.totalBytes,totalDocuments:jt.totalDocuments,totalBytes:jt.totalBytes}),Promise.resolve(new Set);M._updateProgress(dm(B));const Z=new jy(B,f.localStore,D.serializer);let pe=yield D.Ba();for(;pe;){const rt=yield Z.sa(pe);rt&&M._updateProgress(rt),pe=yield D.Ba()}const Ne=yield Z.complete();return yield yl(f,Ne.aa,void 0),yield function(jt,Lt){const Yt=Ot(jt);return Yt.persistence.runTransaction("Save bundle","readwrite",Un=>Yt.$r.saveBundleMetadata(Un,Lt))}(f.localStore,B),M._completeWith(Ne.progress),Promise.resolve(Ne._a)}catch(B){return vr("SyncEngine",`Loading bundle failed with ${B}`),M._failWith(B),Promise.resolve(new Set)}var jt}),function u(f,D,M){return l.apply(this,arguments)})(o,e,n).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Um(s),l,o)}))}(n,s._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function vE(s,e){return function Bm(s,e){return s.asyncQueue.enqueue((0,Ee.A)(function*(){return function(o,l){const u=Ot(o);return u.persistence.runTransaction("Get named query","readonly",f=>u.$r.getNamedQuery(f,l))}(yield zu(s),e)}))}(zi(s=Br(s,Oi)),e).then(n=>n?new to(s,null,n.query):null)}(this._delegate,e).then(n=>n?new Lo(this,n):null)}}class Ep extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ip(new El(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ba.forKey(n,this.firestore,null)}}class d_{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Ep(e)}get(e){const n=fu(e);return this._delegate.get(n).then(o=>new od(this._firestore,new Gl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,n.converter)))}set(e,n,o){const l=fu(e);return o?(Lv("Transaction.set",o),this._delegate.set(l,n,o)):this._delegate.set(l,n),this}update(e,n,o,...l){const u=fu(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,o,...l),this}delete(e){const n=fu(e);return this._delegate.delete(n),this}}class Vv{constructor(e){this._delegate=e}set(e,n,o){const l=fu(e);return o?(Lv("WriteBatch.set",o),this._delegate.set(l,n,o)):this._delegate.set(l,n),this}update(e,n,o,...l){const u=fu(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,o,...l),this}delete(e){const n=fu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class sd{constructor(e,n,o){this._firestore=e,this._userDataWriter=n,this._delegate=o}fromFirestore(e,n){const o=new td(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jh(this._firestore,o),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const o=sd.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let u=l.get(n);return u||(u=new sd(e,new Ep(e),n),l.set(n,u)),u}}sd.INSTANCES=new WeakMap;class Ba{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ep(e)}static forPath(e,n,o){if(e.length%2!=0)throw new Tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ba(n,new vi(n._delegate,o,new Zt(e)))}static forKey(e,n,o){return new Ba(n,new vi(n._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Hh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hh(this.firestore,av(this._delegate,e))}catch(n){throw Qo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ge.Ku)(e))instanceof vi&&lv(this._delegate,e)}set(e,n){n=Lv("DocumentReference.set",n);try{return n?Tv(this._delegate,e,n):Tv(this._delegate,e)}catch(o){throw Qo(o,"setDoc()","DocumentReference.set()")}}update(e,n,...o){try{return 1===arguments.length?yp(this._delegate,e):yp(this._delegate,e,n,...o)}catch(l){throw Qo(l,"updateDoc()","DocumentReference.update()")}}delete(){return function n_(s){return nd(Br(s.firestore,Oi),[new kd(s._key,Gr.none())])}(this._delegate)}onSnapshot(...e){const n=Uv(e),o=Bh(e,l=>new od(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return vp(this._delegate,n,o)}get(e){let n;return n="cache"===e?.source?function t_(s){s=Br(s,vi);const e=Br(s.firestore,Oi),n=zi(e),o=new zl(e);return function bh(s,e){const n=new mi;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return(o=(0,Ee.A)(function*(u,f,D){try{const M=yield function(Z,pe){const Ne=Ot(Z);return Ne.persistence.runTransaction("read document","readonly",rt=>Ne.localDocuments.getDocument(rt,pe))}(u,f);M.isFoundDocument()?D.resolve(M):M.isNoDocument()?D.resolve(null):D.reject(new Tt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const B=Zc(M,`Failed to get document '${f} from cache`);D.reject(B)}}),function l(u,f,D){return o.apply(this,arguments)})(yield zu(s),e,n);var o})),n.promise}(n,s._key).then(l=>new Gl(e,o,s._key,l,new hu(null!==l&&l.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===e?.source?function wv(s){s=Br(s,vi);const e=Br(s.firestore,Oi);return Ku(zi(e),s._key,{source:"server"}).then(n=>i_(e,s,n))}(this._delegate):function AE(s){s=Br(s,vi);const e=Br(s.firestore,Oi);return Ku(zi(e),s._key).then(n=>i_(e,s,n))}(this._delegate),n.then(o=>new od(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Ba(this.firestore,this._delegate.withConverter(e?sd.getInstance(this.firestore,e):null))}}function Qo(s,e,n){return s.message=s.message.replace(e,n),s}function Uv(s){for(const e of s)if("object"==typeof e&&!Fv(e))return e;return{}}function Bh(s,e){var n,o;let l;return l=Fv(s[0])?s[0]:Fv(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:u=>{l.next&&l.next(e(u))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class od{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return e_(this._delegate,e._delegate)}}class jh extends od{data(e){const n=this._delegate.data(e);return this._delegate._converter||function Rs(s,e){s||Wt()}(void 0!==n),n}}class Lo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ep(e)}where(e,n,o){try{return new Lo(this.firestore,$l(this._delegate,function Lh(s,e,n){const o=e,l=kh("where",s);return Ju._create(l,o,n)}(e,n,o)))}catch(l){throw Qo(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Lo(this.firestore,$l(this._delegate,function Fh(s,e="asc"){const n=e,o=kh("orderBy",s);return pp._create(o,n)}(e,n)))}catch(o){throw Qo(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Lo(this.firestore,$l(this._delegate,function CE(s){return sp("limit",s),gp._create("limit",s,"F")}(e)))}catch(n){throw Qo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Lo(this.firestore,$l(this._delegate,function Km(s){return sp("limitToLast",s),gp._create("limitToLast",s,"L")}(e)))}catch(n){throw Qo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Lo(this.firestore,$l(this._delegate,function Ic(...s){return Vh._create("startAt",s,!0)}(...e)))}catch(n){throw Qo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Lo(this.firestore,$l(this._delegate,function Uh(...s){return Vh._create("startAfter",s,!1)}(...e)))}catch(n){throw Qo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Lo(this.firestore,$l(this._delegate,function mp(...s){return qm._create("endBefore",s,!1)}(...e)))}catch(n){throw Qo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Lo(this.firestore,$l(this._delegate,function vv(...s){return qm._create("endAt",s,!0)}(...e)))}catch(n){throw Qo(n,"endAt()","Query.endAt()")}}isEqual(e){return op(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function DE(s){s=Br(s,to);const e=Br(s.firestore,Oi),n=zi(e),o=new zl(e);return function cE(s,e){const n=new mi;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return(o=(0,Ee.A)(function*(u,f,D){try{const M=yield Pf(u,f,!0),B=new fm(f,M.hs),Z=B.Ta(M.documents),pe=B.applyChanges(Z,!1);D.resolve(pe.snapshot)}catch(M){const B=Zc(M,`Failed to execute query '${f} against cache`);D.reject(B)}}),function l(u,f,D){return o.apply(this,arguments)})(yield zu(s),e,n);var o})),n.promise}(n,s._query).then(l=>new Wl(e,o,s,l))}(this._delegate):"server"===e?.source?function SE(s){s=Br(s,to);const e=Br(s.firestore,Oi),n=zi(e),o=new zl(e);return tv(n,s._query,{source:"server"}).then(l=>new Wl(e,o,s,l))}(this._delegate):function Cv(s){s=Br(s,to);const e=Br(s.firestore,Oi),n=zi(e),o=new zl(e);return fp(s._query),tv(n,s._query).then(l=>new Wl(e,o,s,l))}(this._delegate),n.then(o=>new wp(this.firestore,new Wl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const n=Uv(e),o=Bh(e,l=>new wp(this.firestore,new Wl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return vp(this._delegate,n,o)}withConverter(e){return new Lo(this.firestore,this._delegate.withConverter(e?sd.getInstance(this.firestore,e):null))}}class Cw{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new jh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wp{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Lo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Cw(this._firestore,n))}forEach(e,n){this._delegate.forEach(o=>{e.call(n,new jh(this._firestore,o))})}isEqual(e){return e_(this._delegate,e._delegate)}}class Hh extends Lo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ba(this.firestore,e):null}doc(e){try{return new Ba(this.firestore,void 0===e?Sh(this._delegate):Sh(this._delegate,e))}catch(n){throw Qo(n,"doc()","CollectionReference.doc()")}}add(e){return function bv(s,e){const n=Br(s.firestore,Oi),o=Sh(s),l=_p(s.converter,e);return nd(n,[lp(au(s.firestore),"addDoc",o._key,l,null!==s.converter,{}).toMutation(o._key,Gr.exists(!1))]).then(()=>o)}(this._delegate,e).then(n=>new Ba(this.firestore,n))}isEqual(e){return lv(this._delegate,e._delegate)}withConverter(e){return new Hh(this.firestore,this._delegate.withConverter(e?sd.getInstance(this.firestore,e):null))}}function fu(s){return Br(s,vi)}class Cp{constructor(...e){this._delegate=new ua(...e)}static documentId(){return new Cp($r.keyField().canonicalString())}isEqual(e){return(e=(0,ge.Ku)(e))instanceof ua&&this._delegate._internalPath.isEqual(e._internalPath)}}class Kl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Mv(){return new pv("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Kl(e)}static delete(){const e=function l_(){return new Mh("deleteField")}();return e._methodName="FieldValue.delete",new Kl(e)}static arrayUnion(...e){const n=function xv(...s){return new up("arrayUnion",s)}(...e);return n._methodName="FieldValue.arrayUnion",new Kl(n)}static arrayRemove(...e){const n=function Ov(...s){return new Ua("arrayRemove",s)}(...e);return n._methodName="FieldValue.arrayRemove",new Kl(n)}static increment(e){const n=function Nv(s){return new dp("increment",s)}(e);return n._methodName="FieldValue.increment",new Kl(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HE={Firestore:id,GeoPoint:Ph,Timestamp:Vr,Blob:Ip,Transaction:d_,WriteBatch:Vv,DocumentReference:Ba,DocumentSnapshot:od,Query:Lo,QueryDocumentSnapshot:jh,QuerySnapshot:wp,CollectionReference:Hh,FieldPath:Cp,FieldValue:Kl,setLogLevel:function ww(s){!function Rn(s){kn.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function Bv(s,e){return function GE(s,e=yt.E){return new At.c(n=>{let o;return null!=e?e.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},n)}):o=s.onSnapshot({includeMetadataChanges:!0},n),()=>{o?.()}})}(s,e)}function h_(s,e){return Bv(s,e).pipe((0,be.T)(n=>({payload:n,type:"query"})))}!function Tp(s){(function $E(s,e){s.INTERNAL.registerComponent(new Q.uA("firestore-compat",n=>{const o=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},HE)))})(s,(e,n)=>new id(e,n,new rd)),s.registerVersion("@firebase/firestore-compat","0.3.28")}(oe.A),L(7935);class jv{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const o=this.ref.collection(e),{ref:l,query:u}=Ap(o,n);return new m_(l,u,this.afs)}snapshotChanges(){return function WE(s,e){return Bv(s,e).pipe((0,Ft.Z)(void 0),Ve(),(0,be.T)(n=>{const[o,l]=n;return l.exists?o?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($e.U0)}valueChanges(e={}){return this.snapshotChanges().pipe((0,be.T)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,dt.H)(this.ref.get(e)).pipe($e.U0)}}function bp(s,e){return h_(s,e).pipe((0,Ft.Z)(void 0),Ve(),(0,be.T)(n=>{const[o,l]=n,u=l.payload.docChanges(),f=u.map(D=>({type:D.type,payload:D}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,M)=>{const B=u.find(pe=>pe.doc.ref.isEqual(D.ref)),Z=o?.payload.docs.find(pe=>pe.ref.isEqual(D.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(D.metadata)||!B&&Z&&JSON.stringify(Z.metadata)===JSON.stringify(D.metadata)||f.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:D}})}),f}))}function f_(s,e,n){return bp(s,n).pipe((0,ve.S)((o,l)=>function Hv(s,e,n){return e.forEach(o=>{n.indexOf(o.type)>-1&&(s=function bw(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return p_(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=s.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return p_(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return p_(s,e.oldIndex,1)}return s}(s,o))}),s}(o,l.map(u=>u.payload),e),[]),function Je(s,e=Te.D){return s=s??ue,(0,Vt.N)((n,o)=>{let l,u=!0;n.subscribe((0,je._)(o,f=>{const D=e(f);(u||!s(l,D))&&(u=!1,l=D,o.next(f))}))})}(),(0,be.T)(o=>o.map(l=>({type:l.type,payload:l}))))}function p_(s,e,n,...o){const l=s.slice();return l.splice(e,n,...o),l}function g_(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class m_{ref;query;afs;constructor(e,n,o){this.ref=e,this.query=n,this.afs=o}stateChanges(e){let n=bp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,be.T)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,Ft.Z)(void 0),Ve(),(0,Ae.p)(([o,l])=>l.length>0||!o),(0,be.T)(([,o])=>o),$e.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,ve.S)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=g_(e);return f_(this.query,n,this.afs.schedulers.outsideAngular).pipe($e.U0)}valueChanges(e={}){return h_(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.T)(n=>n.payload.docs.map(o=>e.idField?{...o.data(),[e.idField]:o.id}:o.data())),$e.U0)}get(e){return(0,dt.H)(this.query.get(e)).pipe($e.U0)}add(e){return this.ref.add(e)}doc(e){return new jv(this.ref.doc(e),this.afs)}}class pu{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?bp(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.T)(n=>n.filter(o=>e.indexOf(o.type)>-1)),(0,Ae.p)(n=>n.length>0),$e.U0):bp(this.query,this.afs.schedulers.outsideAngular).pipe($e.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,ve.S)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=g_(e);return f_(this.query,n,this.afs.schedulers.outsideAngular).pipe($e.U0)}valueChanges(e={}){return h_(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.T)(o=>o.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),$e.U0)}get(e){return(0,dt.H)(this.query.get(e)).pipe($e.U0)}}const $v=new p.nKC("angularfire2.enableFirestorePersistence"),zE=new p.nKC("angularfire2.firestore.persistenceSettings"),Aw=new p.nKC("angularfire2.firestore.settings"),__=new p.nKC("angularfire2.firestore.use-emulator");function Ap(s,e=(n=>n)){return{query:e(s),ref:s}}let KE=(()=>{class s{schedulers;firestore;persistenceEnabled$;constructor(n,o,l,u,f,D,M,B,Z,pe,Ne,rt,jt,Lt,Yt,Un,zn){this.schedulers=M;const Ln=(0,ze.iB)(n,D,o),mr=Z;pe&&(0,de.gF)(Ln,D,Ne,jt,Lt,Yt,rt,Un),[this.firestore,this.persistenceEnabled$]=(0,ze.BM)(`${Ln.name}.firestore`,"AngularFirestore",Ln.name,()=>{const kr=D.runOutsideAngular(()=>Ln.firestore());if(u&&kr.settings(u),mr&&kr.useEmulator(...mr),l&&!(0,De.Vy)(f)){const oi=()=>{try{return(0,dt.H)(kr.enablePersistence(B||void 0).then(()=>!0,()=>!1))}catch(us){return typeof console<"u"&&console.warn(us),(0,pt.of)(!1)}};return[kr,D.runOutsideAngular(oi)]}return[kr,(0,pt.of)(!1)]},[u,mr,l])}collection(n,o){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:f}=Ap(l,o),D=this.schedulers.ngZone.run(()=>u);return new m_(D,f,this)}collectionGroup(n,o){const l=o||(f=>f),u=this.firestore.collectionGroup(n);return new pu(l(u),this)}doc(n){let o;o="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>o);return new jv(l,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(o){return new(o||s)(p.KVO(ze.rx),p.KVO(ze.uP,8),p.KVO($v,8),p.KVO(Aw,8),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO($e.u0),p.KVO(zE,8),p.KVO(__,8),p.KVO(de.DS,8),p.KVO(de.CP,8),p.KVO(de.yy,8),p.KVO(de.ZP,8),p.KVO(de.$z,8),p.KVO(de.AU,8),p.KVO(de.UB,8),p.KVO($e.Jv,8))};static \u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"any"})}return s})(),y_=(()=>{class s{constructor(n,o,l,u){this.afAuth=n,this.cacheService=o,this.router=l,this.firestore=u,this.userSubject=new W.t(null),this.user=this.userSubject.asObservable(),this.valueEmitter=new p.bkB,this.inputValueSubject=new W.t(!1),this.afAuth.authState.subscribe(f=>{this.userSubject.next(f)})}setLoaderValue(n){this.inputValueSubject.next(n)}getLoaderValue(){return this.inputValueSubject.asObservable()}sendVerificationCode(n,o){return this.setLoaderValue(!0),this.afAuth.signInWithPhoneNumber(n,o).then(l=>(this.setLoaderValue(!1),l.verificationId),l=>{alert(l.message),this.setLoaderValue(!1),this.router.navigate(["/login"])})}verifyCode(n,o){this.setLoaderValue(!0);const l=oe.A.auth.PhoneAuthProvider.credential(n,o);return this.afAuth.signInWithCredential(l).then(u=>null!=u.user.displayName?(this.cacheService.setData("token",u.user),this.router.navigate(["/tasks"]),this.setLoaderValue(!1),u.user):(this.setLoaderValue(!1),u.user),u=>{alert(u.message),this.setLoaderValue(!1),this.router.navigate(["/login"])})}updateInfo(n,o,l){n?.updateProfile({displayName:o}),n=n.multiFactor.user,this.storeAdditionalUserData(n?.uid,{fullName:l,username:o}),n={...n,displayName:o},this.cacheService.setData("token",n),this.router.navigate(["/tasks"])}getUser(){return this.user}setDisplayName(n,o){this.setLoaderValue(!0);const l=`${n} ${o}`;return this.afAuth.currentUser.then(u=>(this.setLoaderValue(!1),u?.updateProfile({displayName:l})))}signIn(n,o,l){this.setLoaderValue(!0),this.afAuth.signInWithEmailAndPassword(n,o).then(u=>{u.user?.emailVerified?(this.setLoaderValue(!1),this.cacheService.setData("token",u.user),this.router.navigate(["/tasks"],{state:{rememberMe:l}})):u.user&&(this.setLoaderValue(!1),u.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},u=>{alert(u.message),this.setLoaderValue(!1),this.router.navigate(["/login"])})}register(n){this.setLoaderValue(!0),this.afAuth.createUserWithEmailAndPassword(n.email,n.password).then(o=>{o.user?.updateProfile({displayName:n.userName}),this.storeAdditionalUserData(o.user?.uid,{fullName:n.fullName,username:n.userName}),o.user&&(this.setLoaderValue(!1),o.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},o=>{this.setLoaderValue(!1),alert(o.message)})}storeAdditionalUserData(n,o){n&&this.firestore.collection("users").doc(n).set(o,{merge:!0})}signOut(){this.setLoaderValue(!0),this.afAuth.signOut().then(()=>{this.setLoaderValue(!1),this.cacheService.removeData("token"),this.router.navigate(["/login"])},n=>{this.setLoaderValue(!1),alert(n.message)})}forgotPassword(n){this.setLoaderValue(!0),this.afAuth.sendPasswordResetEmail(n).then(()=>{this.setLoaderValue(!1),this.email=n,this.router.navigate(["/verify-email"])},o=>{this.setLoaderValue(!1),alert(o.message)})}deleteCurrentUser(){this.setLoaderValue(!0),this.afAuth.currentUser.then(n=>{n&&(n.delete(),this.setLoaderValue(!1),this.cacheService.removeData("token"),this.router.navigate(["/login"]))},n=>{this.setLoaderValue(!1),alert(n.message)})}singInWithGoogle(){return this.setLoaderValue(!0),this.afAuth.signInWithPopup(new F.X).then(n=>{const o=n.user;if(o){const[l,u]=o.displayName?.split(" ")||["",""];o.updateProfile({displayName:o.displayName,photoURL:o.photoURL}).then(()=>{this.setLoaderValue(!1),this.cacheService.setData("token",n.user),this.router.navigate(["/tasks"]),"/tasks"==this.router.url&&window.location.reload()})}},n=>{alert(n.message),this.setLoaderValue(!1),this.router.navigate(["/login"])})}singInWithGithub(){return this.setLoaderValue(!0),this.afAuth.signInWithPopup(new F.Y).then(n=>{const o=n.user;if(o){const[l,u]=o.displayName?.split(" ")||["",""];o.updateProfile({displayName:o.displayName,photoURL:o.photoURL}).then(()=>{this.setLoaderValue(!1),this.cacheService.setData("token",n.user),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.setLoaderValue(!1),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(o){return new(o||s)(p.KVO(de.DS),p.KVO(ne._),p.KVO(le.Ix),p.KVO(KE))};static#t=this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},5312:(Qt,We,L)=>{L.d(We,{c:()=>p});const p={production:!0,firebaseConfig:{apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"}}},2370:(Qt,We,L)=>{var p=L(345),F=L(9888),_=L(4438),ge=L(9692),V=L(177);function Q(U,E){if(1&U&&(_.j41(0,"span",6),_.EFF(1,"We've sent a verification mail to "),_.j41(2,"strong",7),_.EFF(3),_.k0s()()),2&U){const v=_.XpG();_.R7$(3),_.JRh(v.email)}}function W(U,E){if(1&U&&(_.j41(0,"span",6),_.EFF(1,"We've sent instructions on how to reset "),_.nrm(2,"br"),_.EFF(3," your password to "),_.j41(4,"strong",7),_.EFF(5),_.k0s()()),2&U){const v=_.XpG();_.R7$(5),_.JRh(v.email)}}function oe(U,E){1&U&&(_.j41(0,"span",6),_.EFF(1,"Please go to your mail to verify your email."),_.k0s())}let de=(()=>{class U{constructor(v){this.authService=v,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(v=>{v?this.email=v.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(ge.u))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","#login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(S,N){1&S&&(_.j41(0,"div",0)(1,"div",1),_.nrm(2,"img",2),_.j41(3,"span",3),_.EFF(4,"Check your email"),_.k0s(),_.DNE(5,Q,4,1,"span",4)(6,W,6,1,"span",4)(7,oe,2,0,"span",4),_.j41(8,"a",5),_.EFF(9,"Verified logging in"),_.k0s()()()),2&S&&(_.R7$(5),_.Y8G("ngIf",!N.forgotPassLabel),_.R7$(),_.Y8G("ngIf",N.forgotPassLabel),_.R7$(),_.Y8G("ngIf",!N.forgotPassLabel))},dependencies:[V.bT],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:-webkit-fill-available}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f}"]})}return U})();var ne=L(4341);let le=(()=>{class U{constructor(v){this.authService=v,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(ge.u))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModelChange","ngModel"],[1,"btn",3,"click"],["href","#login",1,"title2"]],template:function(S,N){1&S&&(_.j41(0,"div",0)(1,"div",1)(2,"span",2),_.EFF(3,"Forgot your password?"),_.k0s(),_.j41(4,"span",3),_.EFF(5,"Your password will be reset by email."),_.k0s(),_.j41(6,"label",4),_.EFF(7,"Enter your email address"),_.k0s(),_.j41(8,"input",5),_.mxI("ngModelChange",function(_e){return _.DH7(N.email,_e)||(N.email=_e),_e}),_.k0s(),_.j41(9,"button",6),_.bIt("click",function(){return N.forgotPasswordMail()}),_.EFF(10,"Next"),_.k0s(),_.j41(11,"a",7),_.EFF(12,"Back to log in"),_.k0s()()()),2&S&&(_.R7$(8),_.R50("ngModel",N.email))},dependencies:[ne.me,ne.BC,ne.vS],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:-webkit-fill-available}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#08f}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;margin-bottom:3%;font-weight:500;margin-left:-167px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f}"]})}return U})();var De=L(388);let $e=(()=>{class U{constructor(v,S){this.cacheService=v,this.router=S}canActivate(){return this.userData()?this.userData():(this.userData(),this.router.navigate(["/login"]),!1)}userData(){let v=this.cacheService.getData("token");return!(!v||!(v.emailVerified||""!=v.phoneNumber&&null!=v.phoneNumber))||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(S){return new(S||U)(_.KVO(De._),_.KVO(F.Ix))};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();const ze=["registerationForm"];function yt(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",27),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.togglePasswordVisibility())}),_.k0s()}}function At(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",28),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.togglePasswordVisibility())}),_.k0s()}}function dt(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",27),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.toggleConfirmPasswordVisibility())}),_.k0s()}}function pt(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",28),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.toggleConfirmPasswordVisibility())}),_.k0s()}}let Ft=(()=>{class U{constructor(v,S){this.authService=v,this.router=S,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const v=document.getElementById("password");"password"===v.type?(v.type="text",this.passwordToggle=!1):(v.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const v=document.getElementById("confirmPassword");"password"===v.type?(v.type="text",this.confirmPasswordToggle=!1):(v.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(ge.u),_.rXU(F.Ix))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-register"]],viewQuery:function(S,N){if(1&S&&_.GBs(ze,5),2&S){let ee;_.mGM(ee=_.lsd())&&(N.registerationForm=ee.first)}},decls:39,vars:4,consts:[["registerationForm","ngForm"],[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required","",1,"passwordInput"],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required","",1,"passwordInput"],["type","submit",1,"btn"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","#login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(S,N){if(1&S){const ee=_.RV6();_.j41(0,"div",1),_.EFF(1,"Please Fill out form to Register!"),_.k0s(),_.j41(2,"form",2,0),_.bIt("ngSubmit",function(){return _.eBV(ee),_.Njj(N.register())}),_.j41(4,"label",3),_.EFF(5,"Full name:"),_.k0s(),_.nrm(6,"input",4),_.j41(7,"label",5),_.EFF(8,"Username:"),_.k0s(),_.nrm(9,"input",6),_.j41(10,"label",7),_.EFF(11,"Email:"),_.k0s(),_.nrm(12,"input",8),_.j41(13,"label",9),_.EFF(14,"Password:"),_.k0s(),_.j41(15,"div",10),_.nrm(16,"input",11),_.j41(17,"div",12),_.DNE(18,yt,1,0,"i",13)(19,At,1,0,"i",14),_.k0s()(),_.j41(20,"label",15),_.EFF(21,"Confirm Password:"),_.k0s(),_.j41(22,"div",16),_.nrm(23,"input",17),_.j41(24,"div",12),_.DNE(25,dt,1,0,"i",13)(26,pt,1,0,"i",14),_.k0s()(),_.j41(27,"button",18),_.EFF(28,"Register"),_.k0s()(),_.j41(29,"div",19)(30,"p",20)(31,"span",21),_.EFF(32,"Yes i have an account? "),_.k0s(),_.j41(33,"a",22),_.EFF(34,"Login"),_.k0s(),_.nrm(35,"span",23),_.k0s()(),_.nrm(36,"div",24)(37,"div",25)(38,"div",26)}2&S&&(_.R7$(18),_.Y8G("ngIf",N.passwordToggle),_.R7$(),_.Y8G("ngIf",!N.passwordToggle),_.R7$(6),_.Y8G("ngIf",N.confirmPasswordToggle),_.R7$(),_.Y8G("ngIf",!N.confirmPasswordToggle))},dependencies:[V.bT,ne.qT,ne.me,ne.BC,ne.cb,ne.YS,ne.vS,ne.cV],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.passwordInput[_ngcontent-%COMP%]{padding-left:3.2%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:599px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:532px;width:365px;height:40px;border-radius:5px;background-color:#228be6;transition:background-color .3s ease}.rectangle4[_ngcontent-%COMP%]:hover{background-color:#08f}.btn[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#228be6;color:#fff;margin-top:10px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease;justify-content:center;align-items:center;position:absolute;left:760px;top:534px;width:368px;height:40px;font-size:16px;font-weight:500}.btn[_ngcontent-%COMP%]:hover{background-color:#08f;color:#fff}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:100%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be690;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be61f;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:18px;font-weight:700;position:absolute;left:808px;top:88px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 16.7344%;width:420px;height:420px;background-image:url(pc-reg.d15c0a20eefd0708.svg);background-position:center;background-repeat:no-repeat;background-size:contain}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}']})}return U})();var Vt=L(2231),je=L(3236),Ve=L(1985),be=L(9470);var ue=L(3345),Ae=L(5779),mt=L(2242);const Ee=(U,E,v)=>({$implicit:U,events:E,index:v});function Ht(U,E){if(1&U){const v=_.RV6();_.qex(0),_.j41(1,"input",2),_.bIt("input",function(N){_.eBV(v);const ee=_.XpG().$implicit,_e=_.XpG();return _.Njj(_e.onInput(N,ee-1))})("focus",function(N){_.eBV(v);const ee=_.XpG(2);return _.Njj(ee.onInputFocus(N))})("blur",function(N){_.eBV(v);const ee=_.XpG(2);return _.Njj(ee.onInputBlur(N))})("paste",function(N){_.eBV(v);const ee=_.XpG(2);return _.Njj(ee.onPaste(N))})("keydown",function(N){_.eBV(v);const ee=_.XpG(2);return _.Njj(ee.onKeyDown(N))}),_.k0s(),_.bVm()}if(2&U){const v=_.XpG().$implicit,S=_.XpG();_.R7$(),_.Y8G("value",S.getModelValue(v))("maxLength",1)("type",S.inputType)("inputmode",S.inputMode)("variant",S.variant)("readonly",S.readonly)("disabled",S.disabled)("invalid",S.invalid)("tabindex",S.tabindex)("unstyled",S.unstyled)}}function In(U,E){1&U&&_.eu8(0)}function It(U,E){if(1&U&&(_.qex(0),_.DNE(1,In,1,0,"ng-container",3),_.bVm()),2&U){const v=_.XpG().$implicit,S=_.XpG();_.R7$(),_.Y8G("ngTemplateOutlet",S.inputTemplate)("ngTemplateOutletContext",_.sMw(2,Ee,S.getToken(v-1),S.getTemplateEvents(v-1),v))}}function rn(U,E){if(1&U&&(_.qex(0),_.DNE(1,Ht,2,10,"ng-container",1)(2,It,2,6,"ng-container",1),_.bVm()),2&U){const v=_.XpG();_.R7$(),_.Y8G("ngIf",!v.inputTemplate),_.R7$(),_.Y8G("ngIf",v.inputTemplate)}}const bt={provide:ne.kq,useExisting:(0,_.Rfq)(()=>Pe),multi:!0};let Pe=(()=>{class U{cd;invalid=!1;disabled=!1;readonly=!1;variant=null;tabindex=null;length=4;mask=!1;integerOnly=!1;onChange=new _.bkB;onFocus=new _.bkB;onBlur=new _.bkB;templates;inputTemplate;tokens=[];onModelChange=()=>{};onModelTouched=()=>{};value;get inputMode(){return this.integerOnly?"number":"text"}get inputType(){return this.mask?"password":"text"}constructor(v){this.cd=v}ngAfterContentInit(){this.templates.forEach(v=>{v.getType(),this.inputTemplate=v.template})}getToken(v){return this.tokens[v]}getTemplateEvents(v){return{input:S=>this.onInput(S,v),keydown:S=>this.onKeyDown(S),focus:S=>this.onFocus.emit(S),blur:S=>this.onBlur.emit(S),paste:S=>this.onPaste(S)}}onInput(v,S){this.tokens[S]=v.target.value,this.updateModel(v),"deleteContentBackward"===v.inputType?this.moveToPrev(v):("insertText"===v.inputType||"deleteContentForward"===v.inputType)&&this.moveToNext(v)}updateModel(v){const S=this.tokens.join("");this.onModelChange(S),this.onChange.emit({originalEvent:v,value:S})}writeValue(v){this.value=v?Array.isArray(v)&&v.length>0?v.slice(0,this.length):v.toString().split("").slice(0,this.length):v,this.updateTokens(),this.cd.markForCheck()}updateTokens(){this.tokens=null!=this.value?Array.isArray(this.value)?[...this.value]:this.value.toString().split(""):[]}getModelValue(v){return this.tokens[v-1]||""}registerOnChange(v){this.onModelChange=v}registerOnTouched(v){this.onModelTouched=v}moveToPrev(v){let S=this.findPrevInput(v.target);S&&(S.focus(),S.select())}moveToNext(v){let S=this.findNextInput(v.target);S&&(S.focus(),S.select())}findNextInput(v){let S=v.nextElementSibling;if(S)return"INPUT"===S.nodeName?S:this.findNextInput(S)}findPrevInput(v){let S=v.previousElementSibling;if(S)return"INPUT"===S.nodeName?S:this.findPrevInput(S)}onInputFocus(v){v.target.select(),this.onFocus.emit(v)}onInputBlur(v){this.onBlur.emit(v)}onKeyDown(v){switch(v.keyCode){case 37:this.moveToPrev(v),v.preventDefault();break;case 38:case 40:v.preventDefault();break;case 8:0===v.target.value.length&&(this.moveToPrev(v),v.preventDefault());break;case 39:this.moveToNext(v),v.preventDefault();break;default:this.integerOnly&&!(v.keyCode>=48&&v.keyCode<=57)&&v.preventDefault()}}onPaste(v){let S=v.clipboardData.getData("text");if(S.length){let N=S.substring(0,this.length+1);(!this.integerOnly||!isNaN(N))&&(this.tokens=N.split(""),this.updateModel(v))}v.preventDefault()}getRange(v){return Array.from({length:v},(S,N)=>N+1)}trackByFn(v){return v}static \u0275fac=function(S){return new(S||U)(_.rXU(_.gRc))};static \u0275cmp=_.VBU({type:U,selectors:[["p-inputOtp"]],contentQueries:function(S,N,ee){if(1&S&&_.wni(ee,Ae.Ei,4),2&S){let _e;_.mGM(_e=_.lsd())&&(N.templates=_e)}},hostAttrs:[1,"p-inputotp","p-component"],inputs:{invalid:"invalid",disabled:"disabled",readonly:"readonly",variant:"variant",tabindex:"tabindex",length:"length",mask:"mask",integerOnly:"integerOnly"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[_.Jv_([bt])],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["type","text","pInputText","",1,"p-inputotp-input",3,"input","focus","blur","paste","keydown","value","maxLength","type","inputmode","variant","readonly","disabled","invalid","tabindex","unstyled"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(S,N){1&S&&_.DNE(0,rn,3,2,"ng-container",0),2&S&&_.Y8G("ngForOf",N.getRange(N.length))("ngForTrackBy",N.trackByFn)},dependencies:[V.Sq,V.bT,V.T3,mt.S],encapsulation:2,changeDetection:0})}return U})(),He=(()=>{class U{static \u0275fac=function(S){return new(S||U)};static \u0275mod=_.$C({type:U});static \u0275inj=_.G2t({imports:[V.MD,Ae.Gg,mt.u,Ae.Gg]})}return U})();const ct=["phoneNumberRef"],Ze=["phoneCodeRef"];function ht(U,E){1&U&&(_.j41(0,"span",16),_.EFF(1,"Please enter the 6-digit code sent to your phone number "),_.k0s())}function qe(U,E){if(1&U&&(_.j41(0,"span",16),_.EFF(1),_.k0s()),2&U){const v=_.XpG();_.R7$(),_.Lme("",v.phoneCode,"",v.phoneNumber,"")}}function Pt(U,E){1&U&&(_.j41(0,"span",16),_.EFF(1," for verification."),_.k0s())}function Gt(U,E){if(1&U){const v=_.RV6();_.j41(0,"div",17)(1,"p-inputOtp",18,0),_.mxI("ngModelChange",function(N){_.eBV(v);const ee=_.XpG();return _.DH7(ee.otpEntered,N)||(ee.otpEntered=N),_.Njj(N)}),_.bIt("input",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.onInput())}),_.k0s()()}if(2&U){const v=_.XpG();_.R7$(),_.R50("ngModel",v.otpEntered),_.Y8G("length",6)("integerOnly",!0)}}function sn(U,E){1&U&&(_.j41(0,"span",16),_.EFF(1,"Didn\u2019t receive any code? "),_.k0s())}function Mt(U,E){if(1&U&&(_.j41(0,"span"),_.EFF(1),_.k0s()),2&U){const v=_.XpG();_.R7$(),_.JRh(v.countdownDisplay)}}function dn(U,E){if(1&U){const v=_.RV6();_.j41(0,"a",19),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.resendBtn())}),_.EFF(1,"Resend Again"),_.k0s()}}function bn(U,E){if(1&U){const v=_.RV6();_.j41(0,"input",20),_.mxI("ngModelChange",function(N){_.eBV(v);const ee=_.XpG();return _.DH7(ee.phoneCode,N)||(ee.phoneCode=N),_.Njj(N)}),_.k0s()}if(2&U){const v=_.XpG();_.R50("ngModel",v.phoneCode)}}function Mn(U,E){if(1&U){const v=_.RV6();_.j41(0,"input",21,1),_.bIt("input",function(N){_.eBV(v);const ee=_.XpG();return _.Njj(ee.onInputPhone(N))}),_.mxI("ngModelChange",function(N){_.eBV(v);const ee=_.XpG();return _.DH7(ee.phoneNumber,N)||(ee.phoneNumber=N),_.Njj(N)}),_.k0s()}if(2&U){const v=_.XpG();_.R50("ngModel",v.phoneNumber)}}function Gn(U,E){1&U&&(_.j41(0,"span",16),_.EFF(1," First time user? Please update info! "),_.k0s())}function Kn(U,E){if(1&U){const v=_.RV6();_.j41(0,"input",22),_.mxI("ngModelChange",function(N){_.eBV(v);const ee=_.XpG();return _.DH7(ee.fullName,N)||(ee.fullName=N),_.Njj(N)}),_.k0s()}if(2&U){const v=_.XpG();_.R50("ngModel",v.fullName)}}function Bn(U,E){if(1&U){const v=_.RV6();_.j41(0,"input",23),_.mxI("ngModelChange",function(N){_.eBV(v);const ee=_.XpG();return _.DH7(ee.userName,N)||(ee.userName=N),_.Njj(N)}),_.k0s()}if(2&U){const v=_.XpG();_.R50("ngModel",v.userName)}}function Jt(U,E){1&U&&_.nrm(0,"div",24)}function ir(U,E){if(1&U){const v=_.RV6();_.j41(0,"button",25),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.sendOtp())}),_.EFF(1,"Send OTP"),_.k0s()}if(2&U){const v=_.XpG();_.Y8G("disabled",v.btnDis)}}function Nt(U,E){if(1&U){const v=_.RV6();_.j41(0,"button",26),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.updateData())}),_.EFF(1,"Update"),_.k0s()}}let xn=(()=>{class U{constructor(v){this.authService=v,this.closeModal=new _.bkB,this.phoneCode="+91",this.otpInput=!1,this.phoneInputFlg=!0,this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.countdownTotalSeconds=120,this.showResendBtn=!1}ngOnInit(){}ngAfterViewInit(){}resendBtn(){this.countdownTotalSeconds=120,this.otpRecaptcha=!0,this.sendOtp()}startCountdown(){(function Je(U=0,E=je.E){return U<0&&(U=0),function Te(U=0,E,v=je.b){let S=-1;return null!=E&&((0,be.m)(E)?v=E:S=E),new Ve.c(N=>{let ee=function ve(U){return U instanceof Date&&!isNaN(U)}(U)?+U-v.now():U;ee<0&&(ee=0);let _e=0;return v.schedule(function(){N.closed||(N.next(_e++),0<=S?this.schedule(void 0,S):N.complete())},ee)})}(U,U,E)})(1e3).subscribe(()=>{if(this.countdownTotalSeconds<=0)this.showResendBtn=!0;else{this.countdownTotalSeconds--;const v=Math.floor(this.countdownTotalSeconds/60),S=this.countdownTotalSeconds%60;this.countdownDisplay=`${v.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`}})}onInput(){6===this.otpEntered.length&&this.onOTPEntered(this.otpEntered)}onInputPhone(v){10===v.target.value.length&&""!=this.phoneCode?(this.btnDis=!1,this.otpRecaptcha=!0):this.btnDis=!0}onOTPEntered(v){this.authService.verifyCode(this.verificationId,v).then(S=>{this.user=S,this.otpRecaptcha=!1,this.btnDis=!0,this.otpInput=!1,this.phoneInputFlg=!1,this.otpEntered="",!this.user.displayName&&null==this.user.displayName&&(this.updateInput=!0)}).catch(S=>{this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.otpInput=!0,this.phoneInputFlg=!1,this.otpEntered=""})}closePopup(){this.closeModal.emit(),this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.otpInput=!1,this.phoneInputFlg=!0}sendOtp(){let v=this.phoneCode+this.phoneNumber;const S=new ue.A.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible"});this.authService.sendVerificationCode(v,S).then(N=>{this.countdownTotalSeconds=120,this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.otpInput=!0,this.phoneInputFlg=!1,this.verificationId=N,this.startCountdown()}).catch(N=>{this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!1,this.otpInput=!1,this.phoneInputFlg=!0})}updateData(){this.authService.updateInfo(this.user,this.userName,this.fullName),this.closePopup()}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(ge.u))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-phone-auth"]],viewQuery:function(S,N){if(1&S&&(_.GBs(ct,5),_.GBs(Ze,5)),2&S){let ee;_.mGM(ee=_.lsd())&&(N.phoneNumberRef=ee.first),_.mGM(ee=_.lsd())&&(N.phoneCodeRef=ee.first)}},outputs:{closeModal:"closeModal"},decls:19,vars:15,consts:[["phoneCodeRef",""],["phoneNumberRef",""],[1,"box"],[1,"popUpHeader"],[1,"pi","pi-times",3,"click"],["class","title1",4,"ngIf"],["class","otp-input",4,"ngIf"],[4,"ngIf"],["href","","class","title2",3,"click",4,"ngIf"],["type","text","class","phoneCode",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","maxlength","10","class","phoneInput","placeholder","Phone Number",3,"ngModel","input","ngModelChange",4,"ngIf"],["type","text","class","InputFirstName","placeholder","Full Name",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","Inputs","placeholder","User Name",3,"ngModel","ngModelChange",4,"ngIf"],["id","recaptcha-container",4,"ngIf"],["class","sendOtpBtn",3,"disabled","click",4,"ngIf"],["class","updateBtn",3,"click",4,"ngIf"],[1,"title1"],[1,"otp-input"],["autofocus","",3,"ngModelChange","input","ngModel","length","integerOnly"],["href","",1,"title2",3,"click"],["type","text",1,"phoneCode",3,"ngModelChange","ngModel"],["type","text","maxlength","10","placeholder","Phone Number",1,"phoneInput",3,"input","ngModelChange","ngModel"],["type","text","placeholder","Full Name",1,"InputFirstName",3,"ngModelChange","ngModel"],["type","text","placeholder","User Name",1,"Inputs",3,"ngModelChange","ngModel"],["id","recaptcha-container"],[1,"sendOtpBtn",3,"click","disabled"],[1,"updateBtn",3,"click"]],template:function(S,N){1&S&&(_.j41(0,"div",2)(1,"div",3),_.nrm(2,"div"),_.j41(3,"i",4),_.bIt("click",function(){return N.closePopup()}),_.k0s()(),_.DNE(4,ht,2,0,"span",5)(5,qe,2,2,"span",5)(6,Pt,2,0,"span",5)(7,Gt,3,3,"div",6)(8,sn,2,0,"span",5)(9,Mt,2,1,"span",7)(10,dn,2,0,"a",8)(11,bn,1,1,"input",9)(12,Mn,2,1,"input",10)(13,Gn,2,0,"span",5)(14,Kn,1,1,"input",11)(15,Bn,1,1,"input",12)(16,Jt,1,0,"div",13)(17,ir,2,1,"button",14)(18,Nt,2,0,"button",15),_.k0s()),2&S&&(_.R7$(4),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput&&!N.showResendBtn),_.R7$(),_.Y8G("ngIf",N.otpInput&&N.showResendBtn),_.R7$(),_.Y8G("ngIf",N.phoneInputFlg),_.R7$(),_.Y8G("ngIf",N.phoneInputFlg),_.R7$(),_.Y8G("ngIf",N.updateInput),_.R7$(),_.Y8G("ngIf",N.updateInput),_.R7$(),_.Y8G("ngIf",N.updateInput),_.R7$(),_.Y8G("ngIf",N.otpRecaptcha),_.R7$(),_.Y8G("ngIf",N.phoneInputFlg),_.R7$(),_.Y8G("ngIf",N.updateInput))},dependencies:[V.bT,ne.me,ne.BC,ne.tU,ne.vS,Pe],styles:[".modal-content[_ngcontent-%COMP%]{margin-top:150px;position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-clip:padding-box;outline:0}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.phoneInput[_ngcontent-%COMP%]{padding-left:14%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:80%;margin-bottom:4%}.InputFirstName[_ngcontent-%COMP%]{padding-left:2%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:80%;margin-bottom:4%;margin-top:20px}.Inputs[_ngcontent-%COMP%]{padding-left:2%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:80%;margin-bottom:4%}.popUpHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-right:20px;margin-bottom:20px}.box[_ngcontent-%COMP%]{flex-direction:row;text-align:center;background-color:#fff;padding:25px 10px;border-radius:10px;width:400px;height:100%;box-shadow:0 0 10px #0003}.updateBtn[_ngcontent-%COMP%], .sendOtpBtn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:80%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease}.sendOtpBtn[_ngcontent-%COMP%]:disabled{background-color:gray}.otp-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:20px;margin-top:20px}.phoneCode[_ngcontent-%COMP%]{outline:none;position:absolute;width:40px;height:35px;margin-top:3px;margin-left:5px;text-align:center;padding-bottom:2px;border:none;border-right:solid 1px #3a3a3a}.otp-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px;text-align:center;font-size:16px;border:1px solid #ccc;border-radius:5px}.otp-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-child{margin-right:0}.title2[_ngcontent-%COMP%]{color:#228be6!important;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f!important}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px}"]})}return U})();const jn=["loginForm"],Er=U=>({display:U}),Ar=U=>({"blur-background":U});function br(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",34),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.togglePasswordVisibility())}),_.k0s()}}function Xn(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",35),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.togglePasswordVisibility())}),_.k0s()}}const hn=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",loadChildren:()=>L.e(276).then(L.bind(L,9276)).then(U=>U.AdminModule),canActivate:[$e]},{path:"login",component:(()=>{class U{constructor(v,S){this.authService=v,this.router=S,this.passwordToggle=!1,this.displayPhoneModal="none",this.rememberMe=[]}openModal(){this.displayPhoneModal="flex"}closeModal(){this.displayPhoneModal="none"}login(v){this.loginForm.valid?this.authService.signIn(v.email,v.password,0!=this.rememberMe.length&&this.rememberMe[0]):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const v=document.getElementById("password");"password"===v.type?(v.type="text",this.passwordToggle=!1):(v.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(ge.u),_.rXU(F.Ix))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-login"]],viewQuery:function(S,N){if(1&S&&_.GBs(jn,5),2&S){let ee;_.mGM(ee=_.lsd())&&(N.loginForm=ee.first)}},decls:43,vars:9,consts:[["loginForm","ngForm"],[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required","",1,"passwordInput"],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper1"],["size","small","value","true","id","rememberMe","name","rememberMe","label","Remember Me",3,"ngModelChange","ngModel"],["href","#forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"labelWrapper"],[1,"label"],["href","#register",1,"label2"],["type","submit",1,"btn"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],["data-toggle","modal","data-target","#myPhoneModal",1,"pi","pi-phone","phoneIcon",3,"click"],[1,"rectangle5"],[1,"rectangle6"],["id","myPhoneModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal",3,"ngStyle","ngClass"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[3,"closeModal"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(S,N){if(1&S){const ee=_.RV6();_.nrm(0,"div",1)(1,"div",2),_.j41(2,"div",3),_.EFF(3,"Welcome Back!"),_.k0s(),_.j41(4,"form",4,0),_.bIt("ngSubmit",function(){_.eBV(ee);const he=_.sdS(5);return _.Njj(N.login(he.value))}),_.j41(6,"label",5),_.EFF(7,"Email:"),_.k0s(),_.nrm(8,"input",6),_.j41(9,"label",7),_.EFF(10,"Password:"),_.k0s(),_.j41(11,"div",8),_.nrm(12,"input",9),_.j41(13,"div",10),_.DNE(14,br,1,0,"i",11)(15,Xn,1,0,"i",12),_.k0s()(),_.j41(16,"div",13)(17,"div",14)(18,"div")(19,"p-checkbox",15),_.mxI("ngModelChange",function(he){return _.eBV(ee),_.DH7(N.rememberMe,he)||(N.rememberMe=he),_.Njj(he)}),_.k0s()(),_.j41(20,"a",16),_.EFF(21,"Forgot Password"),_.k0s()()(),_.j41(22,"div",17)(23,"p",18)(24,"span",19),_.EFF(25,"Dont have and account? "),_.k0s(),_.j41(26,"a",20),_.EFF(27,"Register"),_.k0s()()(),_.j41(28,"button",21),_.EFF(29,"Login"),_.k0s(),_.j41(30,"div",22)(31,"a",23),_.bIt("click",function(){return _.eBV(ee),_.Njj(N.signInWithGoogle())}),_.nrm(32,"img",24),_.k0s(),_.j41(33,"a",23),_.bIt("click",function(){return _.eBV(ee),_.Njj(N.signInWithGithub())}),_.nrm(34,"img",25),_.k0s(),_.j41(35,"i",26),_.bIt("click",function(){return _.eBV(ee),_.Njj(N.openModal())}),_.k0s()()(),_.nrm(36,"div",27)(37,"div",28),_.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"div",32)(42,"app-phone-auth",33),_.bIt("closeModal",function(){return _.eBV(ee),_.Njj(N.closeModal())}),_.k0s()()()()()}2&S&&(_.R7$(14),_.Y8G("ngIf",N.passwordToggle),_.R7$(),_.Y8G("ngIf",!N.passwordToggle),_.R7$(4),_.R50("ngModel",N.rememberMe),_.R7$(19),_.Y8G("ngStyle",_.eq3(5,Er,N.displayPhoneModal))("ngClass",_.eq3(7,Ar,N.displayPhoneModal)))},dependencies:[V.YU,V.bT,V.B3,ne.qT,ne.me,ne.BC,ne.cb,ne.YS,ne.vS,ne.cV,Vt.Sc,xn],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:100%;height:100%;background-color:#228be62f}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:40px;padding-left:.8%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle28[_ngcontent-%COMP%]{position:absolute;left:122px;top:20px;width:367px;height:40px;padding-left:.8%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:382px;width:350px;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box{border:1.5px solid #3a3a3a;background:#ebefff;width:15px;height:15px;color:#4b5563;border-radius:4px;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s}[_nghost-%COMP%]     .p-checkbox-box.p-highlight{width:15px;height:15px;padding:1%;border-color:#3b82f6;background:#3b82f6}[_nghost-%COMP%]     .p-checkbox-label{margin-left:0;margin-bottom:.4rem}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box .p-icon{width:10px;height:10px}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;flex-shrink:1;margin-top:6px}.blur-background[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);display:flex;align-items:center;justify-content:center;transition:-webkit-backdrop-filter .5s ease;transition:backdrop-filter .5s ease;transition:backdrop-filter .5s ease,-webkit-backdrop-filter .5s ease}.labelWrapper1[_ngcontent-%COMP%]{font-size:16px;display:flex;justify-content:space-between;align-items:center;margin-left:-10px}.label[_ngcontent-%COMP%]{color:#000;font-size:16px}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:20px;font-weight:700;position:absolute;left:240px;top:165px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.passwordInput[_ngcontent-%COMP%]{padding-left:3.2%}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease;justify-content:center;align-items:center;position:absolute;left:124px;top:420px;width:368px;height:40px;font-size:16px;font-weight:500}.phoneIcon[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:6px;margin-left:5px;color:#0079e2;font-weight:700}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-clip:padding-box;outline:0}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.btn[_ngcontent-%COMP%]:hover{background-color:#08f;color:#fff}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:40px;border-radius:5px;background-color:#228be6;transition:background-color .3s ease}.rectangle4[_ngcontent-%COMP%]:hover{background-color:#08f}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;position:absolute;left:285px;top:427px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#228be690;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#2b3a4755;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(pc-login.e75ae37e4f5b2e76.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return U})()},{path:"register",component:Ft},{path:"verify-email",component:de},{path:"forgot-password",component:le}];let Pr=(()=>{class U{static#e=this.\u0275fac=function(S){return new(S||U)};static#t=this.\u0275mod=_.$C({type:U});static#n=this.\u0275inj=_.G2t({imports:[F.iI.forRoot(hn,{preloadingStrategy:F.Kp}),F.iI]})}return U})();var Ye=L(7515);function tn(U,E){1&U&&(_.j41(0,"div",1),_.nrm(1,"p-progressSpinner",2),_.k0s())}let Se=(()=>{class U{constructor(v){this.authService=v,this.title="tasks",this.showLoader=!1,this.authService.getLoaderValue().subscribe(S=>{this.showLoader=S})}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(ge.u))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","progress-spinner",4,"ngIf"],[1,"progress-spinner"],["ariaLabel","loading","strokeWidth","3","animationDuration","1s",1,"p-progress-spinner-circle"]],template:function(S,N){1&S&&(_.DNE(0,tn,2,0,"div",0),_.nrm(1,"router-outlet")),2&S&&_.Y8G("ngIf",N.showLoader)},dependencies:[V.bT,F.n3,Ye.p],styles:['.progress-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;height:1rem;width:1rem;overflow:show;margin:auto;inset:0}.progress-spinner[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#9b9b9b87}']})}return U})();var Be=L(1626),et=L(9969);function Wn(U){return new _.wOt(3e3,!1)}function qt(U){switch(U.length){case 0:return new et.sf;case 1:return U[0];default:return new et.ui(U)}}function Nn(U,E,v=new Map,S=new Map){const N=[],ee=[];let _e=-1,he=null;if(E.forEach(Oe=>{const Xe=Oe.get("offset"),kt=Xe==_e,Dt=kt&&he||new Map;Oe.forEach((Sn,kn)=>{let Bt=kn,Rn=Sn;if("offset"!==kn)switch(Bt=U.normalizePropertyName(Bt,N),Rn){case et.FX:Rn=v.get(kn);break;case et.kp:Rn=S.get(kn);break;default:Rn=U.normalizeStyleValue(kn,Bt,Rn,N)}Dt.set(Bt,Rn)}),kt||ee.push(Dt),he=Dt,_e=Xe}),N.length)throw function fn(U){return new _.wOt(3502,!1)}();return ee}function te(U,E,v,S){switch(E){case"start":U.onStart(()=>S(v&&ye(v,"start",U)));break;case"done":U.onDone(()=>S(v&&ye(v,"done",U)));break;case"destroy":U.onDestroy(()=>S(v&&ye(v,"destroy",U)))}}function ye(U,E,v){const ee=we(U.element,U.triggerName,U.fromState,U.toState,E||U.phaseName,v.totalTime??U.totalTime,!!v.disabled),_e=U._data;return null!=_e&&(ee._data=_e),ee}function we(U,E,v,S,N="",ee=0,_e){return{element:U,triggerName:E,fromState:v,toState:S,phaseName:N,totalTime:ee,disabled:!!_e}}function Qe(U,E,v){let S=U.get(E);return S||U.set(E,S=v),S}function st(U){const E=U.indexOf(":");return[U.substring(1,E),U.slice(E+1)]}const xt=typeof document>"u"?null:document.documentElement;function Ut(U){const E=U.parentNode||U.host||null;return E===xt?null:E}let _n=null,wr=!1;function Hi(U,E){for(;E;){if(E===U)return!0;E=Ut(E)}return!1}function di(U,E,v){if(v)return Array.from(U.querySelectorAll(E));const S=U.querySelector(E);return S?[S]:[]}let Zn=(()=>{class U{validateStyleProperty(v){return function Cr(U){_n||(_n=function li(){return typeof document<"u"?document.body:null}()||{},wr=!!_n.style&&"WebkitAppearance"in _n.style);let E=!0;return _n.style&&!function mn(U){return"ebkit"==U.substring(1,6)}(U)&&(E=U in _n.style,!E&&wr&&(E="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in _n.style)),E}(v)}matchesElement(v,S){return!1}containsElement(v,S){return Hi(v,S)}getParentElement(v){return Ut(v)}query(v,S,N){return di(v,S,N)}computeStyle(v,S,N){return N||""}animate(v,S,N,ee,_e,he=[],Oe){return new et.sf(N,ee)}static#e=this.\u0275fac=function(S){return new(S||U)};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac})}return U})();class Fn{static#e=this.NOOP=new Zn}class jr{}const Yr=1e3,Cn="ng-enter",qn="ng-leave",Ws="ng-trigger",ki=".ng-trigger",bi="ng-animating",Fo=".ng-animating";function Ki(U){if("number"==typeof U)return U;const E=U.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:Is(parseFloat(E[1]),E[2])}function Is(U,E){return"s"===E?U*Yr:U}function Jn(U,E,v){return U.hasOwnProperty("duration")?U:function hs(U,E,v){let N,ee=0,_e="";if("string"==typeof U){const he=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===he)return E.push(Wn()),{duration:0,delay:0,easing:""};N=Is(parseFloat(he[1]),he[2]);const Oe=he[3];null!=Oe&&(ee=Is(parseFloat(Oe),he[4]));const Xe=he[5];Xe&&(_e=Xe)}else N=U;if(!v){let he=!1,Oe=E.length;N<0&&(E.push(function nn(){return new _.wOt(3100,!1)}()),he=!0),ee<0&&(E.push(function On(){return new _.wOt(3101,!1)}()),he=!0),he&&E.splice(Oe,0,Wn())}return{duration:N,delay:ee,easing:_e}}(U,E,v)}function Li(U,E,v){E.forEach((S,N)=>{const ee=Ns(N);v&&!v.has(N)&&v.set(N,U.style[ee]),U.style[ee]=S})}function Os(U,E){E.forEach((v,S)=>{const N=Ns(S);U.style[N]=""})}function no(U){return Array.isArray(U)?1==U.length?U[0]:(0,et.K2)(U):U}const Es=new RegExp("{{\\s*(.+?)\\s*}}","g");function fs(U){let E=[];if("string"==typeof U){let v;for(;v=Es.exec(U);)E.push(v[1]);Es.lastIndex=0}return E}function ro(U,E,v){const S=`${U}`,N=S.replace(Es,(ee,_e)=>{let he=E[_e];return null==he&&(v.push(function or(U){return new _.wOt(3003,!1)}()),he=""),he.toString()});return N==S?U:N}const io=/-+([a-z0-9])/g;function Ns(U){return U.replace(io,(...E)=>E[1].toUpperCase())}function xr(U,E,v){switch(E.type){case et.If.Trigger:return U.visitTrigger(E,v);case et.If.State:return U.visitState(E,v);case et.If.Transition:return U.visitTransition(E,v);case et.If.Sequence:return U.visitSequence(E,v);case et.If.Group:return U.visitGroup(E,v);case et.If.Animate:return U.visitAnimate(E,v);case et.If.Keyframes:return U.visitKeyframes(E,v);case et.If.Style:return U.visitStyle(E,v);case et.If.Reference:return U.visitReference(E,v);case et.If.AnimateChild:return U.visitAnimateChild(E,v);case et.If.AnimateRef:return U.visitAnimateRef(E,v);case et.If.Query:return U.visitQuery(E,v);case et.If.Stagger:return U.visitStagger(E,v);default:throw function Dr(U){return new _.wOt(3004,!1)}()}}function oo(U,E){return window.getComputedStyle(U)[E]}const fi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ji extends jr{normalizePropertyName(E,v){return Ns(E)}normalizeStyleValue(E,v,S,N){let ee="";const _e=S.toString().trim();if(fi.has(v)&&0!==S&&"0"!==S)if("number"==typeof S)ee="px";else{const he=S.match(/^[+-]?[\d\.]+([a-z]*)$/);he&&0==he[1].length&&N.push(function zr(U,E){return new _.wOt(3005,!1)}())}return _e+ee}}const Cs="*";const ci=new Set(["true","1"]),Si=new Set(["false","0"]);function qi(U,E){const v=ci.has(U)||Si.has(U),S=ci.has(E)||Si.has(E);return(N,ee)=>{let _e=U==Cs||U==N,he=E==Cs||E==ee;return!_e&&v&&"boolean"==typeof N&&(_e=N?ci.has(U):Si.has(U)),!he&&S&&"boolean"==typeof ee&&(he=ee?ci.has(E):Si.has(E)),_e&&he}}const ti=new RegExp("s*:selfs*,?","g");function lr(U,E,v,S){return new bs(U).build(E,v,S)}class bs{constructor(E){this._driver=E}build(E,v,S){const N=new As(v);return this._resetContextStyleTimingState(N),xr(this,no(E),N)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,v){let S=v.queryCount=0,N=v.depCount=0;const ee=[],_e=[];return"@"==E.name.charAt(0)&&v.errors.push(function ui(){return new _.wOt(3006,!1)}()),E.definitions.forEach(he=>{if(this._resetContextStyleTimingState(v),he.type==et.If.State){const Oe=he,Xe=Oe.name;Xe.toString().split(/\s*,\s*/).forEach(kt=>{Oe.name=kt,ee.push(this.visitState(Oe,v))}),Oe.name=Xe}else if(he.type==et.If.Transition){const Oe=this.visitTransition(he,v);S+=Oe.queryCount,N+=Oe.depCount,_e.push(Oe)}else v.errors.push(function ei(){return new _.wOt(3007,!1)}())}),{type:et.If.Trigger,name:E.name,states:ee,transitions:_e,queryCount:S,depCount:N,options:null}}visitState(E,v){const S=this.visitStyle(E.styles,v),N=E.options&&E.options.params||null;if(S.containsDynamicStyles){const ee=new Set,_e=N||{};S.styles.forEach(he=>{he instanceof Map&&he.forEach(Oe=>{fs(Oe).forEach(Xe=>{_e.hasOwnProperty(Xe)||ee.add(Xe)})})}),ee.size&&v.errors.push(function Fe(U,E){return new _.wOt(3008,!1)}(0,ee.values()))}return{type:et.If.State,name:E.name,style:S,options:N?{params:N}:null}}visitTransition(E,v){v.queryCount=0,v.depCount=0;const S=xr(this,no(E.animation),v),N=function es(U,E){const v=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(S=>function Ts(U,E,v){if(":"==U[0]){const Oe=function da(U,E){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,S)=>parseFloat(S)>parseFloat(v);case":decrement":return(v,S)=>parseFloat(S)<parseFloat(v);default:return E.push(function $t(U){return new _.wOt(3016,!1)}()),"* => *"}}(U,v);if("function"==typeof Oe)return void E.push(Oe);U=Oe}const S=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==S||S.length<4)return v.push(function _t(U){return new _.wOt(3015,!1)}()),E;const N=S[1],ee=S[2],_e=S[3];E.push(qi(N,_e)),"<"==ee[0]&&(N!=Cs||_e!=Cs)&&E.push(qi(_e,N))}(S,v,E)):v.push(U),v}(E.expr,v.errors);return{type:et.If.Transition,matchers:N,animation:S,queryCount:v.queryCount,depCount:v.depCount,options:Zr(E.options)}}visitSequence(E,v){return{type:et.If.Sequence,steps:E.steps.map(S=>xr(this,S,v)),options:Zr(E.options)}}visitGroup(E,v){const S=v.currentTime;let N=0;const ee=E.steps.map(_e=>{v.currentTime=S;const he=xr(this,_e,v);return N=Math.max(N,v.currentTime),he});return v.currentTime=N,{type:et.If.Group,steps:ee,options:Zr(E.options)}}visitAnimate(E,v){const S=function Bo(U,E){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return ha(Jn(U,E).duration,0,"");const v=U;if(v.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=ha(0,0,"");return ee.dynamic=!0,ee.strValue=v,ee}const N=Jn(v,E);return ha(N.duration,N.delay,N.easing)}(E.timings,v.errors);v.currentAnimateTimings=S;let N,ee=E.styles?E.styles:(0,et.iF)({});if(ee.type==et.If.Keyframes)N=this.visitKeyframes(ee,v);else{let _e=E.styles,he=!1;if(!_e){he=!0;const Xe={};S.easing&&(Xe.easing=S.easing),_e=(0,et.iF)(Xe)}v.currentTime+=S.duration+S.delay;const Oe=this.visitStyle(_e,v);Oe.isEmptyStep=he,N=Oe}return v.currentAnimateTimings=null,{type:et.If.Animate,timings:S,style:N,options:null}}visitStyle(E,v){const S=this._makeStyleAst(E,v);return this._validateStyleAst(S,v),S}_makeStyleAst(E,v){const S=[],N=Array.isArray(E.styles)?E.styles:[E.styles];for(let he of N)"string"==typeof he?he===et.kp?S.push(he):v.errors.push(new _.wOt(3002,!1)):S.push(new Map(Object.entries(he)));let ee=!1,_e=null;return S.forEach(he=>{if(he instanceof Map&&(he.has("easing")&&(_e=he.get("easing"),he.delete("easing")),!ee))for(let Oe of he.values())if(Oe.toString().indexOf("{{")>=0){ee=!0;break}}),{type:et.If.Style,styles:S,easing:_e,offset:E.offset,containsDynamicStyles:ee,options:null}}_validateStyleAst(E,v){const S=v.currentAnimateTimings;let N=v.currentTime,ee=v.currentTime;S&&ee>0&&(ee-=S.duration+S.delay),E.styles.forEach(_e=>{"string"!=typeof _e&&_e.forEach((he,Oe)=>{const Xe=v.collectedStyles.get(v.currentQuerySelector),kt=Xe.get(Oe);let Dt=!0;kt&&(ee!=N&&ee>=kt.startTime&&N<=kt.endTime&&(v.errors.push(function xe(U,E,v,S,N){return new _.wOt(3010,!1)}()),Dt=!1),ee=kt.startTime),Dt&&Xe.set(Oe,{startTime:ee,endTime:N}),v.options&&function Yi(U,E,v){const S=E.params||{},N=fs(U);N.length&&N.forEach(ee=>{S.hasOwnProperty(ee)||v.push(function An(U){return new _.wOt(3001,!1)}())})}(he,v.options,v.errors)})})}visitKeyframes(E,v){const S={type:et.If.Keyframes,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function ae(){return new _.wOt(3011,!1)}()),S;let ee=0;const _e=[];let he=!1,Oe=!1,Xe=0;const kt=E.steps.map(Xt=>{const vr=this._makeStyleAst(Xt,v);let Mi=null!=vr.offset?vr.offset:function Ta(U){if("string"==typeof U)return null;let E=null;if(Array.isArray(U))U.forEach(v=>{if(v instanceof Map&&v.has("offset")){const S=v;E=parseFloat(S.get("offset")),S.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const v=U;E=parseFloat(v.get("offset")),v.delete("offset")}return E}(vr.styles),Wt=0;return null!=Mi&&(ee++,Wt=vr.offset=Mi),Oe=Oe||Wt<0||Wt>1,he=he||Wt<Xe,Xe=Wt,_e.push(Wt),vr});Oe&&v.errors.push(function fe(){return new _.wOt(3012,!1)}()),he&&v.errors.push(function Y(){return new _.wOt(3200,!1)}());const Dt=E.steps.length;let Sn=0;ee>0&&ee<Dt?v.errors.push(function re(){return new _.wOt(3202,!1)}()):0==ee&&(Sn=1/(Dt-1));const kn=Dt-1,Bt=v.currentTime,Rn=v.currentAnimateTimings,gt=Rn.duration;return kt.forEach((Xt,vr)=>{const Mi=Sn>0?vr==kn?1:Sn*vr:_e[vr],Wt=Mi*gt;v.currentTime=Bt+Rn.delay+Wt,Rn.duration=Wt,this._validateStyleAst(Xt,v),Xt.offset=Mi,S.styles.push(Xt)}),S}visitReference(E,v){return{type:et.If.Reference,animation:xr(this,no(E.animation),v),options:Zr(E.options)}}visitAnimateChild(E,v){return v.depCount++,{type:et.If.AnimateChild,options:Zr(E.options)}}visitAnimateRef(E,v){return{type:et.If.AnimateRef,animation:this.visitReference(E.animation,v),options:Zr(E.options)}}visitQuery(E,v){const S=v.currentQuerySelector,N=E.options||{};v.queryCount++,v.currentQuery=E;const[ee,_e]=function ts(U){const E=!!U.split(/\s*,\s*/).find(v=>":self"==v);return E&&(U=U.replace(ti,"")),U=U.replace(/@\*/g,ki).replace(/@\w+/g,v=>ki+"-"+v.slice(1)).replace(/:animating/g,Fo),[U,E]}(E.selector);v.currentQuerySelector=S.length?S+" "+ee:ee,Qe(v.collectedStyles,v.currentQuerySelector,new Map);const he=xr(this,no(E.animation),v);return v.currentQuery=null,v.currentQuerySelector=S,{type:et.If.Query,selector:ee,limit:N.limit||0,optional:!!N.optional,includeSelf:_e,animation:he,originalSelector:E.selector,options:Zr(E.options)}}visitStagger(E,v){v.currentQuery||v.errors.push(function X(){return new _.wOt(3013,!1)}());const S="full"===E.timings?{duration:0,delay:0,easing:"full"}:Jn(E.timings,v.errors,!0);return{type:et.If.Stagger,animation:xr(this,no(E.animation),v),timings:S,options:null}}}class As{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zr(U){return U?(U={...U}).params&&(U.params=function yo(U){return U?{...U}:null}(U.params)):U={},U}function ha(U,E,v){return{duration:U,delay:E,easing:v}}function Ii(U,E,v,S,N,ee,_e=null,he=!1){return{type:1,element:U,keyframes:E,preStyleProps:v,postStyleProps:S,duration:N,delay:ee,totalTime:N+ee,easing:_e,subTimeline:he}}class Ei{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,v){let S=this._map.get(E);S||this._map.set(E,S=[]),S.push(...v)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const hr=new RegExp(":enter","g"),ba=new RegExp(":leave","g");function vo(U,E,v,S,N,ee=new Map,_e=new Map,he,Oe,Xe=[]){return(new wi).buildKeyframes(U,E,v,S,N,ee,_e,he,Oe,Xe)}class wi{buildKeyframes(E,v,S,N,ee,_e,he,Oe,Xe,kt=[]){Xe=Xe||new Ei;const Dt=new Ai(E,v,Xe,N,ee,kt,[]);Dt.options=Oe;const Sn=Oe.delay?Ki(Oe.delay):0;Dt.currentTimeline.delayNextStep(Sn),Dt.currentTimeline.setStyles([_e],null,Dt.errors,Oe),xr(this,S,Dt);const kn=Dt.timelines.filter(Bt=>Bt.containsAnimation());if(kn.length&&he.size){let Bt;for(let Rn=kn.length-1;Rn>=0;Rn--){const gt=kn[Rn];if(gt.element===v){Bt=gt;break}}Bt&&!Bt.allowOnlyTimelineStyles()&&Bt.setStyles([he],null,Dt.errors,Oe)}return kn.length?kn.map(Bt=>Bt.buildKeyframes()):[Ii(v,[],[],[],0,Sn,"",!1)]}visitTrigger(E,v){}visitState(E,v){}visitTransition(E,v){}visitAnimateChild(E,v){const S=v.subInstructions.get(v.element);if(S){const N=v.createSubContext(E.options),ee=v.currentTimeline.currentTime,_e=this._visitSubInstructions(S,N,N.options);ee!=_e&&v.transformIntoNewTimeline(_e)}v.previousNode=E}visitAnimateRef(E,v){const S=v.createSubContext(E.options);S.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],v,S),this.visitReference(E.animation,S),v.transformIntoNewTimeline(S.currentTimeline.currentTime),v.previousNode=E}_applyAnimationRefDelays(E,v,S){for(const N of E){const ee=N?.delay;if(ee){const _e="number"==typeof ee?ee:Ki(ro(ee,N?.params??{},v.errors));S.delayNextStep(_e)}}}_visitSubInstructions(E,v,S){let ee=v.currentTimeline.currentTime;const _e=null!=S.duration?Ki(S.duration):null,he=null!=S.delay?Ki(S.delay):null;return 0!==_e&&E.forEach(Oe=>{const Xe=v.appendInstructionToTimeline(Oe,_e,he);ee=Math.max(ee,Xe.duration+Xe.delay)}),ee}visitReference(E,v){v.updateOptions(E.options,!0),xr(this,E.animation,v),v.previousNode=E}visitSequence(E,v){const S=v.subContextCount;let N=v;const ee=E.options;if(ee&&(ee.params||ee.delay)&&(N=v.createSubContext(ee),N.transformIntoNewTimeline(),null!=ee.delay)){N.previousNode.type==et.If.Style&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Io);const _e=Ki(ee.delay);N.delayNextStep(_e)}E.steps.length&&(E.steps.forEach(_e=>xr(this,_e,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>S&&N.transformIntoNewTimeline()),v.previousNode=E}visitGroup(E,v){const S=[];let N=v.currentTimeline.currentTime;const ee=E.options&&E.options.delay?Ki(E.options.delay):0;E.steps.forEach(_e=>{const he=v.createSubContext(E.options);ee&&he.delayNextStep(ee),xr(this,_e,he),N=Math.max(N,he.currentTimeline.currentTime),S.push(he.currentTimeline)}),S.forEach(_e=>v.currentTimeline.mergeTimelineCollectedStyles(_e)),v.transformIntoNewTimeline(N),v.previousNode=E}_visitTiming(E,v){if(E.dynamic){const S=E.strValue;return Jn(v.params?ro(S,v.params,v.errors):S,v.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,v){const S=v.currentAnimateTimings=this._visitTiming(E.timings,v),N=v.currentTimeline;S.delay&&(v.incrementTime(S.delay),N.snapshotCurrentStyles());const ee=E.style;ee.type==et.If.Keyframes?this.visitKeyframes(ee,v):(v.incrementTime(S.duration),this.visitStyle(ee,v),N.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=E}visitStyle(E,v){const S=v.currentTimeline,N=v.currentAnimateTimings;!N&&S.hasCurrentStyleProperties()&&S.forwardFrame();const ee=N&&N.easing||E.easing;E.isEmptyStep?S.applyEmptyStep(ee):S.setStyles(E.styles,ee,v.errors,v.options),v.previousNode=E}visitKeyframes(E,v){const S=v.currentAnimateTimings,N=v.currentTimeline.duration,ee=S.duration,he=v.createSubContext().currentTimeline;he.easing=S.easing,E.styles.forEach(Oe=>{he.forwardTime((Oe.offset||0)*ee),he.setStyles(Oe.styles,Oe.easing,v.errors,v.options),he.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(he),v.transformIntoNewTimeline(N+ee),v.previousNode=E}visitQuery(E,v){const S=v.currentTimeline.currentTime,N=E.options||{},ee=N.delay?Ki(N.delay):0;ee&&(v.previousNode.type===et.If.Style||0==S&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Io);let _e=S;const he=v.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!N.optional,v.errors);v.currentQueryTotal=he.length;let Oe=null;he.forEach((Xe,kt)=>{v.currentQueryIndex=kt;const Dt=v.createSubContext(E.options,Xe);ee&&Dt.delayNextStep(ee),Xe===v.element&&(Oe=Dt.currentTimeline),xr(this,E.animation,Dt),Dt.currentTimeline.applyStylesToKeyframe(),_e=Math.max(_e,Dt.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(_e),Oe&&(v.currentTimeline.mergeTimelineCollectedStyles(Oe),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=E}visitStagger(E,v){const S=v.parentContext,N=v.currentTimeline,ee=E.timings,_e=Math.abs(ee.duration),he=_e*(v.currentQueryTotal-1);let Oe=_e*v.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":Oe=he-Oe;break;case"full":Oe=S.currentStaggerTime}const kt=v.currentTimeline;Oe&&kt.delayNextStep(Oe);const Dt=kt.currentTime;xr(this,E.animation,v),v.previousNode=E,S.currentStaggerTime=N.currentTime-Dt+(N.startTime-S.currentTimeline.startTime)}}const Io={};class Ai{constructor(E,v,S,N,ee,_e,he,Oe){this._driver=E,this.element=v,this.subInstructions=S,this._enterClassName=N,this._leaveClassName=ee,this.errors=_e,this.timelines=he,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Io,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Oe||new Ds(this._driver,v,0),he.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,v){if(!E)return;const S=E;let N=this.options;null!=S.duration&&(N.duration=Ki(S.duration)),null!=S.delay&&(N.delay=Ki(S.delay));const ee=S.params;if(ee){let _e=N.params;_e||(_e=this.options.params={}),Object.keys(ee).forEach(he=>{(!v||!_e.hasOwnProperty(he))&&(_e[he]=ro(ee[he],_e,this.errors))})}}_copyOptions(){const E={};if(this.options){const v=this.options.params;if(v){const S=E.params={};Object.keys(v).forEach(N=>{S[N]=v[N]})}}return E}createSubContext(E=null,v,S){const N=v||this.element,ee=new Ai(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,S||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(E),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(E){return this.previousNode=Io,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,v,S){const N={duration:v??E.duration,delay:this.currentTimeline.currentTime+(S??0)+E.delay,easing:""},ee=new fa(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,N,E.stretchStartingKeyframe);return this.timelines.push(ee),N}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,v,S,N,ee,_e){let he=[];if(N&&he.push(this.element),E.length>0){E=(E=E.replace(hr,"."+this._enterClassName)).replace(ba,"."+this._leaveClassName);let Xe=this._driver.query(this.element,E,1!=S);0!==S&&(Xe=S<0?Xe.slice(Xe.length+S,Xe.length):Xe.slice(0,S)),he.push(...Xe)}return!ee&&0==he.length&&_e.push(function ke(U){return new _.wOt(3014,!1)}()),he}}class Ds{constructor(E,v,S,N){this._driver=E,this.element=v,this.startTime=S,this._elementTimelineStylesLookup=N,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+E),v&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,v){return this.applyStylesToKeyframe(),new Ds(this._driver,E,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,v){this._localTimelineStyles.set(E,v),this._globalTimelineStyles.set(E,v),this._styleSummary.set(E,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[v,S]of this._globalTimelineStyles)this._backFill.set(v,S||et.kp),this._currentKeyframe.set(v,et.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,v,S,N){v&&this._previousKeyframe.set("easing",v);const ee=N&&N.params||{},_e=function Gi(U,E){const v=new Map;let S;return U.forEach(N=>{if("*"===N){S??=E.keys();for(let ee of S)v.set(ee,et.kp)}else for(let[ee,_e]of N)v.set(ee,_e)}),v}(E,this._globalTimelineStyles);for(let[he,Oe]of _e){const Xe=ro(Oe,ee,S);this._pendingStyles.set(he,Xe),this._localTimelineStyles.has(he)||this._backFill.set(he,this._globalTimelineStyles.get(he)??et.kp),this._updateStyle(he,Xe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,v)=>{this._currentKeyframe.set(v,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,E)}))}snapshotCurrentStyles(){for(let[E,v]of this._localTimelineStyles)this._pendingStyles.set(E,v),this._updateStyle(E,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let v in this._currentKeyframe)E.push(v);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((v,S)=>{const N=this._styleSummary.get(S);(!N||v.time>N.time)&&this._updateStyle(S,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,v=new Set,S=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((he,Oe)=>{const Xe=new Map([...this._backFill,...he]);Xe.forEach((kt,Dt)=>{kt===et.FX?E.add(Dt):kt===et.kp&&v.add(Dt)}),S||Xe.set("offset",Oe/this.duration),N.push(Xe)});const ee=[...E.values()],_e=[...v.values()];if(S){const he=N[0],Oe=new Map(he);he.set("offset",0),Oe.set("offset",1),N=[he,Oe]}return Ii(this.element,N,ee,_e,this.duration,this.startTime,this.easing,!1)}}class fa extends Ds{constructor(E,v,S,N,ee,_e,he=!1){super(E,v,_e.delay),this.keyframes=S,this.preStyleProps=N,this.postStyleProps=ee,this._stretchStartingKeyframe=he,this.timings={duration:_e.duration,delay:_e.delay,easing:_e.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:v,duration:S,easing:N}=this.timings;if(this._stretchStartingKeyframe&&v){const ee=[],_e=S+v,he=v/_e,Oe=new Map(E[0]);Oe.set("offset",0),ee.push(Oe);const Xe=new Map(E[0]);Xe.set("offset",co(he)),ee.push(Xe);const kt=E.length-1;for(let Dt=1;Dt<=kt;Dt++){let Sn=new Map(E[Dt]);const kn=Sn.get("offset");Sn.set("offset",co((v+kn*S)/_e)),ee.push(Sn)}S=_e,v=0,N="",E=ee}return Ii(this.element,E,this.preStyleProps,this.postStyleProps,S,v,N,!0)}}function co(U,E=3){const v=Math.pow(10,E-1);return Math.round(U*v)/v}function Eo(U,E,v,S,N,ee,_e,he,Oe,Xe,kt,Dt,Sn){return{type:0,element:U,triggerName:E,isRemovalTransition:N,fromState:v,fromStyles:ee,toState:S,toStyles:_e,timelines:he,queriedElements:Oe,preStyleProps:Xe,postStyleProps:kt,totalTime:Dt,errors:Sn}}const jo={};class Yo{constructor(E,v,S){this._triggerName=E,this.ast=v,this._stateStyles=S}match(E,v,S,N){return function wo(U,E,v,S,N){return U.some(ee=>ee(E,v,S,N))}(this.ast.matchers,E,v,S,N)}buildStyles(E,v,S){let N=this._stateStyles.get("*");return void 0!==E&&(N=this._stateStyles.get(E?.toString())||N),N?N.buildStyles(v,S):new Map}build(E,v,S,N,ee,_e,he,Oe,Xe,kt){const Dt=[],Sn=this.ast.options&&this.ast.options.params||jo,Bt=this.buildStyles(S,he&&he.params||jo,Dt),Rn=Oe&&Oe.params||jo,gt=this.buildStyles(N,Rn,Dt),Xt=new Set,vr=new Map,Mi=new Map,Wt="void"===N,zt={params:Co(Rn,Sn),delay:this.ast.options?.delay},Rs=kt?[]:vo(E,v,this.ast.animation,ee,_e,Bt,gt,zt,Xe,Dt);let Ot=0;return Rs.forEach(tt=>{Ot=Math.max(tt.duration+tt.delay,Ot)}),Dt.length?Eo(v,this._triggerName,S,N,Wt,Bt,gt,[],[],vr,Mi,Ot,Dt):(Rs.forEach(tt=>{const Tt=tt.element,mi=Qe(vr,Tt,new Set);tt.preStyleProps.forEach(Wi=>mi.add(Wi));const Xs=Qe(Mi,Tt,new Set);tt.postStyleProps.forEach(Wi=>Xs.add(Wi)),Tt!==v&&Xt.add(Tt)}),Eo(v,this._triggerName,S,N,Wt,Bt,gt,Rs,[...Xt.values()],vr,Mi,Ot))}}function Co(U,E){const v={...E};return Object.entries(U).forEach(([S,N])=>{null!=N&&(v[S]=N)}),v}class G{constructor(E,v,S){this.styles=E,this.defaultParams=v,this.normalizer=S}buildStyles(E,v){const S=new Map,N=Co(E,this.defaultParams);return this.styles.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((_e,he)=>{_e&&(_e=ro(_e,N,v));const Oe=this.normalizer.normalizePropertyName(he,v);_e=this.normalizer.normalizeStyleValue(he,Oe,_e,v),S.set(he,_e)})}),S}}class x{constructor(E,v,S){this.name=E,this.ast=v,this._normalizer=S,this.transitionFactories=[],this.states=new Map,v.states.forEach(N=>{this.states.set(N.name,new G(N.style,N.options&&N.options.params||{},S))}),Re(this.states,"true","1"),Re(this.states,"false","0"),v.transitions.forEach(N=>{this.transitionFactories.push(new Yo(E,N,this.states))}),this.fallbackTransition=function se(U,E,v){return new Yo(U,{type:et.If.Transition,animation:{type:et.If.Sequence,steps:[],options:null},matchers:[(_e,he)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,v,S,N){return this.transitionFactories.find(_e=>_e.match(E,v,S,N))||null}matchStyles(E,v,S){return this.fallbackTransition.buildStyles(E,v,S)}}function Re(U,E,v){U.has(E)?U.has(v)||U.set(v,U.get(E)):U.has(v)&&U.set(E,U.get(v))}const gn=new Ei;class Qn{constructor(E,v,S){this.bodyNode=E,this._driver=v,this._normalizer=S,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,v){const S=[],ee=lr(this._driver,v,S,[]);if(S.length)throw function en(U){return new _.wOt(3503,!1)}();this._animations.set(E,ee)}_buildPlayer(E,v,S){const N=E.element,ee=Nn(this._normalizer,E.keyframes,v,S);return this._driver.animate(N,ee,E.duration,E.delay,E.easing,[],!0)}create(E,v,S={}){const N=[],ee=this._animations.get(E);let _e;const he=new Map;if(ee?(_e=vo(this._driver,v,ee,Cn,qn,new Map,new Map,S,gn,N),_e.forEach(kt=>{const Dt=Qe(he,kt.element,new Map);kt.postStyleProps.forEach(Sn=>Dt.set(Sn,null))})):(N.push(function Yn(){return new _.wOt(3300,!1)}()),_e=[]),N.length)throw function Lr(U){return new _.wOt(3504,!1)}();he.forEach((kt,Dt)=>{kt.forEach((Sn,kn)=>{kt.set(kn,this._driver.computeStyle(Dt,kn,et.kp))})});const Xe=qt(_e.map(kt=>{const Dt=he.get(kt.element);return this._buildPlayer(kt,new Map,Dt)}));return this._playersById.set(E,Xe),Xe.onDestroy(()=>this.destroy(E)),this.players.push(Xe),Xe}destroy(E){const v=this._getPlayer(E);v.destroy(),this._playersById.delete(E);const S=this.players.indexOf(v);S>=0&&this.players.splice(S,1)}_getPlayer(E){const v=this._playersById.get(E);if(!v)throw function ji(U){return new _.wOt(3301,!1)}();return v}listen(E,v,S,N){const ee=we(v,"","","");return te(this._getPlayer(E),S,ee,N),()=>{}}command(E,v,S,N){if("register"==S)return void this.register(E,N[0]);if("create"==S)return void this.create(E,v,N[0]||{});const ee=this._getPlayer(E);switch(S){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(E)}}}const En="ng-animate-queued",gs="ng-animate-disabled",Da=[],Ga={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ms="__ng_removed";class ns{get params(){return this.options.params}constructor(E,v=""){this.namespaceId=v;const S=E&&E.hasOwnProperty("value");if(this.value=function pi(U){return U??null}(S?E.value:E),S){const{value:ee,..._e}=E;this.options=_e}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const v=E.params;if(v){const S=this.options.params;Object.keys(v).forEach(N=>{null==S[N]&&(S[N]=v[N])})}}}const Jo="void",Ho=new ns(Jo);class er{constructor(E,v,S){this.id=E,this.hostElement=v,this._engine=S,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,gi(v,this._hostClassName)}listen(E,v,S,N){if(!this._triggers.has(v))throw function Fr(U,E){return new _.wOt(3302,!1)}();if(null==S||0==S.length)throw function Sr(U){return new _.wOt(3303,!1)}();if(!function Wa(U){return"start"==U||"done"==U}(S))throw function sr(U,E){return new _.wOt(3400,!1)}();const ee=Qe(this._elementListeners,E,[]),_e={name:v,phase:S,callback:N};ee.push(_e);const he=Qe(this._engine.statesByElement,E,new Map);return he.has(v)||(gi(E,Ws),gi(E,Ws+"-"+v),he.set(v,Ho)),()=>{this._engine.afterFlush(()=>{const Oe=ee.indexOf(_e);Oe>=0&&ee.splice(Oe,1),this._triggers.has(v)||he.delete(v)})}}register(E,v){return!this._triggers.has(E)&&(this._triggers.set(E,v),!0)}_getTrigger(E){const v=this._triggers.get(E);if(!v)throw function Qi(U){return new _.wOt(3401,!1)}();return v}trigger(E,v,S,N=!0){const ee=this._getTrigger(v),_e=new qr(this.id,v,E);let he=this._engine.statesByElement.get(E);he||(gi(E,Ws),gi(E,Ws+"-"+v),this._engine.statesByElement.set(E,he=new Map));let Oe=he.get(v);const Xe=new ns(S,this.id);if(!(S&&S.hasOwnProperty("value"))&&Oe&&Xe.absorbOptions(Oe.options),he.set(v,Xe),Oe||(Oe=Ho),Xe.value!==Jo&&Oe.value===Xe.value){if(!function al(U,E){const v=Object.keys(U),S=Object.keys(E);if(v.length!=S.length)return!1;for(let N=0;N<v.length;N++){const ee=v[N];if(!E.hasOwnProperty(ee)||U[ee]!==E[ee])return!1}return!0}(Oe.params,Xe.params)){const Rn=[],gt=ee.matchStyles(Oe.value,Oe.params,Rn),Xt=ee.matchStyles(Xe.value,Xe.params,Rn);Rn.length?this._engine.reportError(Rn):this._engine.afterFlush(()=>{Os(E,gt),Li(E,Xt)})}return}const Sn=Qe(this._engine.playersByElement,E,[]);Sn.forEach(Rn=>{Rn.namespaceId==this.id&&Rn.triggerName==v&&Rn.queued&&Rn.destroy()});let kn=ee.matchTransition(Oe.value,Xe.value,E,Xe.params),Bt=!1;if(!kn){if(!N)return;kn=ee.fallbackTransition,Bt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:v,transition:kn,fromState:Oe,toState:Xe,player:_e,isFallbackTransition:Bt}),Bt||(gi(E,En),_e.onStart(()=>{Qs(E,En)})),_e.onDone(()=>{let Rn=this.players.indexOf(_e);Rn>=0&&this.players.splice(Rn,1);const gt=this._engine.playersByElement.get(E);if(gt){let Xt=gt.indexOf(_e);Xt>=0&&gt.splice(Xt,1)}}),this.players.push(_e),Sn.push(_e),_e}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(v=>v.delete(E)),this._elementListeners.forEach((v,S)=>{this._elementListeners.set(S,v.filter(N=>N.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const v=this._engine.playersByElement.get(E);v&&(v.forEach(S=>S.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,v){const S=this._engine.driver.query(E,ki,!0);S.forEach(N=>{if(N[ms])return;const ee=this._engine.fetchNamespacesByElement(N);ee.size?ee.forEach(_e=>_e.triggerLeaveAnimation(N,v,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>S.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(E,v,S,N){const ee=this._engine.statesByElement.get(E),_e=new Map;if(ee){const he=[];if(ee.forEach((Oe,Xe)=>{if(_e.set(Xe,Oe.value),this._triggers.has(Xe)){const kt=this.trigger(E,Xe,Jo,N);kt&&he.push(kt)}}),he.length)return this._engine.markElementAsRemoved(this.id,E,!0,v,_e),S&&qt(he).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const v=this._elementListeners.get(E),S=this._engine.statesByElement.get(E);if(v&&S){const N=new Set;v.forEach(ee=>{const _e=ee.name;if(N.has(_e))return;N.add(_e);const Oe=this._triggers.get(_e).fallbackTransition,Xe=S.get(_e)||Ho,kt=new ns(Jo),Dt=new qr(this.id,_e,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:_e,transition:Oe,fromState:Xe,toState:kt,player:Dt,isFallbackTransition:!0})})}}removeNode(E,v){const S=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,v),this.triggerLeaveAnimation(E,v,!0))return;let N=!1;if(S.totalAnimations){const ee=S.players.length?S.playersByQueriedElement.get(E):[];if(ee&&ee.length)N=!0;else{let _e=E;for(;_e=_e.parentNode;)if(S.statesByElement.get(_e)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(E),N)S.markElementAsRemoved(this.id,E,!1,v);else{const ee=E[ms];(!ee||ee===Ga)&&(S.afterFlush(()=>this.clearElementCache(E)),S.destroyInnerAnimations(E),S._onRemovalComplete(E,v))}}insertNode(E,v){gi(E,this._hostClassName)}drainQueuedTransitions(E){const v=[];return this._queue.forEach(S=>{const N=S.player;if(N.destroyed)return;const ee=S.element,_e=this._elementListeners.get(ee);_e&&_e.forEach(he=>{if(he.name==S.triggerName){const Oe=we(ee,S.triggerName,S.fromState.value,S.toState.value);Oe._data=E,te(S.player,he.phase,Oe,he.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):v.push(S)}),this._queue=[],v.sort((S,N)=>{const ee=S.transition.ast.depCount,_e=N.transition.ast.depCount;return 0==ee||0==_e?ee-_e:this._engine.driver.containsElement(S.element,N.element)?1:-1})}destroy(E){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}}class ni{_onRemovalComplete(E,v){this.onRemovalComplete(E,v)}constructor(E,v,S,N){this.bodyNode=E,this.driver=v,this._normalizer=S,this.scheduler=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ee,_e)=>{}}get queuedPlayers(){const E=[];return this._namespaceList.forEach(v=>{v.players.forEach(S=>{S.queued&&E.push(S)})}),E}createNamespace(E,v){const S=new er(E,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(S,v):(this.newHostElements.set(v,S),this.collectEnterElement(v)),this._namespaceLookup[E]=S}_balanceNamespaceList(E,v){const S=this._namespaceList,N=this.namespacesByHostElement;if(S.length-1>=0){let _e=!1,he=this.driver.getParentElement(v);for(;he;){const Oe=N.get(he);if(Oe){const Xe=S.indexOf(Oe);S.splice(Xe+1,0,E),_e=!0;break}he=this.driver.getParentElement(he)}_e||S.unshift(E)}else S.push(E);return N.set(v,E),E}register(E,v){let S=this._namespaceLookup[E];return S||(S=this.createNamespace(E,v)),S}registerTrigger(E,v,S){let N=this._namespaceLookup[E];N&&N.register(v,S)&&this.totalAnimations++}destroy(E,v){E&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const S=this._fetchNamespace(E);this.namespacesByHostElement.delete(S.hostElement);const N=this._namespaceList.indexOf(S);N>=0&&this._namespaceList.splice(N,1),S.destroy(v),delete this._namespaceLookup[E]}))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const v=new Set,S=this.statesByElement.get(E);if(S)for(let N of S.values())if(N.namespaceId){const ee=this._fetchNamespace(N.namespaceId);ee&&v.add(ee)}return v}trigger(E,v,S,N){if(rs(v)){const ee=this._fetchNamespace(E);if(ee)return ee.trigger(v,S,N),!0}return!1}insertNode(E,v,S,N){if(!rs(v))return;const ee=v[ms];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const _e=this.collectedLeaveElements.indexOf(v);_e>=0&&this.collectedLeaveElements.splice(_e,1)}if(E){const _e=this._fetchNamespace(E);_e&&_e.insertNode(v,S)}N&&this.collectEnterElement(v)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,v){v?this.disabledNodes.has(E)||(this.disabledNodes.add(E),gi(E,gs)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),Qs(E,gs))}removeNode(E,v,S){if(rs(v)){this.scheduler?.notify();const N=E?this._fetchNamespace(E):null;N?N.removeNode(v,S):this.markElementAsRemoved(E,v,!1,S);const ee=this.namespacesByHostElement.get(v);ee&&ee.id!==E&&ee.removeNode(v,S)}else this._onRemovalComplete(v,S)}markElementAsRemoved(E,v,S,N,ee){this.collectedLeaveElements.push(v),v[ms]={namespaceId:E,setForRemoval:N,hasAnimation:S,removedBeforeQueried:!1,previousTriggersValues:ee}}listen(E,v,S,N,ee){return rs(v)?this._fetchNamespace(E).listen(v,S,N,ee):()=>{}}_buildInstruction(E,v,S,N,ee){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,S,N,E.fromState.options,E.toState.options,v,ee)}destroyInnerAnimations(E){let v=this.driver.query(E,ki,!0);v.forEach(S=>this.destroyActiveAnimationsForElement(S)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(E,Fo,!0),v.forEach(S=>this.finishActiveQueriedAnimationOnElement(S)))}destroyActiveAnimationsForElement(E){const v=this.playersByElement.get(E);v&&v.forEach(S=>{S.queued?S.markedForDestroy=!0:S.destroy()})}finishActiveQueriedAnimationOnElement(E){const v=this.playersByQueriedElement.get(E);v&&v.forEach(S=>S.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return qt(this.players).onDone(()=>E());E()})}processLeaveNode(E){const v=E[ms];if(v&&v.setForRemoval){if(E[ms]=Ga,v.namespaceId){this.destroyInnerAnimations(E);const S=this._fetchNamespace(v.namespaceId);S&&S.clearElementCache(E)}this._onRemovalComplete(E,v.setForRemoval)}E.classList?.contains(gs)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(S=>{this.markElementAsDisabled(S,!1)})}flush(E=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((S,N)=>this._balanceNamespaceList(S,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let S=0;S<this.collectedEnterElements.length;S++)gi(this.collectedEnterElements[S],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const S=[];try{v=this._flushAnimations(S,E)}finally{for(let N=0;N<S.length;N++)S[N]()}}else for(let S=0;S<this.collectedLeaveElements.length;S++)this.processLeaveNode(this.collectedLeaveElements[S]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(S=>S()),this._flushFns=[],this._whenQuietFns.length){const S=this._whenQuietFns;this._whenQuietFns=[],v.length?qt(v).onDone(()=>{S.forEach(N=>N())}):S.forEach(N=>N())}}reportError(E){throw function Xi(U){return new _.wOt(3402,!1)}()}_flushAnimations(E,v){const S=new Ei,N=[],ee=new Map,_e=[],he=new Map,Oe=new Map,Xe=new Map,kt=new Set;this.disabledNodes.forEach(yn=>{kt.add(yn);const wn=this.driver.query(yn,".ng-animate-queued",!0);for(let pn=0;pn<wn.length;pn++)kt.add(wn[pn])});const Dt=this.bodyNode,Sn=Array.from(this.statesByElement.keys()),kn=Sa(Sn,this.collectedEnterElements),Bt=new Map;let Rn=0;kn.forEach((yn,wn)=>{const pn=Cn+Rn++;Bt.set(wn,pn),yn.forEach(fr=>gi(fr,pn))});const gt=[],Xt=new Set,vr=new Set;for(let yn=0;yn<this.collectedLeaveElements.length;yn++){const wn=this.collectedLeaveElements[yn],pn=wn[ms];pn&&pn.setForRemoval&&(gt.push(wn),Xt.add(wn),pn.hasAnimation?this.driver.query(wn,".ng-star-inserted",!0).forEach(fr=>Xt.add(fr)):vr.add(wn))}const Mi=new Map,Wt=Sa(Sn,Array.from(Xt));Wt.forEach((yn,wn)=>{const pn=qn+Rn++;Mi.set(wn,pn),yn.forEach(fr=>gi(fr,pn))}),E.push(()=>{kn.forEach((yn,wn)=>{const pn=Bt.get(wn);yn.forEach(fr=>Qs(fr,pn))}),Wt.forEach((yn,wn)=>{const pn=Mi.get(wn);yn.forEach(fr=>Qs(fr,pn))}),gt.forEach(yn=>{this.processLeaveNode(yn)})});const zt=[],Rs=[];for(let yn=this._namespaceList.length-1;yn>=0;yn--)this._namespaceList[yn].drainQueuedTransitions(v).forEach(pn=>{const fr=pn.player,dr=pn.element;if(zt.push(fr),this.collectedEnterElements.length){const Or=dr[ms];if(Or&&Or.setForMove){if(Or.previousTriggersValues&&Or.previousTriggersValues.has(pn.triggerName)){const rr=Or.previousTriggersValues.get(pn.triggerName),os=this.statesByElement.get(pn.element);if(os&&os.has(pn.triggerName)){const $r=os.get(pn.triggerName);$r.value=rr,os.set(pn.triggerName,$r)}}return void fr.destroy()}}const js=!Dt||!this.driver.containsElement(Dt,dr),un=Mi.get(dr),Qr=Bt.get(dr),ri=this._buildInstruction(pn,S,Qr,un,js);if(ri.errors&&ri.errors.length)return void Rs.push(ri);if(js)return fr.onStart(()=>Os(dr,ri.fromStyles)),fr.onDestroy(()=>Li(dr,ri.toStyles)),void N.push(fr);if(pn.isFallbackTransition)return fr.onStart(()=>Os(dr,ri.fromStyles)),fr.onDestroy(()=>Li(dr,ri.toStyles)),void N.push(fr);const Vr=[];ri.timelines.forEach(Or=>{Or.stretchStartingKeyframe=!0,this.disabledNodes.has(Or.element)||Vr.push(Or)}),ri.timelines=Vr,S.append(dr,ri.timelines),_e.push({instruction:ri,player:fr,element:dr}),ri.queriedElements.forEach(Or=>Qe(he,Or,[]).push(fr)),ri.preStyleProps.forEach((Or,rr)=>{if(Or.size){let os=Oe.get(rr);os||Oe.set(rr,os=new Set),Or.forEach(($r,Zt)=>os.add(Zt))}}),ri.postStyleProps.forEach((Or,rr)=>{let os=Xe.get(rr);os||Xe.set(rr,os=new Set),Or.forEach(($r,Zt)=>os.add(Zt))})});if(Rs.length){const yn=[];Rs.forEach(wn=>{yn.push(function Ge(U,E){return new _.wOt(3505,!1)}())}),zt.forEach(wn=>wn.destroy()),this.reportError(yn)}const Ot=new Map,tt=new Map;_e.forEach(yn=>{const wn=yn.element;S.has(wn)&&(tt.set(wn,wn),this._beforeAnimationBuild(yn.player.namespaceId,yn.instruction,Ot))}),N.forEach(yn=>{const wn=yn.element;this._getPreviousPlayers(wn,!1,yn.namespaceId,yn.triggerName,null).forEach(fr=>{Qe(Ot,wn,[]).push(fr),fr.destroy()})});const Tt=gt.filter(yn=>ta(yn,Oe,Xe)),mi=new Map;wl(mi,this.driver,vr,Xe,et.kp).forEach(yn=>{ta(yn,Oe,Xe)&&Tt.push(yn)});const Wi=new Map;kn.forEach((yn,wn)=>{wl(Wi,this.driver,new Set(yn),Oe,et.FX)}),Tt.forEach(yn=>{const wn=mi.get(yn),pn=Wi.get(yn);mi.set(yn,new Map([...wn?.entries()??[],...pn?.entries()??[]]))});const uo=[],nr=[],Tl={};_e.forEach(yn=>{const{element:wn,player:pn,instruction:fr}=yn;if(S.has(wn)){if(kt.has(wn))return pn.onDestroy(()=>Li(wn,fr.toStyles)),pn.disabled=!0,pn.overrideTotalTime(fr.totalTime),void N.push(pn);let dr=Tl;if(tt.size>1){let un=wn;const Qr=[];for(;un=un.parentNode;){const ri=tt.get(un);if(ri){dr=ri;break}Qr.push(un)}Qr.forEach(ri=>tt.set(ri,dr))}const js=this._buildAnimation(pn.namespaceId,fr,Ot,ee,Wi,mi);if(pn.setRealPlayer(js),dr===Tl)uo.push(pn);else{const un=this.playersByElement.get(dr);un&&un.length&&(pn.parentPlayer=qt(un)),N.push(pn)}}else Os(wn,fr.fromStyles),pn.onDestroy(()=>Li(wn,fr.toStyles)),nr.push(pn),kt.has(wn)&&N.push(pn)}),nr.forEach(yn=>{const wn=ee.get(yn.element);if(wn&&wn.length){const pn=qt(wn);yn.setRealPlayer(pn)}}),N.forEach(yn=>{yn.parentPlayer?yn.syncPlayerEvents(yn.parentPlayer):yn.destroy()});for(let yn=0;yn<gt.length;yn++){const wn=gt[yn],pn=wn[ms];if(Qs(wn,qn),pn&&pn.hasAnimation)continue;let fr=[];if(he.size){let js=he.get(wn);js&&js.length&&fr.push(...js);let un=this.driver.query(wn,Fo,!0);for(let Qr=0;Qr<un.length;Qr++){let ri=he.get(un[Qr]);ri&&ri.length&&fr.push(...ri)}}const dr=fr.filter(js=>!js.destroyed);dr.length?To(this,wn,dr):this.processLeaveNode(wn)}return gt.length=0,uo.forEach(yn=>{this.players.push(yn),yn.onDone(()=>{yn.destroy();const wn=this.players.indexOf(yn);this.players.splice(wn,1)}),yn.play()}),uo}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,v,S,N,ee){let _e=[];if(v){const he=this.playersByQueriedElement.get(E);he&&(_e=he)}else{const he=this.playersByElement.get(E);if(he){const Oe=!ee||ee==Jo;he.forEach(Xe=>{Xe.queued||!Oe&&Xe.triggerName!=N||_e.push(Xe)})}}return(S||N)&&(_e=_e.filter(he=>!(S&&S!=he.namespaceId||N&&N!=he.triggerName))),_e}_beforeAnimationBuild(E,v,S){const ee=v.element,_e=v.isRemovalTransition?void 0:E,he=v.isRemovalTransition?void 0:v.triggerName;for(const Oe of v.timelines){const Xe=Oe.element,kt=Xe!==ee,Dt=Qe(S,Xe,[]);this._getPreviousPlayers(Xe,kt,_e,he,v.toState).forEach(kn=>{const Bt=kn.getRealPlayer();Bt.beforeDestroy&&Bt.beforeDestroy(),kn.destroy(),Dt.push(kn)})}Os(ee,v.fromStyles)}_buildAnimation(E,v,S,N,ee,_e){const he=v.triggerName,Oe=v.element,Xe=[],kt=new Set,Dt=new Set,Sn=v.timelines.map(Bt=>{const Rn=Bt.element;kt.add(Rn);const gt=Rn[ms];if(gt&&gt.removedBeforeQueried)return new et.sf(Bt.duration,Bt.delay);const Xt=Rn!==Oe,vr=function ea(U){const E=[];return $o(U,E),E}((S.get(Rn)||Da).map(Ot=>Ot.getRealPlayer())).filter(Ot=>!!Ot.element&&Ot.element===Rn),Mi=ee.get(Rn),Wt=_e.get(Rn),zt=Nn(this._normalizer,Bt.keyframes,Mi,Wt),Rs=this._buildPlayer(Bt,zt,vr);if(Bt.subTimeline&&N&&Dt.add(Rn),Xt){const Ot=new qr(E,he,Rn);Ot.setRealPlayer(Rs),Xe.push(Ot)}return Rs});Xe.forEach(Bt=>{Qe(this.playersByQueriedElement,Bt.element,[]).push(Bt),Bt.onDone(()=>function Ri(U,E,v){let S=U.get(E);if(S){if(S.length){const N=S.indexOf(v);S.splice(N,1)}0==S.length&&U.delete(E)}return S}(this.playersByQueriedElement,Bt.element,Bt))}),kt.forEach(Bt=>gi(Bt,bi));const kn=qt(Sn);return kn.onDestroy(()=>{kt.forEach(Bt=>Qs(Bt,bi)),Li(Oe,v.toStyles)}),Dt.forEach(Bt=>{Qe(N,Bt,[]).push(kn)}),kn}_buildPlayer(E,v,S){return v.length>0?this.driver.animate(E.element,v,E.duration,E.delay,E.easing,S):new et.sf(E.duration,E.delay)}}class qr{constructor(E,v,S){this.namespaceId=E,this.triggerName=v,this.element=S,this._player=new et.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((v,S)=>{v.forEach(N=>te(E,S,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const v=this._player;v.triggerCallback&&E.onStart(()=>v.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,v){Qe(this._queuedCallbacks,E,[]).push(v)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const v=this._player;v.triggerCallback&&v.triggerCallback(E)}}function rs(U){return U&&1===U.nodeType}function Fs(U,E){const v=U.style.display;return U.style.display=E??"none",v}function wl(U,E,v,S,N){const ee=[];v.forEach(Oe=>ee.push(Fs(Oe)));const _e=[];S.forEach((Oe,Xe)=>{const kt=new Map;Oe.forEach(Dt=>{const Sn=E.computeStyle(Xe,Dt,N);kt.set(Dt,Sn),(!Sn||0==Sn.length)&&(Xe[ms]=Zo,_e.push(Xe))}),U.set(Xe,kt)});let he=0;return v.forEach(Oe=>Fs(Oe,ee[he++])),_e}function Sa(U,E){const v=new Map;if(U.forEach(he=>v.set(he,[])),0==E.length)return v;const N=new Set(E),ee=new Map;function _e(he){if(!he)return 1;let Oe=ee.get(he);if(Oe)return Oe;const Xe=he.parentNode;return Oe=v.has(Xe)?Xe:N.has(Xe)?1:_e(Xe),ee.set(he,Oe),Oe}return E.forEach(he=>{const Oe=_e(he);1!==Oe&&v.get(Oe).push(he)}),v}function gi(U,E){U.classList?.add(E)}function Qs(U,E){U.classList?.remove(E)}function To(U,E,v){qt(v).onDone(()=>U.processLeaveNode(E))}function $o(U,E){for(let v=0;v<U.length;v++){const S=U[v];S instanceof et.ui?$o(S.players,E):E.push(S)}}function ta(U,E,v){const S=v.get(U);if(!S)return!1;let N=E.get(U);return N?S.forEach(ee=>N.add(ee)):E.set(U,S),v.delete(U),!0}class Go{constructor(E,v,S,N){this._driver=v,this._normalizer=S,this._triggerCache={},this.onRemovalComplete=(ee,_e)=>{},this._transitionEngine=new ni(E.body,v,S,N),this._timelineEngine=new Qn(E.body,v,S),this._transitionEngine.onRemovalComplete=(ee,_e)=>this.onRemovalComplete(ee,_e)}registerTrigger(E,v,S,N,ee){const _e=E+"-"+N;let he=this._triggerCache[_e];if(!he){const Oe=[],kt=lr(this._driver,ee,Oe,[]);if(Oe.length)throw function cr(U,E){return new _.wOt(3404,!1)}();he=function z(U,E,v){return new x(U,E,v)}(N,kt,this._normalizer),this._triggerCache[_e]=he}this._transitionEngine.registerTrigger(v,N,he)}register(E,v){this._transitionEngine.register(E,v)}destroy(E,v){this._transitionEngine.destroy(E,v)}onInsert(E,v,S,N){this._transitionEngine.insertNode(E,v,S,N)}onRemove(E,v,S){this._transitionEngine.removeNode(E,v,S)}disableAnimations(E,v){this._transitionEngine.markElementAsDisabled(E,v)}process(E,v,S,N){if("@"==S.charAt(0)){const[ee,_e]=st(S);this._timelineEngine.command(ee,v,_e,N)}else this._transitionEngine.trigger(E,v,S,N)}listen(E,v,S,N,ee){if("@"==S.charAt(0)){const[_e,he]=st(S);return this._timelineEngine.listen(_e,v,he,ee)}return this._transitionEngine.listen(E,v,S,N,ee)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(E){this._transitionEngine.afterFlushAnimationsDone(E)}}class is{static#e=this.initialStylesByElement=new WeakMap;constructor(E,v,S){this._element=E,this._startStyles=v,this._endStyles=S,this._state=0;let N=is.initialStylesByElement.get(E);N||is.initialStylesByElement.set(E,N=new Map),this._initialStyles=N}start(){this._state<1&&(this._startStyles&&Li(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Li(this._element,this._initialStyles),this._endStyles&&(Li(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(is.initialStylesByElement.delete(this._element),this._startStyles&&(Os(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Os(this._element,this._endStyles),this._endStyles=null),Li(this._element,this._initialStyles),this._state=3)}}function na(U){let E=null;return U.forEach((v,S)=>{(function bo(U){return"display"===U||"position"===U})(S)&&(E=E||new Map,E.set(S,v))}),E}class Ka{constructor(E,v,S,N){this.element=E,this.keyframes=v,this.options=S,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=S.duration,this._delay=S.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map;const v=()=>this._onFinish();this.domPlayer.addEventListener("finish",v),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",v)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const v=[];return E.forEach(S=>{v.push(Object.fromEntries(S))}),v}_triggerWebAnimation(E,v,S){return E.animate(this._convertKeyframesToObject(v),S)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((S,N)=>{"offset"!==N&&E.set(N,this._finished?S:oo(this.element,N))}),this.currentSnapshot=E}triggerCallback(E){const v="start"===E?this._onStartFns:this._onDoneFns;v.forEach(S=>S()),v.length=0}}class Wo{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,v){return!1}containsElement(E,v){return Hi(E,v)}getParentElement(E){return Ut(E)}query(E,v,S){return di(E,v,S)}computeStyle(E,v,S){return oo(E,v)}animate(E,v,S,N,ee,_e=[]){const Oe={duration:S,delay:N,fill:0==N?"both":"forwards"};ee&&(Oe.easing=ee);const Xe=new Map,kt=_e.filter(kn=>kn instanceof Ka);(function Zi(U,E){return 0===U||0===E})(S,N)&&kt.forEach(kn=>{kn.currentSnapshot.forEach((Bt,Rn)=>Xe.set(Rn,Bt))});let Dt=function Xo(U){return U.length?U[0]instanceof Map?U:U.map(E=>new Map(Object.entries(E))):[]}(v).map(kn=>new Map(kn));Dt=function Fi(U,E,v){if(v.size&&E.length){let S=E[0],N=[];if(v.forEach((ee,_e)=>{S.has(_e)||N.push(_e),S.set(_e,ee)}),N.length)for(let ee=1;ee<E.length;ee++){let _e=E[ee];N.forEach(he=>_e.set(he,oo(U,he)))}}return E}(E,Dt,Xe);const Sn=function za(U,E){let v=null,S=null;return Array.isArray(E)&&E.length?(v=na(E[0]),E.length>1&&(S=na(E[E.length-1]))):E instanceof Map&&(v=na(E)),v||S?new is(U,v,S):null}(E,Dt);return new Ka(E,Dt,Oe,Sn)}}const Ao="@.disabled";class Pi{constructor(E,v,S,N){this.namespaceId=E,this.delegate=v,this.engine=S,this._onDestroy=N,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(E){this.delegate.destroyNode?.(E)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(E,v){return this.delegate.createElement(E,v)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,v){this.delegate.appendChild(E,v),this.engine.onInsert(this.namespaceId,v,E,!1)}insertBefore(E,v,S,N=!0){this.delegate.insertBefore(E,v,S),this.engine.onInsert(this.namespaceId,v,E,N)}removeChild(E,v,S){this.engine.onRemove(this.namespaceId,v,this.delegate)}selectRootElement(E,v){return this.delegate.selectRootElement(E,v)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,v,S,N){this.delegate.setAttribute(E,v,S,N)}removeAttribute(E,v,S){this.delegate.removeAttribute(E,v,S)}addClass(E,v){this.delegate.addClass(E,v)}removeClass(E,v){this.delegate.removeClass(E,v)}setStyle(E,v,S,N){this.delegate.setStyle(E,v,S,N)}removeStyle(E,v,S){this.delegate.removeStyle(E,v,S)}setProperty(E,v,S){"@"==v.charAt(0)&&v==Ao?this.disableAnimations(E,!!S):this.delegate.setProperty(E,v,S)}setValue(E,v){this.delegate.setValue(E,v)}listen(E,v,S){return this.delegate.listen(E,v,S)}disableAnimations(E,v){this.engine.disableAnimations(E,v)}}class ia extends Pi{constructor(E,v,S,N,ee){super(v,S,N,ee),this.factory=E,this.namespaceId=v}setProperty(E,v,S){"@"==v.charAt(0)?"."==v.charAt(1)&&v==Ao?this.disableAnimations(E,S=void 0===S||!!S):this.engine.process(this.namespaceId,E,v.slice(1),S):this.delegate.setProperty(E,v,S)}listen(E,v,S){if("@"==v.charAt(0)){const N=function Ss(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(E);let ee=v.slice(1),_e="";return"@"!=ee.charAt(0)&&([ee,_e]=function Ra(U){const E=U.indexOf(".");return[U.substring(0,E),U.slice(E+1)]}(ee)),this.engine.listen(this.namespaceId,N,ee,_e,he=>{this.factory.scheduleListenerCallback(he._data||-1,S,he)})}return this.delegate.listen(E,v,S)}}class Hr{constructor(E,v,S){this.delegate=E,this.engine=v,this._zone=S,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,v.onRemovalComplete=(N,ee)=>{const _e=ee?.parentNode(N);_e&&ee.removeChild(_e,N)}}createRenderer(E,v){const N=this.delegate.createRenderer(E,v);if(!E||!v?.data?.animation){const Xe=this._rendererCache;let kt=Xe.get(N);return kt||(kt=new Pi("",N,this.engine,()=>Xe.delete(N)),Xe.set(N,kt)),kt}const ee=v.id,_e=v.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,E);const he=Xe=>{Array.isArray(Xe)?Xe.forEach(he):this.engine.registerTrigger(ee,_e,E,Xe.name,Xe)};return v.data.animation.forEach(he),new ia(this,_e,N,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,v,S){if(E>=0&&E<this._microtaskId)return void this._zone.run(()=>v(S));const N=this._animationCallbacksBuffer;0==N.length&&queueMicrotask(()=>{this._zone.run(()=>{N.forEach(ee=>{const[_e,he]=ee;_e(he)}),this._animationCallbacksBuffer=[]})}),N.push([v,S])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const ll=[{provide:jr,useFactory:function Do(){return new Ji}},{provide:Go,useClass:(()=>{class U extends Go{constructor(v,S,N){super(v,S,N,(0,_.WQX)(_.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(S){return new(S||U)(_.KVO(V.qQ),_.KVO(Fn),_.KVO(jr))};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac})}return U})()},{provide:_._9s,useFactory:function Vs(U,E,v){return new Hr(U,E,v)},deps:[p.B7,Go,_.SKi]}],Pa=[{provide:Fn,useFactory:()=>new Wo},{provide:_.bc$,useValue:"BrowserAnimations"},...ll],Us=[{provide:Fn,useClass:Zn},{provide:_.bc$,useValue:"NoopAnimations"},...ll];let Bs=(()=>{class U{static withConfig(v){return{ngModule:U,providers:v.disableAnimations?Us:Pa}}static#e=this.\u0275fac=function(S){return new(S||U)};static#t=this.\u0275mod=_.$C({type:U});static#n=this.\u0275inj=_.G2t({providers:Pa,imports:[p.Bb]})}return U})();var K=L(9253),O=L(1182),$=L(5312),Ie=L(2796),lt=L(491),Ct=L(7617),cn=L(5015);let Jr=(()=>{class U{static#e=this.\u0275fac=function(S){return new(S||U)};static#t=this.\u0275mod=_.$C({type:U,bootstrap:[Se]});static#n=this.\u0275inj=_.G2t({providers:[{provide:V.hb,useClass:V.fw}],imports:[p.Bb,Pr,Be.q1,ne.YN,Bs,lt.D,K.bf.initializeApp($.c.firebaseConfig),O.X8,Ie.tm,Vt.q4,Ct.N9,mt.u,cn.d,He,Ye.d]})}return U})();p.sG().bootstrapModule(Jr).catch(U=>console.error(U))},4412:(Qt,We,L)=>{L.d(We,{t:()=>F});var p=L(1413);class F extends p.B{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const V=super._subscribe(ge);return!V.closed&&ge.next(this._value),V}getValue(){const{hasError:ge,thrownError:V,_value:Q}=this;if(ge)throw V;return this._throwIfClosed(),Q}next(ge){super.next(this._value=ge)}}},1985:(Qt,We,L)=>{L.d(We,{c:()=>oe});var p=L(7707),F=L(8359),_=L(3494),ge=L(1203),V=L(1026),Q=L(8071),W=L(9786);let oe=(()=>{class De{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const yt=new De;return yt.source=this,yt.operator=ze,yt}subscribe(ze,yt,At){const dt=function le(De){return De&&De instanceof p.vU||function ne(De){return De&&(0,Q.T)(De.next)&&(0,Q.T)(De.error)&&(0,Q.T)(De.complete)}(De)&&(0,F.Uv)(De)}(ze)?ze:new p.Ms(ze,yt,At);return(0,W.Y)(()=>{const{operator:pt,source:Ft}=this;dt.add(pt?pt.call(dt,Ft):Ft?this._subscribe(dt):this._trySubscribe(dt))}),dt}_trySubscribe(ze){try{return this._subscribe(ze)}catch(yt){ze.error(yt)}}forEach(ze,yt){return new(yt=de(yt))((At,dt)=>{const pt=new p.Ms({next:Ft=>{try{ze(Ft)}catch(Vt){dt(Vt),pt.unsubscribe()}},error:dt,complete:At});this.subscribe(pt)})}_subscribe(ze){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(ze)}[_.s](){return this}pipe(...ze){return(0,ge.m)(ze)(this)}toPromise(ze){return new(ze=de(ze))((yt,At)=>{let dt;this.subscribe(pt=>dt=pt,pt=>At(pt),()=>yt(dt))})}}return De.create=$e=>new De($e),De})();function de(De){var $e;return null!==($e=De??V.$.Promise)&&void 0!==$e?$e:Promise}},1413:(Qt,We,L)=>{L.d(We,{B:()=>W});var p=L(1985),F=L(8359);const ge=(0,L(1853).L)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=L(7908),Q=L(9786);let W=(()=>{class de extends p.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const De=new oe(this,this);return De.operator=le,De}_throwIfClosed(){if(this.closed)throw new ge}next(le){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(le)}})}error(le){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:De}=this;for(;De.length;)De.shift().error(le)}})}complete(){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:De,isStopped:$e,observers:ze}=this;return De||$e?F.Kn:(this.currentObservers=null,ze.push(le),new F.yU(()=>{this.currentObservers=null,(0,V.o)(ze,le)}))}_checkFinalizedStatuses(le){const{hasError:De,thrownError:$e,isStopped:ze}=this;De?le.error($e):ze&&le.complete()}asObservable(){const le=new p.c;return le.source=this,le}}return de.create=(ne,le)=>new oe(ne,le),de})();class oe extends W{constructor(ne,le){super(),this.destination=ne,this.source=le}next(ne){var le,De;null===(De=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===De||De.call(le,ne)}error(ne){var le,De;null===(De=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===De||De.call(le,ne)}complete(){var ne,le;null===(le=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===le||le.call(ne)}_subscribe(ne){var le,De;return null!==(De=null===(le=this.source)||void 0===le?void 0:le.subscribe(ne))&&void 0!==De?De:F.Kn}}},7707:(Qt,We,L)=>{L.d(We,{Ms:()=>At,vU:()=>De});var p=L(8071),F=L(8359),_=L(1026),ge=L(5334),V=L(5343);const Q=de("C",void 0,void 0);function de(je,Ve,be){return{kind:je,value:Ve,error:be}}var ne=L(9270),le=L(9786);class De extends F.yU{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,F.Uv)(Ve)&&Ve.add(this)):this.destination=Vt}static create(Ve,be,ve){return new At(Ve,be,ve)}next(Ve){this.isStopped?Ft(function oe(je){return de("N",je,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?Ft(function W(je){return de("E",void 0,je)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?Ft(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function ze(je,Ve){return $e.call(je,Ve)}class yt{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:be}=this;if(be.next)try{be.next(Ve)}catch(ve){dt(ve)}}error(Ve){const{partialObserver:be}=this;if(be.error)try{be.error(Ve)}catch(ve){dt(ve)}else dt(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(be){dt(be)}}}class At extends De{constructor(Ve,be,ve){let Te;if(super(),(0,p.T)(Ve)||!Ve)Te={next:Ve??void 0,error:be??void 0,complete:ve??void 0};else{let Je;this&&_.$.useDeprecatedNextContext?(Je=Object.create(Ve),Je.unsubscribe=()=>this.unsubscribe(),Te={next:Ve.next&&ze(Ve.next,Je),error:Ve.error&&ze(Ve.error,Je),complete:Ve.complete&&ze(Ve.complete,Je)}):Te=Ve}this.destination=new yt(Te)}}function dt(je){_.$.useDeprecatedSynchronousErrorHandling?(0,le.l)(je):(0,ge.m)(je)}function Ft(je,Ve){const{onStoppedNotification:be}=_.$;be&&ne.f.setTimeout(()=>be(je,Ve))}const Vt={closed:!0,next:V.l,error:function pt(je){throw je},complete:V.l}},8359:(Qt,We,L)=>{L.d(We,{Kn:()=>Q,yU:()=>V,Uv:()=>W});var p=L(8071);const _=(0,L(1853).L)(de=>function(le){de(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((De,$e)=>`${$e+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var ge=L(7908);class V{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const ze of le)ze.remove(this);else le.remove(this);const{initialTeardown:De}=this;if((0,p.T)(De))try{De()}catch(ze){ne=ze instanceof _?ze.errors:[ze]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const ze of $e)try{oe(ze)}catch(yt){ne=ne??[],yt instanceof _?ne=[...ne,...yt.errors]:ne.push(yt)}}if(ne)throw new _(ne)}}add(ne){var le;if(ne&&ne!==this)if(this.closed)oe(ne);else{if(ne instanceof V){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ne)}}_hasParent(ne){const{_parentage:le}=this;return le===ne||Array.isArray(le)&&le.includes(ne)}_addParent(ne){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ne),le):le?[le,ne]:ne}_removeParent(ne){const{_parentage:le}=this;le===ne?this._parentage=null:Array.isArray(le)&&(0,ge.o)(le,ne)}remove(ne){const{_finalizers:le}=this;le&&(0,ge.o)(le,ne),ne instanceof V&&ne._removeParent(this)}}V.EMPTY=(()=>{const de=new V;return de.closed=!0,de})();const Q=V.EMPTY;function W(de){return de instanceof V||de&&"closed"in de&&(0,p.T)(de.remove)&&(0,p.T)(de.add)&&(0,p.T)(de.unsubscribe)}function oe(de){(0,p.T)(de)?de():de.unsubscribe()}},1026:(Qt,We,L)=>{L.d(We,{$:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Qt,We,L)=>{L.d(We,{x:()=>V});var p=L(6365),_=L(9326),ge=L(8455);function V(...Q){return function F(){return(0,p.U)(1)}()((0,ge.H)(Q,(0,_.lI)(Q)))}},983:(Qt,We,L)=>{L.d(We,{w:()=>F});const F=new(L(1985).c)(V=>V.complete())},8455:(Qt,We,L)=>{L.d(We,{H:()=>Ve});var p=L(8750),F=L(941),_=L(6745),Q=L(1985),oe=L(4761),de=L(8071),ne=L(5225);function De(be,ve){if(!be)throw new Error("Iterable cannot be null");return new Q.c(Te=>{(0,ne.N)(Te,ve,()=>{const Je=be[Symbol.asyncIterator]();(0,ne.N)(Te,ve,()=>{Je.next().then(ue=>{ue.done?Te.complete():Te.next(ue.value)})},0,!0)})})}var $e=L(5055),ze=L(9858),yt=L(7441),At=L(5397),dt=L(7953),pt=L(591),Ft=L(5196);function Ve(be,ve){return ve?function je(be,ve){if(null!=be){if((0,$e.l)(be))return function ge(be,ve){return(0,p.Tg)(be).pipe((0,_._)(ve),(0,F.Q)(ve))}(be,ve);if((0,yt.X)(be))return function W(be,ve){return new Q.c(Te=>{let Je=0;return ve.schedule(function(){Je===be.length?Te.complete():(Te.next(be[Je++]),Te.closed||this.schedule())})})}(be,ve);if((0,ze.y)(be))return function V(be,ve){return(0,p.Tg)(be).pipe((0,_._)(ve),(0,F.Q)(ve))}(be,ve);if((0,dt.T)(be))return De(be,ve);if((0,At.x)(be))return function le(be,ve){return new Q.c(Te=>{let Je;return(0,ne.N)(Te,ve,()=>{Je=be[oe.l](),(0,ne.N)(Te,ve,()=>{let ue,Ae;try{({value:ue,done:Ae}=Je.next())}catch(mt){return void Te.error(mt)}Ae?Te.complete():Te.next(ue)},0,!0)}),()=>(0,de.T)(Je?.return)&&Je.return()})}(be,ve);if((0,Ft.U)(be))return function Vt(be,ve){return De((0,Ft.C)(be),ve)}(be,ve)}throw(0,pt.L)(be)}(be,ve):(0,p.Tg)(be)}},8750:(Qt,We,L)=>{L.d(We,{Tg:()=>$e});var p=L(1635),F=L(7441),_=L(9858),ge=L(1985),V=L(5055),Q=L(7953),W=L(591),oe=L(5397),de=L(5196),ne=L(8071),le=L(5334),De=L(3494);function $e(je){if(je instanceof ge.c)return je;if(null!=je){if((0,V.l)(je))return function ze(je){return new ge.c(Ve=>{const be=je[De.s]();if((0,ne.T)(be.subscribe))return be.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,F.X)(je))return function yt(je){return new ge.c(Ve=>{for(let be=0;be<je.length&&!Ve.closed;be++)Ve.next(je[be]);Ve.complete()})}(je);if((0,_.y)(je))return function At(je){return new ge.c(Ve=>{je.then(be=>{Ve.closed||(Ve.next(be),Ve.complete())},be=>Ve.error(be)).then(null,le.m)})}(je);if((0,Q.T)(je))return pt(je);if((0,oe.x)(je))return function dt(je){return new ge.c(Ve=>{for(const be of je)if(Ve.next(be),Ve.closed)return;Ve.complete()})}(je);if((0,de.U)(je))return function Ft(je){return pt((0,de.C)(je))}(je)}throw(0,W.L)(je)}function pt(je){return new ge.c(Ve=>{(function Vt(je,Ve){var be,ve,Te,Je;return(0,p.sH)(this,void 0,void 0,function*(){try{for(be=(0,p.xN)(je);!(ve=yield be.next()).done;)if(Ve.next(ve.value),Ve.closed)return}catch(ue){Te={error:ue}}finally{try{ve&&!ve.done&&(Je=be.return)&&(yield Je.call(be))}finally{if(Te)throw Te.error}}Ve.complete()})})(je,Ve).catch(be=>Ve.error(be))})}},7673:(Qt,We,L)=>{L.d(We,{of:()=>_});var p=L(9326),F=L(8455);function _(...ge){const V=(0,p.lI)(ge);return(0,F.H)(ge,V)}},4360:(Qt,We,L)=>{L.d(We,{_:()=>F});var p=L(7707);function F(ge,V,Q,W,oe){return new _(ge,V,Q,W,oe)}class _ extends p.vU{constructor(V,Q,W,oe,de,ne){super(V),this.onFinalize=de,this.shouldUnsubscribe=ne,this._next=Q?function(le){try{Q(le)}catch(De){V.error(De)}}:super._next,this._error=oe?function(le){try{oe(le)}catch(De){V.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(le){V.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},274:(Qt,We,L)=>{L.d(We,{H:()=>_});var p=L(1397),F=L(8071);function _(ge,V){return(0,F.T)(V)?(0,p.Z)(ge,V,1):(0,p.Z)(ge,1)}},9901:(Qt,We,L)=>{L.d(We,{U:()=>_});var p=L(9974),F=L(4360);function _(ge){return(0,p.N)((V,Q)=>{let W=!1;V.subscribe((0,F._)(Q,oe=>{W=!0,Q.next(oe)},()=>{W||Q.next(ge),Q.complete()}))})}},5964:(Qt,We,L)=>{L.d(We,{p:()=>_});var p=L(9974),F=L(4360);function _(ge,V){return(0,p.N)((Q,W)=>{let oe=0;Q.subscribe((0,F._)(W,de=>ge.call(V,de,oe++)&&W.next(de)))})}},980:(Qt,We,L)=>{L.d(We,{j:()=>F});var p=L(9974);function F(_){return(0,p.N)((ge,V)=>{try{ge.subscribe(V)}finally{V.add(_)}})}},1594:(Qt,We,L)=>{L.d(We,{$:()=>W});var p=L(9350),F=L(5964),_=L(6697),ge=L(9901),V=L(3774),Q=L(3669);function W(oe,de){const ne=arguments.length>=2;return le=>le.pipe(oe?(0,F.p)((De,$e)=>oe(De,$e,le)):Q.D,(0,_.s)(1),ne?(0,ge.U)(de):(0,V.v)(()=>new p.G))}},6354:(Qt,We,L)=>{L.d(We,{T:()=>_});var p=L(9974),F=L(4360);function _(ge,V){return(0,p.N)((Q,W)=>{let oe=0;Q.subscribe((0,F._)(W,de=>{W.next(ge.call(V,de,oe++))}))})}},6365:(Qt,We,L)=>{L.d(We,{U:()=>_});var p=L(1397),F=L(3669);function _(ge=1/0){return(0,p.Z)(F.D,ge)}},1397:(Qt,We,L)=>{L.d(We,{Z:()=>oe});var p=L(6354),F=L(8750),_=L(9974),ge=L(5225),V=L(4360),W=L(8071);function oe(de,ne,le=1/0){return(0,W.T)(ne)?oe((De,$e)=>(0,p.T)((ze,yt)=>ne(De,ze,$e,yt))((0,F.Tg)(de(De,$e))),le):("number"==typeof ne&&(le=ne),(0,_.N)((De,$e)=>function Q(de,ne,le,De,$e,ze,yt,At){const dt=[];let pt=0,Ft=0,Vt=!1;const je=()=>{Vt&&!dt.length&&!pt&&ne.complete()},Ve=ve=>pt<De?be(ve):dt.push(ve),be=ve=>{ze&&ne.next(ve),pt++;let Te=!1;(0,F.Tg)(le(ve,Ft++)).subscribe((0,V._)(ne,Je=>{$e?.(Je),ze?Ve(Je):ne.next(Je)},()=>{Te=!0},void 0,()=>{if(Te)try{for(pt--;dt.length&&pt<De;){const Je=dt.shift();yt?(0,ge.N)(ne,yt,()=>be(Je)):be(Je)}je()}catch(Je){ne.error(Je)}}))};return de.subscribe((0,V._)(ne,Ve,()=>{Vt=!0,je()})),()=>{At?.()}}(De,$e,de,le)))}},941:(Qt,We,L)=>{L.d(We,{Q:()=>ge});var p=L(5225),F=L(9974),_=L(4360);function ge(V,Q=0){return(0,F.N)((W,oe)=>{W.subscribe((0,_._)(oe,de=>(0,p.N)(oe,V,()=>oe.next(de),Q),()=>(0,p.N)(oe,V,()=>oe.complete(),Q),de=>(0,p.N)(oe,V,()=>oe.error(de),Q)))})}},2816:(Qt,We,L)=>{L.d(We,{S:()=>ge});var p=L(9974),F=L(4360);function ge(V,Q){return(0,p.N)(function _(V,Q,W,oe,de){return(ne,le)=>{let De=W,$e=Q,ze=0;ne.subscribe((0,F._)(le,yt=>{const At=ze++;$e=De?V($e,yt,At):(De=!0,yt),oe&&le.next($e)},de&&(()=>{De&&le.next($e),le.complete()})))}}(V,Q,arguments.length>=2,!0))}},9172:(Qt,We,L)=>{L.d(We,{Z:()=>ge});var p=L(8793),F=L(9326),_=L(9974);function ge(...V){const Q=(0,F.lI)(V);return(0,_.N)((W,oe)=>{(Q?(0,p.x)(V,W,Q):(0,p.x)(V,W)).subscribe(oe)})}},6745:(Qt,We,L)=>{L.d(We,{_:()=>F});var p=L(9974);function F(_,ge=0){return(0,p.N)((V,Q)=>{Q.add(_.schedule(()=>V.subscribe(Q),ge))})}},5558:(Qt,We,L)=>{L.d(We,{n:()=>ge});var p=L(8750),F=L(9974),_=L(4360);function ge(V,Q){return(0,F.N)((W,oe)=>{let de=null,ne=0,le=!1;const De=()=>le&&!de&&oe.complete();W.subscribe((0,_._)(oe,$e=>{de?.unsubscribe();let ze=0;const yt=ne++;(0,p.Tg)(V($e,yt)).subscribe(de=(0,_._)(oe,At=>oe.next(Q?Q($e,At,yt,ze++):At),()=>{de=null,De()}))},()=>{le=!0,De()}))})}},6697:(Qt,We,L)=>{L.d(We,{s:()=>ge});var p=L(983),F=L(9974),_=L(4360);function ge(V){return V<=0?()=>p.w:(0,F.N)((Q,W)=>{let oe=0;Q.subscribe((0,_._)(W,de=>{++oe<=V&&(W.next(de),V<=oe&&W.complete())}))})}},8141:(Qt,We,L)=>{L.d(We,{M:()=>V});var p=L(8071),F=L(9974),_=L(4360),ge=L(3669);function V(Q,W,oe){const de=(0,p.T)(Q)||W||oe?{next:Q,error:W,complete:oe}:Q;return de?(0,F.N)((ne,le)=>{var De;null===(De=de.subscribe)||void 0===De||De.call(de);let $e=!0;ne.subscribe((0,_._)(le,ze=>{var yt;null===(yt=de.next)||void 0===yt||yt.call(de,ze),le.next(ze)},()=>{var ze;$e=!1,null===(ze=de.complete)||void 0===ze||ze.call(de),le.complete()},ze=>{var yt;$e=!1,null===(yt=de.error)||void 0===yt||yt.call(de,ze),le.error(ze)},()=>{var ze,yt;$e&&(null===(ze=de.unsubscribe)||void 0===ze||ze.call(de)),null===(yt=de.finalize)||void 0===yt||yt.call(de)}))}):ge.D}},3774:(Qt,We,L)=>{L.d(We,{v:()=>ge});var p=L(9350),F=L(9974),_=L(4360);function ge(Q=V){return(0,F.N)((W,oe)=>{let de=!1;W.subscribe((0,_._)(oe,ne=>{de=!0,oe.next(ne)},()=>de?oe.complete():oe.error(Q())))})}function V(){return new p.G}},6780:(Qt,We,L)=>{L.d(We,{R:()=>V});var p=L(8359);class F extends p.yU{constructor(W,oe){super()}schedule(W,oe=0){return this}}const _={setInterval(Q,W,...oe){const{delegate:de}=_;return de?.setInterval?de.setInterval(Q,W,...oe):setInterval(Q,W,...oe)},clearInterval(Q){const{delegate:W}=_;return(W?.clearInterval||clearInterval)(Q)},delegate:void 0};var ge=L(7908);class V extends F{constructor(W,oe){super(W,oe),this.scheduler=W,this.work=oe,this.pending=!1}schedule(W,oe=0){var de;if(this.closed)return this;this.state=W;const ne=this.id,le=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(le,ne,oe)),this.pending=!0,this.delay=oe,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(le,this.id,oe),this}requestAsyncId(W,oe,de=0){return _.setInterval(W.flush.bind(W,this),de)}recycleAsyncId(W,oe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return oe;null!=oe&&_.clearInterval(oe)}execute(W,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(W,oe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,oe){let ne,de=!1;try{this.work(W)}catch(le){de=!0,ne=le||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:W,scheduler:oe}=this,{actions:de}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.o)(de,this),null!=W&&(this.id=this.recycleAsyncId(oe,W,null)),this.delay=null,super.unsubscribe()}}}},9687:(Qt,We,L)=>{L.d(We,{q:()=>_});var p=L(6129);class F{constructor(V,Q=F.now){this.schedulerActionCtor=V,this.now=Q}schedule(V,Q=0,W){return new this.schedulerActionCtor(this,V).schedule(W,Q)}}F.now=p.U.now;class _ extends F{constructor(V,Q=F.now){super(V,Q),this.actions=[],this._active=!1}flush(V){const{actions:Q}=this;if(this._active)return void Q.push(V);let W;this._active=!0;do{if(W=V.execute(V.state,V.delay))break}while(V=Q.shift());if(this._active=!1,W){for(;V=Q.shift();)V.unsubscribe();throw W}}}},3236:(Qt,We,L)=>{L.d(We,{E:()=>_,b:()=>ge});var p=L(6780);const _=new(L(9687).q)(p.R),ge=_},6129:(Qt,We,L)=>{L.d(We,{U:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},9270:(Qt,We,L)=>{L.d(We,{f:()=>p});const p={setTimeout(F,_,...ge){const{delegate:V}=p;return V?.setTimeout?V.setTimeout(F,_,...ge):setTimeout(F,_,...ge)},clearTimeout(F){const{delegate:_}=p;return(_?.clearTimeout||clearTimeout)(F)},delegate:void 0}},4761:(Qt,We,L)=>{L.d(We,{l:()=>F});const F=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Qt,We,L)=>{L.d(We,{s:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Qt,We,L)=>{L.d(We,{G:()=>F});const F=(0,L(1853).L)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Qt,We,L)=>{L.d(We,{R0:()=>Q,lI:()=>V,ms:()=>ge});var p=L(8071),F=L(9470);function _(W){return W[W.length-1]}function ge(W){return(0,p.T)(_(W))?W.pop():void 0}function V(W){return(0,F.m)(_(W))?W.pop():void 0}function Q(W,oe){return"number"==typeof _(W)?W.pop():oe}},3073:(Qt,We,L)=>{L.d(We,{D:()=>V});const{isArray:p}=Array,{getPrototypeOf:F,prototype:_,keys:ge}=Object;function V(W){if(1===W.length){const oe=W[0];if(p(oe))return{args:oe,keys:null};if(function Q(W){return W&&"object"==typeof W&&F(W)===_}(oe)){const de=ge(oe);return{args:de.map(ne=>oe[ne]),keys:de}}}return{args:W,keys:null}}},7908:(Qt,We,L)=>{function p(F,_){if(F){const ge=F.indexOf(_);0<=ge&&F.splice(ge,1)}}L.d(We,{o:()=>p})},1853:(Qt,We,L)=>{function p(F){const ge=F(V=>{Error.call(V),V.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}L.d(We,{L:()=>p})},8496:(Qt,We,L)=>{function p(F,_){return F.reduce((ge,V,Q)=>(ge[V]=_[Q],ge),{})}L.d(We,{e:()=>p})},9786:(Qt,We,L)=>{L.d(We,{Y:()=>_,l:()=>ge});var p=L(1026);let F=null;function _(V){if(p.$.useDeprecatedSynchronousErrorHandling){const Q=!F;if(Q&&(F={errorThrown:!1,error:null}),V(),Q){const{errorThrown:W,error:oe}=F;if(F=null,W)throw oe}}else V()}function ge(V){p.$.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=V)}},5225:(Qt,We,L)=>{function p(F,_,ge,V=0,Q=!1){const W=_.schedule(function(){ge(),Q?F.add(this.schedule(null,V)):this.unsubscribe()},V);if(F.add(W),!Q)return W}L.d(We,{N:()=>p})},3669:(Qt,We,L)=>{function p(F){return F}L.d(We,{D:()=>p})},7441:(Qt,We,L)=>{L.d(We,{X:()=>p});const p=F=>F&&"number"==typeof F.length&&"function"!=typeof F},7953:(Qt,We,L)=>{L.d(We,{T:()=>F});var p=L(8071);function F(_){return Symbol.asyncIterator&&(0,p.T)(_?.[Symbol.asyncIterator])}},8071:(Qt,We,L)=>{function p(F){return"function"==typeof F}L.d(We,{T:()=>p})},5055:(Qt,We,L)=>{L.d(We,{l:()=>_});var p=L(3494),F=L(8071);function _(ge){return(0,F.T)(ge[p.s])}},5397:(Qt,We,L)=>{L.d(We,{x:()=>_});var p=L(4761),F=L(8071);function _(ge){return(0,F.T)(ge?.[p.l])}},9858:(Qt,We,L)=>{L.d(We,{y:()=>F});var p=L(8071);function F(_){return(0,p.T)(_?.then)}},5196:(Qt,We,L)=>{L.d(We,{C:()=>_,U:()=>ge});var p=L(1635),F=L(8071);function _(V){return(0,p.AQ)(this,arguments,function*(){const W=V.getReader();try{for(;;){const{value:oe,done:de}=yield(0,p.N3)(W.read());if(de)return yield(0,p.N3)(void 0);yield yield(0,p.N3)(oe)}}finally{W.releaseLock()}})}function ge(V){return(0,F.T)(V?.getReader)}},9470:(Qt,We,L)=>{L.d(We,{m:()=>F});var p=L(8071);function F(_){return _&&(0,p.T)(_.schedule)}},9974:(Qt,We,L)=>{L.d(We,{N:()=>_,S:()=>F});var p=L(8071);function F(ge){return(0,p.T)(ge?.lift)}function _(ge){return V=>{if(F(V))return V.lift(function(Q){try{return ge(Q,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Qt,We,L)=>{L.d(We,{I:()=>ge});var p=L(6354);const{isArray:F}=Array;function ge(V){return(0,p.T)(Q=>function _(V,Q){return F(Q)?V(...Q):V(Q)}(V,Q))}},5343:(Qt,We,L)=>{function p(){}L.d(We,{l:()=>p})},1203:(Qt,We,L)=>{L.d(We,{F:()=>F,m:()=>_});var p=L(3669);function F(...ge){return _(ge)}function _(ge){return 0===ge.length?p.D:1===ge.length?ge[0]:function(Q){return ge.reduce((W,oe)=>oe(W),Q)}}},5334:(Qt,We,L)=>{L.d(We,{m:()=>_});var p=L(1026),F=L(9270);function _(ge){F.f.setTimeout(()=>{const{onUnhandledError:V}=p.$;if(!V)throw ge;V(ge)})}},591:(Qt,We,L)=>{function p(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(We,{L:()=>p})},9969:(Qt,We,L)=>{L.d(We,{FX:()=>Je,If:()=>p,K2:()=>Q,hZ:()=>_,i0:()=>ge,iF:()=>W,kY:()=>ne,kp:()=>F,sf:()=>ve,ui:()=>Te,wk:()=>oe});var p=function(ue){return ue[ue.State=0]="State",ue[ue.Transition=1]="Transition",ue[ue.Sequence=2]="Sequence",ue[ue.Group=3]="Group",ue[ue.Animate=4]="Animate",ue[ue.Keyframes=5]="Keyframes",ue[ue.Style=6]="Style",ue[ue.Trigger=7]="Trigger",ue[ue.Reference=8]="Reference",ue[ue.AnimateChild=9]="AnimateChild",ue[ue.AnimateRef=10]="AnimateRef",ue[ue.Query=11]="Query",ue[ue.Stagger=12]="Stagger",ue}(p||{});const F="*";function _(ue,Ae){return{type:p.Trigger,name:ue,definitions:Ae,options:{}}}function ge(ue,Ae=null){return{type:p.Animate,styles:Ae,timings:ue}}function Q(ue,Ae=null){return{type:p.Sequence,steps:ue,options:Ae}}function W(ue){return{type:p.Style,styles:ue,offset:null}}function oe(ue,Ae,mt){return{type:p.State,name:ue,styles:Ae,options:mt}}function ne(ue,Ae,mt=null){return{type:p.Transition,expr:ue,animation:Ae,options:mt}}class ve{constructor(Ae=0,mt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ae+mt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}onStart(Ae){this._originalOnStartFns.push(Ae),this._onStartFns.push(Ae)}onDone(Ae){this._originalOnDoneFns.push(Ae),this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ae){this._position=this.totalTime?Ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ae){const mt="start"==Ae?this._onStartFns:this._onDoneFns;mt.forEach(Ee=>Ee()),mt.length=0}}class Te{constructor(Ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ae;let mt=0,Ee=0,Ht=0;const In=this.players.length;0==In?queueMicrotask(()=>this._onFinish()):this.players.forEach(It=>{It.onDone(()=>{++mt==In&&this._onFinish()}),It.onDestroy(()=>{++Ee==In&&this._onDestroy()}),It.onStart(()=>{++Ht==In&&this._onStart()})}),this.totalTime=this.players.reduce((It,rn)=>Math.max(It,rn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}init(){this.players.forEach(Ae=>Ae.init())}onStart(Ae){this._onStartFns.push(Ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[])}onDone(Ae){this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ae=>Ae.play())}pause(){this.players.forEach(Ae=>Ae.pause())}restart(){this.players.forEach(Ae=>Ae.restart())}finish(){this._onFinish(),this.players.forEach(Ae=>Ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ae=>Ae.destroy()),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this.players.forEach(Ae=>Ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ae){const mt=Ae*this.totalTime;this.players.forEach(Ee=>{const Ht=Ee.totalTime?Math.min(1,mt/Ee.totalTime):1;Ee.setPosition(Ht)})}getPosition(){const Ae=this.players.reduce((mt,Ee)=>null===mt||Ee.totalTime>mt.totalTime?Ee:mt,null);return null!=Ae?Ae.getPosition():0}beforeDestroy(){this.players.forEach(Ae=>{Ae.beforeDestroy&&Ae.beforeDestroy()})}triggerCallback(Ae){const mt="start"==Ae?this._onStartFns:this._onDoneFns;mt.forEach(Ee=>Ee()),mt.length=0}}const Je="!"},177:(Qt,We,L)=>{L.d(We,{AJ:()=>Vo,B3:()=>Cn,MD:()=>$i,N0:()=>bs,QT:()=>_,Sm:()=>At,Sq:()=>_n,T3:()=>qn,UE:()=>Ts,VF:()=>V,Vy:()=>da,Xr:()=>_o,YU:()=>st,ZD:()=>ge,_b:()=>ye,aZ:()=>pt,bT:()=>Mr,fw:()=>dt,hb:()=>ze,hj:()=>de,qQ:()=>W});var p=L(4438);let F=null;function _(){return F}function ge(b){F??=b}class V{}const W=new p.nKC("");let oe=(()=>{class b{historyGo(O){throw new Error("")}static#e=this.\u0275fac=function($){return new($||b)};static#t=this.\u0275prov=p.jDH({token:b,factory:()=>(0,p.WQX)(ne),providedIn:"platform"})}return b})();const de=new p.nKC("");let ne=(()=>{class b extends oe{constructor(){super(),this._doc=(0,p.WQX)(W),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(O){const $=_().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",O,!1),()=>$.removeEventListener("popstate",O)}onHashChange(O){const $=_().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",O,!1),()=>$.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,$,Ie){this._history.pushState(O,$,Ie)}replaceState(O,$,Ie){this._history.replaceState(O,$,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}static#e=this.\u0275fac=function($){return new($||b)};static#t=this.\u0275prov=p.jDH({token:b,factory:()=>new b,providedIn:"platform"})}return b})();function le(b,K){if(0==b.length)return K;if(0==K.length)return b;let O=0;return b.endsWith("/")&&O++,K.startsWith("/")&&O++,2==O?b+K.substring(1):1==O?b+K:b+"/"+K}function De(b){const K=b.match(/#|\?|$/),O=K&&K.index||b.length;return b.slice(0,O-("/"===b[O-1]?1:0))+b.slice(O)}function $e(b){return b&&"?"!==b[0]?"?"+b:b}let ze=(()=>{class b{historyGo(O){throw new Error("")}static#e=this.\u0275fac=function($){return new($||b)};static#t=this.\u0275prov=p.jDH({token:b,factory:()=>(0,p.WQX)(At),providedIn:"root"})}return b})();const yt=new p.nKC("");let At=(()=>{class b extends ze{constructor(O,$){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=$??this._platformLocation.getBaseHrefFromDOM()??(0,p.WQX)(W).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return le(this._baseHref,O)}path(O=!1){const $=this._platformLocation.pathname+$e(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&O?`${$}${Ie}`:$}pushState(O,$,Ie,lt){const Ct=this.prepareExternalUrl(Ie+$e(lt));this._platformLocation.pushState(O,$,Ct)}replaceState(O,$,Ie,lt){const Ct=this.prepareExternalUrl(Ie+$e(lt));this._platformLocation.replaceState(O,$,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function($){return new($||b)(p.KVO(oe),p.KVO(yt,8))};static#t=this.\u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),dt=(()=>{class b extends ze{constructor(O,$){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){const $=this._platformLocation.hash??"#";return $.length>0?$.substring(1):$}prepareExternalUrl(O){const $=le(this._baseHref,O);return $.length>0?"#"+$:$}pushState(O,$,Ie,lt){let Ct=this.prepareExternalUrl(Ie+$e(lt));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.pushState(O,$,Ct)}replaceState(O,$,Ie,lt){let Ct=this.prepareExternalUrl(Ie+$e(lt));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.replaceState(O,$,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function($){return new($||b)(p.KVO(oe),p.KVO(yt,8))};static#t=this.\u0275prov=p.jDH({token:b,factory:b.\u0275fac})}return b})(),pt=(()=>{class b{constructor(O){this._subject=new p.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const $=this._locationStrategy.getBaseHref();this._basePath=function Ve(b){if(new RegExp("^(https?:)?//").test(b)){const[,O]=b.split(/\/\/[^\/]+/);return O}return b}(De(je($))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,$=""){return this.path()==this.normalize(O+$e($))}normalize(O){return b.stripTrailingSlash(function Vt(b,K){if(!b||!K.startsWith(b))return K;const O=K.substring(b.length);return""===O||["/",";","?","#"].includes(O[0])?O:K}(this._basePath,je(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,$="",Ie=null){this._locationStrategy.pushState(Ie,"",O,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+$e($)),Ie)}replaceState(O,$="",Ie=null){this._locationStrategy.replaceState(Ie,"",O,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+$e($)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription??=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}),()=>{const $=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice($,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",$){this._urlChangeListeners.forEach(Ie=>Ie(O,$))}subscribe(O,$,Ie){return this._subject.subscribe({next:O,error:$,complete:Ie})}static#e=this.normalizeQueryParams=$e;static#t=this.joinWithSlash=le;static#n=this.stripTrailingSlash=De;static#r=this.\u0275fac=function($){return new($||b)(p.KVO(ze))};static#i=this.\u0275prov=p.jDH({token:b,factory:()=>function Ft(){return new pt((0,p.KVO)(ze))}(),providedIn:"root"})}return b})();function je(b){return b.replace(/\/index.html$/,"")}function ye(b,K){K=encodeURIComponent(K);for(const O of b.split(";")){const $=O.indexOf("="),[Ie,lt]=-1==$?[O,""]:[O.slice(0,$),O.slice($+1)];if(Ie.trim()===K)return decodeURIComponent(lt)}return null}const we=/\s+/,Qe=[];let st=(()=>{class b{constructor(O,$){this._ngEl=O,this._renderer=$,this.initialClasses=Qe,this.stateMap=new Map}set klass(O){this.initialClasses=null!=O?O.trim().split(we):Qe}set ngClass(O){this.rawClass="string"==typeof O?O.trim().split(we):O}ngDoCheck(){for(const $ of this.initialClasses)this._updateState($,!0);const O=this.rawClass;if(Array.isArray(O)||O instanceof Set)for(const $ of O)this._updateState($,!0);else if(null!=O)for(const $ of Object.keys(O))this._updateState($,!!O[$]);this._applyStateDiff()}_updateState(O,$){const Ie=this.stateMap.get(O);void 0!==Ie?(Ie.enabled!==$&&(Ie.changed=!0,Ie.enabled=$),Ie.touched=!0):this.stateMap.set(O,{enabled:$,changed:!0,touched:!0})}_applyStateDiff(){for(const O of this.stateMap){const $=O[0],Ie=O[1];Ie.changed?(this._toggleClass($,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass($,!1),this.stateMap.delete($)),Ie.touched=!1}}_toggleClass(O,$){(O=O.trim()).length>0&&O.split(we).forEach(Ie=>{$?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.aKT),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngClass",""]],inputs:{klass:[p.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return b})();class mn{constructor(K,O,$,Ie){this.$implicit=K,this.ngForOf=O,this.index=$,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _n=(()=>{class b{set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}constructor(O,$,Ie){this._viewContainer=O,this._template=$,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const $=this._viewContainer;O.forEachOperation((Ie,lt,Ct)=>{if(null==Ie.previousIndex)$.createEmbeddedView(this._template,new mn(Ie.item,this._ngForOf,-1,-1),null===Ct?void 0:Ct);else if(null==Ct)$.remove(null===lt?void 0:lt);else if(null!==lt){const cn=$.get(lt);$.move(cn,Ct),wr(cn,Ie)}});for(let Ie=0,lt=$.length;Ie<lt;Ie++){const cn=$.get(Ie).context;cn.index=Ie,cn.count=lt,cn.ngForOf=this._ngForOf}O.forEachIdentityChange(Ie=>{wr($.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(O,$){return!0}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(p._q3))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return b})();function wr(b,K){b.context.$implicit=K.item}let Mr=(()=>{class b{constructor(O,$){this._viewContainer=O,this._context=new li,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){Hi("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){Hi("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,$){return!0}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.c1b),p.rXU(p.C4Q))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return b})();class li{constructor(){this.$implicit=null,this.ngIf=null}}function Hi(b,K){if(K&&!K.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,p.Tbb)(K)}'.`)}let Cn=(()=>{class b{constructor(O,$,Ie){this._ngEl=O,this._differs=$,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(O){this._ngStyle=O,!this._differ&&O&&(this._differ=this._differs.find(O).create())}ngDoCheck(){if(this._differ){const O=this._differ.diff(this._ngStyle);O&&this._applyChanges(O)}}_setStyle(O,$){const[Ie,lt]=O.split("."),Ct=-1===Ie.indexOf("-")?void 0:p.czy.DashCase;null!=$?this._renderer.setStyle(this._ngEl.nativeElement,Ie,lt?`${$}${lt}`:$,Ct):this._renderer.removeStyle(this._ngEl.nativeElement,Ie,Ct)}_applyChanges(O){O.forEachRemovedItem($=>this._setStyle($.key,null)),O.forEachAddedItem($=>this._setStyle($.key,$.currentValue)),O.forEachChangedItem($=>this._setStyle($.key,$.currentValue))}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.aKT),p.rXU(p.MKu),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return b})(),qn=(()=>{class b{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(this._shouldRecreateView(O)){const $=this._viewContainerRef;if(this._viewRef&&$.remove($.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ie=this._createContextForwardProxy();this._viewRef=$.createEmbeddedView(this.ngTemplateOutlet,Ie,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(O){return!!O.ngTemplateOutlet||!!O.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(O,$,Ie)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,$,Ie),get:(O,$,Ie)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,$,Ie)}})}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.c1b))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.OA$]})}return b})(),$i=(()=>{class b{static#e=this.\u0275fac=function($){return new($||b)};static#t=this.\u0275mod=p.$C({type:b});static#n=this.\u0275inj=p.G2t({})}return b})();const Vo="browser",Uo="server";function Ts(b){return b===Vo}function da(b){return b===Uo}let _o=(()=>{class b{static#e=this.\u0275prov=(0,p.jDH)({token:b,providedIn:"root",factory:()=>Ts((0,p.WQX)(p.Agw))?new ti((0,p.WQX)(W),window):new zs})}return b})();class ti{constructor(K,O){this.document=K,this.window=O,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(K){this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){const O=function lr(b,K){const O=b.getElementById(K)||b.getElementsByName(K)[0];if(O)return O;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const $=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let Ie=$.currentNode;for(;Ie;){const lt=Ie.shadowRoot;if(lt){const Ct=lt.getElementById(K)||lt.querySelector(`[name="${K}"]`);if(Ct)return Ct}Ie=$.nextNode()}}return null}(this.document,K);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(K){this.window.history.scrollRestoration=K}scrollToElement(K){const O=K.getBoundingClientRect(),$=O.left+this.window.pageXOffset,Ie=O.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo($-lt[0],Ie-lt[1])}}class zs{setOffset(K){}getScrollPosition(){return[0,0]}scrollToPosition(K){}scrollToAnchor(K){}setHistoryScrollRestoration(K){}}class bs{}},1626:(Qt,We,L)=>{L.d(We,{Qq:()=>ct,q1:()=>$n}),L(467);var F=L(4438),_=L(7673),ge=L(1985),V=L(8455),Q=L(274),W=L(5964),oe=L(6354),de=L(980),ne=L(5558),le=L(177);class De{}class $e{}class ze{constructor(ye){this.normalizedNames=new Map,this.lazyUpdate=null,ye?"string"==typeof ye?this.lazyInit=()=>{this.headers=new Map,ye.split("\n").forEach(we=>{const Qe=we.indexOf(":");if(Qe>0){const st=we.slice(0,Qe),xt=st.toLowerCase(),Ut=we.slice(Qe+1).trim();this.maybeSetNormalizedName(st,xt),this.headers.has(xt)?this.headers.get(xt).push(Ut):this.headers.set(xt,[Ut])}})}:typeof Headers<"u"&&ye instanceof Headers?(this.headers=new Map,ye.forEach((we,Qe)=>{this.setHeaderEntries(Qe,we)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ye).forEach(([we,Qe])=>{this.setHeaderEntries(we,Qe)})}:this.headers=new Map}has(ye){return this.init(),this.headers.has(ye.toLowerCase())}get(ye){this.init();const we=this.headers.get(ye.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ye){return this.init(),this.headers.get(ye.toLowerCase())||null}append(ye,we){return this.clone({name:ye,value:we,op:"a"})}set(ye,we){return this.clone({name:ye,value:we,op:"s"})}delete(ye,we){return this.clone({name:ye,value:we,op:"d"})}maybeSetNormalizedName(ye,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,ye)}init(){this.lazyInit&&(this.lazyInit instanceof ze?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ye=>this.applyUpdate(ye)),this.lazyUpdate=null))}copyFrom(ye){ye.init(),Array.from(ye.headers.keys()).forEach(we=>{this.headers.set(we,ye.headers.get(we)),this.normalizedNames.set(we,ye.normalizedNames.get(we))})}clone(ye){const we=new ze;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof ze?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([ye]),we}applyUpdate(ye){const we=ye.name.toLowerCase();switch(ye.op){case"a":case"s":let Qe=ye.value;if("string"==typeof Qe&&(Qe=[Qe]),0===Qe.length)return;this.maybeSetNormalizedName(ye.name,we);const st=("a"===ye.op?this.headers.get(we):void 0)||[];st.push(...Qe),this.headers.set(we,st);break;case"d":const xt=ye.value;if(xt){let Ut=this.headers.get(we);if(!Ut)return;Ut=Ut.filter(mn=>-1===xt.indexOf(mn)),0===Ut.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,Ut)}else this.headers.delete(we),this.normalizedNames.delete(we)}}setHeaderEntries(ye,we){const Qe=(Array.isArray(we)?we:[we]).map(xt=>xt.toString()),st=ye.toLowerCase();this.headers.set(st,Qe),this.maybeSetNormalizedName(ye,st)}forEach(ye){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>ye(this.normalizedNames.get(we),this.headers.get(we)))}}class At{encodeKey(ye){return Vt(ye)}encodeValue(ye){return Vt(ye)}decodeKey(ye){return decodeURIComponent(ye)}decodeValue(ye){return decodeURIComponent(ye)}}const pt=/%(\d[a-f0-9])/gi,Ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vt(te){return encodeURIComponent(te).replace(pt,(ye,we)=>Ft[we]??ye)}function je(te){return`${te}`}class Ve{constructor(ye={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ye.encoder||new At,ye.fromString){if(ye.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dt(te,ye){const we=new Map;return te.length>0&&te.replace(/^\?/,"").split("&").forEach(st=>{const xt=st.indexOf("="),[Ut,mn]=-1==xt?[ye.decodeKey(st),""]:[ye.decodeKey(st.slice(0,xt)),ye.decodeValue(st.slice(xt+1))],_n=we.get(Ut)||[];_n.push(mn),we.set(Ut,_n)}),we}(ye.fromString,this.encoder)}else ye.fromObject?(this.map=new Map,Object.keys(ye.fromObject).forEach(we=>{const Qe=ye.fromObject[we],st=Array.isArray(Qe)?Qe.map(je):[je(Qe)];this.map.set(we,st)})):this.map=null}has(ye){return this.init(),this.map.has(ye)}get(ye){this.init();const we=this.map.get(ye);return we?we[0]:null}getAll(ye){return this.init(),this.map.get(ye)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ye,we){return this.clone({param:ye,value:we,op:"a"})}appendAll(ye){const we=[];return Object.keys(ye).forEach(Qe=>{const st=ye[Qe];Array.isArray(st)?st.forEach(xt=>{we.push({param:Qe,value:xt,op:"a"})}):we.push({param:Qe,value:st,op:"a"})}),this.clone(we)}set(ye,we){return this.clone({param:ye,value:we,op:"s"})}delete(ye,we){return this.clone({param:ye,value:we,op:"d"})}toString(){return this.init(),this.keys().map(ye=>{const we=this.encoder.encodeKey(ye);return this.map.get(ye).map(Qe=>we+"="+this.encoder.encodeValue(Qe)).join("&")}).filter(ye=>""!==ye).join("&")}clone(ye){const we=new Ve({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(ye),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ye=>this.map.set(ye,this.cloneFrom.map.get(ye))),this.updates.forEach(ye=>{switch(ye.op){case"a":case"s":const we=("a"===ye.op?this.map.get(ye.param):void 0)||[];we.push(je(ye.value)),this.map.set(ye.param,we);break;case"d":if(void 0===ye.value){this.map.delete(ye.param);break}{let Qe=this.map.get(ye.param)||[];const st=Qe.indexOf(je(ye.value));-1!==st&&Qe.splice(st,1),Qe.length>0?this.map.set(ye.param,Qe):this.map.delete(ye.param)}}}),this.cloneFrom=this.updates=null)}}class ve{constructor(){this.map=new Map}set(ye,we){return this.map.set(ye,we),this}get(ye){return this.map.has(ye)||this.map.set(ye,ye.defaultValue()),this.map.get(ye)}delete(ye){return this.map.delete(ye),this}has(ye){return this.map.has(ye)}keys(){return this.map.keys()}}function Je(te){return typeof ArrayBuffer<"u"&&te instanceof ArrayBuffer}function ue(te){return typeof Blob<"u"&&te instanceof Blob}function Ae(te){return typeof FormData<"u"&&te instanceof FormData}class Ee{constructor(ye,we,Qe,st){let xt;if(this.url=we,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ye.toUpperCase(),function Te(te){switch(te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||st?(this.body=void 0!==Qe?Qe:null,xt=st):xt=Qe,xt&&(this.reportProgress=!!xt.reportProgress,this.withCredentials=!!xt.withCredentials,xt.responseType&&(this.responseType=xt.responseType),xt.headers&&(this.headers=xt.headers),xt.context&&(this.context=xt.context),xt.params&&(this.params=xt.params),this.transferCache=xt.transferCache),this.headers??=new ze,this.context??=new ve,this.params){const Ut=this.params.toString();if(0===Ut.length)this.urlWithParams=we;else{const mn=we.indexOf("?");this.urlWithParams=we+(-1===mn?"?":mn<we.length-1?"&":"")+Ut}}else this.params=new Ve,this.urlWithParams=we}serializeBody(){return null===this.body?null:"string"==typeof this.body||Je(this.body)||ue(this.body)||Ae(this.body)||function mt(te){return typeof URLSearchParams<"u"&&te instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ae(this.body)?null:ue(this.body)?this.body.type||null:Je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ye={}){const we=ye.method||this.method,Qe=ye.url||this.url,st=ye.responseType||this.responseType,xt=ye.transferCache??this.transferCache,Ut=void 0!==ye.body?ye.body:this.body,mn=ye.withCredentials??this.withCredentials,_n=ye.reportProgress??this.reportProgress;let wr=ye.headers||this.headers,Cr=ye.params||this.params;const Mr=ye.context??this.context;return void 0!==ye.setHeaders&&(wr=Object.keys(ye.setHeaders).reduce((li,Hi)=>li.set(Hi,ye.setHeaders[Hi]),wr)),ye.setParams&&(Cr=Object.keys(ye.setParams).reduce((li,Hi)=>li.set(Hi,ye.setParams[Hi]),Cr)),new Ee(we,Qe,Ut,{params:Cr,headers:wr,context:Mr,reportProgress:_n,responseType:st,withCredentials:mn,transferCache:xt})}}var Ht=function(te){return te[te.Sent=0]="Sent",te[te.UploadProgress=1]="UploadProgress",te[te.ResponseHeader=2]="ResponseHeader",te[te.DownloadProgress=3]="DownloadProgress",te[te.Response=4]="Response",te[te.User=5]="User",te}(Ht||{});class In{constructor(ye,we=Pe.Ok,Qe="OK"){this.headers=ye.headers||new ze,this.status=void 0!==ye.status?ye.status:we,this.statusText=ye.statusText||Qe,this.url=ye.url||null,this.ok=this.status>=200&&this.status<300}}class It extends In{constructor(ye={}){super(ye),this.type=Ht.ResponseHeader}clone(ye={}){return new It({headers:ye.headers||this.headers,status:void 0!==ye.status?ye.status:this.status,statusText:ye.statusText||this.statusText,url:ye.url||this.url||void 0})}}class rn extends In{constructor(ye={}){super(ye),this.type=Ht.Response,this.body=void 0!==ye.body?ye.body:null}clone(ye={}){return new rn({body:void 0!==ye.body?ye.body:this.body,headers:ye.headers||this.headers,status:void 0!==ye.status?ye.status:this.status,statusText:ye.statusText||this.statusText,url:ye.url||this.url||void 0})}}class bt extends In{constructor(ye){super(ye,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ye.url||"(unknown url)"}`:`Http failure response for ${ye.url||"(unknown url)"}: ${ye.status} ${ye.statusText}`,this.error=ye.error||null}}var Pe=function(te){return te[te.Continue=100]="Continue",te[te.SwitchingProtocols=101]="SwitchingProtocols",te[te.Processing=102]="Processing",te[te.EarlyHints=103]="EarlyHints",te[te.Ok=200]="Ok",te[te.Created=201]="Created",te[te.Accepted=202]="Accepted",te[te.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",te[te.NoContent=204]="NoContent",te[te.ResetContent=205]="ResetContent",te[te.PartialContent=206]="PartialContent",te[te.MultiStatus=207]="MultiStatus",te[te.AlreadyReported=208]="AlreadyReported",te[te.ImUsed=226]="ImUsed",te[te.MultipleChoices=300]="MultipleChoices",te[te.MovedPermanently=301]="MovedPermanently",te[te.Found=302]="Found",te[te.SeeOther=303]="SeeOther",te[te.NotModified=304]="NotModified",te[te.UseProxy=305]="UseProxy",te[te.Unused=306]="Unused",te[te.TemporaryRedirect=307]="TemporaryRedirect",te[te.PermanentRedirect=308]="PermanentRedirect",te[te.BadRequest=400]="BadRequest",te[te.Unauthorized=401]="Unauthorized",te[te.PaymentRequired=402]="PaymentRequired",te[te.Forbidden=403]="Forbidden",te[te.NotFound=404]="NotFound",te[te.MethodNotAllowed=405]="MethodNotAllowed",te[te.NotAcceptable=406]="NotAcceptable",te[te.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",te[te.RequestTimeout=408]="RequestTimeout",te[te.Conflict=409]="Conflict",te[te.Gone=410]="Gone",te[te.LengthRequired=411]="LengthRequired",te[te.PreconditionFailed=412]="PreconditionFailed",te[te.PayloadTooLarge=413]="PayloadTooLarge",te[te.UriTooLong=414]="UriTooLong",te[te.UnsupportedMediaType=415]="UnsupportedMediaType",te[te.RangeNotSatisfiable=416]="RangeNotSatisfiable",te[te.ExpectationFailed=417]="ExpectationFailed",te[te.ImATeapot=418]="ImATeapot",te[te.MisdirectedRequest=421]="MisdirectedRequest",te[te.UnprocessableEntity=422]="UnprocessableEntity",te[te.Locked=423]="Locked",te[te.FailedDependency=424]="FailedDependency",te[te.TooEarly=425]="TooEarly",te[te.UpgradeRequired=426]="UpgradeRequired",te[te.PreconditionRequired=428]="PreconditionRequired",te[te.TooManyRequests=429]="TooManyRequests",te[te.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",te[te.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",te[te.InternalServerError=500]="InternalServerError",te[te.NotImplemented=501]="NotImplemented",te[te.BadGateway=502]="BadGateway",te[te.ServiceUnavailable=503]="ServiceUnavailable",te[te.GatewayTimeout=504]="GatewayTimeout",te[te.HttpVersionNotSupported=505]="HttpVersionNotSupported",te[te.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",te[te.InsufficientStorage=507]="InsufficientStorage",te[te.LoopDetected=508]="LoopDetected",te[te.NotExtended=510]="NotExtended",te[te.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",te}(Pe||{});function He(te,ye){return{body:ye,headers:te.headers,context:te.context,observe:te.observe,params:te.params,reportProgress:te.reportProgress,responseType:te.responseType,withCredentials:te.withCredentials,transferCache:te.transferCache}}let ct=(()=>{class te{constructor(we){this.handler=we}request(we,Qe,st={}){let xt;if(we instanceof Ee)xt=we;else{let _n,wr;_n=st.headers instanceof ze?st.headers:new ze(st.headers),st.params&&(wr=st.params instanceof Ve?st.params:new Ve({fromObject:st.params})),xt=new Ee(we,Qe,void 0!==st.body?st.body:null,{headers:_n,context:st.context,params:wr,reportProgress:st.reportProgress,responseType:st.responseType||"json",withCredentials:st.withCredentials,transferCache:st.transferCache})}const Ut=(0,_.of)(xt).pipe((0,Q.H)(_n=>this.handler.handle(_n)));if(we instanceof Ee||"events"===st.observe)return Ut;const mn=Ut.pipe((0,W.p)(_n=>_n instanceof rn));switch(st.observe||"body"){case"body":switch(xt.responseType){case"arraybuffer":return mn.pipe((0,oe.T)(_n=>{if(null!==_n.body&&!(_n.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _n.body}));case"blob":return mn.pipe((0,oe.T)(_n=>{if(null!==_n.body&&!(_n.body instanceof Blob))throw new Error("Response is not a Blob.");return _n.body}));case"text":return mn.pipe((0,oe.T)(_n=>{if(null!==_n.body&&"string"!=typeof _n.body)throw new Error("Response is not a string.");return _n.body}));default:return mn.pipe((0,oe.T)(_n=>_n.body))}case"response":return mn;default:throw new Error(`Unreachable: unhandled observe type ${st.observe}}`)}}delete(we,Qe={}){return this.request("DELETE",we,Qe)}get(we,Qe={}){return this.request("GET",we,Qe)}head(we,Qe={}){return this.request("HEAD",we,Qe)}jsonp(we,Qe){return this.request("JSONP",we,{params:(new Ve).append(Qe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,Qe={}){return this.request("OPTIONS",we,Qe)}patch(we,Qe,st={}){return this.request("PATCH",we,He(st,Qe))}post(we,Qe,st={}){return this.request("POST",we,He(st,Qe))}put(we,Qe,st={}){return this.request("PUT",we,He(st,Qe))}static#e=this.\u0275fac=function(Qe){return new(Qe||te)(F.KVO(De))};static#t=this.\u0275prov=F.jDH({token:te,factory:te.\u0275fac})}return te})();function dn(te,ye){return ye(te)}function bn(te,ye){return(we,Qe)=>ye.intercept(we,{handle:st=>te(st,Qe)})}const Gn=new F.nKC(""),Kn=new F.nKC(""),Bn=new F.nKC(""),Jt=new F.nKC("");function ir(){let te=null;return(ye,we)=>{null===te&&(te=((0,F.WQX)(Gn,{optional:!0})??[]).reduceRight(bn,dn));const Qe=(0,F.WQX)(F.TgB),st=Qe.add();return te(ye,we).pipe((0,de.j)(()=>Qe.remove(st)))}}let jn=(()=>{class te extends De{constructor(we,Qe){super(),this.backend=we,this.injector=Qe,this.chain=null,this.pendingTasks=(0,F.WQX)(F.TgB);const st=(0,F.WQX)(Jt,{optional:!0});this.backend=st??we}handle(we){if(null===this.chain){const st=Array.from(new Set([...this.injector.get(Kn),...this.injector.get(Bn,[])]));this.chain=st.reduceRight((xt,Ut)=>function Mn(te,ye,we){return(Qe,st)=>(0,F.N4e)(we,()=>ye(Qe,xt=>te(xt,st)))}(xt,Ut,this.injector),dn)}const Qe=this.pendingTasks.add();return this.chain(we,st=>this.backend.handle(st)).pipe((0,de.j)(()=>this.pendingTasks.remove(Qe)))}static#e=this.\u0275fac=function(Qe){return new(Qe||te)(F.KVO($e),F.KVO(F.uvJ))};static#t=this.\u0275prov=F.jDH({token:te,factory:te.\u0275fac})}return te})();const et=/^\)\]\}',?\n/;let Wn=(()=>{class te{constructor(we){this.xhrFactory=we}handle(we){if("JSONP"===we.method)throw new F.wOt(-2800,!1);const Qe=this.xhrFactory;return(Qe.\u0275loadImpl?(0,V.H)(Qe.\u0275loadImpl()):(0,_.of)(null)).pipe((0,ne.n)(()=>new ge.c(xt=>{const Ut=Qe.build();if(Ut.open(we.method,we.urlWithParams),we.withCredentials&&(Ut.withCredentials=!0),we.headers.forEach((tr,Zn)=>Ut.setRequestHeader(tr,Zn.join(","))),we.headers.has("Accept")||Ut.setRequestHeader("Accept","application/json, text/plain, */*"),!we.headers.has("Content-Type")){const tr=we.detectContentTypeHeader();null!==tr&&Ut.setRequestHeader("Content-Type",tr)}if(we.responseType){const tr=we.responseType.toLowerCase();Ut.responseType="json"!==tr?tr:"text"}const mn=we.serializeBody();let _n=null;const wr=()=>{if(null!==_n)return _n;const tr=Ut.statusText||"OK",Zn=new ze(Ut.getAllResponseHeaders()),Fn=function Et(te){return"responseURL"in te&&te.responseURL?te.responseURL:/^X-Request-URL:/m.test(te.getAllResponseHeaders())?te.getResponseHeader("X-Request-URL"):null}(Ut)||we.url;return _n=new It({headers:Zn,status:Ut.status,statusText:tr,url:Fn}),_n},Cr=()=>{let{headers:tr,status:Zn,statusText:Fn,url:jr}=wr(),Kr=null;Zn!==Pe.NoContent&&(Kr=typeof Ut.response>"u"?Ut.responseText:Ut.response),0===Zn&&(Zn=Kr?Pe.Ok:0);let Yr=Zn>=200&&Zn<300;if("json"===we.responseType&&"string"==typeof Kr){const yr=Kr;Kr=Kr.replace(et,"");try{Kr=""!==Kr?JSON.parse(Kr):null}catch(Ti){Kr=yr,Yr&&(Yr=!1,Kr={error:Ti,text:Kr})}}Yr?(xt.next(new rn({body:Kr,headers:tr,status:Zn,statusText:Fn,url:jr||void 0})),xt.complete()):xt.error(new bt({error:Kr,headers:tr,status:Zn,statusText:Fn,url:jr||void 0}))},Mr=tr=>{const{url:Zn}=wr(),Fn=new bt({error:tr,status:Ut.status||0,statusText:Ut.statusText||"Unknown Error",url:Zn||void 0});xt.error(Fn)};let li=!1;const Hi=tr=>{li||(xt.next(wr()),li=!0);let Zn={type:Ht.DownloadProgress,loaded:tr.loaded};tr.lengthComputable&&(Zn.total=tr.total),"text"===we.responseType&&Ut.responseText&&(Zn.partialText=Ut.responseText),xt.next(Zn)},di=tr=>{let Zn={type:Ht.UploadProgress,loaded:tr.loaded};tr.lengthComputable&&(Zn.total=tr.total),xt.next(Zn)};return Ut.addEventListener("load",Cr),Ut.addEventListener("error",Mr),Ut.addEventListener("timeout",Mr),Ut.addEventListener("abort",Mr),we.reportProgress&&(Ut.addEventListener("progress",Hi),null!==mn&&Ut.upload&&Ut.upload.addEventListener("progress",di)),Ut.send(mn),xt.next({type:Ht.Sent}),()=>{Ut.removeEventListener("error",Mr),Ut.removeEventListener("abort",Mr),Ut.removeEventListener("load",Cr),Ut.removeEventListener("timeout",Mr),we.reportProgress&&(Ut.removeEventListener("progress",Hi),null!==mn&&Ut.upload&&Ut.upload.removeEventListener("progress",di)),Ut.readyState!==Ut.DONE&&Ut.abort()}})))}static#e=this.\u0275fac=function(Qe){return new(Qe||te)(F.KVO(le.N0))};static#t=this.\u0275prov=F.jDH({token:te,factory:te.\u0275fac})}return te})();const nn=new F.nKC(""),An=new F.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dr=new F.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zr{}let ui=(()=>{class te{constructor(we,Qe,st){this.doc=we,this.platform=Qe,this.cookieName=st,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const we=this.doc.cookie||"";return we!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,le._b)(we,this.cookieName),this.lastCookieString=we),this.lastToken}static#e=this.\u0275fac=function(Qe){return new(Qe||te)(F.KVO(le.qQ),F.KVO(F.Agw),F.KVO(An))};static#t=this.\u0275prov=F.jDH({token:te,factory:te.\u0275fac})}return te})();function ei(te,ye){const we=te.url.toLowerCase();if(!(0,F.WQX)(nn)||"GET"===te.method||"HEAD"===te.method||we.startsWith("http://")||we.startsWith("https://"))return ye(te);const Qe=(0,F.WQX)(zr).getToken(),st=(0,F.WQX)(Dr);return null!=Qe&&!te.headers.has(st)&&(te=te.clone({headers:te.headers.set(st,Qe)})),ye(te)}var Ke=function(te){return te[te.Interceptors=0]="Interceptors",te[te.LegacyInterceptors=1]="LegacyInterceptors",te[te.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",te[te.NoXsrfProtection=3]="NoXsrfProtection",te[te.JsonpSupport=4]="JsonpSupport",te[te.RequestsMadeViaParent=5]="RequestsMadeViaParent",te[te.Fetch=6]="Fetch",te}(Ke||{});function xe(...te){const ye=[ct,Wn,jn,{provide:De,useExisting:jn},{provide:$e,useExisting:Wn},{provide:Kn,useValue:ei,multi:!0},{provide:nn,useValue:!0},{provide:zr,useClass:ui}];for(const we of te)ye.push(...we.\u0275providers);return(0,F.EmA)(ye)}const fe=new F.nKC("");function Y(){return function me(te,ye){return{\u0275kind:te,\u0275providers:ye}}(Ke.LegacyInterceptors,[{provide:fe,useFactory:ir},{provide:Kn,useExisting:fe,multi:!0}])}let $n=(()=>{class te{static#e=this.\u0275fac=function(Qe){return new(Qe||te)};static#t=this.\u0275mod=F.$C({type:te});static#n=this.\u0275inj=F.G2t({providers:[xe(Y())]})}return te})()},4438:(Qt,We,L)=>{L.d(We,{bc$:()=>Uc,iLQ:()=>$0,sZ2:()=>Ig,hnV:()=>Eb,Hbi:()=>tP,o8S:()=>cd,BIS:()=>Bc,gRc:()=>Nb,Ql9:()=>D1,Ocv:()=>k1,Z63:()=>ps,aKT:()=>Ld,uvJ:()=>Pi,zcH:()=>wa,bkB:()=>tl,$GK:()=>Jn,nKC:()=>st,zZn:()=>Gr,_q3:()=>Y0,MKu:()=>Z0,xe9:()=>dI,Co$:()=>$v,Vns:()=>pu,SKi:()=>cs,Xx1:()=>Ts,Agw:()=>Ru,PLl:()=>Eg,sFG:()=>au,_9s:()=>fv,czy:()=>Hf,WPN:()=>Va,kdw:()=>ci,C4Q:()=>Ku,NYb:()=>I1,giA:()=>vb,xvI:()=>KR,RxE:()=>db,c1b:()=>Zm,gXe:()=>Ai,mal:()=>Zu,L39:()=>PP,Ol2:()=>y_,w6W:()=>zE,oH4:()=>Pb,Rfq:()=>ei,WQX:()=>Hn,naY:()=>B1,QuC:()=>Ri,EmA:()=>gi,fpN:()=>eP,HJs:()=>VP,N4e:()=>Bs,O8t:()=>xP,An2:()=>Hm,H3F:()=>hb,H8p:()=>Wo,KH2:()=>Gp,TgB:()=>f,wOt:()=>Nt,WHO:()=>_b,e01:()=>yb,lNU:()=>ir,h9k:()=>$g,$MX:()=>bf,ZF7:()=>Nu,Kcf:()=>Qc,e5t:()=>NI,UyX:()=>Iy,cWb:()=>Xd,osQ:()=>Ey,H5H:()=>E0,Zy3:()=>xn,mq5:()=>bC,JZv:()=>Et,LfX:()=>Ge,plB:()=>du,jNT:()=>j0,zjR:()=>Ib,TL$:()=>oy,Tbb:()=>or,rcV:()=>ml,Vt3:()=>Kl,Mj6:()=>Ds,GFd:()=>m_,OA$:()=>nt,Jv_:()=>UT,aNF:()=>BT,R7$:()=>hm,BMQ:()=>o0,HbH:()=>uC,AVh:()=>f0,wni:()=>pT,VBU:()=>Da,FsC:()=>Jo,jDH:()=>sr,G2t:()=>Xi,$C:()=>ms,EJ8:()=>Ho,rXU:()=>Bu,nrm:()=>v0,eu8:()=>I0,bVm:()=>eI,qex:()=>Jv,k0s:()=>Zv,j41:()=>Yv,RV6:()=>wC,xGo:()=>pr,KVO:()=>fi,kS0:()=>xd,QTQ:()=>Hy,bIt:()=>T0,lsd:()=>_T,qSk:()=>ic,XpG:()=>nT,SdG:()=>iT,NAR:()=>rT,Y8G:()=>u0,eq3:()=>HT,l_i:()=>$T,sMw:()=>GT,mGM:()=>mT,sdS:()=>yT,Njj:()=>Ui,EBC:()=>xy,eBV:()=>ya,B4B:()=>Mf,n$t:()=>xf,Aen:()=>ql,xc7:()=>h0,DNE:()=>kr,EFF:()=>ST,JRh:()=>D0,SpI:()=>sI,Lme:()=>S0,DH7:()=>FT,mxI:()=>P0,R50:()=>R0,GBs:()=>gT}),L(467);let _=null,V=1;const Q=Symbol("SIGNAL");function W(t){const r=_;return _=t,r}function ze(t){if((!ve(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==V)){if(!t.producerMustRecompute(t)&&!Vt(t))return t.dirty=!1,void(t.lastCleanEpoch=V);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=V}}function Vt(t){Te(t);for(let r=0;r<t.producerNode.length;r++){const i=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==i.version||(ze(i),a!==i.version))return!0}return!1}function be(t,r){if(function Je(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Te(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)be(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Te(c),c.producerIndexOfThis[a]=r}}function ve(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Te(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let It=null;var Mn=L(1413),Gn=L(8359),Kn=L(4412),Bn=L(6354);const ir="https://g.co/ng/security#xss";class Nt extends Error{constructor(r,i){super(xn(r,i)),this.code=r}}function xn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function an(t){return{toString:t}.toString()}const Pr="__parameters__";function Be(t,r,i){return an(()=>{const a=function Se(t){return function(...i){if(t){const a=t(...i);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const m=new c(...d);return I.annotation=m,I;function I(A,k,q){const ce=A.hasOwnProperty(Pr)?A[Pr]:Object.defineProperty(A,Pr,{value:[]})[Pr];for(;ce.length<=q;)ce.push(null);return(ce[q]=ce[q]||[]).push(m),A}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const Et=globalThis;function On(t){for(let r in t)if(t[r]===On)return r;throw Error("Could not find renamed property on target object.")}function An(t,r){for(const i in r)r.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=r[i])}function or(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(or).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const i=r.indexOf("\n");return-1===i?r:r.substring(0,i)}function Dr(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ui=On({__forward_ref__:On});function ei(t){return t.__forward_ref__=ei,t.toString=function(){return or(this())},t}function Fe(t){return Ke(t)?t():t}function Ke(t){return"function"==typeof t&&t.hasOwnProperty(ui)&&t.__forward_ref__===ei}function sr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xi(t){return{providers:t.providers||[],imports:t.imports||[]}}function ot(t){return vt(t,te)||vt(t,we)}function Ge(t){return null!==ot(t)}function vt(t,r){return t.hasOwnProperty(r)?t[r]:null}function Nn(t){return t&&(t.hasOwnProperty(ye)||t.hasOwnProperty(Qe))?t[ye]:null}const te=On({\u0275prov:On}),ye=On({\u0275inj:On}),we=On({ngInjectableDef:On}),Qe=On({ngInjectorDef:On});class st{constructor(r,i){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=sr({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tr(t){return t&&!!t.\u0275providers}const Zn=On({\u0275cmp:On}),Fn=On({\u0275dir:On}),jr=On({\u0275pipe:On}),Kr=On({\u0275mod:On}),Yr=On({\u0275fac:On}),yr=On({__NG_ELEMENT_ID__:On}),Ti=On({__NG_ENV_ID__:On});function Cn(t){return"string"==typeof t?t:null==t?"":String(t)}function Is(t,r){throw new Nt(-201,!1)}var Jn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Jn||{});let hs;function Xo(){return hs}function hi(t){const r=hs;return hs=t,r}function Li(t,r,i){const a=ot(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&Jn.Optional?null:void 0!==r?r:void Is()}const Yi={},Es="__NG_DI_FLAG__",fs="ngTempTokenPath",io=/\n/gm,so="__source";let Zi;function xr(t){const r=Zi;return Zi=t,r}function oo(t,r=Jn.Default){if(void 0===Zi)throw new Nt(-203,!1);return null===Zi?Li(t,void 0,r):Zi.get(t,r&Jn.Optional?null:void 0,r)}function fi(t,r=Jn.Default){return(Xo()||oo)(Fe(t),r)}function Hn(t,r=Jn.Default){return fi(t,ws(r))}function ws(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ao(t){const r=[];for(let i=0;i<t.length;i++){const a=Fe(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Nt(900,!1);let c,d=Jn.Default;for(let m=0;m<a.length;m++){const I=a[m],A=Vo(I);"number"==typeof A?-1===A?c=I.token:d|=A:c=I}r.push(fi(c,d))}else r.push(fi(a))}return r}function $i(t,r){return t[Es]=r,t.prototype[Es]=r,t}function Vo(t){return t[Es]}const Ts=$i(Be("Optional"),8),ci=$i(Be("SkipSelf"),4);function qi(t,r){return t.hasOwnProperty(Yr)?t[Yr]:null}function lr(t,r){t.forEach(i=>Array.isArray(i)?lr(i,r):r(i))}function zs(t,r,i){r>=t.length?t.push(i):t.splice(r,0,i)}function bs(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Zr(t,r,i){let a=Ii(t,r);return a>=0?t[1|a]=i:(a=~a,function Ta(t,r,i,a){let c=t.length;if(c==r)t.push(i,a);else if(1===c)t.push(a,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=i,t[r+1]=a}}(t,a,r,i)),a}function ha(t,r){const i=Ii(t,r);if(i>=0)return t[1|i]}function Ii(t,r){return function lo(t,r,i){let a=0,c=t.length>>i;for(;c!==a;){const d=a+(c-a>>1),m=t[d<<i];if(r===m)return d<<i;m>r?c=d:a=d+1}return~(c<<i)}(t,r,1)}const Vi={},hr=[],ps=new st(""),ba=new st("",-1),vo=new st("");class wi{get(r,i=Yi){if(i===Yi){const a=new Error(`NullInjectorError: No provider for ${or(r)}!`);throw a.name="NullInjectorError",a}return i}}var Io=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Io||{}),Ai=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ai||{}),Ds=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ds||{});function fa(t,r,i){let a=t.length;for(;;){const c=t.indexOf(r,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}i=c+1}}function co(t,r,i){let a=0;for(;a<i.length;){const c=i[a];if("number"==typeof c){if(0!==c)break;a++;const d=i[a++],m=i[a++],I=i[a++];t.setAttribute(r,m,I,d)}else{const d=c,m=i[++a];Eo(d)?t.setProperty(r,d,m):t.setAttribute(r,d,m),a++}}return a}function Gi(t){return 3===t||4===t||6===t}function Eo(t){return 64===t.charCodeAt(0)}function jo(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let i=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?i=c:0===i||Yo(t,i,c,null,-1===i||2===i?r[++a]:null)}}return t}function Yo(t,r,i,a,c){let d=0,m=t.length;if(-1===r)m=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===r){m=-1;break}if(I>r){m=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===i){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==m&&(t.splice(m,0,r),d=m+1),t.splice(d++,0,i),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Ks="ng-template";function wo(t,r,i,a){let c=0;if(a){for(;c<r.length&&"string"==typeof r[c];c+=2)if("class"===r[c]&&-1!==fa(r[c+1].toLowerCase(),i,0))return!0}else if(Co(t))return!1;if(c=r.indexOf(1,c),c>-1){let d;for(;++c<r.length&&"string"==typeof(d=r[c]);)if(d.toLowerCase()===i)return!0}return!1}function Co(t){return 4===t.type&&t.value!==Ks}function G(t,r,i){return r===(4!==t.type||i?t.value:Ks)}function z(t,r,i){let a=4;const c=t.attrs,d=null!==c?function Qn(t){for(let r=0;r<t.length;r++)if(Gi(t[r]))return r;return t.length}(c):0;let m=!1;for(let I=0;I<r.length;I++){const A=r[I];if("number"!=typeof A){if(!m)if(4&a){if(a=2|1&a,""!==A&&!G(t,A,i)||""===A&&1===r.length){if(x(a))return!1;m=!0}}else if(8&a){if(null===c||!wo(t,c,A,i)){if(x(a))return!1;m=!0}}else{const k=r[++I],q=se(A,c,Co(t),i);if(-1===q){if(x(a))return!1;m=!0;continue}if(""!==k){let ce;if(ce=q>d?"":c[q+1].toLowerCase(),2&a&&k!==ce){if(x(a))return!1;m=!0}}}}else{if(!m&&!x(a)&&!x(A))return!1;if(m&&x(A))continue;m=!1,a=A|1&a}}return x(a)||m}function x(t){return!(1&t)}function se(t,r,i,a){if(null===r)return-1;let c=0;if(a||!i){let d=!1;for(;c<r.length;){const m=r[c];if(m===t)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function En(t,r){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===r)return i;i++}return-1}(r,t)}function Re(t,r,i=!1){for(let a=0;a<r.length;a++)if(z(t,r[a],i))return!0;return!1}function qs(t,r){e:for(let i=0;i<r.length;i++){const a=r[i];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function gs(t,r){return t?":not("+r.trim()+")":r}function ks(t){let r=t[0],i=1,a=2,c="",d=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&a){const I=t[++i];c+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!x(m)&&(r+=gs(d,c),c=""),a=m,d=d||!x(a);i++}return""!==c&&(r+=gs(d,c)),r}function Da(t){return an(()=>{const r=rs(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Io.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ai.Emulated,styles:t.styles||hr,_:null,schemas:t.schemas||null,tView:null,id:""};Wa(i);const a=t.dependencies;return i.directiveDefs=Fs(a,!1),i.pipeDefs=Fs(a,!0),i.id=function Sa(t){let r=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)r=Math.imul(31,r)+c.charCodeAt(0)|0;return r+=2147483648,"c"+r}(i),i})}function Ga(t){return er(t)||ni(t)}function Zo(t){return null!==t}function ms(t){return an(()=>({type:t.type,bootstrap:t.bootstrap||hr,declarations:t.declarations||hr,imports:t.imports||hr,exports:t.exports||hr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ns(t,r){if(null==t)return Vi;const i={};for(const a in t)if(t.hasOwnProperty(a)){const c=t[a];let d,m,I=Ds.None;Array.isArray(c)?(I=c[0],d=c[1],m=c[2]??d):(d=c,m=c),r?(i[d]=I!==Ds.None?[a,I]:a,r[d]=m):i[d]=a}return i}function Jo(t){return an(()=>{const r=rs(t);return Wa(r),r})}function Ho(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function er(t){return t[Zn]||null}function ni(t){return t[Fn]||null}function qr(t){return t[jr]||null}function Ri(t){const r=er(t)||ni(t)||qr(t);return null!==r&&r.standalone}function pi(t,r){const i=t[Kr]||null;if(!i&&!0===r)throw new Error(`Type ${or(t)} does not have '\u0275mod' property.`);return i}function rs(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Vi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||hr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ns(t.inputs,r),outputs:ns(t.outputs),debugInfo:null}}function Wa(t){t.features?.forEach(r=>r(t))}function Fs(t,r){if(!t)return null;const i=r?qr:Ga;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(Zo)}function gi(t){return{\u0275providers:t}}function Qs(...t){return{\u0275providers:To(0,t),\u0275fromNgModule:!0}}function To(t,...r){const i=[],a=new Set;let c;const d=m=>{i.push(m)};return lr(r,m=>{const I=m;$o(I,d,[],a)&&(c||=[],c.push(I))}),void 0!==c&&ea(c,d),i}function ea(t,r){for(let i=0;i<t.length;i++){const{ngModule:a,providers:c}=t[i];ta(c,d=>{r(d,a)})}}function $o(t,r,i,a){if(!(t=Fe(t)))return!1;let c=null,d=Nn(t);const m=!d&&er(t);if(d||m){if(m&&!m.standalone)return!1;c=t}else{const A=t.ngModule;if(d=Nn(A),!d)return!1;c=A}const I=a.has(c);if(m){if(I)return!1;if(a.add(c),m.dependencies){const A="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of A)$o(k,r,i,a)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let k;a.add(c);try{lr(d.imports,q=>{$o(q,r,i,a)&&(k||=[],k.push(q))})}finally{}void 0!==k&&ea(k,r)}if(!I){const k=qi(c)||(()=>new c);r({provide:c,useFactory:k,deps:hr},c),r({provide:vo,useValue:c,multi:!0},c),r({provide:ps,useValue:()=>fi(c),multi:!0},c)}const A=d.providers;if(null!=A&&!I){const k=t;ta(A,q=>{r(q,k)})}}}return c!==t&&void 0!==t.providers}function ta(t,r){for(let i of t)tr(i)&&(i=i.\u0275providers),Array.isArray(i)?ta(i,r):r(i)}const Go=On({provide:String,useValue:On});function za(t){return null!==t&&"object"==typeof t&&Go in t}function bo(t){return"function"==typeof t}const Wo=new st(""),pa={},ss={};let ra;function Ao(){return void 0===ra&&(ra=new wi),ra}class Pi{}class ia extends Pi{get destroyed(){return this._destroyed}constructor(r,i,a,c){super(),this.parent=i,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Us(r,m=>this.processProvider(m)),this.records.set(ba,Do(void 0,this)),c.has("environment")&&this.records.set(Pi,Do(void 0,this));const d=this.records.get(Wo);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(vo,hr,Jn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=W(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of i)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const i=xr(this),a=hi(void 0);try{return r()}finally{xr(i),hi(a)}}get(r,i=Yi,a=Jn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ti))return r[Ti](this);a=ws(a);const d=xr(this),m=hi(void 0);try{if(!(a&Jn.SkipSelf)){let A=this.records.get(r);if(void 0===A){const k=function Pa(t){return"function"==typeof t||"object"==typeof t&&t instanceof st}(r)&&ot(r);A=k&&this.injectableDefInScope(k)?Do(Ss(r),pa):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&Jn.Self?Ao():this.parent).get(r,i=a&Jn.Optional&&i===Yi?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[fs]=I[fs]||[]).unshift(or(r)),d)throw I;return function Uo(t,r,i,a){const c=t[fs];throw r[so]&&c.unshift(r[so]),t.message=function Cs(t,r,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=or(r);if(Array.isArray(r))c=r.map(or).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let I=r[m];d.push(m+":"+("string"==typeof I?JSON.stringify(I):or(I)))}c=`{${d.join(", ")}}`}return`${i}${a?"("+a+")":""}[${c}]: ${t.replace(io,"\n  ")}`}("\n"+t.message,c,i,a),t.ngTokenPath=c,t[fs]=null,t}(I,r,"R3InjectorError",this.source)}throw I}finally{hi(m),xr(d)}}resolveInjectorInitializers(){const r=W(null),i=xr(this),a=hi(void 0);try{const d=this.get(ps,hr,Jn.Self);for(const m of d)m()}finally{xr(i),hi(a),W(r)}}toString(){const r=[],i=this.records;for(const a of i.keys())r.push(or(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Nt(205,!1)}processProvider(r){let i=bo(r=Fe(r))?r:Fe(r&&r.provide);const a=function Hr(t){return za(t)?Do(void 0,t.useValue):Do(qa(t),pa)}(r);if(!bo(r)&&!0===r.multi){let c=this.records.get(i);c||(c=Do(void 0,pa,!0),c.factory=()=>ao(c.multi),this.records.set(i,c)),i=r,c.multi.push(r)}this.records.set(i,a)}hydrate(r,i){const a=W(null);try{return i.value===pa&&(i.value=ss,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ll(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{W(a)}}injectableDefInScope(r){if(!r.providedIn)return!1;const i=Fe(r.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(r){const i=this._onDestroyHooks.indexOf(r);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Ss(t){const r=ot(t),i=null!==r?r.factory:qi(t);if(null!==i)return i;if(t instanceof st)throw new Nt(204,!1);if(t instanceof Function)return function Ra(t){if(t.length>0)throw new Nt(204,!1);const i=function qt(t){return t&&(t[te]||t[we])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Nt(204,!1)}function qa(t,r,i){let a;if(bo(t)){const c=Fe(t);return qi(c)||Ss(c)}if(za(t))a=()=>Fe(t.useValue);else if(function na(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ao(t.deps||[]));else if(function is(t){return!(!t||!t.useExisting)}(t))a=()=>fi(Fe(t.useExisting));else{const c=Fe(t&&(t.useClass||t.provide));if(!function Vs(t){return!!t.deps}(t))return qi(c)||Ss(c);a=()=>new c(...ao(t.deps))}return a}function Do(t,r,i=!1){return{factory:t,value:r,multi:i?[]:void 0}}function Us(t,r){for(const i of t)Array.isArray(i)?Us(i,r):i&&tr(i)?Us(i.\u0275providers,r):r(i)}function Bs(t,r){t instanceof ia&&t.assertNotDestroyed();const a=xr(t),c=hi(void 0);try{return r()}finally{xr(a),hi(c)}}function Cl(){return void 0!==Xo()||null!=function Fi(){return Zi}()}const _e=0,he=1,Oe=2,Xe=3,kt=4,Dt=5,Sn=6,kn=7,Bt=8,Rn=9,gt=10,Xt=11,vr=12,Mi=13,Wt=14,zt=15,Rs=16,Ot=17,tt=18,Tt=19,mi=20,Xs=21,Wi=22,uo=23,nr=25,Tl=1,wn=7,fr=9,dr=10;var js=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(js||{});function un(t){return Array.isArray(t)&&"object"==typeof t[Tl]}function Qr(t){return Array.isArray(t)&&!0===t[Tl]}function ri(t){return!!(4&t.flags)}function Vr(t){return t.componentOffset>-1}function Dn(t){return!(1&~t.flags)}function Or(t){return!!t.template}function rr(t){return!!(512&t[Oe])}class Ce{constructor(r,i,a){this.previousValue=r,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function at(t,r,i,a){null!==r?r.applyValueToInputSignal(r,a):t[i]=a}function nt(){return on}function on(t){return t.type.prototype.ngOnChanges&&(t.setInput=_r),ur}function ur(){const t=Ro(this),r=t?.current;if(r){const i=t.previous;if(i===Vi)t.previous=r;else for(let a in r)i[a]=r[a];t.current=null,this.ngOnChanges(r)}}function _r(t,r,i,a,c){const d=this.declaredInputs[a],m=Ro(t)||function ma(t,r){return t[Ur]=r}(t,{previous:Vi,current:null}),I=m.current||(m.current={}),A=m.previous,k=A[d];I[d]=new Ce(k&&k.currentValue,i,A===Vi),at(t,r,c,i)}nt.ngInherit=!0;const Ur="__ngSimpleChanges__";function Ro(t){return t[Ur]||null}const ls=function(t,r,i){},pd="svg";let Zl=!1;function ii(t){for(;Array.isArray(t);)t=t[_e];return t}function _a(t,r){return ii(r[t])}function Hs(t,r){return ii(r[t.index])}function Cc(t,r){return t.data[r]}function ho(t,r){const i=r[t];return un(i)?i:i[_e]}function md(t){return!(128&~t[Oe])}function oa(t,r){return null==r?null:t[r]}function Zh(t){t[Ot]=0}function _d(t){1024&t[Oe]||(t[Oe]|=1024,md(t)&&nc(t))}function tc(t){return!!(9216&t[Oe]||t[uo]?.dirty)}function Tc(t){t[gt].changeDetectionScheduler?.notify(1),tc(t)?nc(t):64&t[Oe]&&(function Jl(){return Zl}()?(t[Oe]|=1024,nc(t)):t[gt].changeDetectionScheduler?.notify())}function nc(t){t[gt].changeDetectionScheduler?.notify();let r=Xa(t);for(;null!==r&&!(8192&r[Oe])&&(r[Oe]|=8192,md(r));)r=Xa(r)}function Qa(t,r){if(!(256&~t[Oe]))throw new Nt(911,!1);null===t[Xs]&&(t[Xs]=[]),t[Xs].push(r)}function Xa(t){const r=t[Xe];return Qr(r)?r[Xe]:r}const Tn={lFrame:Td(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _s(){return Tn.bindingsEnabled}function Xr(){return null!==Tn.skipHydrationRootTNode}function ft(){return Tn.lFrame.lView}function Rr(){return Tn.lFrame.tView}function ya(t){return Tn.lFrame.contextLView=t,t[Bt]}function Ui(t){return Tn.lFrame.contextLView=null,t}function Tr(){let t=Al();for(;null!==t&&64===t.type;)t=t.parent;return t}function Al(){return Tn.lFrame.currentTNode}function fo(t,r){const i=Tn.lFrame;i.currentTNode=t,i.isParent=r}function Dc(){return Tn.lFrame.isParent}function Oa(){Tn.lFrame.isParent=!1}function xi(){const t=Tn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function aa(){return Tn.lFrame.bindingIndex++}function xo(t){const r=Tn.lFrame,i=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,i}function Sl(t,r){const i=Tn.lFrame;i.bindingIndex=i.bindingRootIndex=t,dl(r)}function dl(t){Tn.lFrame.currentDirectiveIndex=t}function Rl(){return Tn.lFrame.currentQueryIndex}function Pl(t){Tn.lFrame.currentQueryIndex=t}function Sc(t){const r=t[he];return 2===r.type?r.declTNode:1===r.type?t[Dt]:null}function wd(t,r,i){if(i&Jn.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||i&Jn.Host||(c=Sc(d),null===c||(d=d[Wt],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Tn.lFrame=rf();return a.currentTNode=r,a.lView=t,!0}function Cd(t){const r=rf(),i=t[he];Tn.lFrame=r,r.currentTNode=i.firstChild,r.lView=t,r.tView=i,r.contextLView=t,r.bindingIndex=i.bindingStartIndex,r.inI18n=!1}function rf(){const t=Tn.lFrame,r=null===t?null:t.child;return null===r?Td(t):r}function Td(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function bd(){const t=Tn.lFrame;return Tn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ps=bd;function rc(){const t=bd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bi(){return Tn.lFrame.selectedIndex}function hl(t){Tn.lFrame.selectedIndex=t}function yi(){const t=Tn.lFrame;return Cc(t.tView,t.selectedIndex)}function ic(){Tn.lFrame.currentNamespace=pd}let Ml=!0;function xl(){return Ml}function Oo(t){Ml=t}function sc(t,r){for(let i=r.directiveStart,a=r.directiveEnd;i<a;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:A,ngAfterViewChecked:k,ngOnDestroy:q}=d;m&&(t.contentHooks??=[]).push(-i,m),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),A&&(t.viewHooks??=[]).push(-i,A),k&&((t.viewHooks??=[]).push(i,k),(t.viewCheckHooks??=[]).push(i,k)),null!=q&&(t.destroyHooks??=[]).push(i,q)}}function Ol(t,r,i){Ad(t,r,3,i)}function Rc(t,r,i,a){(3&t[Oe])===i&&Ad(t,r,i,a)}function Pc(t,r){let i=t[Oe];(3&i)===r&&(i&=16383,i+=1,t[Oe]=i)}function Ad(t,r,i,a){const d=a??-1,m=r.length-1;let I=0;for(let A=void 0!==a?65535&t[Ot]:0;A<m;A++)if("number"==typeof r[A+1]){if(I=r[A],null!=a&&I>=a)break}else r[A]<0&&(t[Ot]+=65536),(I<d||-1==d)&&(Jp(t,i,r,A),t[Ot]=(4294901760&t[Ot])+A+2),A++}function vu(t,r){ls(4,t,r);const i=W(null);try{r.call(t)}finally{W(i),ls(5,t,r)}}function Jp(t,r,i,a){const c=i[a]<0,d=i[a+1],I=t[c?-i[a]:i[a]];c?t[Oe]>>14<t[Ot]>>16&&(3&t[Oe])===r&&(t[Oe]+=16384,vu(I,d)):vu(I,d)}const oc=-1;class Nl{constructor(r,i,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function cc(t){return t!==oc}function fl(t){return 32767&t}function uc(t,r){let i=function Rd(t){return t>>16}(t),a=r;for(;i>0;)a=a[Wt],i--;return a}let ka=!0;function Mc(t){const r=ka;return ka=t,r}const h=255,g=5;let T=0;const H={};function Le(t,r){const i=St(t,r);if(-1!==i)return i;const a=r[he];a.firstCreatePass&&(t.injectorIndex=r.length,ut(a.data,t),ut(r,null),ut(a.blueprint,null));const c=vn(t,r),d=t.injectorIndex;if(cc(c)){const m=fl(c),I=uc(c,r),A=I[he].data;for(let k=0;k<8;k++)r[d+k]=I[m+k]|A[m+k]}return r[d+8]=c,d}function ut(t,r){t.push(0,0,0,0,0,0,0,0,r)}function St(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function vn(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,c=r;for(;null!==c;){if(a=ng(c),null===a)return oc;if(i++,c=c[Wt],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return oc}function Pn(t,r,i){!function ie(t,r,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(yr)&&(a=i[yr]),null==a&&(a=i[yr]=T++);const c=a&h;r.data[t+(c>>g)]|=1<<c}(t,r,i)}function Ys(t,r,i){if(i&Jn.Optional||void 0!==t)return t;Is()}function La(t,r,i,a){if(i&Jn.Optional&&void 0===a&&(a=null),!(i&(Jn.Self|Jn.Host))){const c=t[Rn],d=hi(void 0);try{return c?c.get(r,a,i&Jn.Optional):Li(r,a,i&Jn.Optional)}finally{hi(d)}}return Ys(a,0,i)}function xc(t,r,i,a=Jn.Default,c){if(null!==t){if(2048&r[Oe]&&!(a&Jn.Self)){const m=function tg(t,r,i,a,c){let d=t,m=r;for(;null!==d&&null!==m&&2048&m[Oe]&&!(512&m[Oe]);){const I=Ia(d,m,i,a|Jn.Self,H);if(I!==H)return I;let A=d.parent;if(!A){const k=m[mi];if(k){const q=k.get(i,H,a);if(q!==H)return q}A=ng(m),m=m[Wt]}d=A}return c}(t,r,i,a,H);if(m!==H)return m}const d=Ia(t,r,i,a,H);if(d!==H)return d}return La(r,i,a,c)}function Ia(t,r,i,a,c){const d=function kl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(yr)?t[yr]:void 0;return"number"==typeof r?r>=0?r&h:Md:r}(i);if("function"==typeof d){if(!wd(r,t,a))return a&Jn.Host?Ys(c,0,a):La(r,i,a,c);try{let m;if(m=d(a),null!=m||a&Jn.Optional)return m;Is()}finally{Ps()}}else if("number"==typeof d){let m=null,I=St(t,r),A=oc,k=a&Jn.Host?r[zt][Dt]:null;for((-1===I||a&Jn.SkipSelf)&&(A=-1===I?vn(t,r):r[I+8],A!==oc&&la(a,!1)?(m=r[he],I=fl(A),r=uc(A,r)):I=-1);-1!==I;){const q=r[he];if(Eu(d,I,q.data)){const ce=Pd(I,r,i,m,a,k);if(ce!==H)return ce}A=r[I+8],A!==oc&&la(a,r[he].data[I+8]===k)&&Eu(d,I,r)?(m=q,I=fl(A),r=uc(A,r)):I=-1}}return c}function Pd(t,r,i,a,c,d){const m=r[he],I=m.data[t+8],q=Ms(I,m,i,null==a?Vr(I)&&ka:a!=m&&!!(3&I.type),c&Jn.Host&&d===I);return null!==q?Ja(r,m,q,I):H}function Ms(t,r,i,a,c){const d=t.providerIndexes,m=r.data,I=1048575&d,A=t.directiveStart,q=d>>20,Me=c?I+q:t.directiveEnd;for(let Ue=a?I:I+q;Ue<Me;Ue++){const it=m[Ue];if(Ue<A&&i===it||Ue>=A&&it.type===i)return Ue}if(c){const Ue=m[A];if(Ue&&Or(Ue)&&Ue.type===i)return A}return null}function Ja(t,r,i,a){let c=t[i];const d=r.data;if(function Dd(t){return t instanceof Nl}(c)){const m=c;m.resolving&&function bi(t,r){throw r&&r.join(" > "),new Nt(-200,t)}(function qn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Cn(t)}(d[i]));const I=Mc(m.canSeeViewProviders);m.resolving=!0;const k=m.injectImpl?hi(m.injectImpl):null;wd(t,a,Jn.Default);try{c=t[i]=m.factory(void 0,d,t,a),r.firstCreatePass&&i>=a.directiveStart&&function yu(t,r,i){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const m=on(r);(i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m)}c&&(i.preOrderHooks??=[]).push(0-t,c),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],r)}finally{null!==k&&hi(k),Mc(I),m.resolving=!1,Ps()}}return c}function Eu(t,r,i){return!!(i[r+(t>>g)]&1<<t)}function la(t,r){return!(t&Jn.Self||t&Jn.Host&&r)}class ys{constructor(r,i){this._tNode=r,this._lView=i}get(r,i,a){return xc(this._tNode,this._lView,r,ws(a),i)}}function Md(){return new ys(Tr(),ft())}function pr(t){return an(()=>{const r=t.prototype.constructor,i=r[Yr]||eg(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Yr]||eg(c);if(d&&d!==i)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function eg(t){return Ke(t)?()=>{const r=eg(Fe(t));return r&&r()}:qi(t)}function ng(t){const r=t[he],i=r.type;return 2===i?r.declTNode:1===i?t[Dt]:null}function xd(t){return function Ir(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const i=t.attrs;if(i){const a=i.length;let c=0;for(;c<a;){const d=i[c];if(Gi(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof i[c];)c++;else{if(d===r)return i[c+1];c+=2}}}return null}(Tr(),t)}function B_(t,r=null,i=null,a){const c=j_(t,r,i,a);return c.resolveInjectorInitializers(),c}function j_(t,r=null,i=null,a,c=new Set){const d=[i||hr,Qs(t)];return a=a||("object"==typeof t?void 0:or(t)),new ia(d,r||Ao(),a||null,c)}let Gr=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Yi;static#t=this.NULL=new wi;static create(i,a){if(Array.isArray(i))return B_({name:""},a,i,"");{const c=i.name??"";return B_({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=sr({token:t,providedIn:"any",factory:()=>fi(ba)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function og(t){return t.ngOriginalError}class wa{constructor(){this._console=console}handleError(r){const i=this._findOriginalError(r);this._console.error("ERROR",r),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(r){let i=r&&og(r);for(;i&&og(i);)i=og(i);return i||null}}const H_=new st("",{providedIn:"root",factory:()=>Hn(wa).handleError.bind(void 0)});let kc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Ll;static#t=this.__NG_ENV_ID__=i=>i}return t})();class Cu extends kc{constructor(r){super(),this._lView=r}onDestroy(r){return Qa(this._lView,r),()=>function yd(t,r){if(null===t[Xs])return;const i=t[Xs].indexOf(r);-1!==i&&t[Xs].splice(i,1)}(this._lView,r)}}function Ll(){return new Cu(ft())}function lg(){return hc(Tr(),ft())}function hc(t,r){return new Ld(Hs(t,r))}let Ld=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=lg}return t})();function W_(t){return t instanceof Ld?t.nativeElement:t}function Wr(t){return r=>{setTimeout(t,void 0,r)}}const tl=class xs extends Mn.B{constructor(r=!1){super(),this.destroyRef=void 0,this.__isAsync=r,Cl()&&(this.destroyRef=Hn(kc,{optional:!0})??void 0)}emit(r){const i=W(null);try{super.next(r)}finally{W(i)}}subscribe(r,i,a){let c=r,d=i||(()=>null),m=a;if(r&&"object"==typeof r){const A=r;c=A.next?.bind(A),d=A.error?.bind(A),m=A.complete?.bind(A)}this.__isAsync&&(d=Wr(d),c&&(c=Wr(c)),m&&(m=Wr(m)));const I=super.subscribe({next:c,error:d,complete:m});return r instanceof Gn.yU&&r.add(I),I}};function z_(){return this._results[Symbol.iterator]()}class Tu{static#e=Symbol.iterator;get changes(){return this._changes??=new tl}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Tu.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=z_)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,i){return this._results.reduce(r,i)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,i){this.dirty=!1;const a=function ti(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function _o(t,r,i){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(i&&(c=i(c),d=i(d)),d!==c)return!1}return!0}(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Au(t){return!(128&~t.flags)}const Lc=new Map;let Fd=0;const hg="__ngContext__";function No(t,r){un(r)?(t[hg]=r[Tt],function K_(t){Lc.set(t[Tt],t)}(r)):t[hg]=r}function mf(t){return mg(t[vr])}function gg(t){return mg(t[kt])}function mg(t){for(;null!==t&&!Qr(t);)t=t[kt];return t}let vg;function oy(t){vg=t}const Ig=new st("",{providedIn:"root",factory:()=>SI}),SI="ng",Eg=new st(""),Ru=new st("",{providedIn:"platform",factory:()=>"unknown"}),Uc=new st(""),Bc=new st("",{providedIn:"root",factory:()=>function ko(){if(void 0!==vg)return vg;if(typeof document<"u")return document;throw new Nt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let bg=()=>null;function $d(t,r,i=!1){return bg(t,r,i)}const Kd=new st("",{providedIn:"root",factory:()=>!1});let rl,Qd;function zc(t){return function pc(){if(void 0===rl&&(rl=null,Et.trustedTypes))try{rl=Et.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rl}()?.createHTML(t)||t}function xg(t){return function gl(){if(void 0===Qd&&(Qd=null,Et.trustedTypes))try{Qd=Et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qd}()?.createScriptURL(t)||t}class qc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ir})`}}class _y extends qc{getTypeName(){return"HTML"}}class xI extends qc{getTypeName(){return"Style"}}class Tf extends qc{getTypeName(){return"Script"}}class yy extends qc{getTypeName(){return"URL"}}class OI extends qc{getTypeName(){return"ResourceURL"}}function ml(t){return t instanceof qc?t.changingThisBreaksApplicationSecurity:t}function Nu(t,r){const i=function vy(t){return t instanceof qc&&t.getTypeName()||null}(t);if(null!=i&&i!==r){if("ResourceURL"===i&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${i} (see ${ir})`)}return i===r}function Qc(t){return new _y(t)}function Xd(t){return new xI(t)}function Iy(t){return new Tf(t)}function Ey(t){return new yy(t)}function NI(t){return new OI(t)}class kI{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const i=(new window.DOMParser).parseFromString(zc(r),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(r):(i.removeChild(i.firstChild),i)}catch{return null}}}class LI{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const i=this.inertDocument.createElement("template");return i.innerHTML=zc(r),i}}const Zs=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bf(t){return(t=String(t)).match(Zs)?t:"unsafe:"+t}function Ul(t){const r={};for(const i of t.split(","))r[i]=!0;return r}function Yd(...t){const r={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(r[a]=!0);return r}const wy=Ul("area,br,col,hr,img,wbr"),Af=Ul("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cy=Ul("rp,rt"),Df=Yd(wy,Yd(Af,Ul("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yd(Cy,Ul("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yd(Cy,Af)),Zd=Ul("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jd=Yd(Zd,Ul("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ul("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fg=Ul("script,style,template");class Vg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let i=r.firstChild,a=!0,c=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)c.push(i),i=VI(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=by(i);if(d){i=d;break}i=c.pop()}return this.buf.join("")}startElement(r){const i=Ug(r).toLowerCase();if(!Df.hasOwnProperty(i))return this.sanitizedSomething=!0,!Fg.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),m=d.name,I=m.toLowerCase();if(!Jd.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let A=d.value;Zd[I]&&(A=bf(A)),this.buf.push(" ",m,'="',Hg(A),'"')}return this.buf.push(">"),!0}endElement(r){const i=Ug(r).toLowerCase();Df.hasOwnProperty(i)&&!wy.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(r){this.buf.push(Hg(r))}}function by(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw Bg(r);return r}function VI(t){const r=t.firstChild;if(r&&function FI(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw Bg(r);return r}function Ug(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function Bg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const jg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UI=/([^\#-~ |!])/g;function Hg(t){return t.replace(/&/g,"&amp;").replace(jg,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(UI,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rf;function $g(t,r){let i=null;try{Rf=Rf||function Og(t){const r=new LI(t);return function Ng(){try{return!!(new window.DOMParser).parseFromString(zc(""),"text/html")}catch{return!1}}()?new kI(r):r}(t);let a=r?String(r):"";i=Rf.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=i.innerHTML,i=Rf.getInertBodyElement(a)}while(a!==d);return zc((new Vg).sanitizeChildren(Gg(i)||i))}finally{if(i){const a=Gg(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Gg(t){return"content"in t&&function ku(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Va=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Va||{});function Mf(t){const r=Xc();return r?r.sanitize(Va.URL,t)||"":Nu(t,"URL")?ml(t):bf(Cn(t))}function zg(t){const r=Xc();if(r)return xg(r.sanitize(Va.RESOURCE_URL,t)||"");if(Nu(t,"ResourceURL"))return xg(ml(t));throw new Nt(904,!1)}function xf(t,r,i){return function jI(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?zg:Mf}(r,i)(t)}function Xc(){const t=ft();return t&&t[gt].sanitizer}const Of=/^>|^->|<!--|-->|--!>|<!-$/g,eh=/(<|>)/g,Nf="\u200b$1\u200b";function xy(t){return t.ownerDocument}function eo(t){return t instanceof Function?t():t}var Hf=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hf||{});let ih;function Jg(t,r){return ih(t,r)}function Fu(t,r,i,a,c){if(null!=a){let d,m=!1;Qr(a)?d=a:un(a)&&(m=!0,a=a[_e]);const I=ii(a);0===t&&null!==i?null==c?Wf(r,i,I):mc(r,i,I,c||null,!0):1===t&&null!==i?mc(r,i,I,c||null,!0):2===t?function tu(t,r,i){const a=il(t,r);a&&function im(t,r,i,a){t.removeChild(r,i,a)}(t,a,r,i)}(r,I,m):3===t&&r.destroyNode(I),null!=d&&function um(t,r,i,a,c){const d=i[wn];d!==ii(i)&&Fu(r,t,a,d,c);for(let I=dr;I<i.length;I++){const A=i[I];Uu(A[he],A,t,r,a,d)}}(r,t,d,i,c)}}function ah(t,r){return t.createComment(function kf(t){return t.replace(Of,r=>r.replace(eh,Nf))}(r))}function lh(t,r,i){return t.createElement(r,i)}function Ny(t,r){r[gt].changeDetectionScheduler?.notify(1),Uu(t,r,r[Xt],2,null,null)}function Fy(t,r){const i=t[fr],a=i.indexOf(r);i.splice(a,1)}function Yc(t,r){if(t.length<=dr)return;const i=dr+r,a=t[i];if(a){const c=a[Rs];null!==c&&c!==t&&Fy(c,a),r>0&&(t[i-1][kt]=a[kt]);const d=bs(t,dr+r);!function Vu(t,r){Ny(t,r),r[_e]=null,r[Dt]=null}(a[he],a);const m=d[tt];null!==m&&m.detachView(d[he]),a[Xe]=null,a[kt]=null,a[Oe]&=-129}return a}function $f(t,r){if(!(256&r[Oe])){const i=r[Xt];i.destroyNode&&Uu(t,r,i,3,null,null),function QI(t){let r=t[vr];if(!r)return ch(t[he],t);for(;r;){let i=null;if(un(r))i=r[vr];else{const a=r[dr];a&&(i=a)}if(!i){for(;r&&!r[kt]&&r!==t;)un(r)&&ch(r[he],r),r=r[Xe];null===r&&(r=t),un(r)&&ch(r[he],r),i=r&&r[kt]}r=i}}(r)}}function ch(t,r){if(256&r[Oe])return;const i=W(null);try{r[Oe]&=-129,r[Oe]|=256,r[uo]&&function je(t){if(Te(t),ve(t))for(let r=0;r<t.producerNode.length;r++)be(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(r[uo]),function nm(t,r){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const c=r[i[a]];if(!(c instanceof Nl)){const d=i[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const I=c[d[m]],A=d[m+1];ls(4,I,A);try{A.call(I)}finally{ls(5,I,A)}}else{ls(4,c,d);try{d.call(c)}finally{ls(5,c,d)}}}}}(t,r),function XI(t,r){const i=t.cleanup,a=r[kn];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const m=i[d+3];m>=0?a[m]():a[-m].unsubscribe(),d+=2}else i[d].call(a[i[d+1]]);null!==a&&(r[kn]=null);const c=r[Xs];if(null!==c){r[Xs]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[he].type&&r[Xt].destroy();const a=r[Rs];if(null!==a&&Qr(r[Xe])){a!==r[Xe]&&Fy(a,r);const c=r[tt];null!==c&&c.detachView(t)}!function q_(t){Lc.delete(t[Tt])}(r)}finally{W(i)}}function rm(t,r,i){return function Gf(t,r,i){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return i[_e];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Ai.None||d===Ai.Emulated)return null}return Hs(a,i)}}(t,r.parent,i)}function mc(t,r,i,a,c){t.insertBefore(r,i,a,c)}function Wf(t,r,i){t.appendChild(r,i)}function zf(t,r,i,a,c){null!==a?mc(t,r,i,a,c):Wf(t,r,i)}function il(t,r){return t.parentNode(r)}function Zc(t,r,i){return om(t,r,i)}let _c,om=function Jc(t,r,i){return 40&t.type?Hs(t,i):null};function Kf(t,r,i,a){const c=rm(t,a,r),d=r[Xt],I=Zc(a.parent||r[Dt],a,r);if(null!=c)if(Array.isArray(i))for(let A=0;A<i.length;A++)zf(d,c,i[A],I,!1);else zf(d,c,i,I,!1);void 0!==_c&&_c(d,a,r,i,c)}function eu(t,r){if(null!==r){const i=r.type;if(3&i)return Hs(r,t);if(4&i)return dh(-1,t[r.index]);if(8&i){const a=r.child;if(null!==a)return eu(t,a);{const c=t[r.index];return Qr(c)?dh(-1,c):ii(c)}}if(32&i)return Jg(r,t)()||ii(t[r.index]);{const a=qf(t,r);return null!==a?Array.isArray(a)?a[0]:eu(Xa(t[zt]),a):eu(t,r.next)}}return null}function qf(t,r){return null!==r?t[zt][Dt].projection[r.projection]:null}function dh(t,r){const i=dr+t+1;if(i<r.length){const a=r[i],c=a[he].firstChild;if(null!==c)return eu(a,c)}return r[wn]}function am(t,r,i,a,c,d,m){for(;null!=i;){const I=a[i.index],A=i.type;if(m&&0===r&&(I&&No(ii(I),a),i.flags|=2),32&~i.flags)if(8&A)am(t,r,i.child,a,c,d,!1),Fu(r,t,c,I,d);else if(32&A){const k=Jg(i,a);let q;for(;q=k();)Fu(r,t,c,q,d);Fu(r,t,c,I,d)}else 16&A?cm(t,r,a,i,c,d):Fu(r,t,c,I,d);i=m?i.projectionNext:i.next}}function Uu(t,r,i,a,c,d){am(i,a,t.firstChild,r,c,d,!1)}function cm(t,r,i,a,c,d){const m=i[zt],A=m[Dt].projection[a.projection];if(Array.isArray(A))for(let k=0;k<A.length;k++)Fu(r,t,c,A[k],d);else{let k=A;const q=m[Xe];Au(a)&&(k.flags|=128),am(t,r,k,q,c,d,!0)}}function jy(t,r,i){""===i?t.removeAttribute(r,"class"):t.setAttribute(r,"class",i)}function dm(t,r,i){const{mergedAttrs:a,classes:c,styles:d}=i;null!==a&&co(t,r,a),null!==c&&jy(t,r,c),null!==d&&function By(t,r,i){t.setAttribute(r,"style",i)}(t,r,d)}const gr={};function hm(t=1){fm(Rr(),ft(),Bi()+t,!1)}function fm(t,r,i,a){if(!a)if(3&~r[Oe]){const d=t.preOrderHooks;null!==d&&Rc(r,d,0,i)}else{const d=t.preOrderCheckHooks;null!==d&&Ol(r,d,i)}hl(i)}function Bu(t,r=Jn.Default){const i=ft();return null===i?fi(t,r):xc(Tr(),i,Fe(t),r)}function Hy(){throw new Error("invalid")}function $y(t,r,i,a,c,d){const m=W(null);try{let I=null;c&Ds.SignalBased&&(I=r[a][Q]),null!==I&&void 0!==I.transformFn&&(d=I.transformFn(d)),c&Ds.HasDecoratorInputTransform&&(d=t.inputTransforms[a].call(r,d)),null!==t.setInput?t.setInput(r,I,d,i,a):at(r,I,a,d)}finally{W(m)}}function ju(t,r,i,a,c,d,m,I,A,k,q){const ce=r.blueprint.slice();return ce[_e]=c,ce[Oe]=204|a,(null!==k||t&&2048&t[Oe])&&(ce[Oe]|=2048),Zh(ce),ce[Xe]=ce[Wt]=t,ce[Bt]=i,ce[gt]=m||t&&t[gt],ce[Xt]=I||t&&t[Xt],ce[Rn]=A||t&&t[Rn]||null,ce[Dt]=d,ce[Tt]=function hf(){return Fd++}(),ce[Sn]=q,ce[mi]=k,ce[zt]=2==r.type?t[zt]:ce,ce}function Hu(t,r,i,a,c){let d=t.data[r];if(null===d)d=function hh(t,r,i,a,c){const d=Al(),m=Dc(),A=t.data[r]=function Im(t,r,i,a,c,d){let m=r?r.injectorIndex:-1,I=0;return Xr()&&(I|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,i,r,a,c);return null===t.firstChild&&(t.firstChild=A),null!==d&&(m?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(t,r,i,a,c),function Id(){return Tn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=a,d.attrs=c;const m=function xa(){const t=Tn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return fo(d,!0),d}function $u(t,r,i,a){if(0===i)return-1;const c=r.length;for(let d=0;d<i;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Qf(t,r,i,a,c){const d=Bi(),m=2&a;try{hl(-1),m&&r.length>nr&&fm(t,r,nr,!1),ls(m?2:0,c),i(a,c)}finally{hl(d),ls(m?3:1,c)}}function fh(t,r,i){if(ri(r)){const a=W(null);try{const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const I=t.data[m];I.contentQueries&&I.contentQueries(1,i[m],m)}}finally{W(a)}}}function ph(t,r,i){_s()&&(function Am(t,r,i,a){const c=i.directiveStart,d=i.directiveEnd;Vr(i)&&function Rm(t,r,i){const a=Hs(r,t),c=Xf(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const I=_h(t,ju(t,c,null,m,a,r,null,t[gt].rendererFactory.createRenderer(a,i),null,null,null));t[r.index]=I}(r,i,t.data[c+i.componentOffset]),t.firstCreatePass||Le(i,r),No(a,r);const m=i.initialInputs;for(let I=c;I<d;I++){const A=t.data[I],k=Ja(r,t,I,i);No(k,r),null!==m&&aE(0,I-c,k,A,0,m),Or(A)&&(ho(i.index,r)[Bt]=Ja(r,t,I,i))}}(t,r,i,Hs(i,r)),!(64&~i.flags)&&yl(t,r,i))}function pm(t,r,i=Hs){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],I=-1===m?i(r,t):t[m];t[c++]=I}}}function Xf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=gm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function gm(t,r,i,a,c,d,m,I,A,k,q){const ce=nr+a,Me=ce+c,Ue=function mm(t,r){const i=[];for(let a=0;a<r;a++)i.push(a<t?null:gr);return i}(ce,Me),it="function"==typeof k?k():k;return Ue[he]={type:t,blueprint:Ue,template:i,queries:null,viewQuery:I,declTNode:r,data:Ue.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:it,incompleteFirstPass:!1,ssrId:q}}let ym=()=>null;function Wy(t,r,i,a,c){for(let d in r){if(!r.hasOwnProperty(d))continue;const m=r[d];if(void 0===m)continue;a??={};let I,A=Ds.None;Array.isArray(m)?(I=m[0],A=m[1]):I=m;let k=d;if(null!==c){if(!c.hasOwnProperty(d))continue;k=c[d]}0===t?Yf(a,i,k,I,A):Yf(a,i,k,I)}return a}function Yf(t,r,i,a,c){let d;t.hasOwnProperty(i)?(d=t[i]).push(r,a):d=t[i]=[r,a],void 0!==c&&d.push(c)}function ca(t,r,i,a,c,d,m,I){const A=Hs(r,i);let q,k=r.inputs;!I&&null!=k&&(q=k[a])?(yh(t,i,q,a,c),Vr(r)&&function wm(t,r){const i=ho(r,t);16&i[Oe]||(i[Oe]|=64)}(i,r.index)):3&r.type&&(a=function Em(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,r.value||"",a):c,d.setProperty(A,a,c))}function yc(t,r,i,a){if(_s()){const c=null===a?null:{"":-1},d=function rE(t,r){const i=t.directiveRegistry;let a=null,c=null;if(i)for(let d=0;d<i.length;d++){const m=i[d];if(Re(r,m.selectors,!1))if(a||(a=[]),Or(m))if(null!==m.findHostDirectiveDefs){const I=[];c=c||new Map,m.findHostDirectiveDefs(m,I,c),a.unshift(...I,m),gh(t,r,I.length)}else a.unshift(m),gh(t,r,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,a,c),a.push(m)}return null===a?null:[a,c]}(t,i);let m,I;null===d?m=I=null:[m,I]=d,null!==m&&Tm(t,r,i,m,c,I),c&&function iE(t,r,i){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=i[r[c+1]];if(null==d)throw new Nt(-301,!1);a.push(r[c],d)}}}(i,a,c)}i.mergedAttrs=jo(i.mergedAttrs,i.attrs)}function Tm(t,r,i,a,c,d){for(let k=0;k<a.length;k++)Pn(Le(i,r),t,a[k].type);!function Sm(t,r,i){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+i,t.providerIndexes=r}(i,t.data.length,a.length);for(let k=0;k<a.length;k++){const q=a[k];q.providersResolver&&q.providersResolver(q)}let m=!1,I=!1,A=$u(t,r,a.length,null);for(let k=0;k<a.length;k++){const q=a[k];i.mergedAttrs=jo(i.mergedAttrs,q.hostAttrs),oE(t,i,r,A,q),sE(A,q,c),null!==q.contentQueries&&(i.flags|=4),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(i.flags|=64);const ce=q.type.prototype;!m&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),m=!0),!I&&(ce.ngOnChanges||ce.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),A++}!function tE(t,r,i){const c=r.directiveEnd,d=t.data,m=r.attrs,I=[];let A=null,k=null;for(let q=r.directiveStart;q<c;q++){const ce=d[q],Me=i?i.get(ce):null,it=Me?Me.outputs:null;A=Wy(0,ce.inputs,q,A,Me?Me.inputs:null),k=Wy(1,ce.outputs,q,k,it);const wt=null===A||null===m||Co(r)?null:Pm(A,q,m);I.push(wt)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=8),A.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=I,r.inputs=A,r.outputs=k}(t,i,d)}function yl(t,r,i){const a=i.directiveStart,c=i.directiveEnd,d=i.index,m=function Ed(){return Tn.lFrame.currentDirectiveIndex}();try{hl(d);for(let I=a;I<c;I++){const A=t.data[I],k=r[I];dl(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Dm(A,k)}}finally{hl(-1),dl(m)}}function Dm(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function gh(t,r,i){r.componentOffset=i,(t.components??=[]).push(r.index)}function sE(t,r,i){if(i){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)i[r.exportAs[a]]=t;Or(r)&&(i[""]=t)}}function oE(t,r,i,a,c){t.data[a]=c;const d=c.factory||(c.factory=qi(c.type)),m=new Nl(d,Or(c),Bu);t.blueprint[a]=m,i[a]=m,function bm(t,r,i,a,c){const d=c.hostBindings;if(d){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const I=~r.index;(function nE(t){let r=t.length;for(;r>0;){const i=t[--r];if("number"==typeof i&&i<0)return i}return 0})(m)!=I&&m.push(I),m.push(i,a,d)}}(t,r,a,$u(t,i,c.hostVars,gr),c)}function vl(t,r,i,a,c,d){const m=Hs(t,r);!function mh(t,r,i,a,c,d,m){if(null==d)t.removeAttribute(r,c,i);else{const I=null==m?Cn(d):m(d,a||"",c);t.setAttribute(r,c,I,i)}}(r[Xt],m,d,t.value,i,a,c)}function aE(t,r,i,a,c,d){const m=d[r];if(null!==m)for(let I=0;I<m.length;)$y(a,i,m[I++],m[I++],m[I++],m[I++])}function Pm(t,r,i){let a=null,c=0;for(;c<i.length;){const d=i[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const m=t[d];for(let I=0;I<m.length;I+=3)if(m[I]===r){a.push(d,m[I+1],m[I+2],i[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Mm(t,r,i,a){return[t,!0,0,r,null,a,null,i,null,null]}function Zf(t,r){const i=t.contentQueries;if(null!==i){const a=W(null);try{for(let c=0;c<i.length;c+=2){const m=i[c+1];if(-1!==m){const I=t.data[m];Pl(i[c]),I.contentQueries(2,r[m],m)}}}finally{W(a)}}}function _h(t,r){return t[vr]?t[Mi][kt]=r:t[vr]=r,t[Mi]=r,r}function xm(t,r,i){Pl(0);const a=W(null);try{r(t,i)}finally{W(a)}}function Jf(t){return t[kn]||(t[kn]=[])}function Ky(t){return t.cleanup||(t.cleanup=[])}function nu(t,r){const i=t[Rn],a=i?i.get(wa,null):null;a&&a.handleError(r)}function yh(t,r,i,a,c){for(let d=0;d<i.length;){const m=i[d++],I=i[d++],A=i[d++];$y(t.data[m],r[m],a,I,A,c)}}function jl(t,r,i){const a=_a(r,t);!function oh(t,r,i){t.setValue(r,i)}(t[Xt],a,i)}function Gu(t,r){const i=ho(r,t),a=i[he];!function lE(t,r){for(let i=r.length;i<t.blueprint.length;i++)r.push(t.blueprint[i])}(a,i);const c=i[_e];null!==c&&null===i[Sn]&&(i[Sn]=$d(c,i[Rn])),vh(a,i,i[Bt])}function vh(t,r,i){Cd(r);try{const a=t.viewQuery;null!==a&&xm(1,a,i);const c=t.template;null!==c&&Qf(t,r,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),r[tt]?.finishViewCreation(t),t.staticContentQueries&&Zf(t,r),t.staticViewQueries&&xm(2,t.viewQuery,i);const d=t.components;null!==d&&function qy(t,r){for(let i=0;i<r.length;i++)Gu(t,r[i])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Oe]&=-5,rc()}}function Hl(t,r){return!r||null===r.firstChild||Au(t)}function Ih(t,r,i,a=!0){const c=r[he];if(function ky(t,r,i,a){const c=dr+a,d=i.length;a>0&&(i[c-1][kt]=r),a<d-dr?(r[kt]=i[c],zs(i,dr+a,r)):(i.push(r),r[kt]=null),r[Xe]=i;const m=r[Rs];null!==m&&i!==m&&function Ly(t,r){const i=t[fr];r[zt]!==r[Xe][Xe][zt]&&(t[Oe]|=js.HasTransplantedViews),null===i?t[fr]=[r]:i.push(r)}(m,r);const I=r[tt];null!==I&&I.insertView(t),Tc(r),r[Oe]|=128}(c,r,t,i),a){const m=dh(i,t),I=r[Xt],A=il(I,t[wn]);null!==A&&function tm(t,r,i,a,c,d){a[_e]=c,a[Dt]=r,Uu(t,a,i,1,c,d)}(c,t[Dt],I,r,A,m)}const d=r[Sn];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Eh(t,r,i,a,c=!1){for(;null!==i;){const d=r[i.index];null!==d&&a.push(ii(d)),Qr(d)&&Qy(d,a);const m=i.type;if(8&m)Eh(t,r,i.child,a);else if(32&m){const I=Jg(i,r);let A;for(;A=I();)a.push(A)}else if(16&m){const I=qf(r,i);if(Array.isArray(I))a.push(...I);else{const A=Xa(r[zt]);Eh(A[he],A,I,a,!0)}}i=c?i.projectionNext:i.next}return a}function Qy(t,r){for(let i=dr;i<t.length;i++){const a=t[i],c=a[he].firstChild;null!==c&&Eh(a[he],a,c,r)}t[wn]!==t[_e]&&r.push(t[wn])}let wh=[];const Xy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nc(t.lView)},consumerOnSignalRead(){this.lView[uo]=this}},tp=100;function Wu(t,r=!0,i=0){const a=t[gt],c=a.rendererFactory;c.begin?.();try{!function np(t,r){Ch(t,r);let i=0;for(;tc(t);){if(i===tp)throw new Nt(103,!1);i++,Ch(t,1)}}(t,i)}catch(m){throw r&&nu(t,m),m}finally{c.end?.(),a.inlineEffectRunner?.flush()}}function Zy(t,r,i,a){const c=r[Oe];if(!(256&~c))return;r[gt].inlineEffectRunner?.flush(),Cd(r);let m=null,I=null;(function zu(t){return 2!==t.type})(t)&&(I=function km(t){return t[uo]??function Lm(t){const r=wh.pop()??Object.create(Xy);return r.lView=t,r}(t)}(r),m=function pt(t){return t&&(t.nextProducerIndex=0),W(t)}(I));try{Zh(r),function va(t){return Tn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Qf(t,r,i,2,a);const A=!(3&~c);if(A){const ce=t.preOrderCheckHooks;null!==ce&&Ol(r,ce,null)}else{const ce=t.preOrderHooks;null!==ce&&Rc(r,ce,0,null),Pc(r,0)}if(function Um(t){for(let r=mf(t);null!==r;r=gg(r)){if(!(r[Oe]&js.HasTransplantedViews))continue;const i=r[fr];for(let a=0;a<i.length;a++){_d(i[a])}}}(r),Vm(r,0),null!==t.contentQueries&&Zf(t,r),A){const ce=t.contentCheckHooks;null!==ce&&Ol(r,ce)}else{const ce=t.contentHooks;null!==ce&&Rc(r,ce,1),Pc(r,1)}!function ZI(t,r){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const c=i[a];if(c<0)hl(~c);else{const d=c,m=i[++a],I=i[++a];Sl(m,d),I(2,r[d])}}}finally{hl(-1)}}(t,r);const k=t.components;null!==k&&ev(r,k,0);const q=t.viewQuery;if(null!==q&&xm(2,q,a),A){const ce=t.viewCheckHooks;null!==ce&&Ol(r,ce)}else{const ce=t.viewHooks;null!==ce&&Rc(r,ce,2),Pc(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Wi]){for(const ce of r[Wi])ce();r[Wi]=null}r[Oe]&=-73}catch(A){throw nc(r),A}finally{null!==I&&(function Ft(t,r){if(W(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ve(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)be(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(I,m),function Fm(t){t.lView[uo]!==t&&(t.lView=null,wh.push(t))}(I)),rc()}}function Vm(t,r){for(let i=mf(t);null!==i;i=gg(i))for(let a=dr;a<i.length;a++)ru(i[a],r)}function Jy(t,r,i){ru(ho(r,t),i)}function ru(t,r){md(t)&&Ch(t,r)}function Ch(t,r){const a=t[he],c=t[Oe],d=t[uo];let m=!!(0===r&&16&c);if(m||=!!(64&c&&0===r),m||=!!(1024&c),m||=!(!d?.dirty||!Vt(d)),d&&(d.dirty=!1),t[Oe]&=-9217,m)Zy(a,t,a.template,t[Bt]);else if(8192&c){Vm(t,1);const I=a.components;null!==I&&ev(t,I,1)}}function ev(t,r,i){for(let a=0;a<r.length;a++)Jy(t,r[a],i)}function Th(t){for(t[gt].changeDetectionScheduler?.notify();t;){t[Oe]|=64;const r=Xa(t);if(rr(t)&&!r)return t;t=r}return null}class bh{get rootNodes(){const r=this._lView,i=r[he];return Eh(i,r,i.firstChild,[])}constructor(r,i,a=!0){this._lView=r,this._cdRefInjectingView=i,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bt]}set context(r){this._lView[Bt]=r}get destroyed(){return!(256&~this._lView[Oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Xe];if(Qr(r)){const i=r[8],a=i?i.indexOf(this):-1;a>-1&&(Yc(r,a),bs(i,a))}this._attachedToViewContainer=!1}$f(this._lView[he],this._lView)}onDestroy(r){Qa(this._lView,r)}markForCheck(){Th(this._cdRefInjectingView||this._lView)}detach(){this._lView[Oe]&=-129}reattach(){Tc(this._lView),this._lView[Oe]|=128}detectChanges(){this._lView[Oe]|=1024,Wu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ny(this._lView[he],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Nt(902,!1);this._appRef=r,Tc(this._lView)}}let Ku=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uE}return t})();const cE=Ku,tv=class extends cE{constructor(r,i,a){super(),this._declarationLView=r,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,i){return this.createEmbeddedViewImpl(r,i)}createEmbeddedViewImpl(r,i,a){const c=function Il(t,r,i,a){const c=W(null);try{const d=r.tView,A=ju(t,d,i,4096&t[Oe]?4096:16,null,r,null,null,a?.injector??null,a?.embeddedViewInjector??null,a?.dehydratedView??null);A[Rs]=t[r.index];const q=t[tt];return null!==q&&(A[tt]=q.createEmbeddedView(d)),vh(d,A,i),A}finally{W(c)}}(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:i,dehydratedView:a});return new bh(c)}};function uE(){return rp(Tr(),ft())}function rp(t,r){return 4&t.type?new tv(r,t,hc(t,r)):null}class Hm{}class su{}class Ph{}class hv{resolveComponentFactory(r){throw function EE(t){const r=Error(`No component factory found for ${or(t)}.`);return r.ngComponent=t,r}(r)}}let ou=(()=>{class t{static#e=this.NULL=new hv}return t})();class fv{}let au=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function lp(){const t=ft(),i=ho(Tr().index,t);return(un(i)?i:t)[Xt]}()}return t})(),Mh=(()=>{class t{static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:()=>null})}return t})();const cp={},up=new Set;function Ua(t){up.has(t)||(up.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function dp(...t){}class cs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tl(!1),this.onMicrotaskEmpty=new tl(!1),this.onStable=new tl(!1),this.onError=new tl(!1),typeof Zone>"u")throw new Nt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&i,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function $m(){const t="function"==typeof Et.requestAnimationFrame;let r=Et[t?"requestAnimationFrame":"setTimeout"],i=Et[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&i){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Gm(t){const r=()=>{!function mv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Et,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cu(t),t.isCheckStableRunning=!0,hp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,c,d,m,I)=>{if(function yv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(c,d,m,I);try{return _v(t),i.invokeTask(c,d,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),xh(t)}},onInvoke:(i,a,c,d,m,I,A)=>{try{return _v(t),i.invoke(c,d,m,I,A)}finally{t.shouldCoalesceRunChangeDetection&&r(),xh(t)}},onHasTask:(i,a,c,d)=>{i.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,cu(t),hp(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,a,c,d)=>(i.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cs.isInAngularZone())throw new Nt(909,!1)}static assertNotInAngularZone(){if(cs.isInAngularZone())throw new Nt(909,!1)}run(r,i,a){return this._inner.run(r,i,a)}runTask(r,i,a,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,r,lu,dp,dp);try{return d.runTask(m,i,a)}finally{d.cancelTask(m)}}runGuarded(r,i,a){return this._inner.runGuarded(r,i,a)}runOutsideAngular(r){return this._outer.run(r)}}const lu={};function hp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _v(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xh(t){t._nesting--,hp(t)}class Oh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tl,this.onMicrotaskEmpty=new tl,this.onStable=new tl,this.onError=new tl}run(r,i,a){return r.apply(i,a)}runGuarded(r,i,a){return r.apply(i,a)}runOutsideAngular(r){return r()}runTask(r,i,a,c){return r.apply(i,a)}}var uu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(uu||{});const kh={destroy(){}};function Zu(t,r){!r&&function Ci(t){if(!Cl())throw new Nt(-203,!1)}();const i=r?.injector??Hn(Gr);if(!function _l(t){return"browser"===(t??Hn(Gr)).get(Ru)}(i))return kh;Ua("NgAfterNextRender");const a=i.get(Lh),c=a.handler??=new Ju,d=r?.phase??uu.MixedReadWrite,m=()=>{c.unregister(A),I()},I=i.get(kc).onDestroy(m),A=Bs(i,()=>new $l(d,()=>{m(),t()}));return c.register(A),{destroy:m}}class $l{constructor(r,i){this.phase=r,this.callbackFn=i,this.zone=Hn(cs),this.errorHandler=Hn(wa,{optional:!0}),Hn(Hm,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}}class Ju{constructor(){this.executingCallbacks=!1,this.buckets={[uu.EarlyRead]:new Set,[uu.Write]:new Set,[uu.MixedReadWrite]:new Set,[uu.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const i of r)i.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let Lh=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const a of i)a()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:()=>new t})}return t})();function du(t){return!!pi(t)}function mp(t,r,i){let a=i?t.styles:null,c=i?t.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const I=r[m];"number"==typeof I?d=I:1==d?c=Dr(c,I):2==d&&(a=Dr(a,I+": "+r[++m]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=c:t.classesWithoutHost=c}class vv extends ou{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const i=er(r);return new ed(i,this.ngModule)}}function Qm(t){const r=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const a=t[i];void 0!==a&&r.push({propName:Array.isArray(a)?a[0]:a,templateName:i})}return r}class Xm{constructor(r,i){this.injector=r,this.parentInjector=i}get(r,i,a){a=ws(a);const c=this.injector.get(r,cp,a);return c!==cp||i===cp?c:this.parentInjector.get(r,i,a)}}class ed extends Ph{get inputs(){const r=this.componentDef,i=r.inputTransforms,a=Qm(r.inputs);if(null!==i)for(const c of a)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return a}get outputs(){return Qm(this.componentDef.outputs)}constructor(r,i){super(),this.componentDef=r,this.ngModule=i,this.componentType=r.type,this.selector=function Ls(t){return t.map(ks).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!i}create(r,i,a,c){const d=W(null);try{let m=(c=c||this.ngModule)instanceof Pi?c:c?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new Xm(r,m):r,A=I.get(fv,null);if(null===A)throw new Nt(407,!1);const k=I.get(Mh,null),Me={rendererFactory:A,sanitizer:k,inlineEffectRunner:null,afterRenderEventManager:I.get(Lh,null),changeDetectionScheduler:I.get(Hm,null)},Ue=A.createRenderer(null,this.componentDef),it=this.componentDef.selectors[0][0]||"div",wt=a?function JI(t,r,i,a){const d=a.get(Kd,!1)||i===Ai.ShadowDom,m=t.selectRootElement(r,d);return function _m(t){ym(t)}(m),m}(Ue,a,this.componentDef.encapsulation,I):lh(Ue,it,function Iv(t){const r=t.toLowerCase();return"svg"===r?pd:"math"===r?"math":null}(it));let Kt=512;this.componentDef.signals?Kt|=4096:this.componentDef.onPush||(Kt|=16);let ln=null;null!==wt&&(ln=$d(wt,I,!0));const Rt=gm(0,null,null,1,0,null,null,null,null,null,null),ar=ju(null,Rt,null,Kt,null,null,Me,Ue,I,null,ln);let ai,Ni;Cd(ar);try{const mo=this.componentDef;let $a,Qp=null;mo.findHostDirectiveDefs?($a=[],Qp=new Map,mo.findHostDirectiveDefs(mo,$a,Qp),$a.push(mo)):$a=[mo];const dA=function Ym(t,r){const i=t[he],a=nr;return t[a]=r,Hu(i,a,2,"#host",null)}(ar,wt),UP=function _p(t,r,i,a,c,d,m){const I=c[he];!function TE(t,r,i,a){for(const c of t)r.mergedAttrs=jo(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(mp(r,r.mergedAttrs,!0),null!==i&&dm(a,i,r))}(a,t,r,m);let A=null;null!==r&&(A=$d(r,c[Rn]));const k=d.rendererFactory.createRenderer(r,i);let q=16;i.signals?q=4096:i.onPush&&(q=64);const ce=ju(c,Xf(i),null,q,c[t.index],t,d,k,null,null,A);return I.firstCreatePass&&gh(I,t,a.length-1),_h(c,ce),c[t.index]=ce}(dA,wt,mo,$a,ar,Me,Ue);Ni=Cc(Rt,nr),wt&&function fw(t,r,i,a){if(a)co(t,i,["ng-version","17.3.2"]);else{const{attrs:c,classes:d}=function Aa(t){const r=[],i=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&i.push(d);else{if(!x(c))break;c=d}a++}return{attrs:r,classes:i}}(r.selectors[0]);c&&co(t,i,c),d&&d.length>0&&jy(t,i,d.join(" "))}}(Ue,mo,wt,a),void 0!==i&&function bE(t,r,i){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=i[c];a.push(null!=d?Array.from(d):null)}}(Ni,this.ngContentSelectors,i),ai=function hw(t,r,i,a,c,d){const m=Tr(),I=c[he],A=Hs(m,c);Tm(I,c,m,i,null,a);for(let q=0;q<i.length;q++)No(Ja(c,I,m.directiveStart+q,m),c);yl(I,c,m),A&&No(A,c);const k=Ja(c,I,m.directiveStart+m.componentOffset,m);if(t[Bt]=c[Bt]=k,null!==d)for(const q of d)q(k,r);return fh(I,m,c),k}(UP,mo,$a,Qp,ar,[pw]),vh(Rt,ar,null)}finally{rc()}return new Ev(this.componentType,ai,hc(Ni,ar),ar,Ni)}finally{W(d)}}}class Ev extends su{constructor(r,i,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new bh(c,void 0,!1),this.componentType=r}setInput(r,i){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),i))return;const d=this._rootLView;yh(d[he],d,c,r,i),this.previousInputValues.set(r,i),Th(ho(this._tNode.index,d))}}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function pw(){const t=Tr();sc(ft()[he],t)}let Zm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hu}return t})();function hu(){return e_(Tr(),ft())}const Gl=Zm,td=class extends Gl{constructor(r,i,a){super(),this._lContainer=r,this._hostTNode=i,this._hostLView=a}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const r=vn(this._hostTNode,this._hostLView);if(cc(r)){const i=uc(r,this._hostLView),a=fl(r);return new ys(i[he].data[a+8],i)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const i=Wl(this._lContainer);return null!==i&&i[r]||null}get length(){return this._lContainer.length-dr}createEmbeddedView(r,i,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const I=r.createEmbeddedViewImpl(i||{},d,null);return this.insertImpl(I,c,Hl(this._hostTNode,null)),I}createComponent(r,i,a,c,d){const m=r&&!function Ct(t){return"function"==typeof t}(r);let I;if(m)I=i;else{const it=i||{};I=it.index,a=it.injector,c=it.projectableNodes,d=it.environmentInjector||it.ngModuleRef}const A=m?r:new ed(er(r)),k=a||this.parentInjector;if(!d&&null==A.ngModule){const wt=(m?k:this.parentInjector).get(Pi,null);wt&&(d=wt)}er(A.componentType??{});const Ue=A.create(k,c,null,d);return this.insertImpl(Ue.hostView,I,Hl(this._hostTNode,null)),Ue}insert(r,i){return this.insertImpl(r,i,!0)}insertImpl(r,i,a){const c=r._lView;if(function Zp(t){return Qr(t[Xe])}(c)){const I=this.indexOf(r);if(-1!==I)this.detach(I);else{const A=c[Xe],k=new td(A,A[Dt],A[Xe]);k.detach(k.indexOf(r))}}const d=this._adjustIndex(i),m=this._lContainer;return Ih(m,c,d,a),r.attachToViewContainerRef(),zs(Jm(m),d,r),r}move(r,i){return this.insert(r,i)}indexOf(r){const i=Wl(this._lContainer);return null!==i?i.indexOf(r):-1}remove(r){const i=this._adjustIndex(r,-1),a=Yc(this._lContainer,i);a&&(bs(Jm(this._lContainer),i),$f(a[he],a))}detach(r){const i=this._adjustIndex(r,-1),a=Yc(this._lContainer,i);return a&&null!=bs(Jm(this._lContainer),i)?new bh(a):null}_adjustIndex(r,i=0){return r??this.length+i}};function Wl(t){return t[8]}function Jm(t){return t[8]||(t[8]=[])}function e_(t,r){let i;const a=r[t.index];return Qr(a)?i=a:(i=Mm(a,r,null,t),r[t.index]=i,_h(r,i)),zl(i,r,t,a),new td(i,t,r)}let zl=function Cv(t,r,i,a){if(t[wn])return;let c;c=8&i.type?ii(a):function AE(t,r){const i=t[Xt],a=i.createComment(""),c=Hs(r,t);return mc(i,il(i,c),a,function sm(t,r){return t.nextSibling(r)}(i,c),!1),a}(r,i),t[wn]=c},t_=()=>!1;class yp{constructor(r){this.queryList=r,this.matches=null}clone(){return new yp(this.queryList)}setDirty(){this.queryList.setDirty()}}class n_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const i=r.queries;if(null!==i){const a=null!==r.contentQueries?r.contentQueries[0]:i.length,c=[];for(let d=0;d<a;d++){const m=i.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new n_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let i=0;i<this.queries.length;i++)null!==a_(r,i).matches&&this.queries[i].setDirty()}}class bv{constructor(r,i,a=null){this.flags=i,this.read=a,this.predicate="string"==typeof r?function mw(t){return t.split(",").map(r=>r.trim())}(r):r}}class vp{constructor(r=[]){this.queries=r}elementStart(r,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,i)}elementEnd(r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(r)}embeddedTView(r){let i=null;for(let a=0;a<this.length;a++){const c=null!==i?i.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==i?i.push(d):i=[d])}return null!==i?new vp(i):null}template(r,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,i)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class r_{constructor(r,i=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(r,i){this.isApplyingToNode(i)&&this.matchTNode(r,i)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,i){this.elementStart(r,i)}embeddedTView(r,i){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,i),new r_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,i,nd(i,d)),this.matchTNodeWithReadOption(r,i,Ms(i,r,d,!1,!1))}else a===Ku?4&i.type&&this.matchTNodeWithReadOption(r,i,-1):this.matchTNodeWithReadOption(r,i,Ms(i,r,a,!1,!1))}matchTNodeWithReadOption(r,i,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Ld||c===Zm||c===Ku&&4&i.type)this.addMatch(i.index,-2);else{const d=Ms(i,r,c,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,a)}}addMatch(r,i){null===this.matches?this.matches=[r,i]:this.matches.push(r,i)}}function nd(t,r){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===r)return i[a+1];return null}function gw(t,r,i,a){return-1===i?function i_(t,r){return 11&t.type?hc(t,r):4&t.type?rp(t,r):null}(r,t):-2===i?function RE(t,r,i){return i===Ld?hc(r,t):i===Ku?rp(r,t):i===Zm?e_(r,t):void 0}(t,r,a):Ja(t,t[he],i,r)}function Av(t,r,i,a){const c=r[tt].queries[a];if(null===c.matches){const d=t.data,m=i.matches,I=[];for(let A=0;null!==m&&A<m.length;A+=2){const k=m[A];I.push(k<0?null:gw(r,d[k],m[A+1],i.metadata.read))}c.matches=I}return c.matches}function s_(t,r,i,a){const c=t.queries.getByIndex(i),d=c.matches;if(null!==d){const m=Av(t,r,c,i);for(let I=0;I<d.length;I+=2){const A=d[I];if(A>0)a.push(m[I/2]);else{const k=d[I+1],q=r[-A];for(let ce=dr;ce<q.length;ce++){const Me=q[ce];Me[Rs]===Me[Xe]&&s_(Me[he],Me,k,a)}if(null!==q[fr]){const ce=q[fr];for(let Me=0;Me<ce.length;Me++){const Ue=ce[Me];s_(Ue[he],Ue,k,a)}}}}}return a}function Dv(t,r,i){const a=new Tu(!(4&~i));return function eE(t,r,i,a){const c=Jf(r);c.push(i),t.firstCreatePass&&Ky(t).push(a,c.length-1)}(t,r,a,a.destroy),(r[tt]??=new n_).queries.push(new yp(a))-1}function xE(t,r,i){null===t.queries&&(t.queries=new vp),t.queries.track(new r_(r,i))}function a_(t,r){return t.queries.getByIndex(r)}function Sv(t,r){const i=t[he],a=a_(i,r);return a.crossesNgTemplate?s_(i,t,r,[]):Av(i,t,a,r)}function Pv(t){return function NE(t){return"function"==typeof t&&void 0!==t[Q]}(t)&&"function"==typeof t.set}function Kl(t){let r=function Cp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;r;){let c;if(Or(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Nt(903,!1);c=r.\u0275dir}if(c){if(i){a.push(c);const m=t;m.inputs=Tp(t.inputs),m.inputTransforms=Tp(t.inputTransforms),m.declaredInputs=Tp(t.declaredInputs),m.outputs=Tp(t.outputs);const I=c.hostBindings;I&&Bv(t,I);const A=c.viewQuery,k=c.contentQueries;if(A&&Tw(t,A),k&&GE(t,k),HE(t,c),An(t.outputs,c.outputs),Or(c)&&c.data.animation){const q=t.data;q.animation=(q.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const I=d[m];I&&I.ngInherit&&I(t),I===Kl&&(i=!1)}}r=Object.getPrototypeOf(r)}!function $E(t){let r=0,i=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=jo(c.hostAttrs,i=jo(i,c.hostAttrs))}}(a)}function HE(t,r){for(const i in r.inputs){if(!r.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const a=r.inputs[i];if(void 0!==a&&(t.inputs[i]=a,t.declaredInputs[i]=r.declaredInputs[i],null!==r.inputTransforms)){const c=Array.isArray(a)?a[0]:a;if(!r.inputTransforms.hasOwnProperty(c))continue;t.inputTransforms??={},t.inputTransforms[c]=r.inputTransforms[c]}}}function Tp(t){return t===Vi?{}:t===hr?[]:t}function Tw(t,r){const i=t.viewQuery;t.viewQuery=i?(a,c)=>{r(a,c),i(a,c)}:r}function GE(t,r){const i=t.contentQueries;t.contentQueries=i?(a,c,d)=>{r(a,c,d),i(a,c,d)}:r}function Bv(t,r){const i=t.hostBindings;t.hostBindings=i?(a,c)=>{r(a,c),i(a,c)}:r}function m_(t){const r=t.inputConfig,i={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[3]&&(i[a]=c[3])}t.inputTransforms=i}class pu{}class $v{}function zE(t,r){return new __(t,r??null,[])}class __ extends pu{constructor(r,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vv(this);const c=pi(r);this._bootstrapComponents=eo(c.bootstrap),this._r3Injector=j_(r,i,[{provide:pu,useValue:this},{provide:ou,useValue:this.componentFactoryResolver},...a],or(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Ap extends $v{constructor(r){super(),this.moduleType=r}create(r){return new __(this.moduleType,r,[])}}class qE extends pu{constructor(r){super(),this.componentFactoryResolver=new vv(this),this.instance=null;const i=new ia([...r.providers,{provide:pu,useValue:this},{provide:ou,useValue:this.componentFactoryResolver}],r.parent||Ao(),r.debugName,new Set(["environment"]));this.injector=i,r.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function y_(t,r,i=null){return new qE({providers:t,parent:r,debugName:i,runEnvironmentInitializers:!0}).injector}let f=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M(t){return!!pe(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function pe(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function rt(t,r,i){return t[r]=i}function Lt(t,r,i){return!Object.is(t[r],i)&&(t[r]=i,!0)}function Yt(t,r,i,a){const c=Lt(t,r,i);return Lt(t,r+1,a)||c}function kr(t,r,i,a,c,d,m,I){const A=ft(),k=Rr(),q=t+nr,ce=k.firstCreatePass?function mr(t,r,i,a,c,d,m,I,A){const k=r.consts,q=Hu(r,t,4,m||null,oa(k,I));yc(r,i,q,oa(k,A)),sc(r,q);const ce=q.tView=gm(2,q,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,k,null);return null!==r.queries&&(r.queries.template(r,q),ce.queries=r.queries.embeddedTView(q)),q}(q,k,A,r,i,a,c,d,m):k.data[q];fo(ce,!1);const Me=oi(k,A,ce,t);xl()&&Kf(k,A,Me,ce),No(Me,A);const Ue=Mm(Me,A,Me,ce);return A[q]=Ue,_h(A,Ue),function wv(t,r,i){return t_(t,r,i)}(Ue,ce,A),Dn(ce)&&ph(k,A,ce),null!=m&&pm(A,ce,I),kr}let oi=function us(t,r,i,a){return Oo(!0),r[Xt].createComment("")};function o0(t,r,i,a){const c=ft();return Lt(c,aa(),r)&&(Rr(),vl(yi(),c,t,r,i,a)),o0}function kp(t,r,i,a,c,d){const I=Yt(t,function Mo(){return Tn.lFrame.bindingIndex}(),i,c);return xo(2),I?r+Cn(i)+a+Cn(c)+d:gr}function Qv(t,r){return t<<17|r<<2}function ld(t){return t>>17&32767}function a0(t){return 2|t}function Gh(t){return(131068&t)>>2}function l0(t,r){return-131069&t|r<<2}function c0(t){return 1|t}function rC(t,r,i,a){const c=t[i+1],d=null===r;let m=a?ld(c):Gh(c),I=!1;for(;0!==m&&(!1===I||d);){const k=t[m+1];JA(t[m],r)&&(I=!0,t[m+1]=a?c0(k):a0(k)),m=a?ld(k):Gh(k)}I&&(t[i+1]=a?a0(c):c0(c))}function JA(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ii(t,r)>=0}const po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iC(t){return t.substring(po.key,po.keyEnd)}function eD(t){return t.substring(po.value,po.valueEnd)}function sC(t,r){const i=po.textEnd;return i===r?-1:(r=po.keyEnd=function rD(t,r,i){for(;r<i&&t.charCodeAt(r)>32;)r++;return r}(t,po.key=r,i),Hp(t,r,i))}function oC(t,r){const i=po.textEnd;let a=po.key=Hp(t,r,i);return i===a?-1:(a=po.keyEnd=function iD(t,r,i){let a;for(;r<i&&(45===(a=t.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(t,a,i),a=lC(t,a,i),a=po.value=Hp(t,a,i),a=po.valueEnd=function sD(t,r,i){let a=-1,c=-1,d=-1,m=r,I=m;for(;m<i;){const A=t.charCodeAt(m++);if(59===A)return I;34===A||39===A?I=m=cC(t,A,m,i):r===m-4&&85===d&&82===c&&76===a&&40===A?I=m=cC(t,41,m,i):A>32&&(I=m),d=c,c=a,a=-33&A}return I}(t,a,i),lC(t,a,i))}function aC(t){po.key=0,po.keyEnd=0,po.value=0,po.valueEnd=0,po.textEnd=t.length}function Hp(t,r,i){for(;r<i&&t.charCodeAt(r)<=32;)r++;return r}function lC(t,r,i,a){return(r=Hp(t,r,i))<i&&r++,r}function cC(t,r,i,a){let c=-1,d=i;for(;d<a;){const m=t.charCodeAt(d++);if(m==r&&92!==c)return d;c=92==m&&92===c?0:m}throw new Error}function u0(t,r,i){const a=ft();return Lt(a,aa(),r)&&ca(Rr(),yi(),a,t,r,a[Xt],i,!1),u0}function d0(t,r,i,a,c){const m=c?"class":"style";yh(t,i,r.inputs[m],m,a)}function h0(t,r,i){return Ql(t,r,i,!1),h0}function f0(t,r){return Ql(t,r,null,!0),f0}function ql(t){Xl(fC,oD,t,!1)}function oD(t,r){for(let i=function nD(t){return aC(t),oC(t,Hp(t,0,po.textEnd))}(r);i>=0;i=oC(r,i))fC(t,iC(r),eD(r))}function uC(t){Xl(hD,wc,t,!0)}function wc(t,r){for(let i=function tD(t){return aC(t),sC(t,Hp(t,0,po.textEnd))}(r);i>=0;i=sC(r,i))Zr(t,iC(r),!0)}function Ql(t,r,i,a){const c=ft(),d=Rr(),m=xo(2);d.firstUpdatePass&&hC(d,t,m,a),r!==gr&&Lt(c,m,r)&&pC(d,d.data[Bi()],c,c[Xt],t,c[m+1]=function pD(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=or(ml(t)))),t}(r,i),a,m)}function Xl(t,r,i,a){const c=Rr(),d=xo(2);c.firstUpdatePass&&hC(c,null,d,a);const m=ft();if(i!==gr&&Lt(m,d,i)){const I=c.data[Bi()];if(mC(I,a)&&!dC(c,d)){let A=a?I.classesWithoutHost:I.stylesWithoutHost;null!==A&&(i=Dr(A,i||"")),d0(c,I,m,i,a)}else!function fD(t,r,i,a,c,d,m,I){c===gr&&(c=hr);let A=0,k=0,q=0<c.length?c[0]:null,ce=0<d.length?d[0]:null;for(;null!==q||null!==ce;){const Me=A<c.length?c[A+1]:void 0,Ue=k<d.length?d[k+1]:void 0;let wt,it=null;q===ce?(A+=2,k+=2,Me!==Ue&&(it=ce,wt=Ue)):null===ce||null!==q&&q<ce?(A+=2,it=q):(k+=2,it=ce,wt=Ue),null!==it&&pC(t,r,i,a,it,wt,m,I),q=A<c.length?c[A]:null,ce=k<d.length?d[k]:null}}(c,I,m,m[Xt],m[d+1],m[d+1]=function dD(t,r,i){if(null==i||""===i)return hr;const a=[],c=ml(i);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,i),a,d)}}function dC(t,r){return r>=t.expandoStartIndex}function hC(t,r,i,a){const c=t.data;if(null===c[i+1]){const d=c[Bi()],m=dC(t,i);mC(d,a)&&null===r&&!m&&(r=!1),r=function aD(t,r,i,a){const c=function _u(t){const r=Tn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(i=w_(i=p0(null,t,r,i,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==c)if(i=p0(c,t,r,i,a),null===d){let A=function lD(t,r,i){const a=i?r.classBindings:r.styleBindings;if(0!==Gh(a))return t[ld(a)]}(t,r,a);void 0!==A&&Array.isArray(A)&&(A=p0(null,t,r,A[1],a),A=w_(A,r.attrs,a),function cD(t,r,i,a){t[ld(i?r.classBindings:r.styleBindings)]=a}(t,r,a,A))}else d=function uD(t,r,i){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=w_(a,t[d].hostAttrs,i);return w_(a,r.attrs,i)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),i}(c,d,r,a),function YA(t,r,i,a,c,d){let m=d?r.classBindings:r.styleBindings,I=ld(m),A=Gh(m);t[a]=i;let q,k=!1;if(Array.isArray(i)?(q=i[1],(null===q||Ii(i,q)>0)&&(k=!0)):q=i,c)if(0!==A){const Me=ld(t[I+1]);t[a+1]=Qv(Me,I),0!==Me&&(t[Me+1]=l0(t[Me+1],a)),t[I+1]=function QA(t,r){return 131071&t|r<<17}(t[I+1],a)}else t[a+1]=Qv(I,0),0!==I&&(t[I+1]=l0(t[I+1],a)),I=a;else t[a+1]=Qv(A,0),0===I?I=a:t[A+1]=l0(t[A+1],a),A=a;k&&(t[a+1]=a0(t[a+1])),rC(t,q,a,!0),rC(t,q,a,!1),function ZA(t,r,i,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Ii(d,r)>=0&&(i[a+1]=c0(i[a+1]))}(r,q,t,a,d),m=Qv(I,A),d?r.classBindings=m:r.styleBindings=m}(c,d,r,i,m,a)}}function p0(t,r,i,a,c){let d=null;const m=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<m&&(d=r[I],a=w_(a,d.hostAttrs,c),d!==t);)I++;return null!==t&&(i.directiveStylingLast=I),a}function w_(t,r,i){const a=i?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Zr(t,m,!!i||r[++d]))}return void 0===t?null:t}function fC(t,r,i){Zr(t,r,ml(i))}function hD(t,r,i){const a=String(r);""!==a&&!a.includes(" ")&&Zr(t,a,i)}function pC(t,r,i,a,c,d,m,I){if(!(3&r.type))return;const A=t.data,k=A[I+1],q=function XA(t){return!(1&~t)}(k)?gC(A,r,i,c,Gh(k),m):void 0;Xv(q)||(Xv(d)||function qA(t){return!(2&~t)}(k)&&(d=gC(A,null,i,c,I,m)),function YI(t,r,i,a,c){if(r)c?t.addClass(i,a):t.removeClass(i,a);else{let d=-1===a.indexOf("-")?void 0:Hf.DashCase;null==c?t.removeStyle(i,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Hf.Important),t.setStyle(i,a,c,d))}}(a,m,_a(Bi(),i),c,d))}function gC(t,r,i,a,c,d){const m=null===r;let I;for(;c>0;){const A=t[c],k=Array.isArray(A),q=k?A[1]:A,ce=null===q;let Me=i[c+1];Me===gr&&(Me=ce?hr:void 0);let Ue=ce?ha(Me,a):q===a?Me:void 0;if(k&&!Xv(Ue)&&(Ue=ha(A,a)),Xv(Ue)&&(I=Ue,m))return I;const it=t[c+1];c=m?ld(it):Gh(it)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(I=ha(A,a))}return I}function Xv(t){return void 0!==t}function mC(t,r){return!!(t.flags&(r?8:16))}function Yv(t,r,i,a){const c=ft(),d=Rr(),m=nr+t,I=c[Xt],A=d.firstCreatePass?function FD(t,r,i,a,c,d){const m=r.consts,A=Hu(r,t,2,a,oa(m,c));return yc(r,i,A,oa(m,d)),null!==A.attrs&&mp(A,A.attrs,!1),null!==A.mergedAttrs&&mp(A,A.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,A),A}(m,d,c,r,i,a):d.data[m],k=IC(d,c,A,I,r,t);c[m]=k;const q=Dn(A);return fo(A,!0),dm(I,k,A),!function Ln(t){return!(32&~t.flags)}(A)&&xl()&&Kf(d,c,k,A),0===function ef(){return Tn.lFrame.elementDepthCount}()&&No(k,c),function _i(){Tn.lFrame.elementDepthCount++}(),q&&(ph(d,c,A),fh(d,A,c)),null!==a&&pm(c,A),Yv}function Zv(){let t=Tr();Dc()?Oa():(t=t.parent,fo(t,!1));const r=t;(function tf(t){return Tn.skipHydrationRootTNode===t})(r)&&function vd(){Tn.skipHydrationRootTNode=null}(),function Ac(){Tn.lFrame.elementDepthCount--}();const i=Rr();return i.firstCreatePass&&(sc(i,t),ri(t)&&i.queries.elementEnd(t)),null!=r.classesWithoutHost&&function cf(t){return!!(8&t.flags)}(r)&&d0(i,r,ft(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Sd(t){return!!(16&t.flags)}(r)&&d0(i,r,ft(),r.stylesWithoutHost,!1),Zv}function v0(t,r,i,a){return Yv(t,r,i,a),Zv(),v0}let IC=(t,r,i,a,c,d)=>(Oo(!0),lh(a,c,function si(){return Tn.lFrame.currentNamespace}()));function Jv(t,r,i){const a=ft(),c=Rr(),d=t+nr,m=c.firstCreatePass?function BD(t,r,i,a,c){const d=r.consts,m=oa(d,a),I=Hu(r,t,8,"ng-container",m);return null!==m&&mp(I,m,!0),yc(r,i,I,oa(d,c)),null!==r.queries&&r.queries.elementStart(r,I),I}(d,c,a,r,i):c.data[d];fo(m,!0);const I=EC(c,a,m,t);return a[d]=I,xl()&&Kf(c,a,I,m),No(I,a),Dn(m)&&(ph(c,a,m),fh(c,m,a)),null!=i&&pm(a,m),Jv}function eI(){let t=Tr();const r=Rr();return Dc()?Oa():(t=t.parent,fo(t,!1)),r.firstCreatePass&&(sc(r,t),ri(t)&&r.queries.elementEnd(t)),eI}function I0(t,r,i){return Jv(t,r,i),eI(),I0}let EC=(t,r,i,a)=>(Oo(!0),ah(r[Xt],""));function wC(){return ft()}const Wh=void 0;var GD=["en",[["a","p"],["AM","PM"],Wh],[["AM","PM"],Wh,Wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wh,"{1} 'at' {0}",Wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $D(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let $p={};function E0(t){const r=function WD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=AC(r);if(i)return i;const a=r.split("-")[0];if(i=AC(a),i)return i;if("en"===a)return GD;throw new Nt(701,!1)}function bC(t){return E0(t)[Gp.PluralCase]}function AC(t){return t in $p||($p[t]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[t]),$p[t]}var Gp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Gp||{});const Wp="en-US";let DC=Wp;function T0(t,r,i,a){const c=ft(),d=Rr(),m=Tr();return b0(d,c,c[Xt],m,t,r,a),T0}function b0(t,r,i,a,c,d,m){const I=Dn(a),k=t.firstCreatePass&&Ky(t),q=r[Bt],ce=Jf(r);let Me=!0;if(3&a.type||m){const wt=Hs(a,r),Kt=m?m(wt):wt,ln=ce.length,Rt=m?ai=>m(ii(ai[a.index])):a.index;let ar=null;if(!m&&I&&(ar=function jS(t,r,i,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===i&&c[d+1]===a){const I=r[kn],A=c[d+2];return I.length>A?I[A]:null}"string"==typeof m&&(d+=2)}return null}(t,r,c,a.index)),null!==ar)(ar.__ngLastListenerFn__||ar).__ngNextListenerFn__=d,ar.__ngLastListenerFn__=d,Me=!1;else{d=tT(a,r,q,d,!1);const ai=i.listen(Kt,c,d);ce.push(d,ai),k&&k.push(c,Rt,ln,ln+1)}}else d=tT(a,r,q,d,!1);const Ue=a.outputs;let it;if(Me&&null!==Ue&&(it=Ue[c])){const wt=it.length;if(wt)for(let Kt=0;Kt<wt;Kt+=2){const Ni=r[it[Kt]][it[Kt+1]].subscribe(d),mo=ce.length;ce.push(d,Ni),k&&k.push(c,a.index,mo,-(mo+1))}}}function eT(t,r,i,a){const c=W(null);try{return ls(6,r,i),!1!==i(a)}catch(d){return nu(t,d),!1}finally{ls(7,r,i),W(c)}}function tT(t,r,i,a,c){return function d(m){if(m===Function)return a;Th(t.componentOffset>-1?ho(t.index,r):r);let A=eT(r,i,a,m),k=d.__ngNextListenerFn__;for(;k;)A=eT(r,i,k,m)&&A,k=k.__ngNextListenerFn__;return c&&!1===A&&m.preventDefault(),A}}function nT(t=1){return function Di(t){return(Tn.lFrame.contextLView=function Jh(t,r){for(;t>0;)r=r[Wt],t--;return r}(t,Tn.lFrame.contextLView))[Bt]}(t)}function HS(t,r){let i=null;const a=function gn(t){const r=t.attrs;if(null!=r){const i=r.indexOf(5);if(!(1&i))return r[i+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?Re(t,d,!0):qs(a,d))return c}else i=c}return i}function rT(t){const r=ft()[zt][Dt];if(!r.projection){const a=r.projection=function ts(t,r){const i=[];for(let a=0;a<t;a++)i.push(r);return i}(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const m=t?HS(d,t):0;null!==m&&(c[m]?c[m].projectionNext=d:a[m]=d,c[m]=d),d=d.next}}}function iT(t,r=0,i){const a=ft(),c=Rr(),d=Hu(c,nr+t,16,null,i||null);null===d.projection&&(d.projection=r),Oa(),(!a[Sn]||Xr())&&32&~d.flags&&function lm(t,r,i){cm(r[Xt],0,r,i,rm(t,i,r),Zc(i.parent||r[Dt],i,r))}(c,a,d)}function pT(t,r,i,a){!function ME(t,r,i,a){const c=Rr();if(c.firstCreatePass){const d=Tr();xE(c,new bv(r,i,a),d.index),function OE(t,r){const i=t.contentQueries||(t.contentQueries=[]);r!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,r)}(c,t),!(2&~i)&&(c.staticContentQueries=!0)}return Dv(c,ft(),i)}(t,r,i,a)}function gT(t,r,i){!function PE(t,r,i){const a=Rr();return a.firstCreatePass&&(xE(a,new bv(t,r,i),-1),!(2&~r)&&(a.staticViewQueries=!0)),Dv(a,ft(),r)}(t,r,i)}function mT(t){const r=ft(),i=Rr(),a=Rl();Pl(a+1);const c=a_(i,a);if(t.dirty&&function Yh(t){return!(4&~t[Oe])}(r)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const d=Sv(r,a);t.reset(d,W_),t.notifyOnChanges()}return!0}return!1}function _T(){return function o_(t,r){return t[tt].queries[r].queryList}(ft(),Rl())}function yT(t){return function ec(t,r){return t[r]}(function Za(){return Tn.lFrame.contextLView}(),nr+t)}function ST(t,r=""){const i=ft(),a=Rr(),c=t+nr,d=a.firstCreatePass?Hu(a,c,1,r,null):a.data[c],m=RT(a,i,d,r,t);i[c]=m,xl()&&Kf(a,i,m,d),fo(d,!1)}let RT=(t,r,i,a,c)=>(Oo(!0),function sh(t,r){return t.createText(r)}(r[Xt],a));function D0(t){return sI("",t,""),D0}function sI(t,r,i){const a=ft(),c=function Np(t,r,i,a){return Lt(t,aa(),i)?r+Cn(i)+a:gr}(a,t,r,i);return c!==gr&&jl(a,Bi(),c),sI}function S0(t,r,i,a,c){const d=ft(),m=kp(d,t,r,i,a,c);return m!==gr&&jl(d,Bi(),m),S0}function R0(t,r,i){Pv(r)&&(r=r());const a=ft();return Lt(a,aa(),r)&&ca(Rr(),yi(),a,t,r,a[Xt],i,!1),R0}function FT(t,r){const i=Pv(t);return i&&t.set(r),i}function P0(t,r){const i=ft(),a=Rr(),c=Tr();return b0(a,i,i[Xt],c,t,r),P0}function M0(t,r,i,a,c){if(t=Fe(t),Array.isArray(t))for(let d=0;d<t.length;d++)M0(t[d],r,i,a,c);else{const d=Rr(),m=ft(),I=Tr();let A=bo(t)?t:Fe(t.provide);const k=qa(t),q=1048575&I.providerIndexes,ce=I.directiveStart,Me=I.providerIndexes>>20;if(bo(t)||!t.multi){const Ue=new Nl(k,c,Bu),it=O0(A,r,c?q:q+Me,ce);-1===it?(Pn(Le(I,m),d,A),x0(d,t,r.length),r.push(A),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(Ue),m.push(Ue)):(i[it]=Ue,m[it]=Ue)}else{const Ue=O0(A,r,q+Me,ce),it=O0(A,r,q,q+Me),Kt=it>=0&&i[it];if(c&&!Kt||!c&&!(Ue>=0&&i[Ue])){Pn(Le(I,m),d,A);const ln=function aR(t,r,i,a,c){const d=new Nl(t,i,Bu);return d.multi=[],d.index=r,d.componentProviders=0,VT(d,c,a&&!i),d}(c?oR:sR,i.length,c,a,k);!c&&Kt&&(i[it].providerFactory=ln),x0(d,t,r.length,0),r.push(A),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(ln),m.push(ln)}else x0(d,t,Ue>-1?Ue:it,VT(i[c?it:Ue],k,!c&&a));!c&&a&&Kt&&i[it].componentProviders++}}}function x0(t,r,i,a){const c=bo(r),d=function Ka(t){return!!t.useClass}(r);if(c||d){const A=(d?Fe(r.useClass):r).prototype.ngOnDestroy;if(A){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const q=k.indexOf(i);-1===q?k.push(i,[a,A]):k[q+1].push(a,A)}else k.push(i,A)}}}function VT(t,r,i){return i&&t.componentProviders++,t.multi.push(r)-1}function O0(t,r,i,a){for(let c=i;c<a;c++)if(r[c]===t)return c;return-1}function sR(t,r,i,a){return N0(this.multi,[])}function oR(t,r,i,a){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=Ja(i,i[he],this.providerFactory.index,a);d=I.slice(0,m),N0(c,d);for(let A=m;A<I.length;A++)d.push(I[A])}else d=[],N0(c,d);return d}function N0(t,r){for(let i=0;i<t.length;i++)r.push((0,t[i])());return r}function UT(t,r=[]){return i=>{i.providersResolver=(a,c)=>function iR(t,r,i){const a=Rr();if(a.firstCreatePass){const c=Or(t);M0(i,a.data,a.blueprint,c,!0),M0(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}let lR=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=To(0,i.type),c=a.length>0?y_([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=sr({token:t,providedIn:"environment",factory:()=>new t(fi(Pi))})}return t})();function BT(t){Ua("NgStandalone"),t.getStandaloneInjector=r=>r.get(lR).getOrCreateStandaloneInjector(t)}function HT(t,r,i,a){return function WT(t,r,i,a,c,d){const m=r+i;return Lt(t,m,c)?rt(t,m+1,d?a.call(d,c):a(c)):R_(t,m+1)}(ft(),xi(),t,r,i,a)}function $T(t,r,i,a,c){return function zT(t,r,i,a,c,d,m){const I=r+i;return Yt(t,I,c,d)?rt(t,I+2,m?a.call(m,c,d):a(c,d)):R_(t,I+2)}(ft(),xi(),t,r,i,a,c)}function GT(t,r,i,a,c,d){return function KT(t,r,i,a,c,d,m,I){const A=r+i;return function Un(t,r,i,a,c){const d=Yt(t,r,i,a);return Lt(t,r+2,c)||d}(t,A,c,d,m)?rt(t,A+3,I?a.call(I,c,d,m):a(c,d,m)):R_(t,A+3)}(ft(),xi(),t,r,i,a,c,d)}function R_(t,r){const i=t[r];return i===gr?void 0:i}class db{constructor(r){this.full=r;const i=r.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const KR=new db("17.3.2");let hb=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const _b=new st(""),yb=new st("");let B0,I1=(()=>{class t{constructor(i,a,c){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,B0||(function E1(t){B0=t}(c),c.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),i()},a)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:c})}whenStable(i,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(fi(cs),fi(vb),fi(yb))};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac})}return t})(),vb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return B0?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function j0(t){return!!t&&"function"==typeof t.then}function Ib(t){return!!t&&"function"==typeof t.subscribe}const Eb=new st("");let H0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=Hn(Eb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const d=c();if(j0(d))i.push(d);else if(Ib(d)){const m=new Promise((I,A)=>{d.subscribe({complete:I,error:A})});i.push(m)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(c=>{this.reject(c)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $0=new st("");function Tb(t,r){return Array.isArray(r)?r.reduce(Tb,t):{...t,...r}}let cd=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Hn(H_),this.afterRenderEffectManager=Hn(Lh),this.externalTestViews=new Set,this.beforeRender=new Mn.B,this.afterTick=new Mn.B,this.componentTypes=[],this.components=[],this.isStable=Hn(f).hasPendingTasks.pipe((0,Bn.T)(i=>!i)),this._injector=Hn(Pi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const c=i instanceof Ph;if(!this._injector.get(H0).done)throw!c&&Ri(i),new Nt(405,!1);let m;m=c?i:this._injector.get(ou).resolveComponentFactory(i),this.componentTypes.push(m.componentType);const I=function w1(t){return t.isBoundToModule}(m)?void 0:this._injector.get(pu),k=m.create(Gr.NULL,[],a||m.selector,I),q=k.location.nativeElement,ce=k.injector.get(_b,null);return ce?.registerApplication(q),k.onDestroy(()=>{this.detachView(k.hostView),cI(this.components,k),ce?.unregisterApplication(q)}),this._loadComponent(k),k}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new Nt(101,!1);const a=W(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(c){this.internalErrorHandler(c)}finally{this.afterTick.next(),this._runningTick=!1,W(a)}}detectChangesInAttachedViews(i){let a=0;const c=this.afterRenderEffectManager;for(;;){if(a===tp)throw new Nt(103,!1);if(i){const d=0===a;this.beforeRender.next(d);for(let{_lView:m,notifyErrorHandler:I}of this._views)T1(m,d,I)}if(a++,c.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>G0(d))&&(c.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>G0(d))))break}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;cI(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get($0,[]);[...this._bootstrapListeners,...a].forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cI(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Nt(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cI(t,r){const i=t.indexOf(r);i>-1&&t.splice(i,1)}function T1(t,r,i){!r&&!G0(t)||function b1(t,r,i){let a;i?(a=0,t[Oe]|=1024):a=64&t[Oe]?0:1,Wu(t,r,a)}(t,i,r)}function G0(t){return tc(t)}class A1{constructor(r,i){this.ngModuleFactory=r,this.componentFactories=i}}let D1=(()=>{class t{compileModuleSync(i){return new Ap(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),d=eo(pi(i).declarations).reduce((m,I)=>{const A=er(I);return A&&m.push(new ed(A)),m},[]);return new A1(a,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),P1=(()=>{class t{constructor(){this.zone=Hn(cs),this.applicationRef=Hn(cd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M1(){const t=Hn(cs),r=Hn(wa);return i=>t.runOutsideAngular(()=>r.handleError(i))}let O1=(()=>{class t{constructor(){this.subscription=new Gn.yU,this.initialized=!1,this.zone=Hn(cs),this.pendingTasks=Hn(f)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{cs.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{cs.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dI=new st("",{providedIn:"root",factory:()=>Hn(dI,Jn.Optional|Jn.SkipSelf)||function N1(){return typeof $localize<"u"&&$localize.locale||Wp}()}),k1=new st("",{providedIn:"root",factory:()=>"USD"}),W0=new st("");let Sb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const c=function Nh(t="zone.js",r){return"noop"===t?new Oh:"zone.js"===t?new cs(r):t}(a?.ngZone,function Db(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function KE(t,r,i){return new __(t,r,i)}(i.moduleType,this.injector,function Ab(t){return[{provide:cs,useFactory:t},{provide:ps,multi:!0,useFactory:()=>{const r=Hn(P1,{optional:!0});return()=>r.initialize()}},{provide:ps,multi:!0,useFactory:()=>{const r=Hn(O1);return()=>{r.initialize()}}},{provide:H_,useFactory:M1}]}(()=>c)),m=d.injector.get(wa,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:A=>{m.handleError(A)}});d.onDestroy(()=>{cI(this._modules,d),I.unsubscribe()})}),function Cb(t,r,i){try{const a=i();return j0(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(m,c,()=>{const I=d.injector.get(H0);return I.runInitializers(),I.donePromise.then(()=>(function SC(t){"string"==typeof t&&(DC=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(dI,Wp)||Wp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(i,a=[]){const c=Tb({},a);return function R1(t,r,i){const a=new Ap(i);return Promise.resolve(a)}(0,0,i).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(i){const a=i.injector.get(cd);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Nt(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Nt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(W0,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(fi(Gr))};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ud=null;const Rb=new st("");function Pb(t,r,i=[]){const a=`Platform: ${r}`,c=new st(a);return(d=[])=>{let m=z0();if(!m||m.injector.get(Rb,!1)){const I=[...i,...d,{provide:c,useValue:!0}];t?t(I):function F1(t){if(ud&&!ud.get(Rb,!1))throw new Nt(400,!1);(function wb(){!function bt(t){It=t}(()=>{throw new Nt(600,!1)})})(),ud=t;const r=t.get(Sb);(function xb(t){t.get(Eg,null)?.forEach(i=>i())})(t)}(function Mb(t=[],r){return Gr.create({name:r,providers:[{provide:Wo,useValue:"platform"},{provide:W0,useValue:new Set([()=>ud=null])},...t]})}(I,a))}return function V1(t){const r=z0();if(!r)throw new Nt(401,!1);return r}()}}function z0(){return ud?.get(Sb)??null}function B1(){return!1}let Nb=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=j1}return t})();function j1(t){return function H1(t,r,i){if(Vr(t)&&!i){const a=ho(t.index,r);return new bh(a,a)}return 47&t.type?new bh(r[zt],r):null}(Tr(),ft(),!(16&~t))}class Vb{constructor(){}supports(r){return M(r)}create(r){return new K1(r)}}const z1=(t,r)=>r;class K1{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||z1}forEachItem(r){let i;for(i=this._itHead;null!==i;i=i._next)r(i)}forEachOperation(r){let i=this._itHead,a=this._removalsHead,c=0,d=null;for(;i||a;){const m=!a||i&&i.currentIndex<Bb(a,c,d)?i:a,I=Bb(m,c,d),A=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(i=i._next,null==m.previousIndex)c++;else{d||(d=[]);const k=I-c,q=A-c;if(k!=q){for(let Me=0;Me<k;Me++){const Ue=Me<d.length?d[Me]:d[Me]=0,it=Ue+Me;q<=it&&it<k&&(d[Me]=Ue+1)}d[m.previousIndex]=q-k}}I!==A&&r(m,I,A)}}forEachPreviousItem(r){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachMovedItem(r){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}forEachIdentityChange(r){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)r(i)}diff(r){if(null==r&&(r=[]),!M(r))throw new Nt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,m,i=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)d=r[I],m=this._trackByFn(I,d),null!==i&&Object.is(i.trackById,m)?(a&&(i=this._verifyReinsertion(i,d,m,I)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,m,I),a=!0),i=i._next}else c=0,function Z(t,r){if(Array.isArray(t))for(let i=0;i<t.length;i++)r(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)r(a.value)}}(r,I=>{m=this._trackByFn(c,I),null!==i&&Object.is(i.trackById,m)?(a&&(i=this._verifyReinsertion(i,I,m,c)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,m,c),a=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,i,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._moveAfter(r,d,c)):r=this._addAfter(new q1(i,a),d,c),r}_verifyReinsertion(r,i,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const i=r._next;this._addToRemovals(this._unlink(r)),r=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,i,a),this._addToMoves(r,a),r}_moveAfter(r,i,a){return this._unlink(r),this._insertAfter(r,i,a),this._addToMoves(r,a),r}_addAfter(r,i,a){return this._insertAfter(r,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,i,a){const c=null===i?this._itHead:i._next;return r._next=c,r._prev=i,null===c?this._itTail=r:c._prev=r,null===i?this._itHead=r:i._next=r,null===this._linkedRecords&&(this._linkedRecords=new Ub),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const i=r._prev,a=r._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,r}_addToMoves(r,i){return r.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ub),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,i){return r.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class q1{constructor(r,i){this.item=r,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Q1{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const i=r._prevDup,a=r._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class Ub{constructor(){this.map=new Map}put(r){const i=r.trackById;let a=this.map.get(i);a||(a=new Q1,this.map.set(i,a)),a.add(r)}get(r,i){const c=this.map.get(r);return c?c.get(r,i):null}remove(r){const i=r.trackById;return this.map.get(i).remove(r)&&this.map.delete(i),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bb(t,r,i){const a=t.previousIndex;if(null===a)return a;let c=0;return i&&a<i.length&&(c=i[a]),a+r+c}class jb{constructor(){}supports(r){return r instanceof Map||pe(r)}create(){return new X1}}class X1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let i;for(i=this._mapHead;null!==i;i=i._next)r(i)}forEachPreviousItem(r){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)r(i)}forEachChangedItem(r){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}diff(r){if(r){if(!(r instanceof Map||pe(r)))throw new Nt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(c,a);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,i){if(r){const a=r._prev;return i._next=r,i._prev=a,r._prev=i,a&&(a._next=i),r===this._mapHead&&(this._mapHead=i),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(r,i){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,i);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const a=new Y1(r);return this._records.set(r,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,i){Object.is(i,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=i,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,i){r instanceof Map?r.forEach(i):Object.keys(r).forEach(a=>i(r[a],a))}}class Y1{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hb(){return new Y0([new Vb])}let Y0=(()=>{class t{static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:Hb});constructor(i){this.factories=i}static create(i,a){if(null!=a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Hb()),deps:[[t,new ci,new Ts]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(null!=a)return a;throw new Nt(901,!1)}}return t})();function $b(){return new Z0([new jb])}let Z0=(()=>{class t{static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:$b});constructor(i){this.factories=i}static create(i,a){if(a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||$b()),deps:[[t,new ci,new Ts]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(a)return a;throw new Nt(901,!1)}}return t})();const eP=Pb(null,"core",[]);let tP=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)(fi(cd))};static#t=this.\u0275mod=ms({type:t});static#n=this.\u0275inj=Xi({})}return t})();function PP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function xP(t){const r=W(null);try{return t()}finally{W(r)}}function VP(t){const r=er(t);if(!r)return null;const i=new ed(r);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},1182:(Qt,We,L)=>{L.d(We,{DS:()=>Ze,X8:()=>ht,$z:()=>bt,UB:()=>He,yy:()=>It,ZP:()=>rn,AU:()=>Pe,CP:()=>In,gF:()=>ct}),L(2438);var F=L(177),_=L(4438),ge=L(1825),V=L(9253),Q=L(1413),W=L(7673),oe=L(1985),de=L(8455),ne=L(6365),le=L(8750),De=L(983),$e=L(9326),yt=L(941),At=L(5558),dt=L(6354),pt=L(6129);class Ft extends Q.B{constructor(Pt=1/0,Gt=1/0,sn=pt.U){super(),this._bufferSize=Pt,this._windowTime=Gt,this._timestampProvider=sn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Gt===1/0,this._bufferSize=Math.max(1,Pt),this._windowTime=Math.max(1,Gt)}next(Pt){const{isStopped:Gt,_buffer:sn,_infiniteTimeWindow:Mt,_timestampProvider:dn,_windowTime:bn}=this;Gt||(sn.push(Pt),!Mt&&sn.push(dn.now()+bn)),this._trimBuffer(),super.next(Pt)}_subscribe(Pt){this._throwIfClosed(),this._trimBuffer();const Gt=this._innerSubscribe(Pt),{_infiniteTimeWindow:sn,_buffer:Mt}=this,dn=Mt.slice();for(let bn=0;bn<dn.length&&!Pt.closed;bn+=sn?1:2)Pt.next(dn[bn]);return this._checkFinalizedStatuses(Pt),Gt}_trimBuffer(){const{_bufferSize:Pt,_timestampProvider:Gt,_buffer:sn,_infiniteTimeWindow:Mt}=this,dn=(Mt?1:2)*Pt;if(Pt<1/0&&dn<sn.length&&sn.splice(0,sn.length-dn),!Mt){const bn=Gt.now();let Mn=0;for(let Gn=1;Gn<sn.length&&sn[Gn]<=bn;Gn+=2)Mn=Gn;Mn&&sn.splice(0,Mn+1)}}}var Vt=L(7707),je=L(9974);function be(qe,Pt,...Gt){if(!0===Pt)return void qe();if(!1===Pt)return;const sn=new Vt.Ms({next:()=>{sn.unsubscribe(),qe()}});return(0,le.Tg)(Pt(...Gt)).subscribe(sn)}function ve(qe,Pt,Gt){let sn,Mt=!1;return qe&&"object"==typeof qe?({bufferSize:sn=1/0,windowTime:Pt=1/0,refCount:Mt=!1,scheduler:Gt}=qe):sn=qe??1/0,function Ve(qe={}){const{connector:Pt=(()=>new Q.B),resetOnError:Gt=!0,resetOnComplete:sn=!0,resetOnRefCountZero:Mt=!0}=qe;return dn=>{let bn,Mn,Gn,Kn=0,Bn=!1,Jt=!1;const ir=()=>{Mn?.unsubscribe(),Mn=void 0},Nt=()=>{ir(),bn=Gn=void 0,Bn=Jt=!1},xn=()=>{const jn=bn;Nt(),jn?.unsubscribe()};return(0,je.N)((jn,Er)=>{Kn++,!Jt&&!Bn&&ir();const Ar=Gn=Gn??Pt();Er.add(()=>{Kn--,0===Kn&&!Jt&&!Bn&&(Mn=be(xn,Mt))}),Ar.subscribe(Er),!bn&&Kn>0&&(bn=new Vt.Ms({next:br=>Ar.next(br),error:br=>{Jt=!0,ir(),Mn=be(Nt,Gt,br),Ar.error(br)},complete:()=>{Bn=!0,ir(),Mn=be(Nt,sn),Ar.complete()}}),(0,le.Tg)(jn).subscribe(bn))})(dn)}}({connector:()=>new Ft(sn,Pt,Gt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Mt})}var Te=L(1594),Je=L(8071);function ue(qe,Pt){return(0,Je.T)(Pt)?(0,At.n)(()=>qe,Pt):(0,At.n)(()=>qe)}var Ae=L(6745),mt=L(5964),Ee=L(7935);const In=new _.nKC("angularfire2.auth.use-emulator"),It=new _.nKC("angularfire2.auth.settings"),rn=new _.nKC("angularfire2.auth.tenant-id"),bt=new _.nKC("angularfire2.auth.langugage-code"),Pe=new _.nKC("angularfire2.auth.use-device-language"),He=new _.nKC("angularfire.auth.persistence"),ct=(qe,Pt,Gt,sn,Mt,dn,bn,Mn)=>(0,V.BM)(`${qe.name}.auth`,"AngularFireAuth",qe.name,()=>{const Gn=Pt.runOutsideAngular(()=>qe.auth());if(Gt&&Gn.useEmulator(...Gt),sn&&(Gn.tenantId=sn),Gn.languageCode=Mt,dn&&Gn.useDeviceLanguage(),bn)for(const[Kn,Bn]of Object.entries(bn))Gn.settings[Kn]=Bn;return Mn&&Gn.setPersistence(Mn),Gn},[Gt,sn,Mt,dn,bn,Mn]);let Ze=(()=>{class qe{authState;idToken;user;idTokenResult;credential;constructor(Gt,sn,Mt,dn,bn,Mn,Gn,Kn,Bn,Jt,ir,Nt){const xn=new Q.B,jn=(0,W.of)(void 0).pipe((0,yt.Q)(bn.outsideAngular),(0,At.n)(()=>dn.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,dt.T)(()=>(0,V.iB)(Gt,dn,sn)),(0,dt.T)(Er=>ct(Er,dn,Mn,Kn,Bn,Jt,Gn,ir)),ve({bufferSize:1,refCount:!1}));if((0,F.Vy)(Mt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{jn.pipe((0,Te.$)()).subscribe();const Er=jn.pipe((0,At.n)(Xn=>Xn.getRedirectResult().then(an=>an,()=>null)),ge.U0,ve({bufferSize:1,refCount:!1})),Ar=jn.pipe((0,At.n)(Xn=>new oe.c(an=>({unsubscribe:dn.runOutsideAngular(()=>Xn.onAuthStateChanged(hn=>an.next(hn),hn=>an.error(hn),()=>an.complete()))})))),br=jn.pipe((0,At.n)(Xn=>new oe.c(an=>({unsubscribe:dn.runOutsideAngular(()=>Xn.onIdTokenChanged(hn=>an.next(hn),hn=>an.error(hn),()=>an.complete()))}))));this.authState=Er.pipe(ue(Ar),(0,Ae._)(bn.outsideAngular),(0,yt.Q)(bn.insideAngular)),this.user=Er.pipe(ue(br),(0,Ae._)(bn.outsideAngular),(0,yt.Q)(bn.insideAngular)),this.idToken=this.user.pipe((0,At.n)(Xn=>Xn?(0,de.H)(Xn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,At.n)(Xn=>Xn?(0,de.H)(Xn.getIdTokenResult()):(0,W.of)(null))),this.credential=function ze(...qe){const Pt=(0,$e.lI)(qe),Gt=(0,$e.R0)(qe,1/0),sn=qe;return sn.length?1===sn.length?(0,le.Tg)(sn[0]):(0,ne.U)(Gt)((0,de.H)(sn,Pt)):De.w}(Er,xn,this.authState.pipe((0,mt.p)(Xn=>!Xn))).pipe((0,dt.T)(Xn=>Xn?.user?Xn:null),(0,Ae._)(bn.outsideAngular),(0,yt.Q)(bn.insideAngular))}return(0,V.Gt)(this,jn,dn,{spy:{apply:(Er,Ar,br)=>{(Er.startsWith("signIn")||Er.startsWith("createUser"))&&br.then(Xn=>xn.next(Xn))}}})}static \u0275fac=function(sn){return new(sn||qe)(_.KVO(V.rx),_.KVO(V.uP,8),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(ge.u0),_.KVO(In,8),_.KVO(It,8),_.KVO(rn,8),_.KVO(bt,8),_.KVO(Pe,8),_.KVO(He,8),_.KVO(ge.Jv,8))};static \u0275prov=_.jDH({token:qe,factory:qe.\u0275fac,providedIn:"any"})}return qe})(),ht=(()=>{class qe{constructor(){Ee.A.registerVersion("angularfire",ge.xv.full,"auth-compat")}static \u0275fac=function(sn){return new(sn||qe)};static \u0275mod=_.$C({type:qe});static \u0275inj=_.G2t({providers:[Ze]})}return qe})()},9253:(Qt,We,L)=>{L.d(We,{BM:()=>ze,Gt:()=>V,bf:()=>$e,e7:()=>Q,iB:()=>ne,rx:()=>oe,uP:()=>de});var p=L(4438),F=L(1825),_=L(7935);const ge=["ngOnDestroy"],V=(pt,Ft,Vt,je={})=>new Proxy(pt,{get:(Ve,be)=>Vt.runOutsideAngular(()=>{if(pt[be])return je?.spy?.get&&je.spy.get(be,pt[be]),pt[be];if(ge.indexOf(be)>-1)return()=>{};const ve=Ft.toPromise().then(Te=>{const Je=Te?.[be];return"function"==typeof Je?Je.bind(Te):Je?.then?Je.then(ue=>Vt.run(()=>ue)):Vt.run(()=>Je)});return new Proxy(()=>{},{get:(Te,Je)=>ve[Je],apply:(Te,Je,ue)=>ve.then(Ae=>{const mt=Ae?.(...ue);return je?.spy?.apply&&je.spy.apply(be,ue,mt),mt})})})}),Q=(pt,Ft)=>{Ft.forEach(Vt=>{Object.getOwnPropertyNames(Vt.prototype||Vt).forEach(je=>{Object.defineProperty(pt.prototype,je,Object.getOwnPropertyDescriptor(Vt.prototype||Vt,je))})})};class W{constructor(Ft){return Ft}}const oe=new p.nKC("angularfire2.app.options"),de=new p.nKC("angularfire2.app.name");function ne(pt,Ft,Vt){const Ve="object"==typeof Vt&&Vt||{};Ve.name=Ve.name||"string"==typeof Vt&&Vt||"[DEFAULT]";const ve=_.A.apps.filter(Te=>Te&&Te.name===Ve.name)[0]||Ft.runOutsideAngular(()=>_.A.initializeApp(pt,Ve));try{if(JSON.stringify(pt)!==JSON.stringify(ve.options)){const Te=!!module.hot;le("error",`${ve.name} Firebase App already initialized with different options${Te?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new W(ve)}const le=(pt,...Ft)=>{(0,p.naY)()&&typeof console<"u"&&console[pt](...Ft)},De={provide:W,useFactory:ne,deps:[oe,p.SKi,[new p.Xx1,de]]};let $e=(()=>{class pt{static initializeApp(Vt,je){return{ngModule:pt,providers:[{provide:oe,useValue:Vt},{provide:de,useValue:je}]}}constructor(Vt){_.A.registerVersion("angularfire",F.xv.full,"core"),_.A.registerVersion("angularfire",F.xv.full,"app-compat"),_.A.registerVersion("angular",p.xvI.full,Vt.toString())}static \u0275fac=function(je){return new(je||pt)(p.KVO(p.Agw))};static \u0275mod=p.$C({type:pt});static \u0275inj=p.G2t({providers:[De]})}return pt})();function ze(pt,Ft,Vt,je,Ve){const[,be,ve]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===pt)||[];if(be)return function yt(pt,Ft){try{return pt.toString()===Ft.toString()}catch{return pt===Ft}}(Ve,ve)||(dt("error",`${Ft} was already initialized on the ${Vt} Firebase App with different settings.${At?" You may need to reload as Firebase is not HMR aware.":""}`),dt("warn",{is:Ve,was:ve})),be;{const Te=je();return globalThis.\u0275AngularfireInstanceCache.push([pt,Te,Ve]),Te}}const At=typeof module<"u"&&!!module.hot,dt=(pt,...Ft)=>{(0,p.naY)()&&typeof console<"u"&&console[pt](...Ft)};globalThis.\u0275AngularfireInstanceCache||=[]},1825:(Qt,We,L)=>{L.d(We,{xv:()=>yt,U0:()=>Ee,u0:()=>ve,Jv:()=>Ft});var p=L(4438),F=L(7852);(0,F.registerVersion)("firebase","10.10.0","app");var V=L(6780),W=L(9687);const de=new class oe extends W.q{}(class Q extends V.R{constructor(bt,Pe){super(bt,Pe),this.scheduler=bt,this.work=Pe}schedule(bt,Pe=0){return Pe>0?super.schedule(bt,Pe):(this.delay=Pe,this.state=bt,this.scheduler.flush(this),this)}execute(bt,Pe){return Pe>0||this.closed?super.execute(bt,Pe):this._execute(bt,Pe)}requestAsyncId(bt,Pe,He=0){return null!=He&&He>0||null==He&&this.delay>0?super.requestAsyncId(bt,Pe,He):(bt.flush(this),0)}});var le=L(3236),De=L(8141),$e=L(6745),ze=L(941);const yt=new p.RxE("ANGULARFIRE2_VERSION");class Ft{constructor(){return((rn,bt)=>{const Pe=(0,F.getApps)(),He=[];return Pe.forEach(ct=>{ct.container.getProvider(rn).instances.forEach(ht=>{He.includes(ht)||He.push(ht)})}),He})(Vt)}}const Vt="app-check";function je(){}class Ve{zone;delegate;constructor(bt,Pe=de){this.zone=bt,this.delegate=Pe}now(){return this.delegate.now()}schedule(bt,Pe,He){const ct=this.zone;return this.delegate.schedule(function(ht){ct.runGuarded(()=>{bt.apply(this,[ht])})},Pe,He)}}class be{zone;task=null;constructor(bt){this.zone=bt}call(bt,Pe){const He=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",je,{},je,je)),Pe.pipe((0,De.M)({next:He,complete:He,error:He})).subscribe(bt).add(He)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ve=(()=>{class rn{ngZone;outsideAngular;insideAngular;constructor(Pe){this.ngZone=Pe,this.outsideAngular=Pe.runOutsideAngular(()=>new Ve(Zone.current)),this.insideAngular=Pe.run(()=>new Ve(Zone.current,le.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(He){return new(He||rn)(p.KVO(p.SKi))};static \u0275prov=p.jDH({token:rn,factory:rn.\u0275fac,providedIn:"root"})}return rn})();function Ee(rn){return function Ht(rn){return function(Pe){return(Pe=Pe.lift(new be(rn.ngZone))).pipe((0,$e._)(rn.outsideAngular),(0,ze.Q)(rn.insideAngular))}}(function Te(){const rn=globalThis.\u0275AngularFireScheduler;if(!rn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return rn}())(rn)}},4341:(Qt,We,L)=>{L.d(We,{me:()=>je,YN:()=>wo,tU:()=>hr,kq:()=>yt,BC:()=>Xn,cb:()=>an,cV:()=>Zn,vS:()=>Jn,YS:()=>Bo,qT:()=>hs});var p=L(4438),F=L(177),_=L(8455),ge=L(1985),V=L(3073),Q=L(8750),W=L(9326),oe=L(4360),de=L(6450),ne=L(8496),De=L(6354);let $e=(()=>{class G{constructor(x,se){this._renderer=x,this._elementRef=se,this.onChange=Re=>{},this.onTouched=()=>{}}setProperty(x,se){this._renderer.setProperty(this._elementRef.nativeElement,x,se)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(p.sFG),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:G})}return G})(),ze=(()=>{class G extends $e{static#e=this.\u0275fac=(()=>{let x;return function(Re){return(x||(x=p.xGo(G)))(Re||G)}})();static#t=this.\u0275dir=p.FsC({type:G,features:[p.Vt3]})}return G})();const yt=new p.nKC(""),pt={provide:yt,useExisting:(0,p.Rfq)(()=>je),multi:!0},Vt=new p.nKC("");let je=(()=>{class G extends $e{constructor(x,se,Re){super(x,se),this._compositionMode=Re,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ft(){const G=(0,F.QT)()?(0,F.QT)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(Vt,8))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(se,Re){1&se&&p.bIt("input",function(Qn){return Re._handleInput(Qn.target.value)})("blur",function(){return Re.onTouched()})("compositionstart",function(){return Re._compositionStart()})("compositionend",function(Qn){return Re._compositionEnd(Qn.target.value)})},features:[p.Jv_([pt]),p.Vt3]})}return G})();const ve=new p.nKC(""),Te=new p.nKC("");function Ee(G){return function Ve(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}(G.value)?{required:!0}:null}function Pe(G){return null}function He(G){return null!=G}function ct(G){return(0,p.jNT)(G)?(0,_.H)(G):G}function Ze(G){let z={};return G.forEach(x=>{z=null!=x?{...z,...x}:z}),0===Object.keys(z).length?null:z}function ht(G,z){return z.map(x=>x(G))}function Pt(G){return G.map(z=>function qe(G){return!G.validate}(z)?z:x=>z.validate(x))}function sn(G){return null!=G?function Gt(G){if(!G)return null;const z=G.filter(He);return 0==z.length?null:function(x){return Ze(ht(x,z))}}(Pt(G)):null}function dn(G){return null!=G?function Mt(G){if(!G)return null;const z=G.filter(He);return 0==z.length?null:function(x){return function le(...G){const z=(0,W.ms)(G),{args:x,keys:se}=(0,V.D)(G),Re=new ge.c(gn=>{const{length:Qn}=x;if(!Qn)return void gn.complete();const En=new Array(Qn);let qs=Qn,gs=Qn;for(let ks=0;ks<Qn;ks++){let Ls=!1;(0,Q.Tg)(x[ks]).subscribe((0,oe._)(gn,Aa=>{Ls||(Ls=!0,gs--),En[ks]=Aa},()=>qs--,void 0,()=>{(!qs||!Ls)&&(gs||gn.next(se?(0,ne.e)(se,En):En),gn.complete())}))}});return z?Re.pipe((0,de.I)(z)):Re}(ht(x,z).map(ct)).pipe((0,De.T)(Ze))}}(Pt(G)):null}function bn(G,z){return null===G?[z]:Array.isArray(G)?[...G,z]:[G,z]}function Kn(G){return G?Array.isArray(G)?G:[G]:[]}function Bn(G,z){return Array.isArray(G)?G.includes(z):G===z}function Jt(G,z){const x=Kn(z);return Kn(G).forEach(Re=>{Bn(x,Re)||x.push(Re)}),x}function ir(G,z){return Kn(z).filter(x=>!Bn(G,x))}class Nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(z){this._rawValidators=z||[],this._composedValidatorFn=sn(this._rawValidators)}_setAsyncValidators(z){this._rawAsyncValidators=z||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(z){this._onDestroyCallbacks.push(z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(z=>z()),this._onDestroyCallbacks=[]}reset(z=void 0){this.control&&this.control.reset(z)}hasError(z,x){return!!this.control&&this.control.hasError(z,x)}getError(z,x){return this.control?this.control.getError(z,x):null}}class xn extends Nt{get formDirective(){return null}get path(){return null}}class jn extends Nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Er{constructor(z){this._cd=z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xn=(()=>{class G extends Er{constructor(x){super(x)}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(jn,2))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(se,Re){2&se&&p.AVh("ng-untouched",Re.isUntouched)("ng-touched",Re.isTouched)("ng-pristine",Re.isPristine)("ng-dirty",Re.isDirty)("ng-valid",Re.isValid)("ng-invalid",Re.isInvalid)("ng-pending",Re.isPending)},features:[p.Vt3]})}return G})(),an=(()=>{class G extends Er{constructor(x){super(x)}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(xn,10))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(se,Re){2&se&&p.AVh("ng-untouched",Re.isUntouched)("ng-touched",Re.isTouched)("ng-pristine",Re.isPristine)("ng-dirty",Re.isDirty)("ng-valid",Re.isValid)("ng-invalid",Re.isInvalid)("ng-pending",Re.isPending)("ng-submitted",Re.isSubmitted)},features:[p.Vt3]})}return G})();const Fe="VALID",Ke="INVALID",me="PENDING",xe="DISABLED";function ae(G){return(X(G)?G.validators:G)||null}function Y(G,z){return(X(z)?z.asyncValidators:G)||null}function X(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class $t{constructor(z,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(z),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(z){this._rawValidators=this._composedValidatorFn=z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(z){this._rawAsyncValidators=this._composedAsyncValidatorFn=z}get parent(){return this._parent}get valid(){return this.status===Fe}get invalid(){return this.status===Ke}get pending(){return this.status==me}get disabled(){return this.status===xe}get enabled(){return this.status!==xe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(z){this._assignValidators(z)}setAsyncValidators(z){this._assignAsyncValidators(z)}addValidators(z){this.setValidators(Jt(z,this._rawValidators))}addAsyncValidators(z){this.setAsyncValidators(Jt(z,this._rawAsyncValidators))}removeValidators(z){this.setValidators(ir(z,this._rawValidators))}removeAsyncValidators(z){this.setAsyncValidators(ir(z,this._rawAsyncValidators))}hasValidator(z){return Bn(this._rawValidators,z)}hasAsyncValidator(z){return Bn(this._rawAsyncValidators,z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(z={}){this.touched=!0,this._parent&&!z.onlySelf&&this._parent.markAsTouched(z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(z=>z.markAllAsTouched())}markAsUntouched(z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}markAsDirty(z={}){this.pristine=!1,this._parent&&!z.onlySelf&&this._parent.markAsDirty(z)}markAsPristine(z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}markAsPending(z={}){this.status=me,!1!==z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!z.onlySelf&&this._parent.markAsPending(z)}disable(z={}){const x=this._parentMarkedDirty(z.onlySelf);this.status=xe,this.errors=null,this._forEachChild(se=>{se.disable({...z,onlySelf:!0})}),this._updateValue(),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...z,skipPristineCheck:x}),this._onDisabledChange.forEach(se=>se(!0))}enable(z={}){const x=this._parentMarkedDirty(z.onlySelf);this.status=Fe,this._forEachChild(se=>{se.enable({...z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent}),this._updateAncestors({...z,skipPristineCheck:x}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(z){this._parent&&!z.onlySelf&&(this._parent.updateValueAndValidity(z),z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(z){this._parent=z}getRawValue(){return this.value}updateValueAndValidity(z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fe||this.status===me)&&this._runAsyncValidator(z.emitEvent)),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.updateValueAndValidity(z)}_updateTreeValidity(z={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xe:Fe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(z){if(this.asyncValidator){this.status=me,this._hasOwnPendingAsyncValidator=!0;const x=ct(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(z,x={}){this.errors=z,this._updateControlsErrors(!1!==x.emitEvent)}get(z){let x=z;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((se,Re)=>se&&se._find(Re),this)}getError(z,x){const se=x?this.get(x):this;return se&&se.errors?se.errors[z]:null}hasError(z,x){return!!this.getError(z,x)}get root(){let z=this;for(;z._parent;)z=z._parent;return z}_updateControlsErrors(z){this.status=this._calculateStatus(),z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(z)}_initObservables(){this.valueChanges=new p.bkB,this.statusChanges=new p.bkB}_calculateStatus(){return this._allControlsDisabled()?xe:this.errors?Ke:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(me)?me:this._anyControlsHaveStatus(Ke)?Ke:Fe}_anyControlsHaveStatus(z){return this._anyControls(x=>x.status===z)}_anyControlsDirty(){return this._anyControls(z=>z.dirty)}_anyControlsTouched(){return this._anyControls(z=>z.touched)}_updatePristine(z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}_updateTouched(z={}){this.touched=this._anyControlsTouched(),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}_registerOnCollectionChange(z){this._onCollectionChange=z}_setUpdateStrategy(z){X(z)&&null!=z.updateOn&&(this._updateOn=z.updateOn)}_parentMarkedDirty(z){return!z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(z){return null}_assignValidators(z){this._rawValidators=Array.isArray(z)?z.slice():z,this._composedValidatorFn=function fe(G){return Array.isArray(G)?sn(G):G||null}(this._rawValidators)}_assignAsyncValidators(z){this._rawAsyncValidators=Array.isArray(z)?z.slice():z,this._composedAsyncValidatorFn=function re(G){return Array.isArray(G)?dn(G):G||null}(this._rawAsyncValidators)}}class Vn extends $t{constructor(z,x,se){super(ae(x),Y(se,x)),this.controls=z,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(z,x){return this.controls[z]?this.controls[z]:(this.controls[z]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(z,x,se={}){this.registerControl(z,x),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(z,x={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(z,x,se={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],x&&this.registerControl(z,x),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(z){return this.controls.hasOwnProperty(z)&&this.controls[z].enabled}setValue(z,x={}){(function _t(G,z,x){G._forEachChild((se,Re)=>{if(void 0===x[Re])throw new p.wOt(1002,"")})})(this,0,z),Object.keys(z).forEach(se=>{(function ke(G,z,x){const se=G.controls;if(!(z?Object.keys(se):se).length)throw new p.wOt(1e3,"");if(!se[x])throw new p.wOt(1001,"")})(this,!0,se),this.controls[se].setValue(z[se],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(z,x={}){null!=z&&(Object.keys(z).forEach(se=>{const Re=this.controls[se];Re&&Re.patchValue(z[se],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(z={},x={}){this._forEachChild((se,Re)=>{se.reset(z?z[Re]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(z,x,se)=>(z[se]=x.getRawValue(),z))}_syncPendingControls(){let z=this._reduceChildren(!1,(x,se)=>!!se._syncPendingControls()||x);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){Object.keys(this.controls).forEach(x=>{const se=this.controls[x];se&&z(se,x)})}_setUpControls(){this._forEachChild(z=>{z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(z){for(const[x,se]of Object.entries(this.controls))if(this.contains(x)&&z(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,se,Re)=>((se.enabled||this.disabled)&&(x[Re]=se.value),x))}_reduceChildren(z,x){let se=z;return this._forEachChild((Re,gn)=>{se=x(se,Re,gn)}),se}_allControlsDisabled(){for(const z of Object.keys(this.controls))if(this.controls[z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(z){return this.controls.hasOwnProperty(z)?this.controls[z]:null}}const Lr=new p.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ji}),ji="always";function Sr(G,z,x=ji){ot(G,z),z.valueAccessor.writeValue(G.value),(G.disabled||"always"===x)&&z.valueAccessor.setDisabledState?.(G.disabled),function vt(G,z){z.valueAccessor.registerOnChange(x=>{G._pendingValue=x,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Nn(G,z)})}(G,z),function te(G,z){const x=(se,Re)=>{z.valueAccessor.writeValue(se),Re&&z.viewToModelUpdate(se)};G.registerOnChange(x),z._registerOnDestroy(()=>{G._unregisterOnChange(x)})}(G,z),function qt(G,z){z.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Nn(G,z),"submit"!==G.updateOn&&G.markAsTouched()})}(G,z),function Xi(G,z){if(z.valueAccessor.setDisabledState){const x=se=>{z.valueAccessor.setDisabledState(se)};G.registerOnDisabledChange(x),z._registerOnDestroy(()=>{G._unregisterOnDisabledChange(x)})}}(G,z)}function Qi(G,z){G.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(z)})}function ot(G,z){const x=function Mn(G){return G._rawValidators}(G);null!==z.validator?G.setValidators(bn(x,z.validator)):"function"==typeof x&&G.setValidators([x]);const se=function Gn(G){return G._rawAsyncValidators}(G);null!==z.asyncValidator?G.setAsyncValidators(bn(se,z.asyncValidator)):"function"==typeof se&&G.setAsyncValidators([se]);const Re=()=>G.updateValueAndValidity();Qi(z._rawValidators,Re),Qi(z._rawAsyncValidators,Re)}function Nn(G,z){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),z.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}const di={provide:xn,useExisting:(0,p.Rfq)(()=>Zn)},tr=Promise.resolve();let Zn=(()=>{class G extends xn{constructor(x,se,Re){super(),this.callSetDisabledState=Re,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.bkB,this.form=new Vn({},sn(x),dn(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){tr.then(()=>{const se=this._findContainer(x.path);x.control=se.registerControl(x.name,x.control),Sr(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){tr.then(()=>{const se=this._findContainer(x.path);se&&se.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){tr.then(()=>{const se=this._findContainer(x.path),Re=new Vn({});(function ye(G,z){ot(G,z)})(Re,x),se.registerControl(x.name,Re),Re.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){tr.then(()=>{const se=this._findContainer(x.path);se&&se.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,se){tr.then(()=>{this.form.get(x.path).setValue(se)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,function Cr(G,z){G._syncPendingControls(),z.forEach(x=>{const se=x.control;"submit"===se.updateOn&&se._pendingChange&&(x.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(ve,10),p.rXU(Te,10),p.rXU(Lr,8))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(se,Re){1&se&&p.bIt("submit",function(Qn){return Re.onSubmit(Qn)})("reset",function(){return Re.onReset()})},inputs:{options:[p.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p.Jv_([di]),p.Vt3]})}return G})();function Fn(G,z){const x=G.indexOf(z);x>-1&&G.splice(x,1)}function jr(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const Kr=class extends $t{constructor(z=null,x,se){super(ae(x),Y(se,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(z),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),X(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=jr(z)?z.value:z)}setValue(z,x={}){this.value=this._pendingValue=z,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(z,x={}){this.setValue(z,x)}reset(z=this.defaultValue,x={}){this._applyFormState(z),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(z){this._onChange.push(z)}_unregisterOnChange(z){Fn(this._onChange,z)}registerOnDisabledChange(z){this._onDisabledChange.push(z)}_unregisterOnDisabledChange(z){Fn(this._onDisabledChange,z)}_forEachChild(z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(z){jr(z)?(this.value=this._pendingValue=z.value,z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=z}},Ki={provide:jn,useExisting:(0,p.Rfq)(()=>Jn)},Is=Promise.resolve();let Jn=(()=>{class G extends jn{constructor(x,se,Re,gn,Qn,En){super(),this._changeDetectorRef=Qn,this.callSetDisabledState=En,this.control=new Kr,this._registered=!1,this.name="",this.update=new p.bkB,this._parent=x,this._setValidators(se),this._setAsyncValidators(Re),this.valueAccessor=function Mr(G,z){if(!z)return null;let x,se,Re;return Array.isArray(z),z.forEach(gn=>{gn.constructor===je?x=gn:function wr(G){return Object.getPrototypeOf(G.constructor)===ze}(gn)?se=gn:Re=gn}),Re||se||x||null}(0,gn)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const se=x.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),function _n(G,z){if(!G.hasOwnProperty("model"))return!1;const x=G.model;return!!x.isFirstChange()||!Object.is(z,x.currentValue)}(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Is.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const se=x.isDisabled.currentValue,Re=0!==se&&(0,p.L39)(se);Is.then(()=>{Re&&!this.control.disabled?this.control.disable():!Re&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?function Fr(G,z){return[...z.path,G]}(x,this._parent):[x]}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(xn,9),p.rXU(ve,10),p.rXU(Te,10),p.rXU(yt,10),p.rXU(p.gRc,8),p.rXU(Lr,8))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[p.Mj6.None,"disabled","isDisabled"],model:[p.Mj6.None,"ngModel","model"],options:[p.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p.Jv_([Ki]),p.Vt3,p.OA$]})}return G})(),hs=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})();let lr=(()=>{class G{constructor(){this._validator=Pe}ngOnChanges(x){if(this.inputName in x){const se=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):Pe,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=p.FsC({type:G,features:[p.OA$]})}return G})();const As={provide:ve,useExisting:(0,p.Rfq)(()=>Bo),multi:!0};let Bo=(()=>{class G extends lr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.L39,this.createValidator=x=>Ee}enabled(x){return x}static#e=this.\u0275fac=(()=>{let x;return function(Re){return(x||(x=p.xGo(G)))(Re||G)}})();static#t=this.\u0275dir=p.FsC({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(se,Re){2&se&&p.BMQ("required",Re._enabled?"":null)},inputs:{required:"required"},features:[p.Jv_([As]),p.Vt3]})}return G})();const Vi={provide:ve,useExisting:(0,p.Rfq)(()=>hr),multi:!0};let hr=(()=>{class G extends lr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=x=>function _o(G){return"number"==typeof G?G:parseInt(G,10)}(x),this.createValidator=x=>function rn(G){return z=>function be(G){return null!=G&&"number"==typeof G.length}(z.value)&&z.value.length>G?{maxlength:{requiredLength:G,actualLength:z.value.length}}:null}(x)}static#e=this.\u0275fac=(()=>{let x;return function(Re){return(x||(x=p.xGo(G)))(Re||G)}})();static#t=this.\u0275dir=p.FsC({type:G,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(se,Re){2&se&&p.BMQ("maxlength",Re._enabled?Re.maxlength:null)},inputs:{maxlength:"maxlength"},features:[p.Jv_([Vi]),p.Vt3]})}return G})(),Ai=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.$C({type:G});static#n=this.\u0275inj=p.G2t({})}return G})(),wo=(()=>{class G{static withConfig(x){return{ngModule:G,providers:[{provide:Lr,useValue:x.callSetDisabledState??ji}]}}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.$C({type:G});static#n=this.\u0275inj=p.G2t({imports:[Ai]})}return G})()},345:(Qt,We,L)=>{L.d(We,{B7:()=>Te,Bb:()=>Kn,hE:()=>ir,sG:()=>dn,up:()=>et});var p=L(4438),F=L(177);class _ extends F.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ge extends _{static makeCurrent(){(0,F.ZD)(new ge)}onAndCancel(Ke,me,xe){return Ke.addEventListener(me,xe),()=>{Ke.removeEventListener(me,xe)}}dispatchEvent(Ke,me){Ke.dispatchEvent(me)}remove(Ke){Ke.parentNode&&Ke.parentNode.removeChild(Ke)}createElement(Ke,me){return(me=me||this.getDefaultDocument()).createElement(Ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ke){return Ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ke){return Ke instanceof DocumentFragment}getGlobalEventTarget(Ke,me){return"window"===me?window:"document"===me?Ke:"body"===me?Ke.body:null}getBaseHref(Ke){const me=function Q(){return V=V||document.querySelector("base"),V?V.getAttribute("href"):null}();return null==me?null:function W(Fe){return new URL(Fe,document.baseURI).pathname}(me)}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ke){return(0,F._b)(document.cookie,Ke)}}let V=null,de=(()=>{class Fe{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(xe){return new(xe||Fe)};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();const ne=new p.nKC("");let le=(()=>{class Fe{constructor(me,xe){this._zone=xe,this._eventNameToPlugin=new Map,me.forEach(ae=>{ae.manager=this}),this._plugins=me.slice().reverse()}addEventListener(me,xe,ae){return this._findPluginFor(xe).addEventListener(me,xe,ae)}getZone(){return this._zone}_findPluginFor(me){let xe=this._eventNameToPlugin.get(me);if(xe)return xe;if(xe=this._plugins.find(fe=>fe.supports(me)),!xe)throw new p.wOt(5101,!1);return this._eventNameToPlugin.set(me,xe),xe}static#e=this.\u0275fac=function(xe){return new(xe||Fe)(p.KVO(ne),p.KVO(p.SKi))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();class De{constructor(Ke){this._doc=Ke}}const $e="ng-app-id";let ze=(()=>{class Fe{constructor(me,xe,ae,fe={}){this.doc=me,this.appId=xe,this.nonce=ae,this.platformId=fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,F.Vy)(fe),this.resetHostNodes()}addStyles(me){for(const xe of me)1===this.changeUsageCount(xe,1)&&this.onStyleAdded(xe)}removeStyles(me){for(const xe of me)this.changeUsageCount(xe,-1)<=0&&this.onStyleRemoved(xe)}ngOnDestroy(){const me=this.styleNodesInDOM;me&&(me.forEach(xe=>xe.remove()),me.clear());for(const xe of this.getAllStyles())this.onStyleRemoved(xe);this.resetHostNodes()}addHost(me){this.hostNodes.add(me);for(const xe of this.getAllStyles())this.addStyleToHost(me,xe)}removeHost(me){this.hostNodes.delete(me)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(me){for(const xe of this.hostNodes)this.addStyleToHost(xe,me)}onStyleRemoved(me){const xe=this.styleRef;xe.get(me)?.elements?.forEach(ae=>ae.remove()),xe.delete(me)}collectServerRenderedStyles(){const me=this.doc.head?.querySelectorAll(`style[${$e}="${this.appId}"]`);if(me?.length){const xe=new Map;return me.forEach(ae=>{null!=ae.textContent&&xe.set(ae.textContent,ae)}),xe}return null}changeUsageCount(me,xe){const ae=this.styleRef;if(ae.has(me)){const fe=ae.get(me);return fe.usage+=xe,fe.usage}return ae.set(me,{usage:xe,elements:[]}),xe}getStyleElement(me,xe){const ae=this.styleNodesInDOM,fe=ae?.get(xe);if(fe?.parentNode===me)return ae.delete(xe),fe.removeAttribute($e),fe;{const Y=this.doc.createElement("style");return this.nonce&&Y.setAttribute("nonce",this.nonce),Y.textContent=xe,this.platformIsServer&&Y.setAttribute($e,this.appId),me.appendChild(Y),Y}}addStyleToHost(me,xe){const ae=this.getStyleElement(me,xe),fe=this.styleRef,Y=fe.get(xe)?.elements;Y?Y.push(ae):fe.set(xe,{elements:[ae],usage:1})}resetHostNodes(){const me=this.hostNodes;me.clear(),me.add(this.doc.head)}static#e=this.\u0275fac=function(xe){return new(xe||Fe)(p.KVO(F.qQ),p.KVO(p.sZ2),p.KVO(p.BIS,8),p.KVO(p.Agw))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},At=/%COMP%/g,je=new p.nKC("",{providedIn:"root",factory:()=>!0});function ve(Fe,Ke){return Ke.map(me=>me.replace(At,Fe))}let Te=(()=>{class Fe{constructor(me,xe,ae,fe,Y,re,X,ke=null){this.eventManager=me,this.sharedStylesHost=xe,this.appId=ae,this.removeStylesOnCompDestroy=fe,this.doc=Y,this.platformId=re,this.ngZone=X,this.nonce=ke,this.rendererByCompId=new Map,this.platformIsServer=(0,F.Vy)(re),this.defaultRenderer=new Je(me,Y,X,this.platformIsServer)}createRenderer(me,xe){if(!me||!xe)return this.defaultRenderer;this.platformIsServer&&xe.encapsulation===p.gXe.ShadowDom&&(xe={...xe,encapsulation:p.gXe.Emulated});const ae=this.getOrCreateRenderer(me,xe);return ae instanceof In?ae.applyToHost(me):ae instanceof Ht&&ae.applyStyles(),ae}getOrCreateRenderer(me,xe){const ae=this.rendererByCompId;let fe=ae.get(xe.id);if(!fe){const Y=this.doc,re=this.ngZone,X=this.eventManager,ke=this.sharedStylesHost,_t=this.removeStylesOnCompDestroy,$t=this.platformIsServer;switch(xe.encapsulation){case p.gXe.Emulated:fe=new In(X,ke,xe,this.appId,_t,Y,re,$t);break;case p.gXe.ShadowDom:return new Ee(X,ke,me,xe,Y,re,this.nonce,$t);default:fe=new Ht(X,ke,xe,_t,Y,re,$t)}ae.set(xe.id,fe)}return fe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(xe){return new(xe||Fe)(p.KVO(le),p.KVO(ze),p.KVO(p.sZ2),p.KVO(je),p.KVO(F.qQ),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO(p.BIS))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();class Je{constructor(Ke,me,xe,ae){this.eventManager=Ke,this.doc=me,this.ngZone=xe,this.platformIsServer=ae,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ke,me){return me?this.doc.createElementNS(yt[me]||me,Ke):this.doc.createElement(Ke)}createComment(Ke){return this.doc.createComment(Ke)}createText(Ke){return this.doc.createTextNode(Ke)}appendChild(Ke,me){(mt(Ke)?Ke.content:Ke).appendChild(me)}insertBefore(Ke,me,xe){Ke&&(mt(Ke)?Ke.content:Ke).insertBefore(me,xe)}removeChild(Ke,me){Ke&&Ke.removeChild(me)}selectRootElement(Ke,me){let xe="string"==typeof Ke?this.doc.querySelector(Ke):Ke;if(!xe)throw new p.wOt(-5104,!1);return me||(xe.textContent=""),xe}parentNode(Ke){return Ke.parentNode}nextSibling(Ke){return Ke.nextSibling}setAttribute(Ke,me,xe,ae){if(ae){me=ae+":"+me;const fe=yt[ae];fe?Ke.setAttributeNS(fe,me,xe):Ke.setAttribute(me,xe)}else Ke.setAttribute(me,xe)}removeAttribute(Ke,me,xe){if(xe){const ae=yt[xe];ae?Ke.removeAttributeNS(ae,me):Ke.removeAttribute(`${xe}:${me}`)}else Ke.removeAttribute(me)}addClass(Ke,me){Ke.classList.add(me)}removeClass(Ke,me){Ke.classList.remove(me)}setStyle(Ke,me,xe,ae){ae&(p.czy.DashCase|p.czy.Important)?Ke.style.setProperty(me,xe,ae&p.czy.Important?"important":""):Ke.style[me]=xe}removeStyle(Ke,me,xe){xe&p.czy.DashCase?Ke.style.removeProperty(me):Ke.style[me]=""}setProperty(Ke,me,xe){null!=Ke&&(Ke[me]=xe)}setValue(Ke,me){Ke.nodeValue=me}listen(Ke,me,xe){if("string"==typeof Ke&&!(Ke=(0,F.QT)().getGlobalEventTarget(this.doc,Ke)))throw new Error(`Unsupported event target ${Ke} for event ${me}`);return this.eventManager.addEventListener(Ke,me,this.decoratePreventDefault(xe))}decoratePreventDefault(Ke){return me=>{if("__ngUnwrap__"===me)return Ke;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ke(me)):Ke(me))&&me.preventDefault()}}}function mt(Fe){return"TEMPLATE"===Fe.tagName&&void 0!==Fe.content}class Ee extends Je{constructor(Ke,me,xe,ae,fe,Y,re,X){super(Ke,fe,Y,X),this.sharedStylesHost=me,this.hostEl=xe,this.shadowRoot=xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ke=ve(ae.id,ae.styles);for(const _t of ke){const $t=document.createElement("style");re&&$t.setAttribute("nonce",re),$t.textContent=_t,this.shadowRoot.appendChild($t)}}nodeOrShadowRoot(Ke){return Ke===this.hostEl?this.shadowRoot:Ke}appendChild(Ke,me){return super.appendChild(this.nodeOrShadowRoot(Ke),me)}insertBefore(Ke,me,xe){return super.insertBefore(this.nodeOrShadowRoot(Ke),me,xe)}removeChild(Ke,me){return super.removeChild(this.nodeOrShadowRoot(Ke),me)}parentNode(Ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ke)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ht extends Je{constructor(Ke,me,xe,ae,fe,Y,re,X){super(Ke,fe,Y,re),this.sharedStylesHost=me,this.removeStylesOnCompDestroy=ae,this.styles=X?ve(X,xe.styles):xe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class In extends Ht{constructor(Ke,me,xe,ae,fe,Y,re,X){const ke=ae+"-"+xe.id;super(Ke,me,xe,fe,Y,re,X,ke),this.contentAttr=function Ve(Fe){return"_ngcontent-%COMP%".replace(At,Fe)}(ke),this.hostAttr=function be(Fe){return"_nghost-%COMP%".replace(At,Fe)}(ke)}applyToHost(Ke){this.applyStyles(),this.setAttribute(Ke,this.hostAttr,"")}createElement(Ke,me){const xe=super.createElement(Ke,me);return super.setAttribute(xe,this.contentAttr,""),xe}}let It=(()=>{class Fe extends De{constructor(me){super(me)}supports(me){return!0}addEventListener(me,xe,ae){return me.addEventListener(xe,ae,!1),()=>this.removeEventListener(me,xe,ae)}removeEventListener(me,xe,ae){return me.removeEventListener(xe,ae)}static#e=this.\u0275fac=function(xe){return new(xe||Fe)(p.KVO(F.qQ))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();const rn=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pe={alt:Fe=>Fe.altKey,control:Fe=>Fe.ctrlKey,meta:Fe=>Fe.metaKey,shift:Fe=>Fe.shiftKey};let He=(()=>{class Fe extends De{constructor(me){super(me)}supports(me){return null!=Fe.parseEventName(me)}addEventListener(me,xe,ae){const fe=Fe.parseEventName(xe),Y=Fe.eventCallback(fe.fullKey,ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,F.QT)().onAndCancel(me,fe.domEventName,Y))}static parseEventName(me){const xe=me.toLowerCase().split("."),ae=xe.shift();if(0===xe.length||"keydown"!==ae&&"keyup"!==ae)return null;const fe=Fe._normalizeKey(xe.pop());let Y="",re=xe.indexOf("code");if(re>-1&&(xe.splice(re,1),Y="code."),rn.forEach(ke=>{const _t=xe.indexOf(ke);_t>-1&&(xe.splice(_t,1),Y+=ke+".")}),Y+=fe,0!=xe.length||0===fe.length)return null;const X={};return X.domEventName=ae,X.fullKey=Y,X}static matchEventFullKeyCode(me,xe){let ae=bt[me.key]||me.key,fe="";return xe.indexOf("code.")>-1&&(ae=me.code,fe="code."),!(null==ae||!ae)&&(ae=ae.toLowerCase()," "===ae?ae="space":"."===ae&&(ae="dot"),rn.forEach(Y=>{Y!==ae&&(0,Pe[Y])(me)&&(fe+=Y+".")}),fe+=ae,fe===xe)}static eventCallback(me,xe,ae){return fe=>{Fe.matchEventFullKeyCode(fe,me)&&ae.runGuarded(()=>xe(fe))}}static _normalizeKey(me){return"esc"===me?"escape":me}static#e=this.\u0275fac=function(xe){return new(xe||Fe)(p.KVO(F.qQ))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();const dn=(0,p.oH4)(p.fpN,"browser",[{provide:p.Agw,useValue:F.AJ},{provide:p.PLl,useValue:function Pt(){ge.makeCurrent()},multi:!0},{provide:F.qQ,useFactory:function sn(){return(0,p.TL$)(document),document},deps:[]}]),bn=new p.nKC(""),Mn=[{provide:p.e01,useClass:class oe{addToWindow(Ke){p.JZv.getAngularTestability=(xe,ae=!0)=>{const fe=Ke.findTestabilityInTree(xe,ae);if(null==fe)throw new p.wOt(5103,!1);return fe},p.JZv.getAllAngularTestabilities=()=>Ke.getAllTestabilities(),p.JZv.getAllAngularRootElements=()=>Ke.getAllRootElements(),p.JZv.frameworkStabilizers||(p.JZv.frameworkStabilizers=[]),p.JZv.frameworkStabilizers.push(xe=>{const ae=p.JZv.getAllAngularTestabilities();let fe=ae.length;const Y=function(){fe--,0==fe&&xe()};ae.forEach(re=>{re.whenStable(Y)})})}findTestabilityInTree(Ke,me,xe){return null==me?null:Ke.getTestability(me)??(xe?(0,F.QT)().isShadowRoot(me)?this.findTestabilityInTree(Ke,me.host,!0):this.findTestabilityInTree(Ke,me.parentElement,!0):null)}},deps:[]},{provide:p.WHO,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]},{provide:p.NYb,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]}],Gn=[{provide:p.H8p,useValue:"root"},{provide:p.zcH,useFactory:function Gt(){return new p.zcH},deps:[]},{provide:ne,useClass:It,multi:!0,deps:[F.qQ,p.SKi,p.Agw]},{provide:ne,useClass:He,multi:!0,deps:[F.qQ]},Te,ze,le,{provide:p._9s,useExisting:Te},{provide:F.N0,useClass:de,deps:[]},[]];let Kn=(()=>{class Fe{constructor(me){}static withServerTransition(me){return{ngModule:Fe,providers:[{provide:p.sZ2,useValue:me.appId}]}}static#e=this.\u0275fac=function(xe){return new(xe||Fe)(p.KVO(bn,12))};static#t=this.\u0275mod=p.$C({type:Fe});static#n=this.\u0275inj=p.G2t({providers:[...Gn,...Mn],imports:[F.MD,p.Hbi]})}return Fe})(),ir=(()=>{class Fe{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}static#e=this.\u0275fac=function(xe){return new(xe||Fe)(p.KVO(F.qQ))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})(),et=(()=>{class Fe{static#e=this.\u0275fac=function(xe){return new(xe||Fe)};static#t=this.\u0275prov=p.jDH({token:Fe,factory:function(xe){let ae=null;return ae=xe?new(xe||Fe):p.KVO(Et),ae},providedIn:"root"})}return Fe})(),Et=(()=>{class Fe extends et{constructor(me){super(),this._doc=me}sanitize(me,xe){if(null==xe)return null;switch(me){case p.WPN.NONE:return xe;case p.WPN.HTML:return(0,p.ZF7)(xe,"HTML")?(0,p.rcV)(xe):(0,p.h9k)(this._doc,String(xe)).toString();case p.WPN.STYLE:return(0,p.ZF7)(xe,"Style")?(0,p.rcV)(xe):xe;case p.WPN.SCRIPT:if((0,p.ZF7)(xe,"Script"))return(0,p.rcV)(xe);throw new p.wOt(5200,!1);case p.WPN.URL:return(0,p.ZF7)(xe,"URL")?(0,p.rcV)(xe):(0,p.$MX)(String(xe));case p.WPN.RESOURCE_URL:if((0,p.ZF7)(xe,"ResourceURL"))return(0,p.rcV)(xe);throw new p.wOt(5201,!1);default:throw new p.wOt(5202,!1)}}bypassSecurityTrustHtml(me){return(0,p.Kcf)(me)}bypassSecurityTrustStyle(me){return(0,p.cWb)(me)}bypassSecurityTrustScript(me){return(0,p.UyX)(me)}bypassSecurityTrustUrl(me){return(0,p.osQ)(me)}bypassSecurityTrustResourceUrl(me){return(0,p.e5t)(me)}static#e=this.\u0275fac=function(xe){return new(xe||Fe)(p.KVO(F.qQ))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},9888:(Qt,We,L)=>{L.d(We,{Kp:()=>zt,Ix:()=>Bt,iI:()=>Yl,n3:()=>da});var p=L(4438),F=L(1985),_=L(8071),V=L(8455),Q=L(7673),W=L(4412),oe=L(3073),de=L(3669),ne=L(6450),le=L(9326),De=L(8496),$e=L(4360),ze=L(5225);function yt(...y){const R=(0,le.lI)(y),C=(0,le.ms)(y),{args:P,keys:j}=(0,oe.D)(y);if(0===P.length)return(0,V.H)([],R);const J=new F.c(function At(y,R,C=de.D){return P=>{dt(R,()=>{const{length:j}=y,J=new Array(j);let Ce=j,at=j;for(let nt=0;nt<j;nt++)dt(R,()=>{const on=(0,V.H)(y[nt],R);let ur=!1;on.subscribe((0,$e._)(P,_r=>{J[nt]=_r,ur||(ur=!0,at--),at||P.next(C(J.slice()))},()=>{--Ce||P.complete()}))},P)},P)}}(P,R,j?Ce=>(0,De.e)(j,Ce):de.D));return C?J.pipe((0,ne.I)(C)):J}function dt(y,R,C){y?(0,ze.N)(C,y,R):R()}var pt=L(9350),Ft=L(8793),Vt=L(8750);function je(y){return new F.c(R=>{(0,Vt.Tg)(y()).subscribe(R)})}var Ve=L(1203);function be(y,R){const C=(0,_.T)(y)?y:()=>y,P=j=>j.error(C());return new F.c(R?j=>R.schedule(P,0,j):P)}var ve=L(983),Te=L(8359),Je=L(9974);function ue(){return(0,Je.N)((y,R)=>{let C=null;y._refCount++;const P=(0,$e._)(R,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(C=null);const j=y._connection,J=C;C=null,j&&(!J||j===J)&&j.unsubscribe(),R.unsubscribe()});y.subscribe(P),P.closed||(C=y.connect())})}class Ae extends F.c{constructor(R,C){super(),this.source=R,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,Je.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Te.yU;const C=this.getSubject();R.add(this.source.subscribe((0,$e._)(C,void 0,()=>{this._teardown(),C.complete()},P=>{this._teardown(),C.error(P)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Te.yU.EMPTY)}return R}refCount(){return ue()(this)}}var mt=L(1413),Ee=L(177),Ht=L(6354),In=L(5558),It=L(6697),rn=L(9172),bt=L(5964),Pe=L(1397),He=L(1594),ct=L(274),Ze=L(8141);function ht(y){return(0,Je.N)((R,C)=>{let J,P=null,j=!1;P=R.subscribe((0,$e._)(C,void 0,void 0,Ce=>{J=(0,Vt.Tg)(y(Ce,ht(y)(R))),P?(P.unsubscribe(),P=null,J.subscribe(C)):j=!0})),j&&(P.unsubscribe(),P=null,J.subscribe(C))})}var qe=L(2816),Pt=L(9901);function Gt(y){return y<=0?()=>ve.w:(0,Je.N)((R,C)=>{let P=[];R.subscribe((0,$e._)(C,j=>{P.push(j),y<P.length&&P.shift()},()=>{for(const j of P)C.next(j);C.complete()},void 0,()=>{P=null}))})}var sn=L(3774),bn=L(980),Mn=L(5343),Kn=L(6365),Bn=L(345);const Jt="primary",ir=Symbol("RouteTitle");class Nt{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const C=this.params[R];return Array.isArray(C)?C[0]:C}return null}getAll(R){if(this.has(R)){const C=this.params[R];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function xn(y){return new Nt(y)}function jn(y,R,C){const P=C.path.split("/");if(P.length>y.length||"full"===C.pathMatch&&(R.hasChildren()||P.length<y.length))return null;const j={};for(let J=0;J<P.length;J++){const Ce=P[J],at=y[J];if(Ce.startsWith(":"))j[Ce.substring(1)]=at;else if(Ce!==at.path)return null}return{consumed:y.slice(0,P.length),posParams:j}}function Ar(y,R){const C=y?br(y):void 0,P=R?br(R):void 0;if(!C||!P||C.length!=P.length)return!1;let j;for(let J=0;J<C.length;J++)if(j=C[J],!Xn(y[j],R[j]))return!1;return!0}function br(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function Xn(y,R){if(Array.isArray(y)&&Array.isArray(R)){if(y.length!==R.length)return!1;const C=[...y].sort(),P=[...R].sort();return C.every((j,J)=>P[J]===j)}return y===R}function an(y){return y.length>0?y[y.length-1]:null}function hn(y){return function ge(y){return!!y&&(y instanceof F.c||(0,_.T)(y.lift)&&(0,_.T)(y.subscribe))}(y)?y:(0,p.jNT)(y)?(0,V.H)(Promise.resolve(y)):(0,Q.of)(y)}const Pr={exact:function Be(y,R,C){if(!zr(y.segments,R.segments)||!nn(y.segments,R.segments,C)||y.numberOfChildren!==R.numberOfChildren)return!1;for(const P in R.children)if(!y.children[P]||!Be(y.children[P],R.children[P],C))return!1;return!0},subset:Et},Ye={exact:function Se(y,R){return Ar(y,R)},subset:function et(y,R){return Object.keys(R).length<=Object.keys(y).length&&Object.keys(R).every(C=>Xn(y[C],R[C]))},ignored:()=>!0};function tn(y,R,C){return Pr[C.paths](y.root,R.root,C.matrixParams)&&Ye[C.queryParams](y.queryParams,R.queryParams)&&!("exact"===C.fragment&&y.fragment!==R.fragment)}function Et(y,R,C){return Wn(y,R,R.segments,C)}function Wn(y,R,C,P){if(y.segments.length>C.length){const j=y.segments.slice(0,C.length);return!(!zr(j,C)||R.hasChildren()||!nn(j,C,P))}if(y.segments.length===C.length){if(!zr(y.segments,C)||!nn(y.segments,C,P))return!1;for(const j in R.children)if(!y.children[j]||!Et(y.children[j],R.children[j],P))return!1;return!0}{const j=C.slice(0,y.segments.length),J=C.slice(y.segments.length);return!!(zr(y.segments,j)&&nn(y.segments,j,P)&&y.children[Jt])&&Wn(y.children[Jt],R,J,P)}}function nn(y,R,C){return R.every((P,j)=>Ye[C](y[j].parameters,P.parameters))}class On{constructor(R=new An([],{}),C={},P=null){this.root=R,this.queryParams=C,this.fragment=P}get queryParamMap(){return this._queryParamMap??=xn(this.queryParams),this._queryParamMap}toString(){return Ke.serialize(this)}}class An{constructor(R,C){this.segments=R,this.children=C,this.parent=null,Object.values(C).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return me(this)}}class or{constructor(R,C){this.path=R,this.parameters=C}get parameterMap(){return this._parameterMap??=xn(this.parameters),this._parameterMap}toString(){return _t(this)}}function zr(y,R){return y.length===R.length&&y.every((C,P)=>C.path===R[P].path)}let ei=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>new Fe,providedIn:"root"})}return y})();class Fe{parse(R){const C=new Sr(R);return new On(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(R){const C=`/${xe(R.root,!0)}`,P=function Vn(y){const R=Object.entries(y).map(([C,P])=>Array.isArray(P)?P.map(j=>`${fe(C)}=${fe(j)}`).join("&"):`${fe(C)}=${fe(P)}`).filter(C=>C);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${C}${P}${"string"==typeof R.fragment?`#${function Y(y){return encodeURI(y)}(R.fragment)}`:""}`}}const Ke=new Fe;function me(y){return y.segments.map(R=>_t(R)).join("/")}function xe(y,R){if(!y.hasChildren())return me(y);if(R){const C=y.children[Jt]?xe(y.children[Jt],!1):"",P=[];return Object.entries(y.children).forEach(([j,J])=>{j!==Jt&&P.push(`${j}:${xe(J,!1)}`)}),P.length>0?`${C}(${P.join("//")})`:C}{const C=function ui(y,R){let C=[];return Object.entries(y.children).forEach(([P,j])=>{P===Jt&&(C=C.concat(R(j,P)))}),Object.entries(y.children).forEach(([P,j])=>{P!==Jt&&(C=C.concat(R(j,P)))}),C}(y,(P,j)=>j===Jt?[xe(y.children[Jt],!1)]:[`${j}:${xe(P,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Jt]?`${me(y)}/${C[0]}`:`${me(y)}/(${C.join("//")})`}}function ae(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fe(y){return ae(y).replace(/%3B/gi,";")}function re(y){return ae(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(y){return decodeURIComponent(y)}function ke(y){return X(y.replace(/\+/g,"%20"))}function _t(y){return`${re(y.path)}${function $t(y){return Object.entries(y).map(([R,C])=>`;${re(R)}=${re(C)}`).join("")}(y.parameters)}`}const $n=/^[^\/()?;#]+/;function cr(y){const R=y.match($n);return R?R[0]:""}const fn=/^[^\/()?;=#]+/,Yn=/^[^=?&#]+/,ji=/^[^&#]+/;class Sr{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new An([],{}):new An([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(R.length>0||Object.keys(C).length>0)&&(P[Jt]=new An(R,C)),P}parseSegment(){const R=cr(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new p.wOt(4009,!1);return this.capture(R),new or(X(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const C=function en(y){const R=y.match(fn);return R?R[0]:""}(this.remaining);if(!C)return;this.capture(C);let P="";if(this.consumeOptional("=")){const j=cr(this.remaining);j&&(P=j,this.capture(P))}R[X(C)]=X(P)}parseQueryParam(R){const C=function Lr(y){const R=y.match(Yn);return R?R[0]:""}(this.remaining);if(!C)return;this.capture(C);let P="";if(this.consumeOptional("=")){const Ce=function Fr(y){const R=y.match(ji);return R?R[0]:""}(this.remaining);Ce&&(P=Ce,this.capture(P))}const j=ke(C),J=ke(P);if(R.hasOwnProperty(j)){let Ce=R[j];Array.isArray(Ce)||(Ce=[Ce],R[j]=Ce),Ce.push(J)}else R[j]=J}parseParens(R){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=cr(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new p.wOt(4010,!1);let J;P.indexOf(":")>-1?(J=P.slice(0,P.indexOf(":")),this.capture(J),this.capture(":")):R&&(J=Jt);const Ce=this.parseChildren();C[J]=1===Object.keys(Ce).length?Ce[Jt]:new An([],Ce),this.consumeOptional("//")}return C}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new p.wOt(4011,!1)}}function sr(y){return y.segments.length>0?new An([],{[Jt]:y}):y}function Qi(y){const R={};for(const[P,j]of Object.entries(y.children)){const J=Qi(j);if(P===Jt&&0===J.segments.length&&J.hasChildren())for(const[Ce,at]of Object.entries(J.children))R[Ce]=at;else(J.segments.length>0||J.hasChildren())&&(R[P]=J)}return function Xi(y){if(1===y.numberOfChildren&&y.children[Jt]){const R=y.children[Jt];return new An(y.segments.concat(R.segments),R.children)}return y}(new An(y.segments,R))}function ot(y){return y instanceof On}function vt(y){let R;const j=sr(function C(J){const Ce={};for(const nt of J.children){const on=C(nt);Ce[nt.outlet]=on}const at=new An(J.url,Ce);return J===y&&(R=at),at}(y.root));return R??j}function qt(y,R,C,P){let j=y;for(;j.parent;)j=j.parent;if(0===R.length)return ye(j,j,j,C,P);const J=function st(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Qe(!0,0,y);let R=0,C=!1;const P=y.reduce((j,J,Ce)=>{if("object"==typeof J&&null!=J){if(J.outlets){const at={};return Object.entries(J.outlets).forEach(([nt,on])=>{at[nt]="string"==typeof on?on.split("/"):on}),[...j,{outlets:at}]}if(J.segmentPath)return[...j,J.segmentPath]}return"string"!=typeof J?[...j,J]:0===Ce?(J.split("/").forEach((at,nt)=>{0==nt&&"."===at||(0==nt&&""===at?C=!0:".."===at?R++:""!=at&&j.push(at))}),j):[...j,J]},[]);return new Qe(C,R,P)}(R);if(J.toRoot())return ye(j,j,new An([],{}),C,P);const Ce=function Ut(y,R,C){if(y.isAbsolute)return new xt(R,!0,0);if(!C)return new xt(R,!1,NaN);if(null===C.parent)return new xt(C,!0,0);const P=Nn(y.commands[0])?0:1;return function mn(y,R,C){let P=y,j=R,J=C;for(;J>j;){if(J-=j,P=P.parent,!P)throw new p.wOt(4005,!1);j=P.segments.length}return new xt(P,!1,j-J)}(C,C.segments.length-1+P,y.numberOfDoubleDots)}(J,j,y),at=Ce.processChildren?Cr(Ce.segmentGroup,Ce.index,J.commands):wr(Ce.segmentGroup,Ce.index,J.commands);return ye(j,Ce.segmentGroup,at,C,P)}function Nn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function te(y){return"object"==typeof y&&null!=y&&y.outlets}function ye(y,R,C,P,j){let Ce,J={};P&&Object.entries(P).forEach(([nt,on])=>{J[nt]=Array.isArray(on)?on.map(ur=>`${ur}`):`${on}`}),Ce=y===R?C:we(y,R,C);const at=sr(Qi(Ce));return new On(at,J,j)}function we(y,R,C){const P={};return Object.entries(y.children).forEach(([j,J])=>{P[j]=J===R?C:we(J,R,C)}),new An(y.segments,P)}class Qe{constructor(R,C,P){if(this.isAbsolute=R,this.numberOfDoubleDots=C,this.commands=P,R&&P.length>0&&Nn(P[0]))throw new p.wOt(4003,!1);const j=P.find(te);if(j&&j!==an(P))throw new p.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xt{constructor(R,C,P){this.segmentGroup=R,this.processChildren=C,this.index=P}}function wr(y,R,C){if(y??=new An([],{}),0===y.segments.length&&y.hasChildren())return Cr(y,R,C);const P=function Mr(y,R,C){let P=0,j=R;const J={match:!1,pathIndex:0,commandIndex:0};for(;j<y.segments.length;){if(P>=C.length)return J;const Ce=y.segments[j],at=C[P];if(te(at))break;const nt=`${at}`,on=P<C.length-1?C[P+1]:null;if(j>0&&void 0===nt)break;if(nt&&on&&"object"==typeof on&&void 0===on.outlets){if(!tr(nt,on,Ce))return J;P+=2}else{if(!tr(nt,{},Ce))return J;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(y,R,C),j=C.slice(P.commandIndex);if(P.match&&P.pathIndex<y.segments.length){const J=new An(y.segments.slice(0,P.pathIndex),{});return J.children[Jt]=new An(y.segments.slice(P.pathIndex),y.children),Cr(J,0,j)}return P.match&&0===j.length?new An(y.segments,{}):P.match&&!y.hasChildren()?li(y,R,C):P.match?Cr(y,0,j):li(y,R,C)}function Cr(y,R,C){if(0===C.length)return new An(y.segments,{});{const P=function _n(y){return te(y[0])?y[0].outlets:{[Jt]:y}}(C),j={};if(Object.keys(P).some(J=>J!==Jt)&&y.children[Jt]&&1===y.numberOfChildren&&0===y.children[Jt].segments.length){const J=Cr(y.children[Jt],R,C);return new An(y.segments,J.children)}return Object.entries(P).forEach(([J,Ce])=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(j[J]=wr(y.children[J],R,Ce))}),Object.entries(y.children).forEach(([J,Ce])=>{void 0===P[J]&&(j[J]=Ce)}),new An(y.segments,j)}}function li(y,R,C){const P=y.segments.slice(0,R);let j=0;for(;j<C.length;){const J=C[j];if(te(J)){const nt=Hi(J.outlets);return new An(P,nt)}if(0===j&&Nn(C[0])){P.push(new or(y.segments[R].path,di(C[0]))),j++;continue}const Ce=te(J)?J.outlets[Jt]:`${J}`,at=j<C.length-1?C[j+1]:null;Ce&&at&&Nn(at)?(P.push(new or(Ce,di(at))),j+=2):(P.push(new or(Ce,{})),j++)}return new An(P,{})}function Hi(y){const R={};return Object.entries(y).forEach(([C,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(R[C]=li(new An([],{}),0,P))}),R}function di(y){const R={};return Object.entries(y).forEach(([C,P])=>R[C]=`${P}`),R}function tr(y,R,C){return y==C.path&&Ar(R,C.parameters)}const Zn="imperative";var Fn=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(Fn||{});class jr{constructor(R,C){this.id=R,this.url=C}}class Kr extends jr{constructor(R,C,P="imperative",j=null){super(R,C),this.type=Fn.NavigationStart,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yr extends jr{constructor(R,C,P){super(R,C),this.urlAfterRedirects=P,this.type=Fn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var yr=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(yr||{}),Ti=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(Ti||{});class Cn extends jr{constructor(R,C,P,j){super(R,C),this.reason=P,this.code=j,this.type=Fn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qn extends jr{constructor(R,C,P,j){super(R,C),this.reason=P,this.code=j,this.type=Fn.NavigationSkipped}}class Ws extends jr{constructor(R,C,P,j){super(R,C),this.error=P,this.target=j,this.type=Fn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ki extends jr{constructor(R,C,P,j){super(R,C),this.urlAfterRedirects=P,this.state=j,this.type=Fn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi extends jr{constructor(R,C,P,j){super(R,C),this.urlAfterRedirects=P,this.state=j,this.type=Fn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends jr{constructor(R,C,P,j,J){super(R,C),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=J,this.type=Fn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ki extends jr{constructor(R,C,P,j){super(R,C),this.urlAfterRedirects=P,this.state=j,this.type=Fn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Is extends jr{constructor(R,C,P,j){super(R,C),this.urlAfterRedirects=P,this.state=j,this.type=Fn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn{constructor(R){this.route=R,this.type=Fn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hs{constructor(R){this.route=R,this.type=Fn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xo{constructor(R){this.snapshot=R,this.type=Fn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hi{constructor(R){this.snapshot=R,this.type=Fn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(R){this.snapshot=R,this.type=Fn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(R){this.snapshot=R,this.type=Fn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(R,C,P){this.routerEvent=R,this.position=C,this.anchor=P,this.type=Fn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yi{}class Es{constructor(R){this.url=R}}class ro{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new io,this.attachRef=null}}let io=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(C,P){const j=this.getOrCreateContext(C);j.outlet=P,this.contexts.set(C,j)}onChildOutletDestroyed(C){const P=this.getContext(C);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let P=this.getContext(C);return P||(P=new ro,this.contexts.set(C,P)),P}getContext(C){return this.contexts.get(C)||null}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class Ns{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const C=this.pathFromRoot(R);return C.length>1?C[C.length-2]:null}children(R){const C=so(R,this._root);return C?C.children.map(P=>P.value):[]}firstChild(R){const C=so(R,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(R){const C=Zi(R,this._root);return C.length<2?[]:C[C.length-2].children.map(j=>j.value).filter(j=>j!==R)}pathFromRoot(R){return Zi(R,this._root).map(C=>C.value)}}function so(y,R){if(y===R.value)return R;for(const C of R.children){const P=so(y,C);if(P)return P}return null}function Zi(y,R){if(y===R.value)return[R];for(const C of R.children){const P=Zi(y,C);if(P.length)return P.unshift(R),P}return[]}class Fi{constructor(R,C){this.value=R,this.children=C}toString(){return`TreeNode(${this.value})`}}function xr(y){const R={};return y&&y.children.forEach(C=>R[C.value.outlet]=C),R}class oo extends Ns{constructor(R,C){super(R),this.snapshot=C,Vo(this,R)}toString(){return this.snapshot.toString()}}function fi(y){const R=function Ji(y){const J=new ao([],{},{},"",{},Jt,y,null,{});return new $i("",new Fi(J,[]))}(y),C=new W.t([new or("",{})]),P=new W.t({}),j=new W.t({}),J=new W.t({}),Ce=new W.t(""),at=new Hn(C,P,J,Ce,j,Jt,y,R.root);return at.snapshot=R.root,new oo(new Fi(at,[]),R)}class Hn{constructor(R,C,P,j,J,Ce,at,nt){this.urlSubject=R,this.paramsSubject=C,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=J,this.outlet=Ce,this.component=at,this._futureSnapshot=nt,this.title=this.dataSubject?.pipe((0,Ht.T)(on=>on[ir]))??(0,Q.of)(void 0),this.url=R,this.params=C,this.queryParams=P,this.fragment=j,this.data=J}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Ht.T)(R=>xn(R))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Ht.T)(R=>xn(R))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ws(y,R,C="emptyOnly"){let P;const{routeConfig:j}=y;return P=null===R||"always"!==C&&""!==j?.path&&(R.component||R.routeConfig?.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...y._resolvedData??{}}}:{params:{...R.params,...y.params},data:{...R.data,...y.data},resolve:{...y.data,...R.data,...j?.data,...y._resolvedData}},j&&Ts(j)&&(P.resolve[ir]=j.title),P}class ao{get title(){return this.data?.[ir]}constructor(R,C,P,j,J,Ce,at,nt,on){this.url=R,this.params=C,this.queryParams=P,this.fragment=j,this.data=J,this.outlet=Ce,this.component=at,this.routeConfig=nt,this._resolve=on}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $i extends Ns{constructor(R,C){super(C),this.url=R,Vo(this,C)}toString(){return Uo(this._root)}}function Vo(y,R){R.value._routerState=y,R.children.forEach(C=>Vo(y,C))}function Uo(y){const R=y.children.length>0?` { ${y.children.map(Uo).join(", ")} } `:"";return`${y.value}${R}`}function Cs(y){if(y.snapshot){const R=y.snapshot,C=y._futureSnapshot;y.snapshot=C,Ar(R.queryParams,C.queryParams)||y.queryParamsSubject.next(C.queryParams),R.fragment!==C.fragment&&y.fragmentSubject.next(C.fragment),Ar(R.params,C.params)||y.paramsSubject.next(C.params),function Er(y,R){if(y.length!==R.length)return!1;for(let C=0;C<y.length;++C)if(!Ar(y[C],R[C]))return!1;return!0}(R.url,C.url)||y.urlSubject.next(C.url),Ar(R.data,C.data)||y.dataSubject.next(C.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function es(y,R){const C=Ar(y.params,R.params)&&function Dr(y,R){return zr(y,R)&&y.every((C,P)=>Ar(C.parameters,R[P].parameters))}(y.url,R.url);return C&&!(!y.parent!=!R.parent)&&(!y.parent||es(y.parent,R.parent))}function Ts(y){return"string"==typeof y.title||null===y.title}let da=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new p.bkB,this.deactivateEvents=new p.bkB,this.attachEvents=new p.bkB,this.detachEvents=new p.bkB,this.parentContexts=(0,p.WQX)(io),this.location=(0,p.WQX)(p.c1b),this.changeDetector=(0,p.WQX)(p.gRc),this.environmentInjector=(0,p.WQX)(p.uvJ),this.inputBinder=(0,p.WQX)(Si,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(C){if(C.name){const{firstChange:P,previousValue:j}=C.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.wOt(4012,!1);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,P){this.activated=C,this._activatedRoute=P,this.location.insert(C.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,P){if(this.isActivated)throw new p.wOt(4013,!1);this._activatedRoute=C;const j=this.location,Ce=C.snapshot.component,at=this.parentContexts.getOrCreateContext(this.name).children,nt=new ci(C,at,j.injector);this.activated=j.createComponent(Ce,{index:j.length,injector:nt,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275dir=p.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.OA$]})}return y})();class ci{constructor(R,C,P){this.route=R,this.childContexts=C,this.parent=P,this.__ngOutletInjector=!0}get(R,C){return R===Hn?this.route:R===io?this.childContexts:this.parent.get(R,C)}}const Si=new p.nKC("");let qi=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(C){this.unsubscribeFromRouteData(C),this.subscribeToRouteData(C)}unsubscribeFromRouteData(C){this.outletDataSubscriptions.get(C)?.unsubscribe(),this.outletDataSubscriptions.delete(C)}subscribeToRouteData(C){const{activatedRoute:P}=C,j=yt([P.queryParams,P.params,P.data]).pipe((0,In.n)(([J,Ce,at],nt)=>(at={...J,...Ce,...at},0===nt?(0,Q.of)(at):Promise.resolve(at)))).subscribe(J=>{if(!C.isActivated||!C.activatedComponentRef||C.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(C);const Ce=(0,p.HJs)(P.component);if(Ce)for(const{templateName:at}of Ce.inputs)C.activatedComponentRef.setInput(at,J[at]);else this.unsubscribeFromRouteData(C)});this.outletDataSubscriptions.set(C,j)}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac})}return y})();function ti(y,R,C){if(C&&y.shouldReuseRoute(R.value,C.value.snapshot)){const P=C.value;P._futureSnapshot=R.value;const j=function lr(y,R,C){return R.children.map(P=>{for(const j of C.children)if(y.shouldReuseRoute(P.value,j.value.snapshot))return ti(y,P,j);return ti(y,P)})}(y,R,C);return new Fi(P,j)}{if(y.shouldAttach(R.value)){const J=y.retrieve(R.value);if(null!==J){const Ce=J.route;return Ce.value._futureSnapshot=R.value,Ce.children=R.children.map(at=>ti(y,at)),Ce}}const P=function zs(y){return new Hn(new W.t(y.url),new W.t(y.params),new W.t(y.queryParams),new W.t(y.fragment),new W.t(y.data),y.outlet,y.component,y)}(R.value),j=R.children.map(J=>ti(y,J));return new Fi(P,j)}}const bs="ngNavigationCancelingError";function ts(y,R){const{redirectTo:C,navigationBehaviorOptions:P}=ot(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,j=yo(!1,yr.Redirect);return j.url=C,j.navigationBehaviorOptions=P,j}function yo(y,R){const C=new Error(`NavigationCancelingError: ${y||""}`);return C[bs]=!0,C.cancellationCode=R,C}function Ta(y){return!!y&&y[bs]}let Bo=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275cmp=p.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[p.aNF],decls:1,vars:0,template:function(P,j){1&P&&p.nrm(0,"router-outlet")},dependencies:[da],encapsulation:2})}return y})();function vo(y){const R=y.children&&y.children.map(vo),C=R?{...y,children:R}:{...y};return!C.component&&!C.loadComponent&&(R||C.loadChildren)&&C.outlet&&C.outlet!==Jt&&(C.component=Bo),C}function wi(y){return y.outlet||Jt}function Ai(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let R=y.parent;R;R=R.parent){const C=R.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class co{constructor(R,C,P,j,J){this.routeReuseStrategy=R,this.futureState=C,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=J}activate(R){const C=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,P,R),Cs(this.futureState.root),this.activateChildRoutes(C,P,R)}deactivateChildRoutes(R,C,P){const j=xr(C);R.children.forEach(J=>{const Ce=J.value.outlet;this.deactivateRoutes(J,j[Ce],P),delete j[Ce]}),Object.values(j).forEach(J=>{this.deactivateRouteAndItsChildren(J,P)})}deactivateRoutes(R,C,P){const j=R.value,J=C?C.value:null;if(j===J)if(j.component){const Ce=P.getContext(j.outlet);Ce&&this.deactivateChildRoutes(R,C,Ce.children)}else this.deactivateChildRoutes(R,C,P);else J&&this.deactivateRouteAndItsChildren(C,P)}deactivateRouteAndItsChildren(R,C){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,C):this.deactivateRouteAndOutlet(R,C)}detachAndStoreRouteSubtree(R,C){const P=C.getContext(R.value.outlet),j=P&&R.value.component?P.children:C,J=xr(R);for(const Ce of Object.values(J))this.deactivateRouteAndItsChildren(Ce,j);if(P&&P.outlet){const Ce=P.outlet.detach(),at=P.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Ce,route:R,contexts:at})}}deactivateRouteAndOutlet(R,C){const P=C.getContext(R.value.outlet),j=P&&R.value.component?P.children:C,J=xr(R);for(const Ce of Object.values(J))this.deactivateRouteAndItsChildren(Ce,j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(R,C,P){const j=xr(C);R.children.forEach(J=>{this.activateRoutes(J,j[J.value.outlet],P),this.forwardEvent(new Os(J.value.snapshot))}),R.children.length&&this.forwardEvent(new hi(R.value.snapshot))}activateRoutes(R,C,P){const j=R.value,J=C?C.value:null;if(Cs(j),j===J)if(j.component){const Ce=P.getOrCreateContext(j.outlet);this.activateChildRoutes(R,C,Ce.children)}else this.activateChildRoutes(R,C,P);else if(j.component){const Ce=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const at=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Ce.children.onOutletReAttached(at.contexts),Ce.attachRef=at.componentRef,Ce.route=at.route.value,Ce.outlet&&Ce.outlet.attach(at.componentRef,at.route.value),Cs(at.route.value),this.activateChildRoutes(R,null,Ce.children)}else{const at=Ai(j.snapshot);Ce.attachRef=null,Ce.route=j,Ce.injector=at,Ce.outlet&&Ce.outlet.activateWith(j,Ce.injector),this.activateChildRoutes(R,null,Ce.children)}}else this.activateChildRoutes(R,null,P)}}class Gi{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Eo{constructor(R,C){this.component=R,this.route=C}}function jo(y,R,C){const P=y._root;return wo(P,R?R._root:null,C,[P.value])}function Ks(y,R){const C=Symbol(),P=R.get(y,C);return P===C?"function"!=typeof y||(0,p.LfX)(y)?R.get(y):y:P}function wo(y,R,C,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const J=xr(R);return y.children.forEach(Ce=>{(function Co(y,R,C,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const J=y.value,Ce=R?R.value:null,at=C?C.getContext(y.value.outlet):null;if(Ce&&J.routeConfig===Ce.routeConfig){const nt=function G(y,R,C){if("function"==typeof C)return C(y,R);switch(C){case"pathParamsChange":return!zr(y.url,R.url);case"pathParamsOrQueryParamsChange":return!zr(y.url,R.url)||!Ar(y.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!es(y,R)||!Ar(y.queryParams,R.queryParams);default:return!es(y,R)}}(Ce,J,J.routeConfig.runGuardsAndResolvers);nt?j.canActivateChecks.push(new Gi(P)):(J.data=Ce.data,J._resolvedData=Ce._resolvedData),wo(y,R,J.component?at?at.children:null:C,P,j),nt&&at&&at.outlet&&at.outlet.isActivated&&j.canDeactivateChecks.push(new Eo(at.outlet.component,Ce))}else Ce&&z(R,at,j),j.canActivateChecks.push(new Gi(P)),wo(y,null,J.component?at?at.children:null:C,P,j)})(Ce,J[Ce.value.outlet],C,P.concat([Ce.value]),j),delete J[Ce.value.outlet]}),Object.entries(J).forEach(([Ce,at])=>z(at,C.getContext(Ce),j)),j}function z(y,R,C){const P=xr(y),j=y.value;Object.entries(P).forEach(([J,Ce])=>{z(Ce,j.component?R?R.children.getContext(J):null:R,C)}),C.canDeactivateChecks.push(new Eo(j.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,j))}function x(y){return"function"==typeof y}function gs(y){return y instanceof pt.G||"EmptyError"===y?.name}const ks=Symbol("INITIAL_VALUE");function Ls(){return(0,In.n)(y=>yt(y.map(R=>R.pipe((0,It.s)(1),(0,rn.Z)(ks)))).pipe((0,Ht.T)(R=>{for(const C of R)if(!0!==C){if(C===ks)return ks;if(!1===C||C instanceof On)return C}return!0}),(0,bt.p)(R=>R!==ks),(0,It.s)(1)))}function ni(y){return(0,Ve.F)((0,Ze.M)(R=>{if(ot(R))throw ts(0,R)}),(0,Ht.T)(R=>!0===R))}class Ri{constructor(R){this.segmentGroup=R||null}}class pi extends Error{constructor(R){super(),this.urlTree=R}}function rs(y){return be(new Ri(y))}class Sa{constructor(R,C){this.urlSerializer=R,this.urlTree=C}lineralizeSegments(R,C){let P=[],j=C.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,Q.of)(P);if(j.numberOfChildren>1||!j.children[Jt])return be(new p.wOt(4e3,!1));j=j.children[Jt]}}applyRedirectCommands(R,C,P){const j=this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),R,P);if(C.startsWith("/"))throw new pi(j);return j}applyRedirectCreateUrlTree(R,C,P,j){const J=this.createSegmentGroup(R,C.root,P,j);return new On(J,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(R,C){const P={};return Object.entries(R).forEach(([j,J])=>{if("string"==typeof J&&J.startsWith(":")){const at=J.substring(1);P[j]=C[at]}else P[j]=J}),P}createSegmentGroup(R,C,P,j){const J=this.createSegments(R,C.segments,P,j);let Ce={};return Object.entries(C.children).forEach(([at,nt])=>{Ce[at]=this.createSegmentGroup(R,nt,P,j)}),new An(J,Ce)}createSegments(R,C,P,j){return C.map(J=>J.path.startsWith(":")?this.findPosParam(R,J,j):this.findOrReturn(J,P))}findPosParam(R,C,P){const j=P[C.path.substring(1)];if(!j)throw new p.wOt(4001,!1);return j}findOrReturn(R,C){let P=0;for(const j of C){if(j.path===R.path)return C.splice(P),j;P++}return R}}const gi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qs(y,R,C,P,j){const J=To(y,R,C);return J.matched?(P=function Zr(y,R){return y.providers&&!y._injector&&(y._injector=(0,p.Ol2)(y.providers,R,`Route: ${y.path}`)),y._injector??R}(R,P),function qr(y,R,C,P){const j=R.canMatch;if(!j||0===j.length)return(0,Q.of)(!0);const J=j.map(Ce=>{const at=Ks(Ce,y);return hn(function qs(y){return y&&x(y.canMatch)}(at)?at.canMatch(R,C):(0,p.N4e)(y,()=>at(R,C)))});return(0,Q.of)(J).pipe(Ls(),ni())}(P,R,C).pipe((0,Ht.T)(Ce=>!0===Ce?J:{...gi}))):(0,Q.of)(J)}function To(y,R,C){if("**"===R.path)return function ea(y){return{matched:!0,parameters:y.length>0?an(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(C);if(""===R.path)return"full"===R.pathMatch&&(y.hasChildren()||C.length>0)?{...gi}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const j=(R.matcher||jn)(C,y,R);if(!j)return{...gi};const J={};Object.entries(j.posParams??{}).forEach(([at,nt])=>{J[at]=nt.path});const Ce=j.consumed.length>0?{...J,...j.consumed[j.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:j.consumed,remainingSegments:C.slice(j.consumed.length),parameters:Ce,positionalParamSegments:j.posParams??{}}}function $o(y,R,C,P){return C.length>0&&function Go(y,R,C){return C.some(P=>is(y,R,P)&&wi(P)!==Jt)}(y,C,P)?{segmentGroup:new An(R,ta(P,new An(C,y.children))),slicedSegments:[]}:0===C.length&&function za(y,R,C){return C.some(P=>is(y,R,P))}(y,C,P)?{segmentGroup:new An(y.segments,al(y,C,P,y.children)),slicedSegments:C}:{segmentGroup:new An(y.segments,y.children),slicedSegments:C}}function al(y,R,C,P){const j={};for(const J of C)if(is(y,R,J)&&!P[wi(J)]){const Ce=new An([],{});j[wi(J)]=Ce}return{...P,...j}}function ta(y,R){const C={};C[Jt]=R;for(const P of y)if(""===P.path&&wi(P)!==Jt){const j=new An([],{});C[wi(P)]=j}return C}function is(y,R,C){return(!(y.hasChildren()||R.length>0)||"full"!==C.pathMatch)&&""===C.path}class Ka{}class ss{constructor(R,C,P,j,J,Ce,at){this.injector=R,this.configLoader=C,this.rootComponentType=P,this.config=j,this.urlTree=J,this.paramsInheritanceStrategy=Ce,this.urlSerializer=at,this.applyRedirects=new Sa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(R){return new p.wOt(4002,`'${R.segmentGroup}'`)}recognize(){const R=$o(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(R).pipe((0,Ht.T)(C=>{const P=new ao([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),j=new Fi(P,C),J=new $i("",j),Ce=function Ge(y,R,C=null,P=null){return qt(vt(y),R,C,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return Ce.queryParams=this.urlTree.queryParams,J.url=this.urlSerializer.serialize(Ce),this.inheritParamsAndData(J._root,null),{state:J,tree:Ce}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R,Jt).pipe(ht(P=>{if(P instanceof pi)return this.urlTree=P.urlTree,this.match(P.urlTree.root);throw P instanceof Ri?this.noMatchError(P):P}))}inheritParamsAndData(R,C){const P=R.value,j=ws(P,C,this.paramsInheritanceStrategy);P.params=Object.freeze(j.params),P.data=Object.freeze(j.data),R.children.forEach(J=>this.inheritParamsAndData(J,P))}processSegmentGroup(R,C,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(R,C,P):this.processSegment(R,C,P,P.segments,j,!0).pipe((0,Ht.T)(J=>J instanceof Fi?[J]:[]))}processChildren(R,C,P){const j=[];for(const J of Object.keys(P.children))"primary"===J?j.unshift(J):j.push(J);return(0,V.H)(j).pipe((0,ct.H)(J=>{const Ce=P.children[J],at=function Io(y,R){const C=y.filter(P=>wi(P)===R);return C.push(...y.filter(P=>wi(P)!==R)),C}(C,J);return this.processSegmentGroup(R,at,Ce,J)}),(0,qe.S)((J,Ce)=>(J.push(...Ce),J)),(0,Pt.U)(null),function Mt(y,R){const C=arguments.length>=2;return P=>P.pipe(y?(0,bt.p)((j,J)=>y(j,J,P)):de.D,Gt(1),C?(0,Pt.U)(R):(0,sn.v)(()=>new pt.G))}(),(0,Pe.Z)(J=>{if(null===J)return rs(P);const Ce=Pi(J);return function ra(y){y.sort((R,C)=>R.value.outlet===Jt?-1:C.value.outlet===Jt?1:R.value.outlet.localeCompare(C.value.outlet))}(Ce),(0,Q.of)(Ce)}))}processSegment(R,C,P,j,J,Ce){return(0,V.H)(C).pipe((0,ct.H)(at=>this.processSegmentAgainstRoute(at._injector??R,C,at,P,j,J,Ce).pipe(ht(nt=>{if(nt instanceof Ri)return(0,Q.of)(null);throw nt}))),(0,He.$)(at=>!!at),ht(at=>{if(gs(at))return function bo(y,R,C){return 0===R.length&&!y.children[C]}(P,j,J)?(0,Q.of)(new Ka):rs(P);throw at}))}processSegmentAgainstRoute(R,C,P,j,J,Ce,at){return function na(y,R,C,P){return!!(wi(y)===P||P!==Jt&&is(R,C,y))&&To(R,y,C).matched}(P,j,J,Ce)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(R,j,P,J,Ce):this.allowRedirects&&at?this.expandSegmentAgainstRouteUsingRedirect(R,j,C,P,J,Ce):rs(j):rs(j)}expandSegmentAgainstRouteUsingRedirect(R,C,P,j,J,Ce){const{matched:at,consumedSegments:nt,positionalParamSegments:on,remainingSegments:ur}=To(C,j,J);if(!at)return rs(C);j.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const _r=this.applyRedirects.applyRedirectCommands(nt,j.redirectTo,on);return this.applyRedirects.lineralizeSegments(j,_r).pipe((0,Pe.Z)(Ur=>this.processSegment(R,P,C,Ur.concat(ur),Ce,!1)))}matchSegmentAgainstRoute(R,C,P,j,J){const Ce=Qs(C,P,j,R);return"**"===P.path&&(C.children={}),Ce.pipe((0,In.n)(at=>at.matched?this.getChildConfig(R=P._injector??R,P,j).pipe((0,In.n)(({routes:nt})=>{const on=P._loadedInjector??R,{consumedSegments:ur,remainingSegments:_r,parameters:Ur}=at,Ro=new ao(ur,Ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Ss(y){return y.data||{}}(P),wi(P),P.component??P._loadedComponent??null,P,function Ra(y){return y.resolve||{}}(P)),{segmentGroup:ma,slicedSegments:sa}=$o(C,ur,_r,nt);if(0===sa.length&&ma.hasChildren())return this.processChildren(on,nt,ma).pipe((0,Ht.T)(ls=>null===ls?null:new Fi(Ro,ls)));if(0===nt.length&&0===sa.length)return(0,Q.of)(new Fi(Ro,[]));const as=wi(P)===J;return this.processSegment(on,nt,ma,sa,as?Jt:J,!0).pipe((0,Ht.T)(ls=>new Fi(Ro,ls instanceof Fi?[ls]:[])))})):rs(C)))}getChildConfig(R,C,P){return C.children?(0,Q.of)({routes:C.children,injector:R}):C.loadChildren?void 0!==C._loadedRoutes?(0,Q.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function er(y,R,C,P){const j=R.canLoad;if(void 0===j||0===j.length)return(0,Q.of)(!0);const J=j.map(Ce=>{const at=Ks(Ce,y);return hn(function Re(y){return y&&x(y.canLoad)}(at)?at.canLoad(R,C):(0,p.N4e)(y,()=>at(R,C)))});return(0,Q.of)(J).pipe(Ls(),ni())}(R,C,P).pipe((0,Pe.Z)(j=>j?this.configLoader.loadChildren(R,C).pipe((0,Ze.M)(J=>{C._loadedRoutes=J.routes,C._loadedInjector=J.injector})):function wl(y){return be(yo(!1,yr.GuardRejected))}())):(0,Q.of)({routes:[],injector:R})}}function Ao(y){const R=y.value.routeConfig;return R&&""===R.path}function Pi(y){const R=[],C=new Set;for(const P of y){if(!Ao(P)){R.push(P);continue}const j=R.find(J=>P.value.routeConfig===J.value.routeConfig);void 0!==j?(j.children.push(...P.children),C.add(j)):R.push(P)}for(const P of C){const j=Pi(P.children);R.push(new Fi(P.value,j))}return R.filter(P=>!C.has(P))}function Do(y){const R=y.children.map(C=>Do(C)).flat();return[y,...R]}function Us(y){return(0,In.n)(R=>{const C=y(R);return C?(0,V.H)(C).pipe((0,Ht.T)(()=>R)):(0,Q.of)(R)})}let Bs=(()=>{class y{buildTitle(C){let P,j=C.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(J=>J.outlet===Jt);return P}getResolvedTitleForRoute(C){return C.data[ir]}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>(0,p.WQX)(Cl),providedIn:"root"})}return y})(),Cl=(()=>{class y extends Bs{constructor(C){super(),this.title=C}updateTitle(C){const P=this.buildTitle(C);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||y)(p.KVO(Bn.hE))};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Ci=new p.nKC("",{providedIn:"root",factory:()=>({})}),b=new p.nKC("");let K=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.WQX)(p.Ql9)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,Q.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const P=hn(C.loadComponent()).pipe((0,Ht.T)(Ie),(0,Ze.M)(J=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=J}),(0,bn.j)(()=>{this.componentLoaders.delete(C)})),j=new Ae(P,()=>new mt.B).pipe(ue());return this.componentLoaders.set(C,j),j}loadChildren(C,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Q.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const J=function O(y,R,C,P){return hn(y.loadChildren()).pipe((0,Ht.T)(Ie),(0,Pe.Z)(j=>j instanceof p.Co$||Array.isArray(j)?(0,Q.of)(j):(0,V.H)(R.compileModuleAsync(j))),(0,Ht.T)(j=>{P&&P(y);let J,Ce,at=!1;return Array.isArray(j)?(Ce=j,!0):(J=j.create(C).injector,Ce=J.get(b,[],{optional:!0,self:!0}).flat()),{routes:Ce.map(vo),injector:J}}))}(P,this.compiler,C,this.onLoadEndListener).pipe((0,bn.j)(()=>{this.childrenLoaders.delete(P)})),Ce=new Ae(J,()=>new mt.B).pipe(ue());return this.childrenLoaders.set(P,Ce),Ce}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Ie(y){return function $(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let lt=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>(0,p.WQX)(Ct),providedIn:"root"})}return y})(),Ct=(()=>{class y{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,P){return C}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const cn=new p.nKC(""),Jr=new p.nKC("");function U(y,R,C){const P=y.get(Jr),j=y.get(Ee.qQ);return y.get(p.SKi).runOutsideAngular(()=>{if(!j.startViewTransition||P.skipNextTransition)return P.skipNextTransition=!1,Promise.resolve();let J;const Ce=new Promise(on=>{J=on}),at=j.startViewTransition(()=>(J(),function E(y){return new Promise(R=>{(0,p.mal)(R,{injector:y})})}(y))),{onViewTransitionCreated:nt}=P;return nt&&(0,p.N4e)(y,()=>nt({transition:at,from:R,to:C})),Ce})}let v=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mt.B,this.transitionAbortSubject=new mt.B,this.configLoader=(0,p.WQX)(K),this.environmentInjector=(0,p.WQX)(p.uvJ),this.urlSerializer=(0,p.WQX)(ei),this.rootContexts=(0,p.WQX)(io),this.location=(0,p.WQX)(Ee.aZ),this.inputBindingEnabled=null!==(0,p.WQX)(Si,{optional:!0}),this.titleStrategy=(0,p.WQX)(Bs),this.options=(0,p.WQX)(Ci,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,p.WQX)(lt),this.createViewTransition=(0,p.WQX)(cn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new hs(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new Jn(j))}complete(){this.transitions?.complete()}handleNavigationRequest(C){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:P})}setupNavigations(C,P,j){return this.transitions=new W.t({id:0,currentUrlTree:P,currentRawUrl:P,extractedUrl:this.urlHandlingStrategy.extract(P),urlAfterRedirects:this.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zn,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,bt.p)(J=>0!==J.id),(0,Ht.T)(J=>({...J,extractedUrl:this.urlHandlingStrategy.extract(J.rawUrl)})),(0,In.n)(J=>{let Ce=!1,at=!1;return(0,Q.of)(J).pipe((0,In.n)(nt=>{if(this.navigationId>J.id)return this.cancelNavigationTransition(J,"",yr.SupersededByNewNavigation),ve.w;this.currentTransition=J,this.currentNavigation={id:nt.id,initialUrl:nt.rawUrl,extractedUrl:nt.extractedUrl,trigger:nt.source,extras:nt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const on=!C.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!on&&"reload"!==(nt.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const _r="";return this.events.next(new qn(nt.id,this.urlSerializer.serialize(nt.rawUrl),_r,Ti.IgnoredSameUrlNavigation)),nt.resolve(null),ve.w}if(this.urlHandlingStrategy.shouldProcessUrl(nt.rawUrl))return(0,Q.of)(nt).pipe((0,In.n)(_r=>{const Ur=this.transitions?.getValue();return this.events.next(new Kr(_r.id,this.urlSerializer.serialize(_r.extractedUrl),_r.source,_r.restoredState)),Ur!==this.transitions?.getValue()?ve.w:Promise.resolve(_r)}),function Hr(y,R,C,P,j,J){return(0,Pe.Z)(Ce=>function Wo(y,R,C,P,j,J,Ce="emptyOnly"){return new ss(y,R,C,P,j,Ce,J).recognize()}(y,R,C,P,Ce.extractedUrl,j,J).pipe((0,Ht.T)(({state:at,tree:nt})=>({...Ce,targetSnapshot:at,urlAfterRedirects:nt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,C.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Ze.M)(_r=>{J.targetSnapshot=_r.targetSnapshot,J.urlAfterRedirects=_r.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_r.urlAfterRedirects};const Ur=new ki(_r.id,this.urlSerializer.serialize(_r.extractedUrl),this.urlSerializer.serialize(_r.urlAfterRedirects),_r.targetSnapshot);this.events.next(Ur)}));if(on&&this.urlHandlingStrategy.shouldProcessUrl(nt.currentRawUrl)){const{id:_r,extractedUrl:Ur,source:Ro,restoredState:ma,extras:sa}=nt,as=new Kr(_r,this.urlSerializer.serialize(Ur),Ro,ma);this.events.next(as);const ls=fi(this.rootComponentType).snapshot;return this.currentTransition=J={...nt,targetSnapshot:ls,urlAfterRedirects:Ur,extras:{...sa,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ur,(0,Q.of)(J)}{const _r="";return this.events.next(new qn(nt.id,this.urlSerializer.serialize(nt.extractedUrl),_r,Ti.IgnoredByUrlHandlingStrategy)),nt.resolve(null),ve.w}}),(0,Ze.M)(nt=>{const on=new bi(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(on)}),(0,Ht.T)(nt=>(this.currentTransition=J={...nt,guards:jo(nt.targetSnapshot,nt.currentSnapshot,this.rootContexts)},J)),function Aa(y,R){return(0,Pe.Z)(C=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:J,canDeactivateChecks:Ce}}=C;return 0===Ce.length&&0===J.length?(0,Q.of)({...C,guardsResult:!0}):function Da(y,R,C,P){return(0,V.H)(y).pipe((0,Pe.Z)(j=>function Ho(y,R,C,P,j){const J=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,Q.of)(!0);const Ce=J.map(at=>{const nt=Ai(R)??j,on=Ks(at,nt);return hn(function En(y){return y&&x(y.canDeactivate)}(on)?on.canDeactivate(y,R,C,P):(0,p.N4e)(nt,()=>on(y,R,C,P))).pipe((0,He.$)())});return(0,Q.of)(Ce).pipe(Ls())}(j.component,j.route,C,R,P)),(0,He.$)(j=>!0!==j,!0))}(Ce,P,j,y).pipe((0,Pe.Z)(at=>at&&function se(y){return"boolean"==typeof y}(at)?function Ga(y,R,C,P){return(0,V.H)(R).pipe((0,ct.H)(j=>(0,Ft.x)(function ms(y,R){return null!==y&&R&&R(new Xo(y)),(0,Q.of)(!0)}(j.route.parent,P),function Zo(y,R){return null!==y&&R&&R(new Li(y)),(0,Q.of)(!0)}(j.route,P),function Jo(y,R,C){const P=R[R.length-1],J=R.slice(0,R.length-1).reverse().map(Ce=>function Yo(y){const R=y.routeConfig?y.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:y,guards:R}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>je(()=>{const at=Ce.guards.map(nt=>{const on=Ai(Ce.node)??C,ur=Ks(nt,on);return hn(function Qn(y){return y&&x(y.canActivateChild)}(ur)?ur.canActivateChild(P,y):(0,p.N4e)(on,()=>ur(P,y))).pipe((0,He.$)())});return(0,Q.of)(at).pipe(Ls())}));return(0,Q.of)(J).pipe(Ls())}(y,j.path,C),function ns(y,R,C){const P=R.routeConfig?R.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Q.of)(!0);const j=P.map(J=>je(()=>{const Ce=Ai(R)??C,at=Ks(J,Ce);return hn(function gn(y){return y&&x(y.canActivate)}(at)?at.canActivate(R,y):(0,p.N4e)(Ce,()=>at(R,y))).pipe((0,He.$)())}));return(0,Q.of)(j).pipe(Ls())}(y,j.route,C))),(0,He.$)(j=>!0!==j,!0))}(P,J,y,R):(0,Q.of)(at)),(0,Ht.T)(at=>({...C,guardsResult:at})))})}(this.environmentInjector,nt=>this.events.next(nt)),(0,Ze.M)(nt=>{if(J.guardsResult=nt.guardsResult,ot(nt.guardsResult))throw ts(0,nt.guardsResult);const on=new Fo(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot,!!nt.guardsResult);this.events.next(on)}),(0,bt.p)(nt=>!!nt.guardsResult||(this.cancelNavigationTransition(nt,"",yr.GuardRejected),!1)),Us(nt=>{if(nt.guards.canActivateChecks.length)return(0,Q.of)(nt).pipe((0,Ze.M)(on=>{const ur=new Ki(on.id,this.urlSerializer.serialize(on.extractedUrl),this.urlSerializer.serialize(on.urlAfterRedirects),on.targetSnapshot);this.events.next(ur)}),(0,In.n)(on=>{let ur=!1;return(0,Q.of)(on).pipe(function qa(y,R){return(0,Pe.Z)(C=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=C;if(!j.length)return(0,Q.of)(C);const J=new Set(j.map(nt=>nt.route)),Ce=new Set;for(const nt of J)if(!Ce.has(nt))for(const on of Do(nt))Ce.add(on);let at=0;return(0,V.H)(Ce).pipe((0,ct.H)(nt=>J.has(nt)?function Vs(y,R,C,P){const j=y.routeConfig,J=y._resolve;return void 0!==j?.title&&!Ts(j)&&(J[ir]=j.title),function ll(y,R,C,P){const j=br(y);if(0===j.length)return(0,Q.of)({});const J={};return(0,V.H)(j).pipe((0,Pe.Z)(Ce=>function Pa(y,R,C,P){const j=Ai(R)??P,J=Ks(y,j);return hn(J.resolve?J.resolve(R,C):(0,p.N4e)(j,()=>J(R,C)))}(y[Ce],R,C,P).pipe((0,He.$)(),(0,Ze.M)(at=>{J[Ce]=at}))),Gt(1),function dn(y){return(0,Ht.T)(()=>y)}(J),ht(Ce=>gs(Ce)?ve.w:be(Ce)))}(J,y,R,P).pipe((0,Ht.T)(Ce=>(y._resolvedData=Ce,y.data=ws(y,y.parent,C).resolve,null)))}(nt,P,y,R):(nt.data=ws(nt,nt.parent,y).resolve,(0,Q.of)(void 0))),(0,Ze.M)(()=>at++),Gt(1),(0,Pe.Z)(nt=>at===Ce.size?(0,Q.of)(C):ve.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Ze.M)({next:()=>ur=!0,complete:()=>{ur||this.cancelNavigationTransition(on,"",yr.NoDataFromResolver)}}))}),(0,Ze.M)(on=>{const ur=new Is(on.id,this.urlSerializer.serialize(on.extractedUrl),this.urlSerializer.serialize(on.urlAfterRedirects),on.targetSnapshot);this.events.next(ur)}))}),Us(nt=>{const on=ur=>{const _r=[];ur.routeConfig?.loadComponent&&!ur.routeConfig._loadedComponent&&_r.push(this.configLoader.loadComponent(ur.routeConfig).pipe((0,Ze.M)(Ur=>{ur.component=Ur}),(0,Ht.T)(()=>{})));for(const Ur of ur.children)_r.push(...on(Ur));return _r};return yt(on(nt.targetSnapshot.root)).pipe((0,Pt.U)(null),(0,It.s)(1))}),Us(()=>this.afterPreactivation()),(0,In.n)(()=>{const{currentSnapshot:nt,targetSnapshot:on}=J,ur=this.createViewTransition?.(this.environmentInjector,nt.root,on.root);return ur?(0,V.H)(ur).pipe((0,Ht.T)(()=>J)):(0,Q.of)(J)}),(0,Ht.T)(nt=>{const on=function _o(y,R,C){const P=ti(y,R._root,C?C._root:void 0);return new oo(P,R)}(C.routeReuseStrategy,nt.targetSnapshot,nt.currentRouterState);return this.currentTransition=J={...nt,targetRouterState:on},this.currentNavigation.targetRouterState=on,J}),(0,Ze.M)(()=>{this.events.next(new Yi)}),((y,R,C,P)=>(0,Ht.T)(j=>(new co(R,j.targetRouterState,j.currentRouterState,C,P).activate(y),j)))(this.rootContexts,C.routeReuseStrategy,nt=>this.events.next(nt),this.inputBindingEnabled),(0,It.s)(1),(0,Ze.M)({next:nt=>{Ce=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yr(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects))),this.titleStrategy?.updateTitle(nt.targetRouterState.snapshot),nt.resolve(!0)},complete:()=>{Ce=!0}}),function Gn(y){return(0,Je.N)((R,C)=>{(0,Vt.Tg)(y).subscribe((0,$e._)(C,()=>C.complete(),Mn.l)),!C.closed&&R.subscribe(C)})}(this.transitionAbortSubject.pipe((0,Ze.M)(nt=>{throw nt}))),(0,bn.j)(()=>{!Ce&&!at&&this.cancelNavigationTransition(J,"",yr.SupersededByNewNavigation),this.currentTransition?.id===J.id&&(this.currentNavigation=null,this.currentTransition=null)}),ht(nt=>{if(at=!0,Ta(nt))this.events.next(new Cn(J.id,this.urlSerializer.serialize(J.extractedUrl),nt.message,nt.cancellationCode)),function As(y){return Ta(y)&&ot(y.url)}(nt)?this.events.next(new Es(nt.url)):J.resolve(!1);else{this.events.next(new Ws(J.id,this.urlSerializer.serialize(J.extractedUrl),nt,J.targetSnapshot??void 0));try{J.resolve(C.errorHandler(nt))}catch(on){this.options.resolveNavigationPromiseOnError?J.resolve(!1):J.reject(on)}}return ve.w}))}))}cancelNavigationTransition(C,P,j){const J=new Cn(C.id,this.urlSerializer.serialize(C.extractedUrl),P,j);this.events.next(J),C.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function S(y){return y!==Zn}let N=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>(0,p.WQX)(_e),providedIn:"root"})}return y})();class ee{shouldDetach(R){return!1}store(R,C){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,C){return R.routeConfig===C.routeConfig}}let _e=(()=>{class y extends ee{static#e=this.\u0275fac=(()=>{let C;return function(j){return(C||(C=p.xGo(y)))(j||y)}})();static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),he=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>(0,p.WQX)(Oe),providedIn:"root"})}return y})(),Oe=(()=>{class y extends he{constructor(){super(...arguments),this.location=(0,p.WQX)(Ee.aZ),this.urlSerializer=(0,p.WQX)(ei),this.options=(0,p.WQX)(Ci,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,p.WQX)(lt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new On,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fi(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(C){return this.location.subscribe(P=>{"popstate"===P.type&&C(P.url,P.state)})}handleRouterEvent(C,P){if(C instanceof Kr)this.stateMemento=this.createStateMemento();else if(C instanceof qn)this.rawUrlTree=P.initialUrl;else if(C instanceof ki){if("eager"===this.urlUpdateStrategy&&!P.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl);this.setBrowserUrl(j,P)}}else C instanceof Yi?(this.currentUrlTree=P.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P))):C instanceof Cn&&(C.code===yr.GuardRejected||C.code===yr.NoDataFromResolver)?this.restoreHistory(P):C instanceof Ws?this.restoreHistory(P,!0):C instanceof Yr&&(this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId)}setBrowserUrl(C,P){const j=this.urlSerializer.serialize(C);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const Ce={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",Ce)}else{const J={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",J)}}restoreHistory(C,P=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-this.browserPageId;0!==J?this.location.historyGo(J):this.currentUrlTree===C.finalUrl&&0===J&&(this.resetState(C),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,P){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:P}:{navigationId:C}}static#e=this.\u0275fac=(()=>{let C;return function(j){return(C||(C=p.xGo(y)))(j||y)}})();static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var Xe=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(Xe||{});function kt(y,R){y.events.pipe((0,bt.p)(C=>C instanceof Yr||C instanceof Cn||C instanceof Ws||C instanceof qn),(0,Ht.T)(C=>C instanceof Yr||C instanceof qn?Xe.COMPLETE:C instanceof Cn&&(C.code===yr.Redirect||C.code===yr.SupersededByNewNavigation)?Xe.REDIRECTING:Xe.FAILED),(0,bt.p)(C=>C!==Xe.REDIRECTING),(0,It.s)(1)).subscribe(()=>{R()})}function Dt(y){throw y}const Sn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bt=(()=>{class y{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,p.WQX)(p.H3F),this.stateManager=(0,p.WQX)(he),this.options=(0,p.WQX)(Ci,{optional:!0})||{},this.pendingTasks=(0,p.WQX)(p.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,p.WQX)(v),this.urlSerializer=(0,p.WQX)(ei),this.location=(0,p.WQX)(Ee.aZ),this.urlHandlingStrategy=(0,p.WQX)(lt),this._events=new mt.B,this.errorHandler=this.options.errorHandler||Dt,this.navigated=!1,this.routeReuseStrategy=(0,p.WQX)(N),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,p.WQX)(b,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,p.WQX)(Si,{optional:!0}),this.eventsSubscription=new Te.yU,this.isNgZoneEnabled=(0,p.WQX)(p.SKi)instanceof p.SKi&&p.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:C=>{this.console.warn(C)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const C=this.navigationTransitions.events.subscribe(P=>{try{const j=this.navigationTransitions.currentTransition,J=this.navigationTransitions.currentNavigation;if(null!==j&&null!==J)if(this.stateManager.handleRouterEvent(P,J),P instanceof Cn&&P.code!==yr.Redirect&&P.code!==yr.SupersededByNewNavigation)this.navigated=!0;else if(P instanceof Yr)this.navigated=!0;else if(P instanceof Es){const Ce=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),at={info:j.extras.info,skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||S(j.source)};this.scheduleNavigation(Ce,Zn,null,at,{resolve:j.resolve,reject:j.reject,promise:j.promise})}(function gt(y){return!(y instanceof Yi||y instanceof Es)})(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(C)}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((C,P)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(C,"popstate",P)},0)})}navigateToSyncWithBrowser(C,P,j){const J={replaceUrl:!0},Ce=j?.navigationId?j:null;if(j){const nt={...j};delete nt.navigationId,delete nt.\u0275routerPageId,0!==Object.keys(nt).length&&(J.state=nt)}const at=this.parseUrl(C);this.scheduleNavigation(at,P,Ce,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(C){this.config=C.map(vo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(C,P={}){const{relativeTo:j,queryParams:J,fragment:Ce,queryParamsHandling:at,preserveFragment:nt}=P,on=nt?this.currentUrlTree.fragment:Ce;let _r,ur=null;switch(at){case"merge":ur={...this.currentUrlTree.queryParams,...J};break;case"preserve":ur=this.currentUrlTree.queryParams;break;default:ur=J||null}null!==ur&&(ur=this.removeEmptyProps(ur));try{_r=vt(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof C[0]||!C[0].startsWith("/"))&&(C=[]),_r=this.currentUrlTree.root}return qt(_r,C,ur,on??null)}navigateByUrl(C,P={skipLocationChange:!1}){const j=ot(C)?C:this.parseUrl(C),J=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(J,Zn,null,P)}navigate(C,P={skipLocationChange:!1}){return function Rn(y){for(let R=0;R<y.length;R++)if(null==y[R])throw new p.wOt(4008,!1)}(C),this.navigateByUrl(this.createUrlTree(C,P),P)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){try{return this.urlSerializer.parse(C)}catch{return this.urlSerializer.parse("/")}}isActive(C,P){let j;if(j=!0===P?{...Sn}:!1===P?{...kn}:P,ot(C))return tn(this.currentUrlTree,C,j);const J=this.parseUrl(C);return tn(this.currentUrlTree,J,j)}removeEmptyProps(C){return Object.entries(C).reduce((P,[j,J])=>(null!=J&&(P[j]=J),P),{})}scheduleNavigation(C,P,j,J,Ce){if(this.disposed)return Promise.resolve(!1);let at,nt,on;Ce?(at=Ce.resolve,nt=Ce.reject,on=Ce.promise):on=new Promise((_r,Ur)=>{at=_r,nt=Ur});const ur=this.pendingTasks.add();return kt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ur))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:J,resolve:at,reject:nt,promise:on,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),on.catch(_r=>Promise.reject(_r))}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class Wt{}let zt=(()=>{class y{preload(C,P){return P().pipe(ht(()=>(0,Q.of)(null)))}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Ot=(()=>{class y{constructor(C,P,j,J,Ce){this.router=C,this.injector=j,this.preloadingStrategy=J,this.loader=Ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,bt.p)(C=>C instanceof Yr),(0,ct.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,P){const j=[];for(const J of P){J.providers&&!J._injector&&(J._injector=(0,p.Ol2)(J.providers,C,`Route: ${J.path}`));const Ce=J._injector??C,at=J._loadedInjector??Ce;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&j.push(this.preloadConfig(Ce,J)),(J.children||J._loadedRoutes)&&j.push(this.processRoutes(at,J.children??J._loadedRoutes))}return(0,V.H)(j).pipe((0,Kn.U)())}preloadConfig(C,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(C,P):(0,Q.of)(null);const J=j.pipe((0,Pe.Z)(Ce=>null===Ce?(0,Q.of)(void 0):(P._loadedRoutes=Ce.routes,P._loadedInjector=Ce.injector,this.processRoutes(Ce.injector??C,Ce.routes))));if(P.loadComponent&&!P._loadedComponent){const Ce=this.loader.loadComponent(P);return(0,V.H)([J,Ce]).pipe((0,Kn.U)())}return J})}static#e=this.\u0275fac=function(P){return new(P||y)(p.KVO(Bt),p.KVO(p.Ql9),p.KVO(p.uvJ),p.KVO(Wt),p.KVO(K))};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const tt=new p.nKC("");let Tt=(()=>{class y{constructor(C,P,j,J,Ce={}){this.urlSerializer=C,this.transitions=P,this.viewportScroller=j,this.zone=J,this.options=Ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ce.scrollPositionRestoration||="disabled",Ce.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof Yr?(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment)):C instanceof qn&&C.code===Ti.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof no&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new no(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){p.QTQ()};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac})}return y})();function Wi(y,R){return{\u0275kind:y,\u0275providers:R}}function wn(){const y=(0,p.WQX)(p.zZn);return R=>{const C=y.get(p.o8S);if(R!==C.components[0])return;const P=y.get(Bt),j=y.get(pn);1===y.get(fr)&&P.initialNavigation(),y.get(Qr,null,p.$GK.Optional)?.setUpPreloading(),y.get(tt,null,p.$GK.Optional)?.init(),P.resetRootComponentType(C.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const pn=new p.nKC("",{factory:()=>new mt.B}),fr=new p.nKC("",{providedIn:"root",factory:()=>1}),Qr=new p.nKC("");function ri(y){return Wi(0,[{provide:Qr,useExisting:Ot},{provide:Wt,useExisting:y}])}function os(y){return Wi(9,[{provide:cn,useValue:U},{provide:Jr,useValue:{skipNextTransition:!!y?.skipInitialTransition,...y}}])}const Zt=new p.nKC("ROUTER_FORROOT_GUARD"),ga=[Ee.aZ,{provide:ei,useClass:Fe},Bt,io,{provide:Hn,useFactory:function Xs(y){return y.routerState.root},deps:[Bt]},K,[]];let Yl=(()=>{class y{constructor(C){}static forRoot(C,P){return{ngModule:y,providers:[ga,[],{provide:b,multi:!0,useValue:C},{provide:Zt,useFactory:dd,deps:[[Bt,new p.Xx1,new p.kdw]]},{provide:Ci,useValue:P||{}},P?.useHash?{provide:Ee.hb,useClass:Ee.fw}:{provide:Ee.hb,useClass:Ee.Sm},{provide:tt,useFactory:()=>{const y=(0,p.WQX)(Ee.Xr),R=(0,p.WQX)(p.SKi),C=(0,p.WQX)(Ci),P=(0,p.WQX)(v),j=(0,p.WQX)(ei);return C.scrollOffset&&y.setOffset(C.scrollOffset),new Tt(j,P,y,R,C)}},P?.preloadingStrategy?ri(P.preloadingStrategy).\u0275providers:[],P?.initialNavigation?bl(P):[],P?.bindToComponentInputs?Wi(8,[qi,{provide:Si,useExisting:qi}]).\u0275providers:[],P?.enableViewTransitions?os().\u0275providers:[],[{provide:gu,useFactory:wn},{provide:p.iLQ,multi:!0,useExisting:gu}]]}}static forChild(C){return{ngModule:y,providers:[{provide:b,multi:!0,useValue:C}]}}static#e=this.\u0275fac=function(P){return new(P||y)(p.KVO(Zt,8))};static#t=this.\u0275mod=p.$C({type:y});static#n=this.\u0275inj=p.G2t({})}return y})();function dd(y){return"guarded"}function bl(y){return["disabled"===y.initialNavigation?Wi(3,[{provide:p.hnV,multi:!0,useFactory:()=>{const R=(0,p.WQX)(Bt);return()=>{R.setUpLocationChangeListener()}}},{provide:fr,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Wi(2,[{provide:fr,useValue:0},{provide:p.hnV,multi:!0,deps:[p.zZn],useFactory:R=>{const C=R.get(Ee.hj,Promise.resolve());return()=>C.then(()=>new Promise(P=>{const j=R.get(Bt),J=R.get(pn);kt(j,()=>{P(!0)}),R.get(v).afterPreactivation=()=>(P(!0),J.closed?(0,Q.of)(void 0):J),j.initialNavigation()}))}}]).\u0275providers:[]]}const gu=new p.nKC("")},3345:(Qt,We,L)=>{L.d(We,{A:()=>yt});var p=L(1076),F=L(1362),_=L(7852),ge=L(8041);class V{constructor(dt,pt){this._delegate=dt,this.firebase=pt,(0,_._addComponent)(dt,new F.uA("app-compat",()=>this,"PUBLIC")),this.container=dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this._delegate.automaticDataCollectionEnabled=dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(dt=>{this._delegate.checkDestroyed(),dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_.deleteApp)(this._delegate)))}_getService(dt,pt=_._DEFAULT_ENTRY_NAME){var Ft;this._delegate.checkDestroyed();const Vt=this._delegate.container.getProvider(dt);return!Vt.isInitialized()&&"EXPLICIT"===(null===(Ft=Vt.getComponent())||void 0===Ft?void 0:Ft.instantiationMode)&&Vt.initialize(),Vt.getImmediate({identifier:pt})}_removeServiceInstance(dt,pt=_._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(dt).clearInstance(pt)}_addComponent(dt){(0,_._addComponent)(this._delegate,dt)}_addOrOverwriteComponent(dt){(0,_._addOrOverwriteComponent)(this._delegate,dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new p.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function de(){const At=function oe(At){const dt={},pt={__esModule:!0,initializeApp:function je(Te,Je={}){const ue=_.initializeApp(Te,Je);if((0,p.gR)(dt,ue.name))return dt[ue.name];const Ae=new At(ue,pt);return dt[ue.name]=Ae,Ae},app:Vt,registerVersion:_.registerVersion,setLogLevel:_.setLogLevel,onLog:_.onLog,apps:null,SDK_VERSION:_.SDK_VERSION,INTERNAL:{registerComponent:function be(Te){const Je=Te.name,ue=Je.replace("-compat","");if(_._registerComponent(Te)&&"PUBLIC"===Te.type){const Ae=(mt=Vt())=>{if("function"!=typeof mt[ue])throw W.create("invalid-app-argument",{appName:Je});return mt[ue]()};void 0!==Te.serviceProps&&(0,p.zw)(Ae,Te.serviceProps),pt[ue]=Ae,At.prototype[ue]=function(...mt){return this._getService.bind(this,Je).apply(this,Te.multipleInstances?mt:[])}}return"PUBLIC"===Te.type?pt[ue]:null},removeApp:function Ft(Te){delete dt[Te]},useAsService:function ve(Te,Je){return"serverAuth"===Je?null:Je},modularAPIs:_}};function Vt(Te){if(!(0,p.gR)(dt,Te=Te||_._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:Te});return dt[Te]}return pt.default=pt,Object.defineProperty(pt,"apps",{get:function Ve(){return Object.keys(dt).map(Te=>dt[Te])}}),Vt.App=At,pt}(V);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function dt(pt){(0,p.zw)(At,pt)},createSubscribe:p.tD,ErrorFactory:p.FA,deepExtend:p.zw}),At}(),le=new ge.Vy("@firebase/app-compat");if((0,p.Bd)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const At=self.firebase.SDK_VERSION;At&&At.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yt=ne;!function ze(At){(0,_.registerVersion)("@firebase/app-compat","0.2.30",At)}()},7852:(Qt,We,L)=>{L.r(We),L.d(We,{FirebaseError:()=>ge.g,SDK_VERSION:()=>zr,_DEFAULT_ENTRY_NAME:()=>br,_addComponent:()=>Ye,_addOrOverwriteComponent:()=>tn,_apps:()=>an,_clearComponents:()=>nn,_components:()=>Pr,_getProvider:()=>Be,_isFirebaseApp:()=>Et,_isFirebaseServerApp:()=>Wn,_registerComponent:()=>Se,_removeServiceInstance:()=>et,_serverApps:()=>hn,deleteApp:()=>me,getApp:()=>Fe,getApps:()=>Ke,initializeApp:()=>ui,initializeServerApp:()=>ei,onLog:()=>fe,registerVersion:()=>ae,setLogLevel:()=>Y});var p=L(467),F=L(1362),_=L(8041),ge=L(1076);const V=(ot,Ge)=>Ge.some(vt=>ot instanceof vt);let Q,W;const ne=new WeakMap,le=new WeakMap,De=new WeakMap,$e=new WeakMap,ze=new WeakMap;let dt={get(ot,Ge,vt){if(ot instanceof IDBTransaction){if("done"===Ge)return le.get(ot);if("objectStoreNames"===Ge)return ot.objectStoreNames||De.get(ot);if("store"===Ge)return vt.objectStoreNames[1]?void 0:vt.objectStore(vt.objectStoreNames[0])}return je(ot[Ge])},set:(ot,Ge,vt)=>(ot[Ge]=vt,!0),has:(ot,Ge)=>ot instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in ot};function Vt(ot){return"function"==typeof ot?function Ft(ot){return ot!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ot)?function(...Ge){return ot.apply(Ve(this),Ge),je(ne.get(this))}:function(...Ge){return je(ot.apply(Ve(this),Ge))}:function(Ge,...vt){const qt=ot.call(Ve(this),Ge,...vt);return De.set(qt,Ge.sort?Ge.sort():[Ge]),je(qt)}}(ot):(ot instanceof IDBTransaction&&function At(ot){if(le.has(ot))return;const Ge=new Promise((vt,qt)=>{const Nn=()=>{ot.removeEventListener("complete",te),ot.removeEventListener("error",ye),ot.removeEventListener("abort",ye)},te=()=>{vt(),Nn()},ye=()=>{qt(ot.error||new DOMException("AbortError","AbortError")),Nn()};ot.addEventListener("complete",te),ot.addEventListener("error",ye),ot.addEventListener("abort",ye)});le.set(ot,Ge)}(ot),V(ot,function oe(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ot,dt):ot)}function je(ot){if(ot instanceof IDBRequest)return function yt(ot){const Ge=new Promise((vt,qt)=>{const Nn=()=>{ot.removeEventListener("success",te),ot.removeEventListener("error",ye)},te=()=>{vt(je(ot.result)),Nn()},ye=()=>{qt(ot.error),Nn()};ot.addEventListener("success",te),ot.addEventListener("error",ye)});return Ge.then(vt=>{vt instanceof IDBCursor&&ne.set(vt,ot)}).catch(()=>{}),ze.set(Ge,ot),Ge}(ot);if($e.has(ot))return $e.get(ot);const Ge=Vt(ot);return Ge!==ot&&($e.set(ot,Ge),ze.set(Ge,ot)),Ge}const Ve=ot=>ze.get(ot),Te=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],ue=new Map;function Ae(ot,Ge){if(!(ot instanceof IDBDatabase)||Ge in ot||"string"!=typeof Ge)return;if(ue.get(Ge))return ue.get(Ge);const vt=Ge.replace(/FromIndex$/,""),qt=Ge!==vt,Nn=Je.includes(vt);if(!(vt in(qt?IDBIndex:IDBObjectStore).prototype)||!Nn&&!Te.includes(vt))return;const te=function(){var ye=(0,p.A)(function*(we,...Qe){const st=this.transaction(we,Nn?"readwrite":"readonly");let xt=st.store;return qt&&(xt=xt.index(Qe.shift())),(yield Promise.all([xt[vt](...Qe),Nn&&st.done]))[0]});return function(Qe){return ye.apply(this,arguments)}}();return ue.set(Ge,te),te}!function pt(ot){dt=ot(dt)}(ot=>({...ot,get:(Ge,vt,qt)=>Ae(Ge,vt)||ot.get(Ge,vt,qt),has:(Ge,vt)=>!!Ae(Ge,vt)||ot.has(Ge,vt)}));class mt{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(vt=>{if(function Ee(ot){const Ge=ot.getComponent();return"VERSION"===Ge?.type}(vt)){const qt=vt.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(vt=>vt).join(" ")}}const Ht="@firebase/app",In="0.10.0",It=new _.Vy("@firebase/app"),br="[DEFAULT]",Xn={[Ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,hn=new Map,Pr=new Map;function Ye(ot,Ge){try{ot.container.addComponent(Ge)}catch(vt){It.debug(`Component ${Ge.name} failed to register with FirebaseApp ${ot.name}`,vt)}}function tn(ot,Ge){ot.container.addOrOverwriteComponent(Ge)}function Se(ot){const Ge=ot.name;if(Pr.has(Ge))return It.debug(`There were multiple attempts to register component ${Ge}.`),!1;Pr.set(Ge,ot);for(const vt of an.values())Ye(vt,ot);for(const vt of hn.values())Ye(vt,ot);return!0}function Be(ot,Ge){const vt=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return vt&&vt.triggerHeartbeat(),ot.container.getProvider(Ge)}function et(ot,Ge,vt=br){Be(ot,Ge).clearInstance(vt)}function Et(ot){return void 0!==ot.options}function Wn(ot){return void 0!==ot.settings}function nn(){Pr.clear()}const An=new ge.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class or{constructor(Ge,vt,qt){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},vt),this._name=vt.name,this._automaticDataCollectionEnabled=vt.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new F.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}class Dr extends or{constructor(Ge,vt,qt,Nn){const te=void 0!==vt.automaticDataCollectionEnabled&&vt.automaticDataCollectionEnabled,ye={name:qt,automaticDataCollectionEnabled:te};super(void 0!==Ge.apiKey?Ge:Ge.options,ye,Nn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:te},vt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,vt.releaseOnDeref=void 0,ae(Ht,In,"serverapp")}get refCount(){return this._refCount}incRefCount(Ge){this.isDeleted||(this._refCount++,void 0!==Ge&&this._finalizationRegistry.register(Ge,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){me(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw An.create("server-app-deleted")}}const zr="10.10.0";function ui(ot,Ge={}){let vt=ot;"object"!=typeof Ge&&(Ge={name:Ge});const qt=Object.assign({name:br,automaticDataCollectionEnabled:!1},Ge),Nn=qt.name;if("string"!=typeof Nn||!Nn)throw An.create("bad-app-name",{appName:String(Nn)});if(vt||(vt=(0,ge.T9)()),!vt)throw An.create("no-options");const te=an.get(Nn);if(te){if((0,ge.bD)(vt,te.options)&&(0,ge.bD)(qt,te.config))return te;throw An.create("duplicate-app",{appName:Nn})}const ye=new F.h1(Nn);for(const Qe of Pr.values())ye.addComponent(Qe);const we=new or(vt,qt,ye);return an.set(Nn,we),we}function ei(ot,Ge){if((0,ge.Bd)())throw An.create("invalid-server-app-environment");let vt;void 0===Ge.automaticDataCollectionEnabled&&(Ge.automaticDataCollectionEnabled=!1),vt=Et(ot)?ot.options:ot;const qt=Object.assign(Object.assign({},Ge),vt);if(void 0!==qt.releaseOnDeref&&delete qt.releaseOnDeref,void 0!==Ge.releaseOnDeref&&typeof FinalizationRegistry>"u")throw An.create("finalization-registry-not-supported",{});const te=""+(st=JSON.stringify(qt),[...st].reduce((xt,Ut)=>Math.imul(31,xt)+Ut.charCodeAt(0)|0,0)),ye=hn.get(te);var st;if(ye)return ye.incRefCount(Ge.releaseOnDeref),ye;const we=new F.h1(te);for(const st of Pr.values())we.addComponent(st);const Qe=new Dr(vt,Ge,te,we);return hn.set(te,Qe),Qe}function Fe(ot=br){const Ge=an.get(ot);if(!Ge&&ot===br&&(0,ge.T9)())return ui();if(!Ge)throw An.create("no-app",{appName:ot});return Ge}function Ke(){return Array.from(an.values())}function me(ot){return xe.apply(this,arguments)}function xe(){return(xe=(0,p.A)(function*(ot){let Ge=!1;const vt=ot.name;an.has(vt)?(Ge=!0,an.delete(vt)):hn.has(vt)&&ot.decRefCount()<=0&&(hn.delete(vt),Ge=!0),Ge&&(yield Promise.all(ot.container.getProviders().map(qt=>qt.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function ae(ot,Ge,vt){var qt;let Nn=null!==(qt=Xn[ot])&&void 0!==qt?qt:ot;vt&&(Nn+=`-${vt}`);const te=Nn.match(/\s|\//),ye=Ge.match(/\s|\//);if(te||ye){const we=[`Unable to register library "${Nn}" with version "${Ge}":`];return te&&we.push(`library name "${Nn}" contains illegal characters (whitespace or "/")`),te&&ye&&we.push("and"),ye&&we.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void It.warn(we.join(" "))}Se(new F.uA(`${Nn}-version`,()=>({library:Nn,version:Ge}),"VERSION"))}function fe(ot,Ge){if(null!==ot&&"function"!=typeof ot)throw An.create("invalid-log-argument");(0,_.Ey)(ot,Ge)}function Y(ot){(0,_.He)(ot)}const re="firebase-heartbeat-database",X=1,ke="firebase-heartbeat-store";let _t=null;function $t(){return _t||(_t=function be(ot,Ge,{blocked:vt,upgrade:qt,blocking:Nn,terminated:te}={}){const ye=indexedDB.open(ot,Ge),we=je(ye);return qt&&ye.addEventListener("upgradeneeded",Qe=>{qt(je(ye.result),Qe.oldVersion,Qe.newVersion,je(ye.transaction),Qe)}),vt&&ye.addEventListener("blocked",Qe=>vt(Qe.oldVersion,Qe.newVersion,Qe)),we.then(Qe=>{te&&Qe.addEventListener("close",()=>te()),Nn&&Qe.addEventListener("versionchange",st=>Nn(st.oldVersion,st.newVersion,st))}).catch(()=>{}),we}(re,X,{upgrade:(ot,Ge)=>{if(0===Ge)try{ot.createObjectStore(ke)}catch(vt){console.warn(vt)}}}).catch(ot=>{throw An.create("idb-open",{originalErrorMessage:ot.message})})),_t}function $n(){return($n=(0,p.A)(function*(ot){try{const vt=(yield $t()).transaction(ke),qt=yield vt.objectStore(ke).get(en(ot));return yield vt.done,qt}catch(Ge){if(Ge instanceof ge.g)It.warn(Ge.message);else{const vt=An.create("idb-get",{originalErrorMessage:Ge?.message});It.warn(vt.message)}}})).apply(this,arguments)}function cr(ot,Ge){return fn.apply(this,arguments)}function fn(){return(fn=(0,p.A)(function*(ot,Ge){try{const qt=(yield $t()).transaction(ke,"readwrite");yield qt.objectStore(ke).put(Ge,en(ot)),yield qt.done}catch(vt){if(vt instanceof ge.g)It.warn(vt.message);else{const qt=An.create("idb-set",{originalErrorMessage:vt?.message});It.warn(qt.message)}}})).apply(this,arguments)}function en(ot){return`${ot.name}!${ot.options.appId}`}class ji{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const vt=this.container.getProvider("app").getImmediate();this._storage=new sr(vt),this._heartbeatsCachePromise=this._storage.read().then(qt=>(this._heartbeatsCache=qt,qt))}triggerHeartbeat(){var Ge=this;return(0,p.A)(function*(){var vt,qt;const te=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ye=Fr();if((null!=(null===(vt=Ge._heartbeatsCache)||void 0===vt?void 0:vt.heartbeats)||(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise,null!=(null===(qt=Ge._heartbeatsCache)||void 0===qt?void 0:qt.heartbeats)))&&Ge._heartbeatsCache.lastSentHeartbeatDate!==ye&&!Ge._heartbeatsCache.heartbeats.some(we=>we.date===ye))return Ge._heartbeatsCache.heartbeats.push({date:ye,agent:te}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(we=>{const Qe=new Date(we.date).valueOf();return Date.now()-Qe<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,p.A)(function*(){var vt;if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null==(null===(vt=Ge._heartbeatsCache)||void 0===vt?void 0:vt.heartbeats)||0===Ge._heartbeatsCache.heartbeats.length)return"";const qt=Fr(),{heartbeatsToSend:Nn,unsentEntries:te}=function Sr(ot,Ge=1024){const vt=[];let qt=ot.slice();for(const Nn of ot){const te=vt.find(ye=>ye.agent===Nn.agent);if(te){if(te.dates.push(Nn.date),Qi(vt)>Ge){te.dates.pop();break}}else if(vt.push({agent:Nn.agent,dates:[Nn.date]}),Qi(vt)>Ge){vt.pop();break}qt=qt.slice(1)}return{heartbeatsToSend:vt,unsentEntries:qt}}(Ge._heartbeatsCache.heartbeats),ye=(0,ge.Uj)(JSON.stringify({version:2,heartbeats:Nn}));return Ge._heartbeatsCache.lastSentHeartbeatDate=qt,te.length>0?(Ge._heartbeatsCache.heartbeats=te,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),ye})()}}function Fr(){return(new Date).toISOString().substring(0,10)}class sr{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.A)(function*(){return!!(0,ge.zW)()&&(0,ge.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,p.A)(function*(){if(yield Ge._canUseIndexedDBPromise){const qt=yield function Vn(ot){return $n.apply(this,arguments)}(Ge.app);return qt?.heartbeats?qt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ge){var vt=this;return(0,p.A)(function*(){var qt;if(yield vt._canUseIndexedDBPromise){const te=yield vt.read();return cr(vt.app,{lastSentHeartbeatDate:null!==(qt=Ge.lastSentHeartbeatDate)&&void 0!==qt?qt:te.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var vt=this;return(0,p.A)(function*(){var qt;if(yield vt._canUseIndexedDBPromise){const te=yield vt.read();return cr(vt.app,{lastSentHeartbeatDate:null!==(qt=Ge.lastSentHeartbeatDate)&&void 0!==qt?qt:te.lastSentHeartbeatDate,heartbeats:[...te.heartbeats,...Ge.heartbeats]})}})()}}function Qi(ot){return(0,ge.Uj)(JSON.stringify({version:2,heartbeats:ot})).length}!function Xi(ot){Se(new F.uA("platform-logger",Ge=>new mt(Ge),"PRIVATE")),Se(new F.uA("heartbeat",Ge=>new ji(Ge),"PRIVATE")),ae(Ht,In,ot),ae(Ht,In,"esm2017"),ae("fire-js","")}("")},1362:(Qt,We,L)=>{L.d(We,{h1:()=>oe,uA:()=>_});var p=L(467),F=L(1076);class _{constructor(ne,le,De){this.name=ne,this.instanceFactory=le,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ge="[DEFAULT]";class V{constructor(ne,le){this.name=ne,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const le=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(le)){const De=new F.cY;if(this.instancesDeferred.set(le,De),this.isInitialized(le)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:le});$e&&De.resolve($e)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ne){var le;const De=this.normalizeInstanceIdentifier(ne?.identifier),$e=null!==(le=ne?.optional)&&void 0!==le&&le;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(ze){if($e)return null;throw ze}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function W(de){return"EAGER"===de.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[le,De]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(le);try{const ze=this.getOrInitializeService({instanceIdentifier:$e});De.resolve(ze)}catch{}}}}clearInstance(ne=ge){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,p.A)(function*(){const le=Array.from(ne.instances.values());yield Promise.all([...le.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...le.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ge){return this.instances.has(ne)}getOptions(ne=ge){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:le={}}=ne,De=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:De,options:le});for(const[ze,yt]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(ze)&&yt.resolve($e);return $e}onInit(ne,le){var De;const $e=this.normalizeInstanceIdentifier(le),ze=null!==(De=this.onInitCallbacks.get($e))&&void 0!==De?De:new Set;ze.add(ne),this.onInitCallbacks.set($e,ze);const yt=this.instances.get($e);return yt&&ne(yt,$e),()=>{ze.delete(ne)}}invokeOnInitCallbacks(ne,le){const De=this.onInitCallbacks.get(le);if(De)for(const $e of De)try{$e(ne,le)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:le={}}){let De=this.instances.get(ne);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(de=ne,de===ge?void 0:de),options:le}),this.instances.set(ne,De),this.instancesOptions.set(ne,le),this.invokeOnInitCallbacks(De,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,De)}catch{}var de;return De||null}normalizeInstanceIdentifier(ne=ge){return this.component?this.component.multipleInstances?ne:ge:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const le=this.getProvider(ne.name);if(le.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);le.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const le=new V(ne,this);return this.providers.set(ne,le),le}getProviders(){return Array.from(this.providers.values())}}},8041:(Qt,We,L)=>{L.d(We,{$b:()=>F,Ey:()=>de,He:()=>oe,Vy:()=>W});const p=[];var F=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(F||{});const _={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ge=F.INFO,V={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Q=(ne,le,...De)=>{if(le<ne.logLevel)return;const $e=(new Date).toISOString(),ze=V[le];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[ze](`[${$e}]  ${ne.name}:`,...De)};class W{constructor(le){this.name=le,this._logLevel=ge,this._logHandler=Q,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in F))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?_[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...le),this._logHandler(this,F.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...le),this._logHandler(this,F.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,F.INFO,...le),this._logHandler(this,F.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,F.WARN,...le),this._logHandler(this,F.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...le),this._logHandler(this,F.ERROR,...le)}}function oe(ne){p.forEach(le=>{le.setLogLevel(ne)})}function de(ne,le){for(const De of p){let $e=null;le&&le.level&&($e=_[le.level]),De.userLogHandler=null===ne?null:(ze,yt,...At)=>{const dt=At.map(pt=>{if(null==pt)return null;if("string"==typeof pt)return pt;if("number"==typeof pt||"boolean"==typeof pt)return pt.toString();if(pt instanceof Error)return pt.message;try{return JSON.stringify(pt)}catch{return null}}).filter(pt=>pt).join(" ");yt>=($e??ze.logLevel)&&ne({level:F[yt].toLowerCase(),message:dt,args:At,type:ze.name})}}}},7935:(Qt,We,L)=>{L.d(We,{A:()=>p.A});var p=L(3345);p.A.registerVersion("firebase","10.10.0","app-compat")},2438:(Qt,We,L)=>{L.r(We);var p=L(467),F=L(3345),_=L(5845),ge=L(1076),W=(L(7852),L(8041),L(1362));function oe(){return window}function le(){return le=(0,p.A)(function*(Y,re,X){var ke;const{BuildInfo:_t}=oe();(0,_.au)(re.sessionId,"AuthEvent did not contain a session ID");const $t=yield function pt(Y){return Ft.apply(this,arguments)}(re.sessionId),Vn={};return(0,_.av)()?Vn.ibi=_t.packageName:(0,_.aw)()?Vn.apn=_t.packageName:(0,_.ax)(Y,"operation-not-supported-in-this-environment"),_t.displayName&&(Vn.appDisplayName=_t.displayName),Vn.sessionId=$t,(0,_.ay)(Y,X,re.type,void 0,null!==(ke=re.eventId)&&void 0!==ke?ke:void 0,Vn)}),le.apply(this,arguments)}function $e(){return($e=(0,p.A)(function*(Y){const{BuildInfo:re}=oe(),X={};(0,_.av)()?X.iosBundleId=re.packageName:(0,_.aw)()?X.androidPackageName=re.packageName:(0,_.ax)(Y,"operation-not-supported-in-this-environment"),yield(0,_.az)(Y,X)})).apply(this,arguments)}function At(){return(At=(0,p.A)(function*(Y,re,X){const{cordova:ke}=oe();let _t=()=>{};try{yield new Promise(($t,Vn)=>{let $n=null;function cr(){var Yn;$t();const Lr=null===(Yn=ke.plugins.browsertab)||void 0===Yn?void 0:Yn.close;"function"==typeof Lr&&Lr(),"function"==typeof X?.close&&X.close()}function fn(){$n||($n=window.setTimeout(()=>{Vn((0,_.aB)(Y,"redirect-cancelled-by-user"))},2e3))}function en(){"visible"===document?.visibilityState&&fn()}re.addPassiveListener(cr),document.addEventListener("resume",fn,!1),(0,_.aw)()&&document.addEventListener("visibilitychange",en,!1),_t=()=>{re.removePassiveListener(cr),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",en,!1),$n&&window.clearTimeout($n)}})}finally{_t()}})).apply(this,arguments)}function Ft(){return(Ft=(0,p.A)(function*(Y){const re=function Vt(Y){if((0,_.au)(/[0-9a-zA-Z]+/.test(Y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Y);const re=new ArrayBuffer(Y.length),X=new Uint8Array(re);for(let ke=0;ke<Y.length;ke++)X[ke]=Y.charCodeAt(ke);return X}(Y),X=yield crypto.subtle.digest("SHA-256",re);return Array.from(new Uint8Array(X)).map(_t=>_t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ve extends _.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(re=>{this.resolveInialized=re})}addPassiveListener(re){this.passiveListeners.add(re)}removePassiveListener(re){this.passiveListeners.delete(re)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(re){return this.resolveInialized(),this.passiveListeners.forEach(X=>X(re)),super.onEvent(re)}initialized(){var re=this;return(0,p.A)(function*(){yield re.initPromise})()}}function Te(Y){return Je.apply(this,arguments)}function Je(){return(Je=(0,p.A)(function*(Y){const re=yield mt()._get(Ee(Y));return re&&(yield mt()._remove(Ee(Y))),re})).apply(this,arguments)}function Ae(){const Y=[];for(let X=0;X<20;X++){const ke=Math.floor(62*Math.random());Y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ke))}return Y.join("")}function mt(){return(0,_.aE)(_.b)}function Ee(Y){return(0,_.aF)("authEvent",Y.config.apiKey,Y.name)}function It(Y){if(!Y?.includes("?"))return{};const[re,...X]=Y.split("?");return(0,ge.I9)(X.join("?"))}const Pe=class bt{constructor(){this._redirectPersistence=_.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_.aG,this._overrideRedirectResult=_.aH}_initialize(re){var X=this;return(0,p.A)(function*(){const ke=re._key();let _t=X.eventManagers.get(ke);return _t||(_t=new Ve(re),X.eventManagers.set(ke,_t),X.attachCallbackListeners(re,_t)),_t})()}_openPopup(re){(0,_.ax)(re,"operation-not-supported-in-this-environment")}_openRedirect(re,X,ke,_t){var $t=this;return(0,p.A)(function*(){!function dt(Y){var re,X,ke,_t,$t,Vn,$n,cr,fn,en;const Yn=oe();(0,_.aC)("function"==typeof(null===(re=Yn?.universalLinks)||void 0===re?void 0:re.subscribe),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,_.aC)(typeof(null===(X=Yn?.BuildInfo)||void 0===X?void 0:X.packageName)<"u",Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,_.aC)("function"==typeof(null===($t=null===(_t=null===(ke=Yn?.cordova)||void 0===ke?void 0:ke.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===$t?void 0:$t.openUrl),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aC)("function"==typeof(null===(cr=null===($n=null===(Vn=Yn?.cordova)||void 0===Vn?void 0:Vn.plugins)||void 0===$n?void 0:$n.browsertab)||void 0===cr?void 0:cr.isAvailable),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aC)("function"==typeof(null===(en=null===(fn=Yn?.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===en?void 0:en.open),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(re);const Vn=yield $t._initialize(re);yield Vn.initialized(),Vn.resetRedirect(),(0,_.aI)(),yield $t._originValidation(re);const $n=function be(Y,re,X=null){return{type:re,eventId:X,urlResponse:null,sessionId:Ae(),postBody:null,tenantId:Y.tenantId,error:(0,_.aB)(Y,"no-auth-event")}}(re,ke,_t);yield function ve(Y,re){return mt()._set(Ee(Y),re)}(re,$n);const cr=yield function ne(Y,re,X){return le.apply(this,arguments)}(re,$n,X),fn=yield function ze(Y){const{cordova:re}=oe();return new Promise(X=>{re.plugins.browsertab.isAvailable(ke=>{let _t=null;ke?re.plugins.browsertab.openUrl(Y):_t=re.InAppBrowser.open(Y,(0,_.aA)()?"_blank":"_system","location=yes"),X(_t)})})}(cr);return function yt(Y,re,X){return At.apply(this,arguments)}(re,Vn,fn)})()}_isIframeWebStorageSupported(re,X){throw new Error("Method not implemented.")}_originValidation(re){const X=re._key();return this.originValidationPromises[X]||(this.originValidationPromises[X]=function De(Y){return $e.apply(this,arguments)}(re)),this.originValidationPromises[X]}attachCallbackListeners(re,X){const{universalLinks:ke,handleOpenURL:_t,BuildInfo:$t}=oe(),Vn=setTimeout((0,p.A)(function*(){yield Te(re),X.onEvent(He())}),500),$n=function(){var en=(0,p.A)(function*(Yn){clearTimeout(Vn);const Lr=yield Te(re);let ji=null;Lr&&Yn?.url&&(ji=function ue(Y,re){var X,ke;const _t=function In(Y){const re=It(Y),X=re.link?decodeURIComponent(re.link):void 0,ke=It(X).link,_t=re.deep_link_id?decodeURIComponent(re.deep_link_id):void 0;return It(_t).link||_t||ke||X||Y}(re);if(_t.includes("/__/auth/callback")){const $t=It(_t),Vn=$t.firebaseError?function Ht(Y){try{return JSON.parse(Y)}catch{return null}}(decodeURIComponent($t.firebaseError)):null,$n=null===(ke=null===(X=Vn?.code)||void 0===X?void 0:X.split("auth/"))||void 0===ke?void 0:ke[1],cr=$n?(0,_.aB)($n):null;return cr?{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,error:cr,urlResponse:null,sessionId:null,postBody:null}:{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,sessionId:Y.sessionId,urlResponse:_t,postBody:null}}return null}(Lr,Yn.url)),X.onEvent(ji||He())});return function(Lr){return en.apply(this,arguments)}}();typeof ke<"u"&&"function"==typeof ke.subscribe&&ke.subscribe(null,$n);const cr=_t,fn=`${$t.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var en=(0,p.A)(function*(Yn){if(Yn.toLowerCase().startsWith(fn)&&$n({url:Yn}),"function"==typeof cr)try{cr(Yn)}catch(Lr){console.error(Lr)}});return function(Yn){return en.apply(this,arguments)}}()}};function He(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,_.aB)("no-auth-event")}}function Pt(){var Y;return(null===(Y=self?.location)||void 0===Y?void 0:Y.protocol)||null}function sn(Y=(0,ge.ZQ)()){return!("file:"!==Pt()&&"ionic:"!==Pt()&&"capacitor:"!==Pt()||!Y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gn(){try{const Y=self.localStorage,re=_.aN();if(Y)return Y.setItem(re,"1"),Y.removeItem(re),!function Mn(Y=(0,ge.ZQ)()){return function dn(){return(0,ge.lT)()&&11===document?.documentMode}()||function bn(Y=(0,ge.ZQ)()){return/Edge\/\d+/.test(Y)}(Y)}()||(0,ge.zW)()}catch{return Kn()&&(0,ge.zW)()}return!1}function Kn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function Gt(){return"http:"===Pt()||"https:"===Pt()}()||(0,ge.sr)()||sn())&&!function Mt(){return(0,ge.lV)()||(0,ge.Ll)()}()&&Gn()&&!Kn()}function Jt(){return sn()&&typeof document<"u"}function Nt(){return(Nt=(0,p.A)(function*(){return!!Jt()&&new Promise(Y=>{const re=setTimeout(()=>{Y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(re),Y(!0)})})})).apply(this,arguments)}const jn={LOCAL:"local",NONE:"none",SESSION:"session"},Er=_.aC,Ar="persistence";function Xn(Y){return an.apply(this,arguments)}function an(){return(an=(0,p.A)(function*(Y){yield Y._initializationPromise;const re=Pr(),X=_.aF(Ar,Y.config.apiKey,Y.name);re&&re.setItem(X,Y._getPersistence())})).apply(this,arguments)}function Pr(){var Y;try{return(null===(Y=function xn(){return typeof window<"u"?window:null}())||void 0===Y?void 0:Y.sessionStorage)||null}catch{return null}}const Ye=_.aC;class tn{constructor(){this.browserResolver=_.aE(_.k),this.cordovaResolver=_.aE(Pe),this.underlyingResolver=null,this._redirectPersistence=_.a,this._completeRedirectFn=_.aG,this._overrideRedirectResult=_.aH}_initialize(re){var X=this;return(0,p.A)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._initialize(re)})()}_openPopup(re,X,ke,_t){var $t=this;return(0,p.A)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openPopup(re,X,ke,_t)})()}_openRedirect(re,X,ke,_t){var $t=this;return(0,p.A)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openRedirect(re,X,ke,_t)})()}_isIframeWebStorageSupported(re,X){this.assertedUnderlyingResolver._isIframeWebStorageSupported(re,X)}_originValidation(re){return this.assertedUnderlyingResolver._originValidation(re)}get _shouldInitProactively(){return Jt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ye(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var re=this;return(0,p.A)(function*(){if(re.underlyingResolver)return;const X=yield function ir(){return Nt.apply(this,arguments)}();re.underlyingResolver=X?re.cordovaResolver:re.browserResolver})()}}function Se(Y){return Y.unwrap()}function et(Y){return Wn(Y)}function Wn(Y){const{_tokenResponse:re}=Y instanceof ge.g?Y.customData:Y;if(!re)return null;if(!(Y instanceof ge.g)&&"temporaryProof"in re&&"phoneNumber"in re)return _.P.credentialFromResult(Y);const X=re.providerId;if(!X||X===_.p.PASSWORD)return null;let ke;switch(X){case _.p.GOOGLE:ke=_.X;break;case _.p.FACEBOOK:ke=_.W;break;case _.p.GITHUB:ke=_.Y;break;case _.p.TWITTER:ke=_.$;break;default:const{oauthIdToken:_t,oauthAccessToken:$t,oauthTokenSecret:Vn,pendingToken:$n,nonce:cr}=re;return $t||Vn||_t||$n?$n?X.startsWith("saml.")?_.aQ._create(X,$n):_.N._fromParams({providerId:X,signInMethod:X,pendingToken:$n,idToken:_t,accessToken:$t}):new _.Z(X).credential({idToken:_t,accessToken:$t,rawNonce:cr}):null}return Y instanceof ge.g?ke.credentialFromError(Y):ke.credentialFromResult(Y)}function nn(Y,re){return re.catch(X=>{throw X instanceof ge.g&&function Et(Y,re){var X;const ke=null===(X=re.customData)||void 0===X?void 0:X._tokenResponse;if("auth/multi-factor-auth-required"===re?.code)re.resolver=new or(Y,_.as(Y,re));else if(ke){const _t=Wn(re),$t=re;_t&&($t.credential=_t,$t.tenantId=ke.tenantId||void 0,$t.email=ke.email||void 0,$t.phoneNumber=ke.phoneNumber||void 0)}}(Y,X),X}).then(X=>{const _t=X.user;return{operationType:X.operationType,credential:et(X),additionalUserInfo:_.aq(X),user:Dr.getOrCreate(_t)}})}function On(Y,re){return An.apply(this,arguments)}function An(){return(An=(0,p.A)(function*(Y,re){const X=yield re;return{verificationId:X.verificationId,confirm:ke=>nn(Y,X.confirm(ke))}})).apply(this,arguments)}class or{constructor(re,X){this.resolver=X,this.auth=function Be(Y){return Y.wrapped()}(re)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(re){return nn(Se(this.auth),this.resolver.resolveSignIn(re))}}class Dr{constructor(re){this._delegate=re,this.multiFactor=_.at(re)}static getOrCreate(re){return Dr.USER_MAP.has(re)||Dr.USER_MAP.set(re,new Dr(re)),Dr.USER_MAP.get(re)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(re){return this._delegate.getIdTokenResult(re)}getIdToken(re){return this._delegate.getIdToken(re)}linkAndRetrieveDataWithCredential(re){return this.linkWithCredential(re)}linkWithCredential(re){var X=this;return(0,p.A)(function*(){return nn(X.auth,_.a2(X._delegate,re))})()}linkWithPhoneNumber(re,X){var ke=this;return(0,p.A)(function*(){return On(ke.auth,_.l(ke._delegate,re,X))})()}linkWithPopup(re){var X=this;return(0,p.A)(function*(){return nn(X.auth,_.d(X._delegate,re,tn))})()}linkWithRedirect(re){var X=this;return(0,p.A)(function*(){return yield Xn(_.aJ(X.auth)),_.g(X._delegate,re,tn)})()}reauthenticateAndRetrieveDataWithCredential(re){return this.reauthenticateWithCredential(re)}reauthenticateWithCredential(re){var X=this;return(0,p.A)(function*(){return nn(X.auth,_.a3(X._delegate,re))})()}reauthenticateWithPhoneNumber(re,X){return On(this.auth,_.r(this._delegate,re,X))}reauthenticateWithPopup(re){return nn(this.auth,_.e(this._delegate,re,tn))}reauthenticateWithRedirect(re){var X=this;return(0,p.A)(function*(){return yield Xn(_.aJ(X.auth)),_.h(X._delegate,re,tn)})()}sendEmailVerification(re){return _.ag(this._delegate,re)}unlink(re){var X=this;return(0,p.A)(function*(){return yield _.ap(X._delegate,re),X})()}updateEmail(re){return _.al(this._delegate,re)}updatePassword(re){return _.am(this._delegate,re)}updatePhoneNumber(re){return _.u(this._delegate,re)}updateProfile(re){return _.ak(this._delegate,re)}verifyBeforeUpdateEmail(re,X){return _.ah(this._delegate,re,X)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dr.USER_MAP=new WeakMap;const zr=_.aC;let ui=(()=>{class Y{constructor(X,ke){if(this.app=X,ke.isInitialized())return this._delegate=ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_t}=X.options;zr(_t,"invalid-api-key",{appName:X.name}),zr(_t,"invalid-api-key",{appName:X.name});const $t=typeof window<"u"?tn:void 0;this._delegate=ke.initialize({options:{persistence:Fe(_t,X.name),popupRedirectResolver:$t}}),this._delegate._updateErrorMap(_.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(X){this._delegate.languageCode=X}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(X){this._delegate.tenantId=X}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(X,ke){_.K(this._delegate,X,ke)}applyActionCode(X){return _.a7(this._delegate,X)}checkActionCode(X){return _.a8(this._delegate,X)}confirmPasswordReset(X,ke){return _.a6(this._delegate,X,ke)}createUserWithEmailAndPassword(X,ke){var _t=this;return(0,p.A)(function*(){return nn(_t._delegate,_.aa(_t._delegate,X,ke))})()}fetchProvidersForEmail(X){return this.fetchSignInMethodsForEmail(X)}fetchSignInMethodsForEmail(X){return _.af(this._delegate,X)}isSignInWithEmailLink(X){return _.ad(this._delegate,X)}getRedirectResult(){var X=this;return(0,p.A)(function*(){zr(Bn(),X._delegate,"operation-not-supported-in-this-environment");const ke=yield _.j(X._delegate,tn);return ke?nn(X._delegate,Promise.resolve(ke)):{credential:null,user:null}})()}addFrameworkForLogging(X){!function ct(Y,re){(0,_.aJ)(Y)._logFramework(re)}(this._delegate,X)}onAuthStateChanged(X,ke,_t){const{next:$t,error:Vn,complete:$n}=ei(X,ke,_t);return this._delegate.onAuthStateChanged($t,Vn,$n)}onIdTokenChanged(X,ke,_t){const{next:$t,error:Vn,complete:$n}=ei(X,ke,_t);return this._delegate.onIdTokenChanged($t,Vn,$n)}sendSignInLinkToEmail(X,ke){return _.ac(this._delegate,X,ke)}sendPasswordResetEmail(X,ke){return _.a5(this._delegate,X,ke||void 0)}setPersistence(X){var ke=this;return(0,p.A)(function*(){let _t;switch(function br(Y,re){Er(Object.values(jn).includes(re),Y,"invalid-persistence-type"),(0,ge.lV)()?Er(re!==jn.SESSION,Y,"unsupported-persistence-type"):(0,ge.Ll)()?Er(re===jn.NONE,Y,"unsupported-persistence-type"):Kn()?Er(re===jn.NONE||re===jn.LOCAL&&(0,ge.zW)(),Y,"unsupported-persistence-type"):Er(re===jn.NONE||Gn(),Y,"unsupported-persistence-type")}(ke._delegate,X),X){case jn.SESSION:_t=_.a;break;case jn.LOCAL:_t=(yield _.aE(_.i)._isAvailable())?_.i:_.b;break;case jn.NONE:_t=_.U;break;default:return _.ax("argument-error",{appName:ke._delegate.name})}return ke._delegate.setPersistence(_t)})()}signInAndRetrieveDataWithCredential(X){return this.signInWithCredential(X)}signInAnonymously(){return nn(this._delegate,_.a0(this._delegate))}signInWithCredential(X){return nn(this._delegate,_.a1(this._delegate,X))}signInWithCustomToken(X){return nn(this._delegate,_.a4(this._delegate,X))}signInWithEmailAndPassword(X,ke){return nn(this._delegate,_.ab(this._delegate,X,ke))}signInWithEmailLink(X,ke){return nn(this._delegate,_.ae(this._delegate,X,ke))}signInWithPhoneNumber(X,ke){return On(this._delegate,_.s(this._delegate,X,ke))}signInWithPopup(X){var ke=this;return(0,p.A)(function*(){return zr(Bn(),ke._delegate,"operation-not-supported-in-this-environment"),nn(ke._delegate,_.c(ke._delegate,X,tn))})()}signInWithRedirect(X){var ke=this;return(0,p.A)(function*(){return zr(Bn(),ke._delegate,"operation-not-supported-in-this-environment"),yield Xn(ke._delegate),_.f(ke._delegate,X,tn)})()}updateCurrentUser(X){return this._delegate.updateCurrentUser(X)}verifyPasswordResetCode(X){return _.a9(this._delegate,X)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Y.Persistence=jn,Y})();function ei(Y,re,X){let ke=Y;"function"!=typeof Y&&({next:ke,error:re,complete:X}=Y);const _t=ke;return{next:Vn=>_t(Vn&&Dr.getOrCreate(Vn)),error:re,complete:X}}function Fe(Y,re){const X=function hn(Y,re){const X=Pr();if(!X)return[];const ke=_.aF(Ar,Y,re);switch(X.getItem(ke)){case jn.NONE:return[_.U];case jn.LOCAL:return[_.i,_.a];case jn.SESSION:return[_.a];default:return[]}}(Y,re);if(typeof self<"u"&&!X.includes(_.i)&&X.push(_.i),typeof window<"u")for(const ke of[_.b,_.a])X.includes(ke)||X.push(ke);return X.includes(_.U)||X.push(_.U),X}class Ke{constructor(){this.providerId="phone",this._delegate=new _.P(Se(F.A.auth()))}static credential(re,X){return _.P.credential(re,X)}verifyPhoneNumber(re,X){return this._delegate.verifyPhoneNumber(re,X)}unwrap(){return this._delegate}}Ke.PHONE_SIGN_IN_METHOD=_.P.PHONE_SIGN_IN_METHOD,Ke.PROVIDER_ID=_.P.PROVIDER_ID;const me=_.aC;class xe{constructor(re,X,ke=F.A.app()){var _t;me(null===(_t=ke.options)||void 0===_t?void 0:_t.apiKey,"invalid-api-key",{appName:ke.name}),this._delegate=new _.R(ke.auth(),re,X),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fe(Y){Y.INTERNAL.registerComponent(new W.uA("auth-compat",re=>{const X=re.getProvider("app-compat").getImmediate(),ke=re.getProvider("auth");return new ui(X,ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_.A.EMAIL_SIGNIN,PASSWORD_RESET:_.A.PASSWORD_RESET,RECOVER_EMAIL:_.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_.A.VERIFY_EMAIL}},EmailAuthProvider:_.V,FacebookAuthProvider:_.W,GithubAuthProvider:_.Y,GoogleAuthProvider:_.X,OAuthProvider:_.Z,SAMLAuthProvider:_._,PhoneAuthProvider:Ke,PhoneMultiFactorGenerator:_.m,RecaptchaVerifier:xe,TwitterAuthProvider:_.$,Auth:ui,AuthCredential:_.L,Error:ge.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.5.5")}(F.A)},5779:(Qt,We,L)=>{L.d(We,{Ei:()=>dt,Gg:()=>pt,r1:()=>ze,si:()=>De});var p=L(4438),F=L(1413),_=L(177);let oe=(()=>class je{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),De=(()=>{class je{clickSource=new F.B;clickObservable=this.clickSource.asObservable();add(be){be&&this.clickSource.next(be)}static \u0275fac=function(ve){return new(ve||je)};static \u0275prov=p.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})(),ze=(()=>{class je{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[oe.STARTS_WITH,oe.CONTAINS,oe.NOT_CONTAINS,oe.ENDS_WITH,oe.EQUALS,oe.NOT_EQUALS],numeric:[oe.EQUALS,oe.NOT_EQUALS,oe.LESS_THAN,oe.LESS_THAN_OR_EQUAL_TO,oe.GREATER_THAN,oe.GREATER_THAN_OR_EQUAL_TO],date:[oe.DATE_IS,oe.DATE_IS_NOT,oe.DATE_BEFORE,oe.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new F.B;translationObserver=this.translationSource.asObservable();getTranslation(be){return this.translation[be]}setTranslation(be){this.translation={...this.translation,...be},this.translationSource.next(this.translation)}static \u0275fac=function(ve){return new(ve||je)};static \u0275prov=p.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})(),dt=(()=>{class je{template;type;name;constructor(be){this.template=be}getType(){return this.name}static \u0275fac=function(ve){return new(ve||je)(p.rXU(p.C4Q))};static \u0275dir=p.FsC({type:je,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[p.Mj6.None,"pTemplate","name"]}})}return je})(),pt=(()=>{class je{static \u0275fac=function(ve){return new(ve||je)};static \u0275mod=p.$C({type:je});static \u0275inj=p.G2t({imports:[_.MD]})}return je})()},461:(Qt,We,L)=>{L.d(We,{h:()=>ge});var p=L(4438),F=L(4420);const _=["*"];let ge=(()=>{class V{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const W=F.BF.isEmpty(this.label);this.role=W?void 0:"img",this.ariaLabel=W?void 0:this.label,this.ariaHidden=W}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(oe){return new(oe||V)};static \u0275cmp=p.VBU({type:V,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[p.aNF],ngContentSelectors:_,decls:1,vars:0,template:function(oe,de){1&oe&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})}return V})()},2796:(Qt,We,L)=>{L.d(We,{tm:()=>ue});var p=L(177),F=L(4438),_=L(5779),ge=L(461),V=L(4420);let Q=(()=>{class Ae extends ge.h{pathId;ngOnInit(){this.pathId="url(#"+(0,V._Y)()+")"}static \u0275fac=(()=>{let Ee;return function(In){return(Ee||(Ee=F.xGo(Ae)))(In||Ae)}})();static \u0275cmp=F.VBU({type:Ae,selectors:[["SpinnerIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(Ht,In){1&Ht&&(F.qSk(),F.j41(0,"svg",0)(1,"g"),F.nrm(2,"path",1),F.k0s(),F.j41(3,"defs")(4,"clipPath",2),F.nrm(5,"rect",3),F.k0s()()()),2&Ht&&(F.HbH(In.getClassNames()),F.BMQ("aria-label",In.ariaLabel)("aria-hidden",In.ariaHidden)("role",In.role),F.R7$(),F.BMQ("clip-path",In.pathId),F.R7$(3),F.Y8G("id",In.pathId))},encapsulation:2})}return Ae})();var W=L(563);let ue=(()=>{class Ae{static \u0275fac=function(Ht){return new(Ht||Ae)};static \u0275mod=F.$C({type:Ae});static \u0275inj=F.G2t({imports:[p.MD,W.Z,_.Gg,Q,_.Gg]})}return Ae})()},491:(Qt,We,L)=>{L.d(We,{D:()=>At});var p=L(177),F=L(4438),_=L(5779);let At=(()=>{class dt{static \u0275fac=function(Vt){return new(Vt||dt)};static \u0275mod=F.$C({type:dt});static \u0275inj=F.G2t({imports:[p.MD,_.Gg]})}return dt})()},2231:(Qt,We,L)=>{L.d(We,{Sc:()=>je,q4:()=>Ve});var p=L(177),F=L(4438),_=L(4341),ge=L(5779),V=L(461);let Q=(()=>{class be extends V.h{static \u0275fac=(()=>{let Te;return function(ue){return(Te||(Te=F.xGo(be)))(ue||be)}})();static \u0275cmp=F.VBU({type:be,selectors:[["CheckIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(Je,ue){1&Je&&(F.qSk(),F.j41(0,"svg",0),F.nrm(1,"path",1),F.k0s()),2&Je&&(F.HbH(ue.getClassNames()),F.BMQ("aria-label",ue.ariaLabel)("aria-hidden",ue.ariaHidden)("role",ue.role))},encapsulation:2})}return be})();var W=L(4420);const oe=["input"],de=(be,ve,Te)=>({"p-checkbox p-component":!0,"p-checkbox-checked":be,"p-checkbox-disabled":ve,"p-checkbox-focused":Te}),ne=(be,ve,Te)=>({"p-highlight":be,"p-disabled":ve,"p-focus":Te}),le=(be,ve,Te)=>({"p-checkbox-label":!0,"p-checkbox-label-active":be,"p-disabled":ve,"p-checkbox-label-focus":Te});function De(be,ve){if(1&be&&F.nrm(0,"span",10),2&be){const Te=F.XpG(3);F.Y8G("ngClass",Te.checkboxIcon),F.BMQ("data-pc-section","icon")}}function $e(be,ve){1&be&&F.nrm(0,"CheckIcon",11),2&be&&(F.Y8G("styleClass","p-checkbox-icon"),F.BMQ("data-pc-section","icon"))}function ze(be,ve){if(1&be&&(F.qex(0),F.DNE(1,De,1,2,"span",8)(2,$e,1,2,"CheckIcon",9),F.bVm()),2&be){const Te=F.XpG(2);F.R7$(),F.Y8G("ngIf",Te.checkboxIcon),F.R7$(),F.Y8G("ngIf",!Te.checkboxIcon)}}function yt(be,ve){}function At(be,ve){1&be&&F.DNE(0,yt,0,0,"ng-template")}function dt(be,ve){if(1&be&&(F.j41(0,"span",12),F.DNE(1,At,1,0,null,13),F.k0s()),2&be){const Te=F.XpG(2);F.BMQ("data-pc-section","icon"),F.R7$(),F.Y8G("ngTemplateOutlet",Te.checkboxIconTemplate)}}function pt(be,ve){if(1&be&&(F.qex(0),F.DNE(1,ze,3,2,"ng-container",5)(2,dt,2,2,"span",7),F.bVm()),2&be){const Te=F.XpG();F.R7$(),F.Y8G("ngIf",!Te.checkboxIconTemplate),F.R7$(),F.Y8G("ngIf",Te.checkboxIconTemplate)}}function Ft(be,ve){if(1&be){const Te=F.RV6();F.j41(0,"label",14),F.bIt("click",function(ue){F.eBV(Te);const Ae=F.XpG(),mt=F.sdS(3);return F.Njj(Ae.onClick(ue,mt,!0))}),F.EFF(1),F.k0s()}if(2&be){const Te=F.XpG();F.HbH(Te.labelStyleClass),F.Y8G("ngClass",F.sMw(6,le,Te.checked(),Te.disabled,Te.focused)),F.BMQ("for",Te.inputId)("data-pc-section","label"),F.R7$(),F.SpI(" ",Te.label,"")}}const Vt={provide:_.kq,useExisting:(0,F.Rfq)(()=>je),multi:!0};let je=(()=>{class be{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new F.bkB;onFocus=new F.bkB;onBlur=new F.bkB;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(Te){this.cd=Te}ngAfterContentInit(){this.templates.forEach(Te=>{"icon"===Te.getType()&&(this.checkboxIconTemplate=Te.template)})}onClick(Te,Je,ue){Te.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(Te),ue&&Je.focus())}updateModel(Te){let Je;this.binary?(Je=this.checked()?this.falseValue:this.trueValue,this.model=Je,this.onModelChange(Je)):(Je=this.checked()?this.model.filter(ue=>!W.BF.equals(ue,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(Je),this.model=Je,this.formControl&&this.formControl.setValue(Je)),this.onChange.emit({checked:Je,originalEvent:Te})}handleChange(Te){this.readonly||this.updateModel(Te)}onInputFocus(Te){this.focused=!0,this.onFocus.emit(Te)}onInputBlur(Te){this.focused=!1,this.onBlur.emit(Te),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(Te){this.model=Te,this.cd.markForCheck()}registerOnChange(Te){this.onModelChange=Te}registerOnTouched(Te){this.onModelTouched=Te}setDisabledState(Te){setTimeout(()=>{this.disabled=Te,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:W.BF.contains(this.value,this.model)}static \u0275fac=function(Je){return new(Je||be)(F.rXU(F.gRc))};static \u0275cmp=F.VBU({type:be,selectors:[["p-checkbox"]],contentQueries:function(Je,ue,Ae){if(1&Je&&F.wni(Ae,ge.Ei,4),2&Je){let mt;F.mGM(mt=F.lsd())&&(ue.templates=mt)}},viewQuery:function(Je,ue){if(1&Je&&F.GBs(oe,5),2&Je){let Ae;F.mGM(Ae=F.lsd())&&(ue.inputViewChild=Ae.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[F.Jv_([Vt])],decls:7,vars:35,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"change","focus","blur","value","checked","disabled","readonly"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(Je,ue){if(1&Je){const Ae=F.RV6();F.j41(0,"div",1)(1,"div",2)(2,"input",3,0),F.bIt("change",function(Ee){return F.eBV(Ae),F.Njj(ue.handleChange(Ee))})("focus",function(Ee){return F.eBV(Ae),F.Njj(ue.onInputFocus(Ee))})("blur",function(Ee){return F.eBV(Ae),F.Njj(ue.onInputBlur(Ee))}),F.k0s()(),F.j41(4,"div",4),F.bIt("click",function(Ee){F.eBV(Ae);const Ht=F.sdS(3);return F.Njj(ue.onClick(Ee,Ht,!0))}),F.DNE(5,pt,3,2,"ng-container",5),F.k0s()(),F.DNE(6,Ft,2,10,"label",6)}2&Je&&(F.HbH(ue.styleClass),F.Y8G("ngStyle",ue.style)("ngClass",F.sMw(27,de,ue.checked(),ue.disabled,ue.focused)),F.BMQ("data-pc-name","checkbox")("data-pc-section","root"),F.R7$(),F.BMQ("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),F.R7$(),F.Y8G("value",ue.value)("checked",ue.checked())("disabled",ue.disabled)("readonly",ue.readonly),F.BMQ("id",ue.inputId)("name",ue.name)("tabindex",ue.tabindex)("required",ue.required)("aria-labelledby",ue.ariaLabelledBy)("aria-label",ue.ariaLabel)("aria-checked",ue.checked())("data-pc-section","hiddenInput"),F.R7$(2),F.Y8G("ngClass",F.sMw(31,ne,ue.checked(),ue.disabled,ue.focused)),F.BMQ("data-p-highlight",ue.checked())("data-p-disabled",ue.disabled)("data-p-focused",ue.focused)("data-pc-section","input"),F.R7$(),F.Y8G("ngIf",ue.checked()),F.R7$(),F.Y8G("ngIf",ue.label))},dependencies:()=>[p.YU,p.bT,p.T3,p.B3,Q],styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return be})(),Ve=(()=>{class be{static \u0275fac=function(Je){return new(Je||be)};static \u0275mod=F.$C({type:be});static \u0275inj=F.G2t({imports:[p.MD,Q,ge.Gg]})}return be})()},1455:(Qt,We,L)=>{L.d(We,{D:()=>p,b:()=>F});let p=(()=>{class _{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(V,Q){V&&Q&&(V.classList?V.classList.add(Q):V.className+=" "+Q)}static addMultipleClasses(V,Q){if(V&&Q)if(V.classList){let W=Q.trim().split(" ");for(let oe=0;oe<W.length;oe++)V.classList.add(W[oe])}else{let W=Q.split(" ");for(let oe=0;oe<W.length;oe++)V.className+=" "+W[oe]}}static removeClass(V,Q){V&&Q&&(V.classList?V.classList.remove(Q):V.className=V.className.replace(new RegExp("(^|\\b)"+Q.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(V,Q){V&&Q&&[Q].flat().filter(Boolean).forEach(W=>W.split(" ").forEach(oe=>this.removeClass(V,oe)))}static hasClass(V,Q){return!(!V||!Q)&&(V.classList?V.classList.contains(Q):new RegExp("(^| )"+Q+"( |$)","gi").test(V.className))}static siblings(V){return Array.prototype.filter.call(V.parentNode.children,function(Q){return Q!==V})}static find(V,Q){return Array.from(V.querySelectorAll(Q))}static findSingle(V,Q){return this.isElement(V)?V.querySelector(Q):null}static index(V){let Q=V.parentNode.childNodes,W=0;for(var oe=0;oe<Q.length;oe++){if(Q[oe]==V)return W;1==Q[oe].nodeType&&W++}return-1}static indexWithinGroup(V,Q){let W=V.parentNode?V.parentNode.childNodes:[],oe=0;for(var de=0;de<W.length;de++){if(W[de]==V)return oe;W[de].attributes&&W[de].attributes[Q]&&1==W[de].nodeType&&oe++}return-1}static appendOverlay(V,Q,W="self"){"self"!==W&&V&&Q&&this.appendChild(V,Q)}static alignOverlay(V,Q,W="self",oe=!0){V&&Q&&(oe&&(V.style.minWidth=`${_.getOuterWidth(Q)}px`),"self"===W?this.relativePosition(V,Q):this.absolutePosition(V,Q))}static relativePosition(V,Q){const W=Vt=>{if(Vt)return"relative"===getComputedStyle(Vt).getPropertyValue("position")?Vt:W(Vt.parentElement)},oe=V.offsetParent?{width:V.offsetWidth,height:V.offsetHeight}:this.getHiddenElementDimensions(V),de=Q.offsetHeight,ne=Q.getBoundingClientRect(),le=this.getWindowScrollTop(),De=this.getWindowScrollLeft(),$e=this.getViewport(),yt=W(V)?.getBoundingClientRect()||{top:-1*le,left:-1*De};let At,dt;ne.top+de+oe.height>$e.height?(At=ne.top-yt.top-oe.height,V.style.transformOrigin="bottom",ne.top+At<0&&(At=-1*ne.top)):(At=de+ne.top-yt.top,V.style.transformOrigin="top");const pt=ne.left+oe.width-$e.width;dt=oe.width>$e.width?-1*(ne.left-yt.left):pt>0?ne.left-yt.left-pt:ne.left-yt.left,V.style.top=At+"px",V.style.left=dt+"px"}static absolutePosition(V,Q){const W=V.offsetParent?{width:V.offsetWidth,height:V.offsetHeight}:this.getHiddenElementDimensions(V),oe=W.height,de=W.width,ne=Q.offsetHeight,le=Q.offsetWidth,De=Q.getBoundingClientRect(),$e=this.getWindowScrollTop(),ze=this.getWindowScrollLeft(),yt=this.getViewport();let At,dt;De.top+ne+oe>yt.height?(At=De.top+$e-oe,V.style.transformOrigin="bottom",At<0&&(At=$e)):(At=ne+De.top+$e,V.style.transformOrigin="top"),dt=De.left+de>yt.width?Math.max(0,De.left+ze+le-de):De.left+ze,V.style.top=At+"px",V.style.left=dt+"px"}static getParents(V,Q=[]){return null===V.parentNode?Q:this.getParents(V.parentNode,Q.concat([V.parentNode]))}static getScrollableParents(V){let Q=[];if(V){let W=this.getParents(V);const oe=/(auto|scroll)/,de=ne=>{let le=window.getComputedStyle(ne,null);return oe.test(le.getPropertyValue("overflow"))||oe.test(le.getPropertyValue("overflowX"))||oe.test(le.getPropertyValue("overflowY"))};for(let ne of W){let le=1===ne.nodeType&&ne.dataset.scrollselectors;if(le){let De=le.split(",");for(let $e of De){let ze=this.findSingle(ne,$e);ze&&de(ze)&&Q.push(ze)}}9!==ne.nodeType&&de(ne)&&Q.push(ne)}}return Q}static getHiddenElementOuterHeight(V){V.style.visibility="hidden",V.style.display="block";let Q=V.offsetHeight;return V.style.display="none",V.style.visibility="visible",Q}static getHiddenElementOuterWidth(V){V.style.visibility="hidden",V.style.display="block";let Q=V.offsetWidth;return V.style.display="none",V.style.visibility="visible",Q}static getHiddenElementDimensions(V){let Q={};return V.style.visibility="hidden",V.style.display="block",Q.width=V.offsetWidth,Q.height=V.offsetHeight,V.style.display="none",V.style.visibility="visible",Q}static scrollInView(V,Q){let W=getComputedStyle(V).getPropertyValue("borderTopWidth"),oe=W?parseFloat(W):0,de=getComputedStyle(V).getPropertyValue("paddingTop"),ne=de?parseFloat(de):0,le=V.getBoundingClientRect(),$e=Q.getBoundingClientRect().top+document.body.scrollTop-(le.top+document.body.scrollTop)-oe-ne,ze=V.scrollTop,yt=V.clientHeight,At=this.getOuterHeight(Q);$e<0?V.scrollTop=ze+$e:$e+At>yt&&(V.scrollTop=ze+$e-yt+At)}static fadeIn(V,Q){V.style.opacity=0;let W=+new Date,oe=0,de=function(){oe=+V.style.opacity.replace(",",".")+((new Date).getTime()-W)/Q,V.style.opacity=oe,W=+new Date,+oe<1&&(window.requestAnimationFrame&&requestAnimationFrame(de)||setTimeout(de,16))};de()}static fadeOut(V,Q){var W=1,ne=50/Q;let le=setInterval(()=>{(W-=ne)<=0&&(W=0,clearInterval(le)),V.style.opacity=W},50)}static getWindowScrollTop(){let V=document.documentElement;return(window.pageYOffset||V.scrollTop)-(V.clientTop||0)}static getWindowScrollLeft(){let V=document.documentElement;return(window.pageXOffset||V.scrollLeft)-(V.clientLeft||0)}static matches(V,Q){var W=Element.prototype;return(W.matches||W.webkitMatchesSelector||W.mozMatchesSelector||W.msMatchesSelector||function(de){return-1!==[].indexOf.call(document.querySelectorAll(de),this)}).call(V,Q)}static getOuterWidth(V,Q){let W=V.offsetWidth;if(Q){let oe=getComputedStyle(V);W+=parseFloat(oe.marginLeft)+parseFloat(oe.marginRight)}return W}static getHorizontalPadding(V){let Q=getComputedStyle(V);return parseFloat(Q.paddingLeft)+parseFloat(Q.paddingRight)}static getHorizontalMargin(V){let Q=getComputedStyle(V);return parseFloat(Q.marginLeft)+parseFloat(Q.marginRight)}static innerWidth(V){let Q=V.offsetWidth,W=getComputedStyle(V);return Q+=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight),Q}static width(V){let Q=V.offsetWidth,W=getComputedStyle(V);return Q-=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight),Q}static getInnerHeight(V){let Q=V.offsetHeight,W=getComputedStyle(V);return Q+=parseFloat(W.paddingTop)+parseFloat(W.paddingBottom),Q}static getOuterHeight(V,Q){let W=V.offsetHeight;if(Q){let oe=getComputedStyle(V);W+=parseFloat(oe.marginTop)+parseFloat(oe.marginBottom)}return W}static getHeight(V){let Q=V.offsetHeight,W=getComputedStyle(V);return Q-=parseFloat(W.paddingTop)+parseFloat(W.paddingBottom)+parseFloat(W.borderTopWidth)+parseFloat(W.borderBottomWidth),Q}static getWidth(V){let Q=V.offsetWidth,W=getComputedStyle(V);return Q-=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight)+parseFloat(W.borderLeftWidth)+parseFloat(W.borderRightWidth),Q}static getViewport(){let V=window,Q=document,W=Q.documentElement,oe=Q.getElementsByTagName("body")[0];return{width:V.innerWidth||W.clientWidth||oe.clientWidth,height:V.innerHeight||W.clientHeight||oe.clientHeight}}static getOffset(V){var Q=V.getBoundingClientRect();return{top:Q.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:Q.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(V,Q){let W=V.parentNode;if(!W)throw"Can't replace element";return W.replaceChild(Q,V)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var V=window.navigator.userAgent;return V.indexOf("MSIE ")>0||(V.indexOf("Trident/")>0?(V.indexOf("rv:"),!0):V.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(V,Q){if(this.isElement(Q))Q.appendChild(V);else{if(!(Q&&Q.el&&Q.el.nativeElement))throw"Cannot append "+Q+" to "+V;Q.el.nativeElement.appendChild(V)}}static removeChild(V,Q){if(this.isElement(Q))Q.removeChild(V);else{if(!Q.el||!Q.el.nativeElement)throw"Cannot remove "+V+" from "+Q;Q.el.nativeElement.removeChild(V)}}static removeElement(V){"remove"in Element.prototype?V.remove():V.parentNode.removeChild(V)}static isElement(V){return"object"==typeof HTMLElement?V instanceof HTMLElement:V&&"object"==typeof V&&null!==V&&1===V.nodeType&&"string"==typeof V.nodeName}static calculateScrollbarWidth(V){if(V){let Q=getComputedStyle(V);return V.offsetWidth-V.clientWidth-parseFloat(Q.borderLeftWidth)-parseFloat(Q.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let Q=document.createElement("div");Q.className="p-scrollbar-measure",document.body.appendChild(Q);let W=Q.offsetWidth-Q.clientWidth;return document.body.removeChild(Q),this.calculatedScrollbarWidth=W,W}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let V=document.createElement("div");V.className="p-scrollbar-measure",document.body.appendChild(V);let Q=V.offsetHeight-V.clientHeight;return document.body.removeChild(V),this.calculatedScrollbarWidth=Q,Q}static invokeElementMethod(V,Q,W){V[Q].apply(V,W)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let V=this.resolveUserAgent();this.browser={},V.browser&&(this.browser[V.browser]=!0,this.browser.version=V.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let V=navigator.userAgent.toLowerCase(),Q=/(chrome)[ \/]([\w.]+)/.exec(V)||/(webkit)[ \/]([\w.]+)/.exec(V)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(V)||/(msie) ([\w.]+)/.exec(V)||V.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(V)||[];return{browser:Q[1]||"",version:Q[2]||"0"}}static isInteger(V){return Number.isInteger?Number.isInteger(V):"number"==typeof V&&isFinite(V)&&Math.floor(V)===V}static isHidden(V){return!V||null===V.offsetParent}static isVisible(V){return V&&null!=V.offsetParent}static isExist(V){return null!==V&&typeof V<"u"&&V.nodeName&&V.parentNode}static focus(V,Q){V&&document.activeElement!==V&&V.focus(Q)}static getFocusableElements(V,Q=""){let W=this.find(V,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q}`),oe=[];for(let de of W){const ne=getComputedStyle(de);this.isVisible(de)&&"none"!=ne.display&&"hidden"!=ne.visibility&&oe.push(de)}return oe}static getFirstFocusableElement(V,Q){const W=this.getFocusableElements(V,Q);return W.length>0?W[0]:null}static getLastFocusableElement(V,Q){const W=this.getFocusableElements(V,Q);return W.length>0?W[W.length-1]:null}static getNextFocusableElement(V,Q=!1){const W=_.getFocusableElements(V);let oe=0;if(W&&W.length>0){const de=W.indexOf(W[0].ownerDocument.activeElement);Q?oe=-1==de||0===de?W.length-1:de-1:-1!=de&&de!==W.length-1&&(oe=de+1)}return W[oe]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(V,Q){if(!V)return null;switch(V){case"document":return document;case"window":return window;case"@next":return Q?.nextElementSibling;case"@prev":return Q?.previousElementSibling;case"@parent":return Q?.parentElement;case"@grandparent":return Q?.parentElement.parentElement;default:const W=typeof V;if("string"===W)return document.querySelector(V);if("object"===W&&V.hasOwnProperty("nativeElement"))return this.isExist(V.nativeElement)?V.nativeElement:void 0;const de=(ne=V)&&ne.constructor&&ne.call&&ne.apply?V():V;return de&&9===de.nodeType||this.isExist(de)?de:null}var ne}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(V,Q){if(V){const W=V.getAttribute(Q);return isNaN(W)?"true"===W||"false"===W?"true"===W:W:+W}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(V="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,V)}static unblockBodyScroll(V="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,V)}}return _})();class F{element;listener;scrollableParents;constructor(ge,V=(()=>{})){this.element=ge,this.listener=V}bindScrollListener(){this.scrollableParents=p.getScrollableParents(this.element);for(let ge=0;ge<this.scrollableParents.length;ge++)this.scrollableParents[ge].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let ge=0;ge<this.scrollableParents.length;ge++)this.scrollableParents[ge].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},2242:(Qt,We,L)=>{L.d(We,{S:()=>ge,u:()=>V});var p=L(4438),F=L(177),_=L(4341);let ge=(()=>{class Q{el;ngModel;cd;filled;constructor(oe,de,ne){this.el=oe,this.ngModel=de,this.cd=ne}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(de){return new(de||Q)(p.rXU(p.aKT),p.rXU(_.vS,8),p.rXU(p.gRc))};static \u0275dir=p.FsC({type:Q,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(de,ne){1&de&&p.bIt("input",function(De){return ne.onInput(De)}),2&de&&p.AVh("p-filled",ne.filled)}})}return Q})(),V=(()=>{class Q{static \u0275fac=function(de){return new(de||Q)};static \u0275mod=p.$C({type:Q});static \u0275inj=p.G2t({imports:[F.MD]})}return Q})()},7617:(Qt,We,L)=>{L.d(We,{N9:()=>Pr});var p=L(177),F=L(4438),_=L(9888),ge=L(5779),V=L(461);let Q=(()=>{class Ye extends V.h{static \u0275fac=(()=>{let Se;return function(et){return(Se||(Se=F.xGo(Ye)))(et||Ye)}})();static \u0275cmp=F.VBU({type:Ye,selectors:[["AngleDownIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(Be,et){1&Be&&(F.qSk(),F.j41(0,"svg",0),F.nrm(1,"path",1),F.k0s()),2&Be&&(F.HbH(et.getClassNames()),F.BMQ("aria-label",et.ariaLabel)("aria-hidden",et.ariaHidden)("role",et.role))},encapsulation:2})}return Ye})(),W=(()=>{class Ye extends V.h{static \u0275fac=(()=>{let Se;return function(et){return(Se||(Se=F.xGo(Ye)))(et||Ye)}})();static \u0275cmp=F.VBU({type:Ye,selectors:[["AngleRightIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(Be,et){1&Be&&(F.qSk(),F.j41(0,"svg",0),F.nrm(1,"path",1),F.k0s()),2&Be&&(F.HbH(et.getClassNames()),F.BMQ("aria-label",et.ariaLabel)("aria-hidden",et.ariaHidden)("role",et.role))},encapsulation:2})}return Ye})(),oe=(()=>{class Ye extends V.h{static \u0275fac=(()=>{let Se;return function(et){return(Se||(Se=F.xGo(Ye)))(et||Ye)}})();static \u0275cmp=F.VBU({type:Ye,selectors:[["BarsIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(Be,et){1&Be&&(F.qSk(),F.j41(0,"svg",0),F.nrm(1,"path",1),F.k0s()),2&Be&&(F.HbH(et.getClassNames()),F.BMQ("aria-label",et.ariaLabel)("aria-hidden",et.ariaHidden)("role",et.role))},encapsulation:2})}return Ye})();var de=L(563);let le=(()=>{class Ye{static \u0275fac=function(Be){return new(Be||Ye)};static \u0275mod=F.$C({type:Ye});static \u0275inj=F.G2t({imports:[p.MD]})}return Ye})(),Pr=(()=>{class Ye{static \u0275fac=function(Be){return new(Be||Ye)};static \u0275mod=F.$C({type:Ye});static \u0275inj=F.G2t({imports:[p.MD,_.iI,de.Z,le,ge.Gg,oe,Q,W,_.iI,le,ge.Gg]})}return Ye})()},5015:(Qt,We,L)=>{L.d(We,{j:()=>Vt,d:()=>je});var p=L(9969),F=L(177),_=L(4438),ge=L(5779),V=L(1455),Q=L(461);let W=(()=>{class Ve extends Q.h{static \u0275fac=(()=>{let ve;return function(Je){return(ve||(ve=_.xGo(Ve)))(Je||Ve)}})();static \u0275cmp=_.VBU({type:Ve,selectors:[["TimesIcon"]],standalone:!0,features:[_.Vt3,_.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(Te,Je){1&Te&&(_.qSk(),_.j41(0,"svg",0),_.nrm(1,"path",1),_.k0s()),2&Te&&(_.HbH(Je.getClassNames()),_.BMQ("aria-label",Je.ariaLabel)("aria-hidden",Je.ariaHidden)("role",Je.role))},encapsulation:2})}return Ve})();var oe=L(563),de=L(4420);const ne=["*"],le=(Ve,be)=>({showTransitionParams:Ve,hideTransitionParams:be}),De=(Ve,be)=>({value:Ve,params:be});function $e(Ve,be){1&Ve&&_.eu8(0)}function ze(Ve,be){1&Ve&&_.nrm(0,"TimesIcon",8),2&Ve&&_.Y8G("styleClass","p-overlaypanel-close-icon")}function yt(Ve,be){}function At(Ve,be){1&Ve&&_.DNE(0,yt,0,0,"ng-template")}function dt(Ve,be){if(1&Ve&&(_.j41(0,"span",9),_.DNE(1,At,1,0,null,3),_.k0s()),2&Ve){const ve=_.XpG(3);_.R7$(),_.Y8G("ngTemplateOutlet",ve.closeIconTemplate)}}function pt(Ve,be){if(1&Ve){const ve=_.RV6();_.j41(0,"button",5),_.bIt("click",function(Je){_.eBV(ve);const ue=_.XpG(2);return _.Njj(ue.onCloseClick(Je))})("keydown.enter",function(){_.eBV(ve);const Je=_.XpG(2);return _.Njj(Je.hide())}),_.DNE(1,ze,1,1,"TimesIcon",6)(2,dt,2,1,"span",7),_.k0s()}if(2&Ve){const ve=_.XpG(2);_.BMQ("aria-label",ve.ariaCloseLabel),_.R7$(),_.Y8G("ngIf",!ve.closeIconTemplate),_.R7$(),_.Y8G("ngIf",ve.closeIconTemplate)}}function Ft(Ve,be){if(1&Ve){const ve=_.RV6();_.j41(0,"div",1),_.bIt("click",function(Je){_.eBV(ve);const ue=_.XpG();return _.Njj(ue.onOverlayClick(Je))})("@animation.start",function(Je){_.eBV(ve);const ue=_.XpG();return _.Njj(ue.onAnimationStart(Je))})("@animation.done",function(Je){_.eBV(ve);const ue=_.XpG();return _.Njj(ue.onAnimationEnd(Je))}),_.j41(1,"div",2),_.bIt("click",function(Je){_.eBV(ve);const ue=_.XpG();return _.Njj(ue.onContentClick(Je))})("mousedown",function(Je){_.eBV(ve);const ue=_.XpG();return _.Njj(ue.onContentClick(Je))}),_.SdG(2),_.DNE(3,$e,1,0,"ng-container",3),_.k0s(),_.DNE(4,pt,3,3,"button",4),_.k0s()}if(2&Ve){const ve=_.XpG();_.HbH(ve.styleClass),_.Y8G("ngClass","p-overlaypanel p-component")("ngStyle",ve.style)("@animation",_.l_i(13,De,ve.overlayVisible?"open":"close",_.l_i(10,le,ve.showTransitionOptions,ve.hideTransitionOptions))),_.BMQ("aria-modal",ve.overlayVisible)("aria-label",ve.ariaLabel)("aria-labelledBy",ve.ariaLabelledBy),_.R7$(3),_.Y8G("ngTemplateOutlet",ve.contentTemplate),_.R7$(),_.Y8G("ngIf",ve.showCloseIcon)}}let Vt=(()=>{class Ve{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new _.bkB;onHide=new _.bkB;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(ve,Te,Je,ue,Ae,mt,Ee,Ht){this.document=ve,this.platformId=Te,this.el=Je,this.renderer=ue,this.cd=Ae,this.zone=mt,this.config=Ee,this.overlayService=Ht}ngAfterContentInit(){this.templates?.forEach(ve=>{switch(ve.getType()){case"content":default:this.contentTemplate=ve.template;break;case"closeicon":this.closeIconTemplate=ve.template}this.cd.markForCheck()})}bindDocumentClickListener(){if((0,F.UE)(this.platformId)&&!this.documentClickListener&&this.dismissable){let ve=V.D.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,ve,Je=>{!this.container?.contains(Je.target)&&this.target!==Je.target&&!this.target.contains(Je.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(ve,Te){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(ve,Te)&&(this.destroyCallback=()=>{this.show(null,Te||ve.currentTarget||ve.target)}),this.hide()):this.show(ve,Te))}show(ve,Te){Te&&ve&&ve.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=Te||ve.currentTarget||ve.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(ve){this.overlayService.add({originalEvent:ve,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(ve){const Te=ve.target;this.selfClick=ve.offsetX<Te.clientWidth&&ve.offsetY<Te.clientHeight}hasTargetChanged(ve,Te){return null!=this.target&&this.target!==(Te||ve.currentTarget||ve.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):V.D.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&de.Q$.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),V.D.absolutePosition(this.container,this.target);const ve=V.D.getOffset(this.container),Te=V.D.getOffset(this.target),Je=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let ue=0;ve.left<Te.left&&(ue=Te.left-ve.left-2*parseFloat(Je)),this.container?.style.setProperty("--overlayArrowLeft",`${ue}px`),ve.top<Te.top&&(V.D.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(ve){"open"===ve.toState&&(this.container=ve.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=Te=>{this.container&&this.container.contains(Te.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(ve){switch(ve.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&de.Q$.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let ve=V.D.findSingle(this.container,"[autofocus]");ve&&this.zone.runOutsideAngular(()=>{setTimeout(()=>ve.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(ve){this.hide(),ve.preventDefault()}onEscapeKeydown(ve){this.hide()}onWindowResize(){this.overlayVisible&&!V.D.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,F.UE)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,F.UE)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new V.b(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&de.Q$.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(Te){return new(Te||Ve)(_.rXU(F.qQ),_.rXU(_.Agw),_.rXU(_.aKT),_.rXU(_.sFG),_.rXU(_.gRc),_.rXU(_.SKi),_.rXU(ge.r1),_.rXU(ge.si))};static \u0275cmp=_.VBU({type:Ve,selectors:[["p-overlayPanel"]],contentQueries:function(Te,Je,ue){if(1&Te&&_.wni(ue,ge.Ei,4),2&Te){let Ae;_.mGM(Ae=_.lsd())&&(Je.templates=Ae)}},hostAttrs:[1,"p-element"],hostBindings:function(Te,Je){1&Te&&_.bIt("keydown.escape",function(Ae){return Je.onEscapeKeydown(Ae)},!1,_.EBC)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:ne,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(Te,Je){1&Te&&(_.NAR(),_.DNE(0,Ft,5,16,"div",0)),2&Te&&_.Y8G("ngIf",Je.render)},dependencies:()=>[F.YU,F.bT,F.T3,F.B3,oe.n,W],styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[(0,p.hZ)("animation",[(0,p.wk)("void",(0,p.iF)({transform:"scaleY(0.8)",opacity:0})),(0,p.wk)("close",(0,p.iF)({opacity:0})),(0,p.wk)("open",(0,p.iF)({transform:"translateY(0)",opacity:1})),(0,p.kY)("void => open",(0,p.i0)("{{showTransitionParams}}")),(0,p.kY)("open => close",(0,p.i0)("{{hideTransitionParams}}"))])]},changeDetection:0})}return Ve})(),je=(()=>{class Ve{static \u0275fac=function(Te){return new(Te||Ve)};static \u0275mod=_.$C({type:Ve});static \u0275inj=_.G2t({imports:[F.MD,oe.Z,ge.Gg,W,ge.Gg]})}return Ve})()},7515:(Qt,We,L)=>{L.d(We,{d:()=>ge,p:()=>_});var p=L(177),F=L(4438);let _=(()=>{class V{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(oe){return new(oe||V)};static \u0275cmp=F.VBU({type:V,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(oe,de){1&oe&&(F.j41(0,"div",0),F.qSk(),F.j41(1,"svg",1),F.nrm(2,"circle",2),F.k0s()()),2&oe&&(F.Y8G("ngStyle",de.style)("ngClass",de.styleClass),F.BMQ("aria-label",de.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),F.R7$(),F.xc7("animation-duration",de.animationDuration),F.BMQ("data-pc-section","root"),F.R7$(),F.BMQ("fill",de.fill)("stroke-width",de.strokeWidth))},dependencies:[p.YU,p.B3],styles:['@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})}return V})(),ge=(()=>{class V{static \u0275fac=function(oe){return new(oe||V)};static \u0275mod=F.$C({type:V});static \u0275inj=F.G2t({imports:[p.MD]})}return V})()},563:(Qt,We,L)=>{L.d(We,{Z:()=>Q,n:()=>V});var p=L(177),F=L(4438),_=L(1455),ge=L(5779);let V=(()=>{class W{document;platformId;renderer;el;zone;config;constructor(de,ne,le,De,$e,ze){this.document=de,this.platformId=ne,this.renderer=le,this.el=De,this.zone=$e,this.config=ze}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,p.UE)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(de){let ne=this.getInk();if(!ne||"none"===this.document.defaultView?.getComputedStyle(ne,null).display)return;if(_.D.removeClass(ne,"p-ink-active"),!_.D.getHeight(ne)&&!_.D.getWidth(ne)){let ze=Math.max(_.D.getOuterWidth(this.el.nativeElement),_.D.getOuterHeight(this.el.nativeElement));ne.style.height=ze+"px",ne.style.width=ze+"px"}let le=_.D.getOffset(this.el.nativeElement),De=de.pageX-le.left+this.document.body.scrollTop-_.D.getWidth(ne)/2,$e=de.pageY-le.top+this.document.body.scrollLeft-_.D.getHeight(ne)/2;this.renderer.setStyle(ne,"top",$e+"px"),this.renderer.setStyle(ne,"left",De+"px"),_.D.addClass(ne,"p-ink-active"),this.timeout=setTimeout(()=>{let ze=this.getInk();ze&&_.D.removeClass(ze,"p-ink-active")},401)}getInk(){const de=this.el.nativeElement.children;for(let ne=0;ne<de.length;ne++)if("string"==typeof de[ne].className&&-1!==de[ne].className.indexOf("p-ink"))return de[ne];return null}resetInk(){let de=this.getInk();de&&_.D.removeClass(de,"p-ink-active")}onAnimationEnd(de){this.timeout&&clearTimeout(this.timeout),_.D.removeClass(de.currentTarget,"p-ink-active")}create(){let de=this.renderer.createElement("span");this.renderer.addClass(de,"p-ink"),this.renderer.appendChild(this.el.nativeElement,de),this.renderer.setAttribute(de,"aria-hidden","true"),this.renderer.setAttribute(de,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(de,"animationend",this.onAnimationEnd.bind(this)))}remove(){let de=this.getInk();de&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,_.D.removeElement(de))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(ne){return new(ne||W)(F.rXU(p.qQ),F.rXU(F.Agw),F.rXU(F.sFG),F.rXU(F.aKT),F.rXU(F.SKi),F.rXU(ge.r1,8))};static \u0275dir=F.FsC({type:W,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return W})(),Q=(()=>{class W{static \u0275fac=function(ne){return new(ne||W)};static \u0275mod=F.$C({type:W});static \u0275inj=F.G2t({imports:[p.MD]})}return W})()},4420:(Qt,We,L)=>{L.d(We,{BF:()=>p,Q$:()=>V,_Y:()=>_});class p{static isArray(W,oe=!0){return Array.isArray(W)&&(oe||0!==W.length)}static isObject(W,oe=!0){return"object"==typeof W&&!Array.isArray(W)&&null!=W&&(oe||0!==Object.keys(W).length)}static equals(W,oe,de){return de?this.resolveFieldData(W,de)===this.resolveFieldData(oe,de):this.equalsByValue(W,oe)}static equalsByValue(W,oe){if(W===oe)return!0;if(W&&oe&&"object"==typeof W&&"object"==typeof oe){var le,De,$e,de=Array.isArray(W),ne=Array.isArray(oe);if(de&&ne){if((De=W.length)!=oe.length)return!1;for(le=De;0!=le--;)if(!this.equalsByValue(W[le],oe[le]))return!1;return!0}if(de!=ne)return!1;var ze=this.isDate(W),yt=this.isDate(oe);if(ze!=yt)return!1;if(ze&&yt)return W.getTime()==oe.getTime();var At=W instanceof RegExp,dt=oe instanceof RegExp;if(At!=dt)return!1;if(At&&dt)return W.toString()==oe.toString();var pt=Object.keys(W);if((De=pt.length)!==Object.keys(oe).length)return!1;for(le=De;0!=le--;)if(!Object.prototype.hasOwnProperty.call(oe,pt[le]))return!1;for(le=De;0!=le--;)if(!this.equalsByValue(W[$e=pt[le]],oe[$e]))return!1;return!0}return W!=W&&oe!=oe}static resolveFieldData(W,oe){if(W&&oe){if(this.isFunction(oe))return oe(W);if(-1==oe.indexOf("."))return W[oe];{let de=oe.split("."),ne=W;for(let le=0,De=de.length;le<De;++le){if(null==ne)return null;ne=ne[de[le]]}return ne}}return null}static isFunction(W){return!!(W&&W.constructor&&W.call&&W.apply)}static reorderArray(W,oe,de){W&&oe!==de&&(de>=W.length&&(de%=W.length,oe%=W.length),W.splice(de,0,W.splice(oe,1)[0]))}static insertIntoOrderedArray(W,oe,de,ne){if(de.length>0){let le=!1;for(let De=0;De<de.length;De++)if(this.findIndexInList(de[De],ne)>oe){de.splice(De,0,W),le=!0;break}le||de.push(W)}else de.push(W)}static findIndexInList(W,oe){let de=-1;if(oe)for(let ne=0;ne<oe.length;ne++)if(oe[ne]==W){de=ne;break}return de}static contains(W,oe){if(null!=W&&oe&&oe.length)for(let de of oe)if(this.equals(W,de))return!0;return!1}static removeAccents(W){return W&&(W=W.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),W}static isDate(W){return"[object Date]"===Object.prototype.toString.call(W)}static isEmpty(W){return null==W||""===W||Array.isArray(W)&&0===W.length||!this.isDate(W)&&"object"==typeof W&&0===Object.keys(W).length}static isNotEmpty(W){return!this.isEmpty(W)}static compare(W,oe,de,ne=1){let le=-1;const De=this.isEmpty(W),$e=this.isEmpty(oe);return le=De&&$e?0:De?ne:$e?-ne:"string"==typeof W&&"string"==typeof oe?W.localeCompare(oe,de,{numeric:!0}):W<oe?-1:W>oe?1:0,le}static sort(W,oe,de=1,ne,le=1){const De=p.compare(W,oe,ne,de);let $e=de;return(p.isEmpty(W)||p.isEmpty(oe))&&($e=1===le?de:le),$e*De}static merge(W,oe){if(null!=W||null!=oe)return null!=W&&"object"!=typeof W||null!=oe&&"object"!=typeof oe?null!=W&&"string"!=typeof W||null!=oe&&"string"!=typeof oe?oe||W:[W||"",oe||""].join(" "):{...W||{},...oe||{}}}static isPrintableCharacter(W=""){return this.isNotEmpty(W)&&1===W.length&&W.match(/\S| /)}static getItemValue(W,...oe){return this.isFunction(W)?W(...oe):W}static findLastIndex(W,oe){let de=-1;if(this.isNotEmpty(W))try{de=W.findLastIndex(oe)}catch{de=W.lastIndexOf([...W].reverse().find(oe))}return de}static findLast(W,oe){let de;if(this.isNotEmpty(W))try{de=W.findLast(oe)}catch{de=[...W].reverse().find(oe)}return de}static deepEquals(W,oe){if(W===oe)return!0;if(W&&oe&&"object"==typeof W&&"object"==typeof oe){var le,De,$e,de=Array.isArray(W),ne=Array.isArray(oe);if(de&&ne){if((De=W.length)!=oe.length)return!1;for(le=De;0!=le--;)if(!this.deepEquals(W[le],oe[le]))return!1;return!0}if(de!=ne)return!1;var ze=W instanceof Date,yt=oe instanceof Date;if(ze!=yt)return!1;if(ze&&yt)return W.getTime()==oe.getTime();var At=W instanceof RegExp,dt=oe instanceof RegExp;if(At!=dt)return!1;if(At&&dt)return W.toString()==oe.toString();var pt=Object.keys(W);if((De=pt.length)!==Object.keys(oe).length)return!1;for(le=De;0!=le--;)if(!Object.prototype.hasOwnProperty.call(oe,pt[le]))return!1;for(le=De;0!=le--;)if(!this.deepEquals(W[$e=pt[le]],oe[$e]))return!1;return!0}return W!=W&&oe!=oe}}var F=0;function _(Q="pn_id_"){return`${Q}${++F}`}var V=function ge(){let Q=[];const ne=le=>le&&parseInt(le.style.zIndex,10)||0;return{get:ne,set:(le,De,$e)=>{De&&(De.style.zIndex=String(((le,De)=>{let $e=Q.length>0?Q[Q.length-1]:{key:le,value:De},ze=$e.value+($e.key===le?0:De)+2;return Q.push({key:le,value:ze}),ze})(le,$e)))},clear:le=>{le&&((le=>{Q=Q.filter(De=>De.value!==le)})(ne(le)),le.style.zIndex="")},getCurrent:()=>Q.length>0?Q[Q.length-1].value:0}}()},467:(Qt,We,L)=>{function p(_,ge,V,Q,W,oe,de){try{var ne=_[oe](de),le=ne.value}catch(De){return void V(De)}ne.done?ge(le):Promise.resolve(le).then(Q,W)}function F(_){return function(){var ge=this,V=arguments;return new Promise(function(Q,W){var oe=_.apply(ge,V);function de(le){p(oe,Q,W,de,ne,"next",le)}function ne(le){p(oe,Q,W,de,ne,"throw",le)}de(void 0)})}}L.d(We,{A:()=>F})},1635:(Qt,We,L)=>{function ge(Pe,He){var ct={};for(var Ze in Pe)Object.prototype.hasOwnProperty.call(Pe,Ze)&&He.indexOf(Ze)<0&&(ct[Ze]=Pe[Ze]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var ht=0;for(Ze=Object.getOwnPropertySymbols(Pe);ht<Ze.length;ht++)He.indexOf(Ze[ht])<0&&Object.prototype.propertyIsEnumerable.call(Pe,Ze[ht])&&(ct[Ze[ht]]=Pe[Ze[ht]])}return ct}function De(Pe,He,ct,Ze){return new(ct||(ct=Promise))(function(qe,Pt){function Gt(dn){try{Mt(Ze.next(dn))}catch(bn){Pt(bn)}}function sn(dn){try{Mt(Ze.throw(dn))}catch(bn){Pt(bn)}}function Mt(dn){dn.done?qe(dn.value):function ht(qe){return qe instanceof ct?qe:new ct(function(Pt){Pt(qe)})}(dn.value).then(Gt,sn)}Mt((Ze=Ze.apply(Pe,He||[])).next())})}function je(Pe){return this instanceof je?(this.v=Pe,this):new je(Pe)}function Ve(Pe,He,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht,Ze=ct.apply(Pe,He||[]),qe=[];return ht={},Pt("next"),Pt("throw"),Pt("return"),ht[Symbol.asyncIterator]=function(){return this},ht;function Pt(Mn){Ze[Mn]&&(ht[Mn]=function(Gn){return new Promise(function(Kn,Bn){qe.push([Mn,Gn,Kn,Bn])>1||Gt(Mn,Gn)})})}function Gt(Mn,Gn){try{!function sn(Mn){Mn.value instanceof je?Promise.resolve(Mn.value.v).then(Mt,dn):bn(qe[0][2],Mn)}(Ze[Mn](Gn))}catch(Kn){bn(qe[0][3],Kn)}}function Mt(Mn){Gt("next",Mn)}function dn(Mn){Gt("throw",Mn)}function bn(Mn,Gn){Mn(Gn),qe.shift(),qe.length&&Gt(qe[0][0],qe[0][1])}}function ve(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,He=Pe[Symbol.asyncIterator];return He?He.call(Pe):(Pe=function At(Pe){var He="function"==typeof Symbol&&Symbol.iterator,ct=He&&Pe[He],Ze=0;if(ct)return ct.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&Ze>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Ze++],done:!Pe}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),ct={},Ze("next"),Ze("throw"),Ze("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function Ze(qe){ct[qe]=Pe[qe]&&function(Pt){return new Promise(function(Gt,sn){!function ht(qe,Pt,Gt,sn){Promise.resolve(sn).then(function(Mt){qe({value:Mt,done:Gt})},Pt)}(Gt,sn,(Pt=Pe[qe](Pt)).done,Pt.value)})}}}L.d(We,{AQ:()=>Ve,N3:()=>je,Tt:()=>ge,sH:()=>De,xN:()=>ve}),"function"==typeof SuppressedError&&SuppressedError}},Qt=>{Qt(Qt.s=2370)}]);