(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{562:(li,er,ct)=>{"use strict";ct.d(er,{$:()=>Po,A:()=>Ie,G:()=>Wt,K:()=>gh,L:()=>Il,N:()=>Fn,P:()=>Hi,R:()=>k_,U:()=>ze,V:()=>wh,W:()=>ki,X:()=>hn,Y:()=>Gt,Z:()=>js,_:()=>xu,a:()=>Nl,a0:()=>Pp,a1:()=>Vu,a2:()=>Op,a3:()=>Np,a4:()=>C_,a5:()=>Mr,a6:()=>Fi,a7:()=>kp,a8:()=>Lp,a9:()=>jn,aA:()=>Ut,aB:()=>ln,aC:()=>Ce,aD:()=>Yu,aE:()=>oe,aF:()=>mt,aG:()=>nd,aH:()=>td,aI:()=>F_,aJ:()=>rr,aN:()=>rs,aQ:()=>ca,aa:()=>K,ab:()=>ke,ac:()=>It,ad:()=>Qn,ae:()=>At,af:()=>da,ag:()=>qs,ah:()=>ha,ak:()=>Uu,al:()=>No,am:()=>Bu,ap:()=>Mp,aq:()=>Er,as:()=>gE,at:()=>Gc,au:()=>Bn,av:()=>Qe,aw:()=>Y,ax:()=>Dt,ay:()=>Bl,az:()=>Ju,b:()=>ga,c:()=>Lh,d:()=>Qp,e:()=>Xc,f:()=>V_,g:()=>Bh,h:()=>ot,i:()=>va,j:()=>Vl,k:()=>xa,l:()=>Nh,m:()=>zo,p:()=>Sn,r:()=>Ws,s:()=>Ia,u:()=>kh});var O=ct(861),C=ct(58),q=ct(534),Ze=ct(879),dn=ct(582),on=ct(537);const Sn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Wt=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},or=function vt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bt=new C.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new Ze.Yd("@firebase/auth");function xn(m,...h){Ct.logLevel<=Ze.in.ERROR&&Ct.error(`Auth (${q.SDK_VERSION}): ${m}`,...h)}function Dt(m,...h){throw Nt(m,...h)}function ln(m,...h){return Nt(m,...h)}function _r(m,h,f){const _=Object.assign(Object.assign({},or()),{[h]:f});return new C.LL("auth","Firebase",_).create(h,{appName:m.name})}function Wn(m,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&Dt(m,"argument-error"),_r(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nt(m,...h){if("string"!=typeof m){const f=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(f,..._)}return bt.create(m,...h)}function Ce(m,h,...f){if(!m)throw Nt(h,...f)}function sn(m){const h="INTERNAL ASSERTION FAILED: "+m;throw xn(h),new Error(h)}function Bn(m,h){m||sn(h)}function ar(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function lr(){return"http:"===Fs()||"https:"===Fs()}function Fs(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Rr{constructor(h,f){this.shortDelay=h,this.longDelay=f,Bn(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,C.uI)()||(0,C.b$)()}get(){return function Vs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lr()||(0,C.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ao(m,h){Bn(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class ee{static initialize(h,f,_){this.fetchImpl=h,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},se=new Rr(3e4,6e4);function ne(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function ge(m,h,f,_){return ce.apply(this,arguments)}function ce(){return(ce=(0,O.Z)(function*(m,h,f,_,E={}){return xe(m,E,(0,O.Z)(function*(){let D={},H={};_&&("GET"===h?H=_:D={body:JSON.stringify(_)});const X=(0,C.xO)(Object.assign({key:m.config.apiKey},H)).slice(1),ve=yield m._getAdditionalHeaders();return ve["Content-Type"]="application/json",m.languageCode&&(ve["X-Firebase-Locale"]=m.languageCode),ee.fetch()(un(m,m.config.apiHost,f,X),Object.assign({method:h,headers:ve,referrerPolicy:"no-referrer"},D))}))})).apply(this,arguments)}function xe(m,h,f){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(m,h,f){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},te),h);try{const E=new yn(m),D=yield Promise.race([f(),E.promise]);E.clearNetworkTimeout();const H=yield D.json();if("needConfirmation"in H)throw Kn(m,"account-exists-with-different-credential",H);if(D.ok&&!("errorMessage"in H))return H;{const X=D.ok?H.errorMessage:H.error.message,[ve,qe]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ve)throw Kn(m,"credential-already-in-use",H);if("EMAIL_EXISTS"===ve)throw Kn(m,"email-already-in-use",H);if("USER_DISABLED"===ve)throw Kn(m,"user-disabled",H);const rt=_[ve]||ve.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw _r(m,rt,qe);Dt(m,rt)}}catch(E){if(E instanceof C.ZR)throw E;Dt(m,"network-request-failed",{message:String(E)})}})).apply(this,arguments)}function Ne(m,h,f,_){return Je.apply(this,arguments)}function Je(){return(Je=(0,O.Z)(function*(m,h,f,_,E={}){const D=yield ge(m,h,f,_,E);return"mfaPendingCredential"in D&&Dt(m,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function un(m,h,f,_){const E=`${h}${f}?${_}`;return m.config.emulator?ao(m.config,E):`${m.config.apiScheme}://${E}`}function Pn(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(ln(this.auth,"network-request-failed")),se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(m,h,f){const _={appName:m.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const E=ln(m,h,_);return E.customData._tokenResponse=f,E}function Tn(m){return void 0!==m&&void 0!==m.getResponse}function tr(m){return void 0!==m&&void 0!==m.enterprise}class Jr{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===h)return Pn(f.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function ps(){return(ps=(0,O.Z)(function*(m){return(yield ge(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function lo(m,h){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(m,h){return ge(m,"GET","/v2/recaptchaConfig",ne(m,h))})).apply(this,arguments)}function xi(){return(xi=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Us(){return(Us=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function es(){return(es=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Xr(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function mn(){return(mn=(0,O.Z)(function*(m,h=!1){const f=(0,C.m9)(m),_=yield f.getIdToken(h),E=nr(_);Ce(E&&E.exp&&E.auth_time&&E.iat,f.auth,"internal-error");const D="object"==typeof E.firebase?E.firebase:void 0,H=D?.sign_in_provider;return{claims:E,token:_,authTime:Xr(Ii(E.auth_time)),issuedAtTime:Xr(Ii(E.iat)),expirationTime:Xr(Ii(E.exp)),signInProvider:H||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function Ii(m){return 1e3*Number(m)}function nr(m){const[h,f,_]=m.split(".");if(void 0===h||void 0===f||void 0===_)return xn("JWT malformed, contained fewer than 3 sections"),null;try{const E=(0,C.tV)(f);return E?JSON.parse(E):(xn("Failed to decode base64 JWT payload"),null)}catch(E){return xn("Caught error parsing JWT payload as JSON",E?.toString()),null}}function Hn(m,h){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,O.Z)(function*(m,h,f=!1){if(f)return h;try{return yield h}catch(_){throw _ instanceof C.ZR&&function gs({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}class ms{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const E=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,E)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,O.Z)(function*(){yield f.iteration()}),_)}iteration(){var h=this;return(0,O.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class Bs{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ur(m){return Br.apply(this,arguments)}function Br(){return Br=(0,O.Z)(function*(m){var h;const f=m.auth,_=yield m.getIdToken(),E=yield Hn(m,function Pr(m,h){return es.apply(this,arguments)}(f,{idToken:_}));Ce(E?.users.length,f,"internal-error");const D=E.users[0];m._notifyReloadListener(D);const H=null!==(h=D.providerUserInfo)&&void 0!==h&&h.length?function la(m){return m.map(h=>{var{providerId:f}=h,_=(0,dn._T)(h,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(D.providerUserInfo):[],X=function vl(m,h){return[...m.filter(_=>!h.some(E=>E.providerId===_.providerId)),...h]}(m.providerData,H),rt=!!m.isAnonymous&&!(m.email&&D.passwordHash||X?.length),Mt={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:X,metadata:new Bs(D.createdAt,D.lastLoginAt),isAnonymous:rt};Object.assign(m,Mt)}),Br.apply(this,arguments)}function Mi(){return(Mi=(0,O.Z)(function*(m){const h=(0,C.m9)(m);yield Ur(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function uo(){return(uo=(0,O.Z)(function*(m,h){const f=yield xe(m,{},(0,O.Z)(function*(){const _=(0,C.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:E,apiKey:D}=m.config,H=un(m,E,"/v1/token",`key=${D}`),X=yield m._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",ee.fetch()(H,{method:"POST",headers:X,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function F(){return(F=(0,O.Z)(function*(m,h){return ge(m,"POST","/v2/accounts:revokeToken",ne(m,h))})).apply(this,arguments)}class A{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ce(h.idToken,"internal-error"),Ce(typeof h.idToken<"u","internal-error"),Ce(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function qa(m){const h=nr(m);return Ce(h,"internal-error"),Ce(typeof h.exp<"u","internal-error"),Ce(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var _=this;return(0,O.Z)(function*(){return Ce(!_.accessToken||_.refreshToken,h,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var _=this;return(0,O.Z)(function*(){const{accessToken:E,refreshToken:D,expiresIn:H}=yield function Ga(m,h){return uo.apply(this,arguments)}(h,f);_.updateTokensAndExpiration(E,D,Number(H))})()}updateTokensAndExpiration(h,f,_){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,f){const{refreshToken:_,accessToken:E,expirationTime:D}=f,H=new A;return _&&(Ce("string"==typeof _,"internal-error",{appName:h}),H.refreshToken=_),E&&(Ce("string"==typeof E,"internal-error",{appName:h}),H.accessToken=E),D&&(Ce("number"==typeof D,"internal-error",{appName:h}),H.expirationTime=D),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new A,this.toJSON())}_performRefresh(){return sn("not implemented")}}function x(m,h){Ce("string"==typeof m||typeof m>"u","internal-error",{appName:h})}class b{constructor(h){var{uid:f,auth:_,stsTokenManager:E}=h,D=(0,dn._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ms(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=E,this.accessToken=E.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new Bs(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,O.Z)(function*(){const _=yield Hn(f,f.stsTokenManager.getToken(f.auth,h));return Ce(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(h){return function Vr(m){return mn.apply(this,arguments)}(this,h)}reload(){return function ui(m){return Mi.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new b(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var _=this;return(0,O.Z)(function*(){let E=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),E=!0),f&&(yield Ur(_)),yield _.auth._persistUserIfCurrent(_),E&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,O.Z)(function*(){const f=yield h.getIdToken();return yield Hn(h,function xr(m,h){return xi.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var _,E,D,H,X,ve,qe,rt;const Mt=null!==(_=f.displayName)&&void 0!==_?_:void 0,mi=null!==(E=f.email)&&void 0!==E?E:void 0,vo=null!==(D=f.phoneNumber)&&void 0!==D?D:void 0,od=null!==(H=f.photoURL)&&void 0!==H?H:void 0,ql=null!==(X=f.tenantId)&&void 0!==X?X:void 0,Wo=null!==(ve=f._redirectEventId)&&void 0!==ve?ve:void 0,og=null!==(qe=f.createdAt)&&void 0!==qe?qe:void 0,Zs=null!==(rt=f.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:Gl,emailVerified:Pa,isAnonymous:ad,providerData:Nr,stsTokenManager:el}=f;Ce(Gl&&el,h,"internal-error");const Ue=A.fromJSON(this.name,el);Ce("string"==typeof Gl,h,"internal-error"),x(Mt,h.name),x(mi,h.name),Ce("boolean"==typeof Pa,h,"internal-error"),Ce("boolean"==typeof ad,h,"internal-error"),x(vo,h.name),x(od,h.name),x(ql,h.name),x(Wo,h.name),x(og,h.name),x(Zs,h.name);const Ma=new b({uid:Gl,auth:h,email:mi,emailVerified:Pa,displayName:Mt,isAnonymous:ad,photoURL:od,phoneNumber:vo,tenantId:ql,stsTokenManager:Ue,createdAt:og,lastLoginAt:Zs});return Nr&&Array.isArray(Nr)&&(Ma.providerData=Nr.map(tf=>Object.assign({},tf))),Wo&&(Ma._redirectEventId=Wo),Ma}static _fromIdTokenResponse(h,f,_=!1){return(0,O.Z)(function*(){const E=new A;E.updateFromServerResponse(f);const D=new b({uid:f.localId,auth:h,stsTokenManager:E,isAnonymous:_});return yield Ur(D),D})()}}const V=new Map;function oe(m){Bn(m instanceof Function,"Expected a class definition");let h=V.get(m);return h?(Bn(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,V.set(m,h),h)}const ze=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(f,_){var E=this;return(0,O.Z)(function*(){E.storage[f]=_})()}_get(f){var _=this;return(0,O.Z)(function*(){const E=_.storage[f];return void 0===E?null:E})()}_remove(f){var _=this;return(0,O.Z)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return m.type="NONE",m})();function mt(m,h,f){return`firebase:${m}:${h}:${f}`}class cn{constructor(h,f,_){this.persistence=h,this.auth=f,this.userKey=_;const{config:E,name:D}=this.auth;this.fullUserKey=mt(this.userKey,E.apiKey,D),this.fullPersistenceKey=mt("persistence",E.apiKey,D),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,O.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?b._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,O.Z)(function*(){if(f.persistence===h)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,_="authUser"){return(0,O.Z)(function*(){if(!f.length)return new cn(oe(ze),h,_);const E=(yield Promise.all(f.map(function(){var qe=(0,O.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let D=E[0]||oe(ze);const H=mt(_,h.config.apiKey,h.name);let X=null;for(const qe of f)try{const rt=yield qe._get(H);if(rt){const Mt=b._fromJSON(h,rt);qe!==D&&(X=Mt),D=qe;break}}catch{}const ve=E.filter(qe=>qe._shouldAllowMigration);return D._shouldAllowMigration&&ve.length?(D=ve[0],X&&(yield D._set(H,X.toJSON())),yield Promise.all(f.map(function(){var qe=(0,O.Z)(function*(rt){if(rt!==D)try{yield rt._remove(H)}catch{}});return function(rt){return qe.apply(this,arguments)}}())),new cn(D,h,_)):new cn(D,h,_)})()}}function Ve(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ua(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(An(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(j(h))return"Blackberry";if(we(h))return"Webos";if(Xe(h))return"Safari";if((h.includes("chrome/")||qr(h))&&!h.includes("edge/"))return"Chrome";if(Y(h))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function An(m=(0,C.z$)()){return/firefox\//i.test(m)}function Xe(m=(0,C.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function qr(m=(0,C.z$)()){return/crios\//i.test(m)}function ua(m=(0,C.z$)()){return/iemobile/i.test(m)}function Y(m=(0,C.z$)()){return/android/i.test(m)}function j(m=(0,C.z$)()){return/blackberry/i.test(m)}function we(m=(0,C.z$)()){return/webos/i.test(m)}function Qe(m=(0,C.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Ut(m=(0,C.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function yr(m=(0,C.z$)()){return Qe(m)||Y(m)||we(m)||j(m)||/windows phone/i.test(m)||ua(m)}function Zt(m,h=[]){let f;switch(m){case"Browser":f=Ve((0,C.z$)());break;case"Worker":f=`${Ve((0,C.z$)())}-${m}`;break;default:f=m}const _=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${q.SDK_VERSION}/${_}`}class Eu{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const _=D=>new Promise((H,X)=>{try{H(h(D))}catch(ve){X(ve)}});_.onAbort=f,this.queue.push(_);const E=this.queue.length-1;return()=>{this.queue[E]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,O.Z)(function*(){if(f.auth.currentUser===h)return;const _=[];try{for(const E of f.queue)yield E(h),E.onAbort&&_.push(E.onAbort)}catch(E){_.reverse();for(const D of _)try{D()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:E?.message})}})()}}function Pc(){return(Pc=(0,O.Z)(function*(m,h={}){return ge(m,"GET","/v2/passwordPolicy",ne(m,h))})).apply(this,arguments)}class Oi{constructor(h){var f,_,E,D;const H=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=H.minPasswordLength)&&void 0!==f?f:6,H.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=H.maxPasswordLength),void 0!==H.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=H.containsLowercaseCharacter),void 0!==H.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=H.containsUppercaseCharacter),void 0!==H.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=H.containsNumericCharacter),void 0!==H.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=H.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(E=null===(_=h.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==E?E:"",this.forceUpgradeOnSignin=null!==(D=h.forceUpgradeOnSignin)&&void 0!==D&&D,this.schemaVersion=h.schemaVersion}validatePassword(h){var f,_,E,D,H,X;const ve={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,ve),this.validatePasswordCharacterOptions(h,ve),ve.isValid&&(ve.isValid=null===(f=ve.meetsMinPasswordLength)||void 0===f||f),ve.isValid&&(ve.isValid=null===(_=ve.meetsMaxPasswordLength)||void 0===_||_),ve.isValid&&(ve.isValid=null===(E=ve.containsLowercaseLetter)||void 0===E||E),ve.isValid&&(ve.isValid=null===(D=ve.containsUppercaseLetter)||void 0===D||D),ve.isValid&&(ve.isValid=null===(H=ve.containsNumericCharacter)||void 0===H||H),ve.isValid&&(ve.isValid=null===(X=ve.containsNonAlphanumericCharacter)||void 0===X||X),ve}validatePasswordLengthOptions(h,f){const _=this.customStrengthOptions.minPasswordLength,E=this.customStrengthOptions.maxPasswordLength;_&&(f.meetsMinPasswordLength=h.length>=_),E&&(f.meetsMaxPasswordLength=h.length<=E)}validatePasswordCharacterOptions(h,f){let _;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let E=0;E<h.length;E++)_=h.charAt(E),this.updatePasswordCharacterOptionsStatuses(f,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(h,f,_,E,D){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=E)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=D))}}class uE{constructor(h,f,_,E){this.app=h,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new Eu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(h,f){var _=this;return f&&(this._popupRedirectResolver=oe(f)),this._initializationPromise=this.queue((0,O.Z)(function*(){var E,D;if(!_._deleted&&(_.persistenceManager=yield cn.create(_,h),!_._deleted)){if(null!==(E=_._popupRedirectResolver)&&void 0!==E&&E._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(D=_.currentUser)||void 0===D?void 0:D.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,O.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,O.Z)(function*(){var _;const E=yield f.assertedPersistence.getCurrentUser();let D=E,H=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const X=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,ve=D?._redirectEventId,qe=yield f.tryRedirectSignIn(h);(!X||X===ve)&&qe?.user&&(D=qe.user,H=!0)}if(!D)return f.directlySetCurrentUser(null);if(!D._redirectEventId){if(H)try{yield f.beforeStateQueue.runMiddleware(D)}catch(X){D=E,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(X))}return D?f.reloadAndSetCurrentUserOrClear(D):f.directlySetCurrentUser(null)}return Ce(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===D._redirectEventId?f.directlySetCurrentUser(D):f.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(h){var f=this;return(0,O.Z)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,O.Z)(function*(){try{yield Ur(h)}catch(_){if("auth/network-request-failed"!==_?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function St(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,O.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,O.Z)(function*(){const _=h?(0,C.m9)(h):null;return _&&Ce(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(h,f=!1){var _=this;return(0,O.Z)(function*(){if(!_._deleted)return h&&Ce(_.tenantId===h.tenantId,_,"tenant-id-mismatch"),f||(yield _.beforeStateQueue.runMiddleware(h)),_.queue((0,O.Z)(function*(){yield _.directlySetCurrentUser(h),_.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,O.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,O.Z)(function*(){yield f.assertedPersistence.setPersistence(oe(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var f=this;return(0,O.Z)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const _=f._getPasswordPolicyInternal();return _.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,O.Z)(function*(){const f=yield function lE(m){return Pc.apply(this,arguments)}(h),_=new Oi(f);null===h.tenantId?h._projectPasswordPolicy=_:h._tenantPasswordPolicies[h.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new C.LL("auth","Firebase",h())}onAuthStateChanged(h,f,_){return this.registerStateListener(this.authStateSubscription,h,f,_)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,_){return this.registerStateListener(this.idTokenSubscription,h,f,_)}authStateReady(){return new Promise((h,f)=>{if(this.currentUser)h();else{const _=this.onAuthStateChanged(()=>{_(),h()},f)}})}revokeAccessToken(h){var f=this;return(0,O.Z)(function*(){if(f.currentUser){const _=yield f.currentUser.getIdToken(),E={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:_};null!=f.tenantId&&(E.tenantId=f.tenantId),yield function U(m,h){return F.apply(this,arguments)}(f,E)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var _=this;return(0,O.Z)(function*(){const E=yield _.getOrInitRedirectPersistenceManager(f);return null===h?E.removeCurrentUser():E.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,O.Z)(function*(){if(!f.redirectPersistenceManager){const _=h&&oe(h)||f._popupRedirectResolver;Ce(_,f,"argument-error"),f.redirectPersistenceManager=yield cn.create(f,[oe(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,O.Z)(function*(){var _,E;return f._isInitialized&&(yield f.queue((0,O.Z)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===h?f._currentUser:(null===(E=f.redirectUser)||void 0===E?void 0:E._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,O.Z)(function*(){if(h===f.currentUser)return f.queue((0,O.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,_,E){if(this._deleted)return()=>{};const D="function"==typeof f?f:f.next.bind(f);let H=!1;const X=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(X,this,"internal-error"),X.then(()=>{H||D(this.currentUser)}),"function"==typeof f){const ve=h.addObserver(f,_,E);return()=>{H=!0,ve()}}{const ve=h.addObserver(f);return()=>{H=!0,ve()}}}directlySetCurrentUser(h){var f=this;return(0,O.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,O.Z)(function*(){var f;const _={"X-Client-Version":h.clientVersion};h.app.options.appId&&(_["X-Firebase-gmpid"]=h.app.options.appId);const E=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();E&&(_["X-Firebase-Client"]=E);const D=yield h._getAppCheckToken();return D&&(_["X-Firebase-AppCheck"]=D),_})()}_getAppCheckToken(){var h=this;return(0,O.Z)(function*(){var f;const _=yield null===(f=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return _?.error&&function Rn(m,...h){Ct.logLevel<=Ze.in.WARN&&Ct.warn(`Auth (${q.SDK_VERSION}): ${m}`,...h)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function rr(m){return(0,C.m9)(m)}class I_{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,C.ne)(f=>this.observer=f)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fh(m){return new Promise((h,f)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=h,_.onerror=E=>{const D=ln("internal-error");D.customData=E,f(D)},_.type="text/javascript",_.charset="UTF-8",function Wa(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(_)})}function Ep(m){return`__${m}${Math.floor(1e6*Math.random())}`}class Tp{constructor(h){this.type="recaptcha-enterprise",this.auth=rr(h)}verify(h="verify",f=!1){var _=this;return(0,O.Z)(function*(){function D(){return D=(0,O.Z)(function*(X){if(!f){if(null==X.tenantId&&null!=X._agentRecaptchaConfig)return X._agentRecaptchaConfig.siteKey;if(null!=X.tenantId&&void 0!==X._tenantRecaptchaConfigs[X.tenantId])return X._tenantRecaptchaConfigs[X.tenantId].siteKey}return new Promise(function(){var ve=(0,O.Z)(function*(qe,rt){lo(X,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Mt=>{if(void 0!==Mt.recaptchaKey){const mi=new Jr(Mt);return null==X.tenantId?X._agentRecaptchaConfig=mi:X._tenantRecaptchaConfigs[X.tenantId]=mi,qe(mi.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Mt=>{rt(Mt)})});return function(qe,rt){return ve.apply(this,arguments)}}())}),D.apply(this,arguments)}function H(X,ve,qe){const rt=window.grecaptcha;tr(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(X,{action:h}).then(Mt=>{ve(Mt)}).catch(()=>{ve("NO_RECAPTCHA")})}):qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((X,ve)=>{(function E(X){return D.apply(this,arguments)})(_.auth).then(qe=>{if(!f&&tr(window.grecaptcha))H(qe,X,ve);else{if(typeof window>"u")return void ve(new Error("RecaptchaVerifier is only supported in browser"));fh("https://www.google.com/recaptcha/enterprise.js?render="+qe).then(()=>{H(qe,X,ve)}).catch(rt=>{ve(rt)})}}).catch(qe=>{ve(qe)})})})()}}function wu(m,h,f){return ph.apply(this,arguments)}function ph(){return(ph=(0,O.Z)(function*(m,h,f,_=!1){const E=new Tp(m);let D;try{D=yield E.verify(f)}catch{D=yield E.verify(f,!0)}const H=Object.assign({},h);return Object.assign(H,_?{captchaResp:D}:{captchaResponse:D}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}function ci(m,h,f,_){return gt.apply(this,arguments)}function gt(){return gt=(0,O.Z)(function*(m,h,f,_){var E;if(null!==(E=m._getRecaptchaConfig())&&void 0!==E&&E.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const D=yield wu(m,h,f,"getOobCode"===f);return _(m,D)}return _(m,h).catch(function(){var D=(0,O.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const X=yield wu(m,h,f,"getOobCode"===f);return _(m,X)}return Promise.reject(H)});return function(H){return D.apply(this,arguments)}}())}),gt.apply(this,arguments)}function gh(m,h,f){const _=rr(m);Ce(_._canInitEmulator,_,"emulator-config-failed"),Ce(/^https?:\/\//.test(h),_,"invalid-emulator-scheme");const E=!!f?.disableWarnings,D=Mn(h),{host:H,port:X}=function Ro(m){const h=Mn(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",E=/^(\[[^\]]+\])(:|$)/.exec(_);if(E){const D=E[1];return{host:D,port:mh(_.substr(D.length+1))}}{const[D,H]=_.split(":");return{host:D,port:mh(H)}}}(h);_.config.emulator={url:`${D}//${H}${null===X?"":`:${X}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:H,port:X,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:E})}),E||function _h(){function m(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function Mn(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function mh(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class Il{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return sn("not implemented")}_getIdTokenResponse(h){return sn("not implemented")}_linkToIdToken(h,f){return sn("not implemented")}_getReauthenticationResolver(h){return sn("not implemented")}}function El(m,h){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:resetPassword",ne(m,h))})).apply(this,arguments)}function Tu(){return(Tu=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function b_(m,h){return qt.apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function bu(){return(bu=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:update",ne(m,h))})).apply(this,arguments)}function Ni(m,h){return kc.apply(this,arguments)}function kc(){return(kc=(0,O.Z)(function*(m,h){return Ne(m,"POST","/v1/accounts:signInWithPassword",ne(m,h))})).apply(this,arguments)}function vh(m,h){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:sendOobCode",ne(m,h))})).apply(this,arguments)}function Cp(){return(Cp=(0,O.Z)(function*(m,h){return vh(m,h)})).apply(this,arguments)}function Ih(m,h){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,O.Z)(function*(m,h){return vh(m,h)})).apply(this,arguments)}function Sp(m,h){return Su.apply(this,arguments)}function Su(){return(Su=(0,O.Z)(function*(m,h){return vh(m,h)})).apply(this,arguments)}function vn(){return(vn=(0,O.Z)(function*(m,h){return vh(m,h)})).apply(this,arguments)}function Ap(){return(Ap=(0,O.Z)(function*(m,h){return Ne(m,"POST","/v1/accounts:signInWithEmailLink",ne(m,h))})).apply(this,arguments)}function Dp(){return(Dp=(0,O.Z)(function*(m,h){return Ne(m,"POST","/v1/accounts:signInWithEmailLink",ne(m,h))})).apply(this,arguments)}class Lc extends Il{constructor(h,f,_,E=null){super("password",_),this._email=h,this._password=f,this._tenantId=E}static _fromEmailAndPassword(h,f){return new Lc(h,f,"password")}static _fromEmailAndCode(h,f,_=null){return new Lc(h,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,O.Z)(function*(){switch(f.signInMethod){case"password":return ci(h,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ni);case"emailLink":return function dE(m,h){return Ap.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:Dt(h,"internal-error")}})()}_linkToIdToken(h,f){var _=this;return(0,O.Z)(function*(){switch(_.signInMethod){case"password":return ci(h,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b_);case"emailLink":return function hE(m,h){return Dp.apply(this,arguments)}(h,{idToken:f,email:_._email,oobCode:_._password});default:Dt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function ts(m,h){return wl.apply(this,arguments)}function wl(){return(wl=(0,O.Z)(function*(m,h){return Ne(m,"POST","/v1/accounts:signInWithIdp",ne(m,h))})).apply(this,arguments)}class Fn extends Il{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Fn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):Dt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:E}=f,D=(0,dn._T)(f,["providerId","signInMethod"]);if(!_||!E)return null;const H=new Fn(_,E);return H.idToken=D.idToken||void 0,H.accessToken=D.accessToken||void 0,H.secret=D.secret,H.nonce=D.nonce,H.pendingToken=D.pendingToken||null,H}_getIdTokenResponse(h){return ts(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,ts(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,ts(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,C.xO)(f)}return h}}function Za(){return(Za=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:sendVerificationCode",ne(m,h))})).apply(this,arguments)}function co(){return(co=(0,O.Z)(function*(m,h){return Ne(m,"POST","/v1/accounts:signInWithPhoneNumber",ne(m,h))})).apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(m,h){const f=yield Ne(m,"POST","/v1/accounts:signInWithPhoneNumber",ne(m,h));if(f.temporaryProof)throw Kn(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const xp={USER_NOT_FOUND:"user-not-found"};function Au(){return(Au=(0,O.Z)(function*(m,h){return Ne(m,"POST","/v1/accounts:signInWithPhoneNumber",ne(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),xp)})).apply(this,arguments)}class Me extends Il{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Me({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Me({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function Eh(m,h){return co.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function _s(m,h){return Hs.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Te(m,h){return Au.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:_,verificationCode:E}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:_,code:E}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:_,phoneNumber:E,temporaryProof:D}=h;return _||f||E||D?new Me({verificationId:f,verificationCode:_,phoneNumber:E,temporaryProof:D}):null}}class xo{constructor(h){var f,_,E,D,H,X;const ve=(0,C.zd)((0,C.pd)(h)),qe=null!==(f=ve.apiKey)&&void 0!==f?f:null,rt=null!==(_=ve.oobCode)&&void 0!==_?_:null,Mt=function Du(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(E=ve.mode)&&void 0!==E?E:null);Ce(qe&&rt&&Mt,"argument-error"),this.apiKey=qe,this.operation=Mt,this.code=rt,this.continueUrl=null!==(D=ve.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(H=ve.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(X=ve.tenantId)&&void 0!==X?X:null}static parseLink(h){const f=function Ei(m){const h=(0,C.zd)((0,C.pd)(m)).link,f=h?(0,C.zd)((0,C.pd)(h)).deep_link_id:null,_=(0,C.zd)((0,C.pd)(m)).deep_link_id;return(_?(0,C.zd)((0,C.pd)(_)).link:null)||_||f||h||m}(h);try{return new xo(f)}catch{return null}}}let wh=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,_){return Lc._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const E=xo.parseLink(_);return Ce(E,"argument-error"),Lc._fromEmailAndCode(f,E.code,E.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class ho{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class vr extends ho{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class js extends vr{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return Ce("providerId"in f&&"signInMethod"in f,"argument-error"),Fn._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ce(h.idToken||h.accessToken,"argument-error"),Fn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return js.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return js.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:E,pendingToken:D,nonce:H,providerId:X}=h;if(!_&&!E&&!f&&!D||!X)return null;try{return new js(X)._credential({idToken:f,accessToken:_,nonce:H,pendingToken:D})}catch{return null}}}let ki=(()=>{class m extends vr{constructor(){super("facebook.com")}static credential(f){return Fn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),hn=(()=>{class m extends vr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return Fn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:E}=f;if(!_&&!E)return null;try{return m.credential(_,E)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Gt=(()=>{class m extends vr{constructor(){super("github.com")}static credential(f){return Fn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class ca extends Il{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return ts(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,ts(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,ts(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:E,pendingToken:D}=f;return _&&E&&D&&_===E?new ca(_,D):null}static _create(h,f){return new ca(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xu extends ho{constructor(h){Ce(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return xu.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return xu.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=ca.fromJSON(h);return Ce(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:_}=h;if(!f||!_)return null;try{return ca._create(_,f)}catch{return null}}}let Po=(()=>{class m extends vr{constructor(){super("twitter.com")}static credential(f,_){return Fn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:E}=f;if(!_||!E)return null;try{return m.credential(_,E)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function bl(m,h){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,O.Z)(function*(m,h){return Ne(m,"POST","/v1/accounts:signUp",ne(m,h))})).apply(this,arguments)}class di{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,_,E=!1){return(0,O.Z)(function*(){const D=yield b._fromIdTokenResponse(h,_,E),H=Mo(_);return new di({user:D,providerId:H,_tokenResponse:_,operationType:f})})()}static _forOperation(h,f,_){return(0,O.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const E=Mo(_);return new di({user:h,providerId:E,_tokenResponse:_,operationType:f})})()}}function Mo(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Pp(m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,O.Z)(function*(m){var h;const f=rr(m);if(yield f._initializationPromise,null!==(h=f.currentUser)&&void 0!==h&&h.isAnonymous)return new di({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield bl(f,{returnSecureToken:!0}),E=yield di._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(E.user),E})).apply(this,arguments)}class Oo extends C.ZR{constructor(h,f,_,E){var D;super(f.code,f.message),this.operationType=_,this.user=E,Object.setPrototypeOf(this,Oo.prototype),this.customData={appName:h.name,tenantId:null!==(D=h.tenantId)&&void 0!==D?D:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,f,_,E){return new Oo(h,f,_,E)}}function Ou(m,h,f,_){return("reauthenticate"===h?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?Oo._fromErrorAndOperation(m,D,h,_):D})}function Nu(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Mp(m,h){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,O.Z)(function*(m,h){const f=(0,C.m9)(m);yield Li(!0,f,h);const{providerUserInfo:_}=yield function Pi(m,h){return Us.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),E=Nu(_||[]);return f.providerData=f.providerData.filter(D=>E.has(D.providerId)),E.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Vc.apply(this,arguments)}function ku(m,h){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,O.Z)(function*(m,h,f=!1){const _=yield Hn(m,h._linkToIdToken(m.auth,yield m.getIdToken()),f);return di._forOperation(m,"link",_)})).apply(this,arguments)}function Li(m,h,f){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,O.Z)(function*(m,h,f){yield Ur(h);const E=!1===m?"provider-already-linked":"no-such-provider";Ce(Nu(h.providerData).has(f)===m,h.auth,E)})).apply(this,arguments)}function wi(m,h){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,O.Z)(function*(m,h,f=!1){const{auth:_}=m,E="reauthenticate";try{const D=yield Hn(m,Ou(_,E,h,m),f);Ce(D.idToken,_,"internal-error");const H=nr(D.idToken);Ce(H,_,"internal-error");const{sub:X}=H;return Ce(m.uid===X,_,"user-mismatch"),di._forOperation(m,E,D)}catch(D){throw"auth/user-not-found"===D?.code&&Dt(_,"user-mismatch"),D}})).apply(this,arguments)}function Cl(m,h){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,O.Z)(function*(m,h,f=!1){const _="signIn",E=yield Ou(m,_,h),D=yield di._fromIdTokenResponse(m,_,E);return f||(yield m._updateCurrentUser(D.user)),D})).apply(this,arguments)}function Vu(m,h){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,O.Z)(function*(m,h){return Cl(rr(m),h)})).apply(this,arguments)}function Op(m,h){return Th.apply(this,arguments)}function Th(){return(Th=(0,O.Z)(function*(m,h){const f=(0,C.m9)(m);return yield Li(!1,f,h.providerId),ku(f,h)})).apply(this,arguments)}function Np(m,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,O.Z)(function*(m,h){return wi((0,C.m9)(m),h)})).apply(this,arguments)}function bh(){return(bh=(0,O.Z)(function*(m,h){return Ne(m,"POST","/v1/accounts:signInWithCustomToken",ne(m,h))})).apply(this,arguments)}function C_(m,h){return On.apply(this,arguments)}function On(){return On=(0,O.Z)(function*(m,h){const f=rr(m),_=yield function Sl(m,h){return bh.apply(this,arguments)}(f,{token:h,returnSecureToken:!0}),E=yield di._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(E.user),E}),On.apply(this,arguments)}class Al{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?zs._fromServerResponse(h,f):"totpInfo"in f?st._fromServerResponse(h,f):Dt(h,"internal-error")}}class zs extends Al{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new zs(f)}}class st extends Al{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new st(f)}}function ei(m,h,f){var _;Ce((null===(_=f.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),Ce(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ce(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(Ce(f.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function nn(m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,O.Z)(function*(m){const h=rr(m);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Mr(m,h,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(m,h,f){const _=rr(m),E={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};f&&ei(_,E,f),yield ci(_,E,"getOobCode",Ih)})).apply(this,arguments)}function Fi(m,h,f){return $c.apply(this,arguments)}function $c(){return $c=(0,O.Z)(function*(m,h,f){yield El((0,C.m9)(m),{oobCode:h,newPassword:f}).catch(function(){var _=(0,O.Z)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&nn(m),E});return function(E){return _.apply(this,arguments)}}())}),$c.apply(this,arguments)}function kp(m,h){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,O.Z)(function*(m,h){yield function yh(m,h){return bu.apply(this,arguments)}((0,C.m9)(m),{oobCode:h})}),Dl.apply(this,arguments)}function Lp(m,h){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,O.Z)(function*(m,h){const f=(0,C.m9)(m),_=yield El(f,{oobCode:h}),E=_.requestType;switch(Ce(E,f,"internal-error"),E){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(_.mfaInfo,f,"internal-error");default:Ce(_.email,f,"internal-error")}let D=null;return _.mfaInfo&&(D=Al._fromServerResponse(rr(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:D},operation:E}})).apply(this,arguments)}function jn(m,h){return N.apply(this,arguments)}function N(){return(N=(0,O.Z)(function*(m,h){const{data:f}=yield Lp((0,C.m9)(m),h);return f.email})).apply(this,arguments)}function K(m,h,f){return Z.apply(this,arguments)}function Z(){return(Z=(0,O.Z)(function*(m,h,f){const _=rr(m),H=yield ci(_,{returnSecureToken:!0,email:h,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bl).catch(ve=>{throw"auth/password-does-not-meet-requirements"===ve.code&&nn(m),ve}),X=yield di._fromIdTokenResponse(_,"signIn",H);return yield _._updateCurrentUser(X.user),X})).apply(this,arguments)}function ke(m,h,f){return Vu((0,C.m9)(m),wh.credential(h,f)).catch(function(){var _=(0,O.Z)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&nn(m),E});return function(E){return _.apply(this,arguments)}}())}function It(m,h,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,O.Z)(function*(m,h,f){const _=rr(m),E={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function D(H,X){Ce(X.handleCodeInApp,_,"argument-error"),X&&ei(_,H,X)})(E,f),yield ci(_,E,"getOobCode",Sp)})).apply(this,arguments)}function Qn(m,h){const f=xo.parseLink(h);return"EMAIL_SIGNIN"===f?.operation}function At(m,h,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m),E=wh.credentialWithLink(h,f||ar());return Ce(E._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Vu(_,E)})).apply(this,arguments)}function et(){return(et=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:createAuthUri",ne(m,h))})).apply(this,arguments)}function da(m,h){return jc.apply(this,arguments)}function jc(){return jc=(0,O.Z)(function*(m,h){const _={identifier:h,continueUri:lr()?ar():"http://localhost"},{signinMethods:E}=yield function Rl(m,h){return et.apply(this,arguments)}((0,C.m9)(m),_);return E||[]}),jc.apply(this,arguments)}function qs(m,h){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,O.Z)(function*(m,h){const f=(0,C.m9)(m),E={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&ei(f.auth,E,h);const{email:D}=yield function bp(m,h){return Cp.apply(this,arguments)}(f.auth,E);D!==m.email&&(yield m.reload())}),Vn.apply(this,arguments)}function ha(m,h,f){return rn.apply(this,arguments)}function rn(){return rn=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};f&&ei(_.auth,D,f);const{email:H}=yield function $n(m,h){return vn.apply(this,arguments)}(_.auth,D);H!==m.email&&(yield m.reload())}),rn.apply(this,arguments)}function fa(){return(fa=(0,O.Z)(function*(m,h){return ge(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Uu(m,h){return po.apply(this,arguments)}function po(){return po=(0,O.Z)(function*(m,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const _=(0,C.m9)(m),D={idToken:yield _.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},H=yield Hn(_,function fo(m,h){return fa.apply(this,arguments)}(_.auth,D));_.displayName=H.displayName||null,_.photoURL=H.photoUrl||null;const X=_.providerData.find(({providerId:ve})=>"password"===ve);X&&(X.displayName=_.displayName,X.photoURL=_.photoURL),yield _._updateTokensIfNecessary(H)}),po.apply(this,arguments)}function No(m,h){return ko((0,C.m9)(m),h,null)}function Bu(m,h){return ko((0,C.m9)(m),null,h)}function ko(m,h,f){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,O.Z)(function*(m,h,f){const{auth:_}=m,D={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(D.email=h),f&&(D.password=f);const H=yield Hn(m,function Nc(m,h){return Tu.apply(this,arguments)}(_,D));yield m._updateTokensIfNecessary(H,!0)}),Rt.apply(this,arguments)}class Lo{constructor(h,f,_={}){this.isNewUser=h,this.providerId=f,this.profile=_}}class xl extends Lo{constructor(h,f,_,E){super(h,f,_),this.username=E}}class Gs extends Lo{constructor(h,f){super(h,"facebook.com",f)}}class Hu extends xl{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Fo extends Lo{constructor(h,f){super(h,"google.com",f)}}class Pl extends xl{constructor(h,f,_){super(h,"twitter.com",f,_)}}function Er(m){const{user:h,_tokenResponse:f}=m;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Sh(m){var h,f;if(!m)return null;const{providerId:_}=m,E=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},D=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&m?.idToken){const H=null===(f=null===(h=nr(m.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(H)return new Lo(D,"anonymous"!==H&&"custom"!==H?H:null)}if(!_)return null;switch(_){case"facebook.com":return new Gs(D,E);case"github.com":return new Hu(D,E);case"google.com":return new Fo(D,E);case"twitter.com":return new Pl(D,E,m.screenName||null);case"custom":case"anonymous":return new Lo(D,null);default:return new Lo(D,_,E)}}(f)}class Tr{constructor(h,f,_){this.type=h,this.credential=f,this.user=_}static _fromIdtoken(h,f){return new Tr("enroll",h,f)}static _fromMfaPendingCredential(h){return new Tr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,_;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Tr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return Tr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Fp{constructor(h,f,_){this.session=h,this.hints=f,this.signInResolver=_}static _fromError(h,f){const _=rr(h),E=f.customData._serverResponse,D=(E.mfaInfo||[]).map(X=>Al._fromServerResponse(_,X));Ce(E.mfaPendingCredential,_,"internal-error");const H=Tr._fromMfaPendingCredential(E.mfaPendingCredential);return new Fp(H,D,function(){var X=(0,O.Z)(function*(ve){const qe=yield ve._process(_,H);delete E.mfaInfo,delete E.mfaPendingCredential;const rt=Object.assign(Object.assign({},E),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(f.operationType){case"signIn":const Mt=yield di._fromIdTokenResponse(_,f.operationType,rt);return yield _._updateCurrentUser(Mt.user),Mt;case"reauthenticate":return Ce(f.user,_,"internal-error"),di._forOperation(f.user,f.operationType,rt);default:Dt(_,"internal-error")}});return function(ve){return X.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,O.Z)(function*(){return f.signInResolver(h)})()}}function gE(m,h){var f;const _=(0,C.m9)(m),E=h;return Ce(h.customData.operationType,_,"argument-error"),Ce(null===(f=E.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),Fp._fromError(_,E)}class Ja{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>Al._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new Ja(h)}getSession(){var h=this;return(0,O.Z)(function*(){return Tr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,f){var _=this;return(0,O.Z)(function*(){const E=h,D=yield _.getSession(),H=yield Hn(_.user,E._process(_.user.auth,D,f));return yield _.user._updateTokensIfNecessary(H),_.user.reload()})()}unenroll(h){var f=this;return(0,O.Z)(function*(){const _="string"==typeof h?h:h.uid,E=yield f.user.getIdToken();try{const D=yield Hn(f.user,function Vp(m,h){return ge(m,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(m,h))}(f.user.auth,{idToken:E,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:H})=>H!==_),yield f.user._updateTokensIfNecessary(D),yield f.user.reload()}catch(D){throw D}})()}}const Ml=new WeakMap;function Gc(m){const h=(0,C.m9)(m);return Ml.has(h)||Ml.set(h,Ja._fromUser(h)),Ml.get(h)}const Ol="__sak";class pa{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Ol,"1"),this.storage.removeItem(Ol),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ga=(()=>{class m extends pa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Up(){const m=(0,C.z$)();return Xe(m)||Qe(m)}()&&function je(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yr(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const E=this.storage.getItem(_),D=this.localCache[_];E!==D&&f(_,D,E)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((X,ve,qe)=>{this.notifyListeners(X,qe)});const E=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(E);if(f.newValue!==X)null!==f.newValue?this.storage.setItem(E,f.newValue):this.storage.removeItem(E);else if(this.localCache[E]===f.newValue&&!_)return}const D=()=>{const X=this.storage.getItem(E);!_&&this.localCache[E]===X||this.notifyListeners(E,X)},H=this.storage.getItem(E);!function W(){return(0,C.w1)()&&10===document.documentMode}()||H===f.newValue||f.newValue===f.oldValue?D():setTimeout(D,10)}notifyListeners(f,_){this.localCache[f]=_;const E=this.listeners[f];if(E)for(const D of Array.from(E))D(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,E)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:E}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var E=()=>super._set,D=this;return(0,O.Z)(function*(){yield E().call(D,f,_),D.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,E=this;return(0,O.Z)(function*(){const D=yield _().call(E,f);return E.localCache[f]=JSON.stringify(D),D})()}_remove(f){var _=()=>super._remove,E=this;return(0,O.Z)(function*(){yield _().call(E,f),delete E.localCache[f]})()}}return m.type="LOCAL",m})(),Nl=(()=>{class m extends pa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return m.type="SESSION",m})();let S=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(D=>D.isListeningto(f));if(_)return _;const E=new m(f);return this.receivers.push(E),E}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,O.Z)(function*(){const E=f,{eventId:D,eventType:H,data:X}=E.data,ve=_.handlersMap[H];if(!ve?.size)return;E.ports[0].postMessage({status:"ack",eventId:D,eventType:H});const qe=Array.from(ve).map(function(){var Mt=(0,O.Z)(function*(mi){return mi(E.origin,X)});return function(mi){return Mt.apply(this,arguments)}}()),rt=yield function Bp(m){return Promise.all(m.map(function(){var h=(0,O.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return h.apply(this,arguments)}}()))}(qe);E.ports[0].postMessage({status:"done",eventId:D,eventType:H,response:rt})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function rs(m="",h=10){let f="";for(let _=0;_<h;_++)f+=Math.floor(10*Math.random());return m+f}class Ti{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,_=50){var E=this;return(0,O.Z)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let H,X;return new Promise((ve,qe)=>{const rt=rs("",20);D.port1.start();const Mt=setTimeout(()=>{qe(new Error("unsupported_event"))},_);X={messageChannel:D,onMessage(mi){const vo=mi;if(vo.data.eventId===rt)switch(vo.data.status){case"ack":clearTimeout(Mt),H=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),ve(vo.data.response);break;default:clearTimeout(Mt),clearTimeout(H),qe(new Error("invalid_response"))}}},E.handlers.add(X),D.port1.addEventListener("message",X.onMessage),E.target.postMessage({eventType:h,eventId:rt,data:f},[D.port2])}).finally(()=>{X&&E.removeMessageHandler(X)})})()}}function fn(){return window}function Wc(){return typeof fn().WorkerGlobalScope<"u"&&"function"==typeof fn().importScripts}function zu(){return(zu=(0,O.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Kc="firebaseLocalStorageDb",qu="firebaseLocalStorage",Dh="fbase_key";class fi{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function _a(m,h){return m.transaction([qu],h?"readwrite":"readonly").objectStore(qu)}function Zc(){const m=indexedDB.open(Kc,1);return new Promise((h,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(qu,{keyPath:Dh})}catch(E){f(E)}}),m.addEventListener("success",(0,O.Z)(function*(){const _=m.result;_.objectStoreNames.contains(qu)?h(_):(_.close(),yield function kl(){const m=indexedDB.deleteDatabase(Kc);return new fi(m).toPromise()}(),h(yield Zc()))}))})}function R_(m,h,f){return jp.apply(this,arguments)}function jp(){return(jp=(0,O.Z)(function*(m,h,f){const _=_a(m,!0).put({[Dh]:h,value:f});return new fi(_).toPromise()})).apply(this,arguments)}function Rh(){return(Rh=(0,O.Z)(function*(m,h){const f=_a(m,!1).get(h),_=yield new fi(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function zp(m,h){const f=_a(m,!0).delete(h);return new fi(f).toPromise()}const va=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,O.Z)(function*(){return f.db||(f.db=yield Zc()),f.db})()}_withRetries(f){var _=this;return(0,O.Z)(function*(){let E=0;for(;;)try{const D=yield _._openDb();return yield f(D)}catch(D){if(E++>3)throw D;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,O.Z)(function*(){return Wc()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,O.Z)(function*(){f.receiver=S._getInstance(function Ah(){return Wc()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,O.Z)(function*(E,D){return{keyProcessed:(yield f._poll()).includes(D.key)}});return function(E,D){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,O.Z)(function*(E,D){return["keyChanged"]});return function(E,D){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,O.Z)(function*(){var _,E;if(f.activeServiceWorker=yield function Hp(){return zu.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Ti(f.activeServiceWorker);const D=yield f.sender._send("ping",{},800);D&&null!==(_=D[0])&&void 0!==_&&_.fulfilled&&null!==(E=D[0])&&void 0!==E&&E.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,O.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function ma(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,O.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Zc();return yield R_(f,Ol,"1"),yield zp(f,Ol),!0}catch{}return!1})()}_withPendingWrite(f){var _=this;return(0,O.Z)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var E=this;return(0,O.Z)(function*(){return E._withPendingWrite((0,O.Z)(function*(){return yield E._withRetries(D=>R_(D,f,_)),E.localCache[f]=_,E.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,O.Z)(function*(){const E=yield _._withRetries(D=>function ya(m,h){return Rh.apply(this,arguments)}(D,f));return _.localCache[f]=E,E})()}_remove(f){var _=this;return(0,O.Z)(function*(){return _._withPendingWrite((0,O.Z)(function*(){return yield _._withRetries(E=>zp(E,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,O.Z)(function*(){const _=yield f._withRetries(H=>{const X=_a(H,!1).getAll();return new fi(X).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const E=[],D=new Set;for(const{fbase_key:H,value:X}of _)D.add(H),JSON.stringify(f.localCache[H])!==JSON.stringify(X)&&(f.notifyListeners(H,X),E.push(H));for(const H of Object.keys(f.localCache))f.localCache[H]&&!D.has(H)&&(f.notifyListeners(H,null),E.push(H));return E})()}notifyListeners(f,_){this.localCache[f]=_;const E=this.listeners[f];if(E)for(const D of Array.from(E))D(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,O.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),Gu=1e12;class M_{constructor(h){this.auth=h,this.counter=Gu,this._widgets=new Map}render(h,f){const _=this.counter;return this._widgets.set(_,new O_(h,this.auth.name,f||{})),this.counter++,_}reset(h){var f;const _=h||Gu;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(h){var f;return(null===(f=this._widgets.get(h||Gu))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,O.Z)(function*(){var _;return null===(_=f._widgets.get(h||Gu))||void 0===_||_.execute(),""})()}}class O_{constructor(h,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const E="string"==typeof h?document.getElementById(h):h;Ce(E,"argument-error",{appName:f}),this.container=E,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kp(m){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<m;_++)h.push(f.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wu=Ep("rcb"),N_=new Rr(3e4,6e4);class Mh{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=fn().grecaptcha)||void 0===h||!h.render)}load(h,f=""){return Ce(function Qc(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),h,"argument-error"),this.shouldResolveImmediately(f)&&Tn(fn().grecaptcha)?Promise.resolve(fn().grecaptcha):new Promise((_,E)=>{const D=fn().setTimeout(()=>{E(ln(h,"network-request-failed"))},N_.get());fn()[Wu]=()=>{fn().clearTimeout(D),delete fn()[Wu];const X=fn().grecaptcha;if(!X||!Tn(X))return void E(ln(h,"internal-error"));const ve=X.render;X.render=(qe,rt)=>{const Mt=ve(qe,rt);return this.counter++,Mt},this.hostLanguage=f,_(X)},fh(`https://www.google.com/recaptcha/api.js??${(0,C.xO)({onload:Wu,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(D),E(ln(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!(null===(f=fn().grecaptcha)||void 0===f||!f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yc{load(h){return(0,O.Z)(function*(){return new M_(h)})()}clearedOneInstance(){}}const Ui="recaptcha",Oh={theme:"light",type:"image"};class k_{constructor(h,f,_=Object.assign({},Oh)){this.parameters=_,this.type=Ui,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rr(h),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const E="string"==typeof f?document.getElementById(f):f;Ce(E,this.auth,"argument-error"),this.container=E,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yc:new Mh,this.validateStartingState()}verify(){var h=this;return(0,O.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),_=h.getAssertedRecaptcha();return _.getResponse(f)||new Promise(D=>{const H=X=>{X&&(h.tokenChangeListeners.delete(H),D(X))};h.tokenChangeListeners.add(H),h.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof h)h(f);else if("string"==typeof h){const _=fn()[h];"function"==typeof _&&_(f)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,O.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,O.Z)(function*(){Ce(lr()&&!Wc(),h.auth,"internal-error"),yield function Vo(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function ur(m){return ps.apply(this,arguments)}(h.auth);Ce(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ll{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Me._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Ia(m,h,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,O.Z)(function*(m,h,f){const _=rr(m),E=yield vs(_,h,(0,C.m9)(f));return new Ll(E,D=>Vu(_,D))})).apply(this,arguments)}function Nh(m,h,f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);yield Li(!1,_,"phone");const E=yield vs(_.auth,h,(0,C.m9)(f));return new Ll(E,D=>Op(_,D))})).apply(this,arguments)}function Ws(m,h,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m),E=yield vs(_.auth,h,(0,C.m9)(f));return new Ll(E,D=>Np(_,D))})).apply(this,arguments)}function vs(m,h,f){return bn.apply(this,arguments)}function bn(){return bn=(0,O.Z)(function*(m,h,f){var _;const E=yield f.verify();try{let D;if(Ce("string"==typeof E,m,"argument-error"),Ce(f.type===Ui,m,"argument-error"),D="string"==typeof h?{phoneNumber:h}:h,"session"in D){const H=D.session;if("phoneNumber"in D)return Ce("enroll"===H.type,m,"internal-error"),(yield function A_(m,h){return ge(m,"POST","/v2/accounts/mfaEnrollment:start",ne(m,h))}(m,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:E}})).phoneSessionInfo.sessionInfo;{Ce("signin"===H.type,m,"internal-error");const X=(null===(_=D.multiFactorHint)||void 0===_?void 0:_.uid)||D.multiFactorUid;return Ce(X,m,"missing-multi-factor-info"),(yield function xh(m,h){return ge(m,"POST","/v2/accounts/mfaSignIn:start",ne(m,h))}(m,{mfaPendingCredential:H.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:E}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function Rp(m,h){return Za.apply(this,arguments)}(m,{phoneNumber:D.phoneNumber,recaptchaToken:E});return H}}finally{f._reset()}}),bn.apply(this,arguments)}function kh(m,h){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*(m,h){yield ku((0,C.m9)(m),h)})).apply(this,arguments)}let Hi=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=rr(f)}verifyPhoneNumber(f,_){return vs(this.auth,f,(0,C.m9)(_))}static credential(f,_){return Me._fromVerification(f,_)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:E}=f;return _&&E?Me._fromTokenResponse(_,E):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function wa(m,h){return h?oe(h):(Ce(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Or extends Il{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ts(h,this._buildIdpRequest())}_linkToIdToken(h,f){return ts(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return ts(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Ta(m){return Cl(m.auth,new Or(m),m.bypassAuthState)}function $i(m){const{auth:h,user:f}=m;return Ce(f,h,"internal-error"),wi(f,new Or(m),m.bypassAuthState)}function _o(m){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,O.Z)(function*(m){const{auth:h,user:f}=m;return Ce(f,h,"internal-error"),ku(f,new Or(m),m.bypassAuthState)})).apply(this,arguments)}class Zu{constructor(h,f,_,E,D=!1){this.auth=h,this.resolver=_,this.user=E,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,O.Z)(function*(_,E){h.pendingPromise={resolve:_,reject:E};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(D){h.reject(D)}});return function(_,E){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,O.Z)(function*(){const{urlResponse:_,sessionId:E,postBody:D,tenantId:H,error:X,type:ve}=h;if(X)return void f.reject(X);const qe={auth:f.auth,requestUri:_,sessionId:E,tenantId:H||void 0,postBody:D||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(ve)(qe))}catch(rt){f.reject(rt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ta;case"linkViaPopup":case"linkViaRedirect":return _o;case"reauthViaPopup":case"reauthViaRedirect":return $i;default:Dt(this.auth,"internal-error")}}resolve(h){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ji=new Rr(2e3,1e4);function Lh(m,h,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,O.Z)(function*(m,h,f){const _=rr(m);Wn(m,h,ho);const E=wa(_,f);return new pt(_,"signInViaPopup",h,E).executeNotNull()})).apply(this,arguments)}function Xc(m,h,f){return ed.apply(this,arguments)}function ed(){return(ed=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);Wn(_.auth,h,ho);const E=wa(_.auth,f);return new pt(_.auth,"reauthViaPopup",h,E,_).executeNotNull()})).apply(this,arguments)}function Qp(m,h,f){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);Wn(_.auth,h,ho);const E=wa(_.auth,f);return new pt(_.auth,"linkViaPopup",h,E,_).executeNotNull()})).apply(this,arguments)}let pt=(()=>{class m extends Zu{constructor(f,_,E,D,H){super(f,_,D,H),this.provider=E,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,O.Z)(function*(){const _=yield f.execute();return Ce(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,O.Z)(function*(){Bn(1===f.filter.length,"Popup operations only handle one event");const _=rs();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(E=>{f.reject(E)}),f.resolver._isIframeWebStorageSupported(f.auth,E=>{E||f.reject(ln(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,E;this.pollId=null!==(E=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==E&&E.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,ji.get())};f()}}return m.currentPopupAction=null,m})();const Yp="pendingRedirect",ba=new Map;class Jp extends Zu{constructor(h,f,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,O.Z)(function*(){let _=ba.get(f.auth._key());if(!_){try{const D=(yield function L_(m,h){return Vh.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;_=()=>Promise.resolve(D)}catch(E){_=()=>Promise.reject(E)}ba.set(f.auth._key(),_)}return f.bypassAuthState||ba.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,_=this;return(0,O.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(_,h);if("unknown"!==h.type){if(h.eventId){const E=yield _.auth._redirectUserForId(h.eventId);if(E)return _.user=E,f().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,O.Z)(function*(){})()}cleanUp(){}}function Vh(){return(Vh=(0,O.Z)(function*(m,h){const f=Xp(h),_=Uh(m);if(!(yield _._isAvailable()))return!1;const E="true"===(yield _._get(f));return yield _._remove(f),E})).apply(this,arguments)}function Ca(m,h){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,O.Z)(function*(m,h){return Uh(m)._set(Xp(h),"true")})).apply(this,arguments)}function F_(){ba.clear()}function td(m,h){ba.set(m._key(),h)}function Uh(m){return oe(m._redirectPersistence)}function Xp(m){return mt(Yp,m.config.apiKey,m.name)}function V_(m,h,f){return function ye(m,h,f){return en.apply(this,arguments)}(m,h,f)}function en(){return(en=(0,O.Z)(function*(m,h,f){const _=rr(m);Wn(m,h,ho),yield _._initializationPromise;const E=wa(_,f);return yield Ca(E,_),E._openRedirect(_,h,"signInViaRedirect")})).apply(this,arguments)}function ot(m,h,f){return function dt(m,h,f){return br.apply(this,arguments)}(m,h,f)}function br(){return(br=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);Wn(_.auth,h,ho),yield _.auth._initializationPromise;const E=wa(_.auth,f);yield Ca(E,_.auth);const D=yield $h(_);return E._openRedirect(_.auth,h,"reauthViaRedirect",D)})).apply(this,arguments)}function Bh(m,h,f){return function Fl(m,h,f){return is.apply(this,arguments)}(m,h,f)}function is(){return(is=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);Wn(_.auth,h,ho),yield _.auth._initializationPromise;const E=wa(_.auth,f);yield Li(!1,_,h.providerId),yield Ca(E,_.auth);const D=yield $h(_);return E._openRedirect(_.auth,h,"linkViaRedirect",D)})).apply(this,arguments)}function Vl(m,h){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,O.Z)(function*(m,h){return yield rr(m)._initializationPromise,nd(m,h,!1)})).apply(this,arguments)}function nd(m,h){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,O.Z)(function*(m,h,f=!1){const _=rr(m),E=wa(_,h),H=yield new Jp(_,E,f).execute();return H&&!f&&(delete H.user._redirectEventId,yield _._persistUserIfCurrent(H.user),yield _._setRedirectUser(null,h)),H})).apply(this,arguments)}function $h(m){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(m){const h=rs(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class Yu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(f=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function U_(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Is(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var _;if(h.error&&!Is(h)){const E=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(ln(this.auth,E))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const _=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Aa(h))}saveEventToCache(h){this.cachedEventUids.add(Aa(h)),this.lastProcessedEventTime=Date.now()}}function Aa(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Is({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===h?.code}function Ju(m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,O.Z)(function*(m,h={}){return ge(m,"GET","/v1/projects",h)})).apply(this,arguments)}const B_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jh=/^https?/;function Xu(){return(Xu=(0,O.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield Ju(m);for(const f of h)try{if(zh(f))return}catch{}Dt(m,"unauthorized-domain")})).apply(this,arguments)}function zh(m){const h=ar(),{protocol:f,hostname:_}=new URL(h);if(m.startsWith("chrome-extension://")){const H=new URL(m);return""===H.hostname&&""===_?"chrome-extension:"===f&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&H.hostname===_}if(!jh.test(f))return!1;if(B_.test(m))return _===m;const E=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+E+"|"+E+")$","i").test(_)}const H_=new Rr(3e4,6e4);function zi(){const m=fn().___jsl;if(m?.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Da=null;const Gh=new Rr(5e3,15e3),Wh="__/auth/iframe",bi="emulator/auth/iframe",Ra={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pi(m){const h=m.config;Ce(h.authDomain,m,"auth-domain-config-required");const f=h.emulator?ao(h,bi):`https://${m.config.authDomain}/${Wh}`,_={apiKey:h.apiKey,appName:m.name,v:q.SDK_VERSION},E=Kh.get(m.config.apiHost);E&&(_.eid=E);const D=m._getFrameworks();return D.length&&(_.fw=D.join(",")),`${f}?${(0,C.xO)(_).slice(1)}`}function Un(){return Un=(0,O.Z)(function*(m){const h=yield function rd(m){return Da=Da||function qh(m){return new Promise((h,f)=>{var _,E,D;function H(){zi(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{zi(),f(ln(m,"network-request-failed"))},timeout:H_.get()})}if(null!==(E=null===(_=fn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==E&&E.Iframe)h(gapi.iframes.getContext());else{if(null===(D=fn().gapi)||void 0===D||!D.load){const X=Ep("iframefcb");return fn()[X]=()=>{gapi.load?H():f(ln(m,"network-request-failed"))},fh(`https://apis.google.com/js/api.js?onload=${X}`).catch(ve=>f(ve))}H()}}).catch(h=>{throw Da=null,h})}(m),Da}(m),f=fn().gapi;return Ce(f,m,"internal-error"),h.open({where:document.body,url:pi(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ra,dontclear:!0},_=>new Promise(function(){var E=(0,O.Z)(function*(D,H){yield _.restyle({setHideOnLeave:!1});const X=ln(m,"network-request-failed"),ve=fn().setTimeout(()=>{H(X)},Gh.get());function qe(){fn().clearTimeout(ve),D(_)}_.ping(qe).then(qe,()=>{H(X)})});return function(D,H){return E.apply(this,arguments)}}()))}),Un.apply(this,arguments)}const Ho={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tg="__/auth/handler",Ul="emulator/auth/handler",id=encodeURIComponent("fac");function Bl(m,h,f,_,E,D){return ec.apply(this,arguments)}function ec(){return(ec=(0,O.Z)(function*(m,h,f,_,E,D){Ce(m.config.authDomain,m,"auth-domain-config-required"),Ce(m.config.apiKey,m,"invalid-api-key");const H={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:_,v:q.SDK_VERSION,eventId:E};if(h instanceof ho){h.setDefaultLanguage(m.languageCode),H.providerId=h.providerId||"",(0,C.xb)(h.getCustomParameters())||(H.customParameters=JSON.stringify(h.getCustomParameters()));for(const[rt,Mt]of Object.entries(D||{}))H[rt]=Mt}if(h instanceof vr){const rt=h.getScopes().filter(Mt=>""!==Mt);rt.length>0&&(H.scopes=rt.join(","))}m.tenantId&&(H.tid=m.tenantId);const X=H;for(const rt of Object.keys(X))void 0===X[rt]&&delete X[rt];const ve=yield m._getAppCheckToken(),qe=ve?`#${id}=${encodeURIComponent(ve)}`:"";return`${function Jh({config:m}){return m.emulator?ao(m,Ul):`https://${m.authDomain}/${tg}`}(m)}?${(0,C.xO)(X).slice(1)}${qe}`})).apply(this,arguments)}const tc="webStorageSupport",xa=class $_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nl,this._completeRedirectFn=nd,this._overrideRedirectResult=td}_openPopup(h,f,_,E){var D=this;return(0,O.Z)(function*(){var H;Bn(null===(H=D.eventManagers[h._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const X=yield Bl(h,f,_,ar(),E);return function Ks(m,h,f,_=500,E=600){const D=Math.max((window.screen.availHeight-E)/2,0).toString(),H=Math.max((window.screen.availWidth-_)/2,0).toString();let X="";const ve=Object.assign(Object.assign({},Ho),{width:_.toString(),height:E.toString(),top:D,left:H}),qe=(0,C.z$)().toLowerCase();f&&(X=qr(qe)?"_blank":f),An(qe)&&(h=h||"http://localhost",ve.scrollbars="yes");const rt=Object.entries(ve).reduce((mi,[vo,od])=>`${mi}${vo}=${od},`,"");if(function zt(m=(0,C.z$)()){var h;return Qe(m)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(qe)&&"_self"!==X)return function jo(m,h){const f=document.createElement("a");f.href=m,f.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(h||"",X),new Yh(null);const Mt=window.open(h||"",X,rt);Ce(Mt,m,"popup-blocked");try{Mt.focus()}catch{}return new Yh(Mt)}(h,X,rs())})()}_openRedirect(h,f,_,E){var D=this;return(0,O.Z)(function*(){return yield D._originValidation(h),function Xt(m){fn().location.href=m}(yield Bl(h,f,_,ar(),E)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:E,promise:D}=this.eventManagers[f];return E?Promise.resolve(E):(Bn(D,"If manager is not set, promise should be"),D)}const _=this.initAndGetManager(h);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(h){var f=this;return(0,O.Z)(function*(){const _=yield function yo(m){return Un.apply(this,arguments)}(h),E=new Yu(h);return _.register("authEvent",D=>(Ce(D?.authEvent,h,"invalid-auth-event"),{status:E.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:E},f.iframes[h._key()]=_,E})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(tc,{type:tc},E=>{var D;const H=null===(D=E?.[0])||void 0===D?void 0:D[tc];void 0!==H&&f(!!H),Dt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Xa(m){return Xu.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return yr()||Xe()||Qe()}};class Hl{constructor(h){this.factorId=h}_process(h,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,_);case"signin":return this._finalizeSignIn(h,f.credential);default:return sn("unexpected MultiFactorSessionType")}}}class gi extends Hl{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new gi(h)}_finalizeEnroll(h,f,_){return function mE(m,h){return ge(m,"POST","/v2/accounts/mfaEnrollment:finalize",ne(m,h))}(h,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function Ph(m,h){return ge(m,"POST","/v2/accounts/mfaSignIn:finalize",ne(m,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zo=(()=>{class m{constructor(){}static assertion(f){return gi._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var ig="@firebase/auth";class Xh{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,O.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(_=>{h(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);f&&(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,C.Pz)("authIdTokenMaxAge"),function jl(m){(0,q._registerComponent)(new on.wA("auth",(h,{options:f})=>{const _=h.getProvider("app").getImmediate(),E=h.getProvider("heartbeat"),D=h.getProvider("app-check-internal"),{apiKey:H,authDomain:X}=_.options;Ce(H&&!H.includes(":"),"invalid-api-key",{appName:_.name});const ve={apiKey:H,authDomain:X,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zt(m)},qe=new uE(_,E,D,ve);return function He(m,h){const f=h?.persistence||[],_=(Array.isArray(f)?f:[f]).map(oe);h?.errorMap&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(_,h?.popupRedirectResolver)}(qe,f),qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,_)=>{h.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new on.wA("auth-internal",h=>{const f=rr(h.getProvider("auth").getImmediate());return new Xh(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(ig,"1.4.0",function $l(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,q.registerVersion)(ig,"1.4.0","esm2017")}("Browser")},58:(li,er,ct)=>{"use strict";ct.d(er,{BH:()=>_r,G6:()=>ao,L:()=>an,LL:()=>ce,Pz:()=>ln,Sg:()=>Wn,UG:()=>sn,ZB:()=>Ke,ZR:()=>ge,aH:()=>Dt,b$:()=>lr,eu:()=>te,hl:()=>ee,jU:()=>Bn,m9:()=>uo,ne:()=>es,pd:()=>Us,r3:()=>tr,ru:()=>ar,tV:()=>de,uI:()=>Ce,vZ:()=>lo,w1:()=>Vs,xO:()=>xi,xb:()=>ur,z$:()=>Nt,zd:()=>Pi});const Ze=function(U){const F=[];let A=0;for(let x=0;x<U.length;x++){let b=U.charCodeAt(x);b<128?F[A++]=b:b<2048?(F[A++]=b>>6|192,F[A++]=63&b|128):55296==(64512&b)&&x+1<U.length&&56320==(64512&U.charCodeAt(x+1))?(b=65536+((1023&b)<<10)+(1023&U.charCodeAt(++x)),F[A++]=b>>18|240,F[A++]=b>>12&63|128,F[A++]=b>>6&63|128,F[A++]=63&b|128):(F[A++]=b>>12|224,F[A++]=b>>6&63|128,F[A++]=63&b|128)}return F},on={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const A=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let b=0;b<U.length;b+=3){const V=U[b],oe=b+1<U.length,$e=oe?U[b+1]:0,ze=b+2<U.length,mt=ze?U[b+2]:0;let An=(15&$e)<<2|mt>>6,Xe=63&mt;ze||(Xe=64,oe||(An=64)),x.push(A[V>>2],A[(3&V)<<4|$e>>4],A[An],A[Xe])}return x.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(Ze(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let A=0,x=0;for(;A<U.length;){const b=U[A++];if(b<128)F[x++]=String.fromCharCode(b);else if(b>191&&b<224){const V=U[A++];F[x++]=String.fromCharCode((31&b)<<6|63&V)}else if(b>239&&b<365){const ze=((7&b)<<18|(63&U[A++])<<12|(63&U[A++])<<6|63&U[A++])-65536;F[x++]=String.fromCharCode(55296+(ze>>10)),F[x++]=String.fromCharCode(56320+(1023&ze))}else{const V=U[A++],oe=U[A++];F[x++]=String.fromCharCode((15&b)<<12|(63&V)<<6|63&oe)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const A=F?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let b=0;b<U.length;){const V=A[U.charAt(b++)],$e=b<U.length?A[U.charAt(b)]:0;++b;const mt=b<U.length?A[U.charAt(b)]:64;++b;const Ve=b<U.length?A[U.charAt(b)]:64;if(++b,null==V||null==$e||null==mt||null==Ve)throw new mr;x.push(V<<2|$e>>4),64!==mt&&(x.push($e<<4&240|mt>>2),64!==Ve&&x.push(mt<<6&192|Ve))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class mr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const an=function(U){return function(U){const F=Ze(U);return on.encodeByteArray(F,!0)}(U).replace(/\./g,"")},de=function(U){try{return on.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function Ke(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const A in F)!F.hasOwnProperty(A)||!vt(A)||(U[A]=Ke(U[A],F[A]));return U}function vt(U){return"__proto__"!==U}const Ct=()=>{try{return function Wt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&de(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Dt=()=>{var U;return null===(U=Ct())||void 0===U?void 0:U.config},ln=U=>{var F;return null===(F=Ct())||void 0===F?void 0:F[`_${U}`]};class _r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,A)=>{this.resolve=F,this.reject=A})}wrapCallback(F){return(A,x)=>{A?this.reject(A):this.resolve(x),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(A):F(A,x))}}}function Wn(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=F||"demo-project",b=U.iat||0,V=U.sub||U.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:b,exp:b+3600,auth_time:b,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},U);return[an(JSON.stringify({alg:"none",type:"JWT"})),an(JSON.stringify(oe)),""].join(".")}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function sn(){var U;const F=null===(U=Ct())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Bn(){return"object"==typeof self&&self.self===self}function ar(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function lr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Vs(){const U=Nt();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ao(){return!sn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((U,F)=>{try{let A=!0;const x="validate-browser-context-for-indexeddb-analytics-module",b=self.indexedDB.open(x);b.onsuccess=()=>{b.result.close(),A||self.indexedDB.deleteDatabase(x),U(!0)},b.onupgradeneeded=()=>{A=!1},b.onerror=()=>{var V;F((null===(V=b.error)||void 0===V?void 0:V.message)||"")}}catch(A){F(A)}})}class ge extends Error{constructor(F,A,x){super(A),this.code=F,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(F,A,x){this.service=F,this.serviceName=A,this.errors=x}create(F,...A){const x=A[0]||{},b=`${this.service}/${F}`,V=this.errors[F],oe=V?function xe(U,F){return U.replace(Kt,(A,x)=>{const b=F[x];return null!=b?String(b):`<${x}?>`})}(V,x):"Error";return new ge(b,`${this.serviceName}: ${oe} (${b}).`,x)}}const Kt=/\{\$([^}]+)}/g;function tr(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function ur(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function lo(U,F){if(U===F)return!0;const A=Object.keys(U),x=Object.keys(F);for(const b of A){if(!x.includes(b))return!1;const V=U[b],oe=F[b];if(jt(V)&&jt(oe)){if(!lo(V,oe))return!1}else if(V!==oe)return!1}for(const b of x)if(!A.includes(b))return!1;return!0}function jt(U){return null!==U&&"object"==typeof U}function xi(U){const F=[];for(const[A,x]of Object.entries(U))Array.isArray(x)?x.forEach(b=>{F.push(encodeURIComponent(A)+"="+encodeURIComponent(b))}):F.push(encodeURIComponent(A)+"="+encodeURIComponent(x));return F.length?"&"+F.join("&"):""}function Pi(U){const F={};return U.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[b,V]=x.split("=");F[decodeURIComponent(b)]=decodeURIComponent(V)}}),F}function Us(U){const F=U.indexOf("?");if(!F)return"";const A=U.indexOf("#",F);return U.substring(F,A>0?A:void 0)}function es(U,F){const A=new Xr(U,F);return A.subscribe.bind(A)}class Xr{constructor(F,A){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=A,this.task.then(()=>{F(this)}).catch(x=>{this.error(x)})}next(F){this.forEachObserver(A=>{A.next(F)})}error(F){this.forEachObserver(A=>{A.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,A,x){let b;if(void 0===F&&void 0===A&&void 0===x)throw new Error("Missing Observer.");b=function Vr(U,F){if("object"!=typeof U||null===U)return!1;for(const A of F)if(A in U&&"function"==typeof U[A])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:A,complete:x},void 0===b.next&&(b.next=mn),void 0===b.error&&(b.error=mn),void 0===b.complete&&(b.complete=mn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?b.error(this.finalError):b.complete()}catch{}}),this.observers.push(b),V}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let A=0;A<this.observers.length;A++)this.sendOne(A,F)}sendOne(F,A){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{A(this.observers[F])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function uo(U){return U&&U._delegate?U._delegate:U}},378:(li,er,ct)=>{"use strict";function O(n){return"function"==typeof n}function C(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const q=C(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ze(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class dn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof q?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Sn(s)}catch(o){e=e??[],o instanceof q?e=[...e,...o.errors]:e.push(o)}}if(e)throw new q(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Sn(e);else{if(e instanceof dn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ze(t,e)}remove(e){const{_finalizers:t}=this;t&&Ze(t,e),e instanceof dn&&e._removeParent(this)}}dn.EMPTY=(()=>{const n=new dn;return n.closed=!0,n})();const on=dn.EMPTY;function mr(n){return n instanceof dn||n&&"closed"in n&&O(n.remove)&&O(n.add)&&O(n.unsubscribe)}function Sn(n){O(n)?n():n.unsubscribe()}const an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},de={setTimeout(n,e,...t){const{delegate:r}=de;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=de;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ie(n){de.setTimeout(()=>{const{onUnhandledError:e}=an;if(!e)throw n;e(n)})}function Ke(){}const vt=bt("C",void 0,void 0);function bt(n,e,t){return{kind:n,value:e,error:t}}let ft=null;function Ct(n){if(an.useDeprecatedSynchronousErrorHandling){const e=!ft;if(e&&(ft={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ft;if(ft=null,t)throw r}}else n()}class xn extends dn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mr(e)&&e.add(this)):this.destination=Bn}static create(e,t,r){return new Wn(e,t,r)}next(e){this.isStopped?sn(function or(n){return bt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?sn(function Wt(n){return bt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sn(vt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dt=Function.prototype.bind;function ln(n,e){return Dt.call(n,e)}class _r{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Nt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Nt(r)}else Nt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Nt(t)}}}class Wn extends xn{constructor(e,t,r){let i;if(super(),O(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&an.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ln(e.next,s),error:e.error&&ln(e.error,s),complete:e.complete&&ln(e.complete,s)}):i=e}this.destination=new _r(i)}}function Nt(n){an.useDeprecatedSynchronousErrorHandling?function Rn(n){an.useDeprecatedSynchronousErrorHandling&&ft&&(ft.errorThrown=!0,ft.error=n)}(n):Ie(n)}function sn(n,e){const{onStoppedNotification:t}=an;t&&de.setTimeout(()=>t(n,e))}const Bn={closed:!0,next:Ke,error:function Ce(n){throw n},complete:Ke},ar="function"==typeof Symbol&&Symbol.observable||"@@observable";function lr(n){return n}function Vs(n){return 0===n.length?lr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let St=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ee(n){return n&&n instanceof xn||function ao(n){return n&&O(n.next)&&O(n.error)&&O(n.complete)}(n)&&mr(n)}(t)?t:new Wn(t,r,i);return Ct(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Rr(r))((i,s)=>{const o=new Wn({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[ar](){return this}pipe(...t){return Vs(t)(this)}toPromise(t){return new(t=Rr(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Rr(n){var e;return null!==(e=n??an.Promise)&&void 0!==e?e:Promise}const te=C(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let se=(()=>{class n extends St{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ne(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new te}next(t){Ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?on:(this.currentObservers=null,s.push(t),new dn(()=>{this.currentObservers=null,Ze(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new St;return t.source=this,t}}return n.create=(e,t)=>new ne(e,t),n})();class ne extends se{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:on}}function ge(n){return O(n?.lift)}function ce(n){return e=>{if(ge(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(n,e,t,r,i){return new Kt(n,e,t,r,i)}class Kt extends xn{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(n,e){return ce((t,r)=>{let i=0;t.subscribe(xe(r,s=>{r.next(n.call(e,s,i++))}))})}var Je=ct(582);const un=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Pn(n){return O(n?.then)}function yn(n){return O(n[ar])}function Kn(n){return Symbol.asyncIterator&&O(n?.[Symbol.asyncIterator])}function Tn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jr=function tr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ur(n){return O(n?.[Jr])}function ps(n){return(0,Je.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Je.qq)(t.read());if(i)return yield(0,Je.qq)(void 0);yield yield(0,Je.qq)(r)}}finally{t.releaseLock()}})}function lo(n){return O(n?.getReader)}function jt(n){if(n instanceof St)return n;if(null!=n){if(yn(n))return function xr(n){return new St(e=>{const t=n[ar]();if(O(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(un(n))return function xi(n){return new St(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Pn(n))return function Pi(n){return new St(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ie)})}(n);if(Kn(n))return Pr(n);if(ur(n))return function Us(n){return new St(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(lo(n))return function es(n){return Pr(ps(n))}(n)}throw Tn(n)}function Pr(n){return new St(e=>{(function Xr(n,e){var t,r,i,s;return(0,Je.mG)(this,void 0,void 0,function*(){try{for(t=(0,Je.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function zr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function mn(n,e,t=1/0){return O(e)?mn((r,i)=>Ne((s,o)=>e(r,s,i,o))(jt(n(r,i))),t):("number"==typeof e&&(t=e),ce((r,i)=>function Vr(n,e,t,r,i,s,o,a){const u=[];let d=0,p=0,y=!1;const I=()=>{y&&!u.length&&!d&&e.complete()},w=M=>d<r?R(M):u.push(M),R=M=>{s&&e.next(M),d++;let L=!1;jt(t(M,p++)).subscribe(xe(e,G=>{i?.(G),s?w(G):e.next(G)},()=>{L=!0},void 0,()=>{if(L)try{for(d--;u.length&&d<r;){const G=u.shift();o?zr(e,o,()=>R(G)):R(G)}I()}catch(G){e.error(G)}}))};return n.subscribe(xe(e,w,()=>{y=!0,I()})),()=>{a?.()}}(r,i,n,t)))}function Ii(n=1/0){return mn(lr,n)}const nr=new St(n=>n.complete());function Zn(n){return n&&O(n.schedule)}function gs(n){return n[n.length-1]}function ms(n){return O(gs(n))?n.pop():void 0}function Bs(n){return Zn(gs(n))?n.pop():void 0}function Br(n,e=0){return ce((t,r)=>{t.subscribe(xe(r,i=>zr(r,n,()=>r.next(i),e),()=>zr(r,n,()=>r.complete(),e),i=>zr(r,n,()=>r.error(i),e)))})}function ui(n,e=0){return ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function uo(n,e){if(!n)throw new Error("Iterable cannot be null");return new St(t=>{zr(t,e,()=>{const r=n[Symbol.asyncIterator]();zr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function A(n,e){return e?function F(n,e){if(null!=n){if(yn(n))return function Mi(n,e){return jt(n).pipe(ui(e),Br(e))}(n,e);if(un(n))return function la(n,e){return new St(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Pn(n))return function vl(n,e){return jt(n).pipe(ui(e),Br(e))}(n,e);if(Kn(n))return uo(n,e);if(ur(n))return function Ga(n,e){return new St(t=>{let r;return zr(t,e,()=>{r=n[Jr](),zr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}(n,e);if(lo(n))return function U(n,e){return uo(ps(n),e)}(n,e)}throw Tn(n)}(n,e):jt(n)}function x(...n){const e=Bs(n),t=function Ur(n,e){return"number"==typeof gs(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?jt(r[0]):Ii(t)(A(r,e)):nr}class b extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function V(...n){return A(n,Bs(n))}function oe(n={}){const{connector:e=(()=>new se),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,d=0,p=!1,y=!1;const I=()=>{a?.unsubscribe(),a=void 0},w=()=>{I(),o=u=void 0,p=y=!1},R=()=>{const M=o;w(),M?.unsubscribe()};return ce((M,L)=>{d++,!y&&!p&&I();const G=u=u??e();L.add(()=>{d--,0===d&&!y&&!p&&(a=$e(R,i))}),G.subscribe(L),!o&&d>0&&(o=new Wn({next:$=>G.next($),error:$=>{y=!0,I(),a=$e(w,t,$),G.error($)},complete:()=>{p=!0,I(),a=$e(w,r),G.complete()}}),jt(M).subscribe(o))})(s)}}function $e(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Wn({next:()=>{r.unsubscribe(),n()}});return jt(e(...t)).subscribe(r)}function ze(n,e){return ce((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(xe(r,u=>{i?.unsubscribe();let d=0;const p=s++;jt(n(u,p)).subscribe(i=xe(r,y=>r.next(e?e(u,y,p,d++):y),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function mt(n,e=lr){return n=n??cn,ce((t,r)=>{let i,s=!0;t.subscribe(xe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function cn(n,e){return n===e}function Ve(n){for(let e in n)if(n[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function An(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function qr(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ua=Ve({__forward_ref__:Ve});function Y(n){return n.__forward_ref__=Y,n.toString=function(){return Xe(this())},n}function j(n){return we(n)?n():n}function we(n){return"function"==typeof n&&n.hasOwnProperty(ua)&&n.__forward_ref__===Y}function Qe(n){return n&&!!n.\u0275providers}const zt="https://g.co/ng/security#xss";class W extends Error{constructor(e,t){super(function yr(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function je(n){return"string"==typeof n?n:null==n?"":String(n)}function Mc(n,e){throw new W(-201,!1)}function ci(n,e){null==n&&function gt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function He(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Mn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ro(n){return _h(n,Ka)||_h(n,Tu)}function _h(n,e){return n.hasOwnProperty(e)?n[e]:null}function El(n){return n&&(n.hasOwnProperty(Nc)||n.hasOwnProperty(b_))?n[Nc]:null}const Ka=Ve({\u0275prov:Ve}),Nc=Ve({\u0275inj:Ve}),Tu=Ve({ngInjectableDef:Ve}),b_=Ve({ngInjectorDef:Ve});var qt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(qt||{});let yh;function bu(){return yh}function Ni(n){const e=yh;return yh=n,e}function kc(n,e,t){const r=Ro(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&qt.Optional?null:void 0!==e?e:void Mc(Xe(n))}const Dn=globalThis,ts={},wl="__NG_DI_FLAG__",Fc="ngTempTokenPath",Rp=/\n/gm,Eh="__source";let co;function Hs(n){const e=co;return co=n,e}function xp(n,e=qt.Default){if(void 0===co)throw new W(-203,!1);return null===co?kc(n,void 0,e):co.get(n,e&qt.Optional?null:void 0,e)}function Te(n,e=qt.Default){return(bu()||xp)(j(n),e)}function Me(n,e=qt.Default){return Te(n,Du(e))}function Du(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ei(n){const e=[];for(let t=0;t<n.length;t++){const r=j(n[t]);if(Array.isArray(r)){if(0===r.length)throw new W(900,!1);let i,s=qt.Default;for(let o=0;o<r.length;o++){const a=r[o],u=$s(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Te(i,s))}else e.push(Te(r))}return e}function xo(n,e){return n[wl]=e,n.prototype[wl]=e,n}function $s(n){return n[wl]}function vr(n){return{toString:n}.toString()}var js=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(js||{}),ki=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ki||{});const hn={},Gt=[],Tl=Ve({\u0275cmp:Ve}),ca=Ve({\u0275dir:Ve}),Ru=Ve({\u0275pipe:Ve}),xu=Ve({\u0275mod:Ve}),Po=Ve({\u0275fac:Ve}),bl=Ve({__NG_ELEMENT_ID__:Ve}),Pu=Ve({__NG_ENV_ID__:Ve});function di(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Mo(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Mu(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Pp(n){return 3===n||4===n||6===n}function Mu(n){return 64===n.charCodeAt(0)}function Oo(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Ou(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Ou(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const Nu="ng-template";function Mp(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==di(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Vc(n){return 4===n.type&&n.value!==Nu}function ku(n,e,t){return e===(4!==n.type||t?n.value:Nu)}function Lu(n,e,t){let r=4;const i=n.attrs||[],s=function Cl(n){for(let e=0;e<n.length;e++)if(Pp(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ku(n,u,t)||""===u&&1===e.length){if(Li(r))return!1;o=!0}}else{const d=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!Mp(n.attrs,d,t)){if(Li(r))return!1;o=!0}continue}const y=Uc(8&r?"class":u,i,Vc(n),t);if(-1===y){if(Li(r))return!1;o=!0;continue}if(""!==d){let I;I=y>s?"":i[y+1].toLowerCase();const w=8&r?I:null;if(w&&-1!==di(w,d,0)||2&r&&d!==I){if(Li(r))return!1;o=!0}}}}else{if(!o&&!Li(r)&&!Li(u))return!1;if(o&&Li(u))continue;o=!1,r=u|1&r}}return Li(r)||o}function Li(n){return 0==(1&n)}function Uc(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Bc(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function wi(n,e,t=!1){for(let r=0;r<e.length;r++)if(Lu(n,e[r],t))return!0;return!1}function Vu(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Hc(n,e){return n?":not("+e.trim()+")":e}function Op(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Li(o)&&(e+=Hc(s,i),i=""),r=o,s=s||!Li(r);t++}return""!==i&&(e+=Hc(s,i)),e}function Ir(n){return vr(()=>{const e=$c(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===js.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ki.Emulated,styles:n.styles||Gt,_:null,schemas:n.schemas||null,tView:null,id:""};kp(t);const r=n.dependencies;return t.directiveDefs=Dl(r,!1),t.pipeDefs=Dl(r,!0),t.id=function Ch(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function bh(n){return nn(n)||Hr(n)}function C_(n){return null!==n}function On(n){return vr(()=>({type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zs(n,e){if(null==n)return hn;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function st(n){return vr(()=>{const e=$c(n);return kp(e),e})}function nn(n){return n[Tl]||null}function Hr(n){return n[ca]||null}function Mr(n){return n[Ru]||null}function Fi(n,e){const t=n[xu]||null;if(!t&&!0===e)throw new Error(`Type ${Xe(n)} does not have '\u0275mod' property.`);return t}function $c(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||hn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zs(n.inputs,e),outputs:zs(n.outputs)}}function kp(n){n.features?.forEach(e=>e(n))}function Dl(n,e){if(!n)return null;const t=e?Mr:bh;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(C_)}const jn=0,N=1,K=2,Z=3,ke=4,It=5,Et=6,Qn=7,At=8,ys=9,Rl=10,et=11,da=12,jc=13,qs=14,Vn=15,ha=16,rn=17,fo=18,fa=19,Uu=20,po=21,No=22,Bu=23,ko=24,Rt=25,Lo=1,xl=2,Gs=7,Fo=9,Er=11;function hi(n){return Array.isArray(n)&&"object"==typeof n[Lo]}function Vi(n){return Array.isArray(n)&&!0===n[Lo]}function ju(n){return 0!=(4&n.flags)}function Qa(n){return n.componentOffset>-1}function Ya(n){return 1==(1&n.flags)}function ns(n){return!!n.template}function zc(n){return 0!=(512&n[K])}function ga(n,e){return n.hasOwnProperty(Po)?n[Po]:null}const go=Symbol("SIGNAL");function Bp(n,e){return(null===n||"object"!=typeof n)&&Object.is(n,e)}let S=null,rs=!1;function Ti(n){const e=S;return S=n,e}const fn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Xt(n){if(rs)throw new Error("");if(null===S)return;const e=S.nextProducerIndex++;kl(S),e<S.producerNode.length&&S.producerNode[e]!==n&&_a(S)&&fi(S.producerNode[e],S.producerIndexOfThis[e]),S.producerNode[e]!==n&&(S.producerNode[e]=n,S.producerIndexOfThis[e]=_a(S)?Dh(n,S,e):0),S.producerLastReadVersion[e]=n.version}function Wc(n){if(!_a(n)||n.dirty){if(!n.producerMustRecompute(n)&&!$p(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Hp(n){if(void 0===n.liveConsumerNode)return;const e=rs;rs=!0;try{for(const t of n.liveConsumerNode)t.dirty||ma(t)}finally{rs=e}}function zu(){return!1!==S?.consumerAllowSignalWrites}function ma(n){n.dirty=!0,Hp(n),n.consumerMarkedDirty?.(n)}function Ah(n){return n&&(n.nextProducerIndex=0),Ti(n)}function Kc(n,e){if(Ti(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(_a(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)fi(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $p(n){kl(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Wc(t),r!==t.version))return!0}return!1}function qu(n){if(kl(n),_a(n))for(let e=0;e<n.producerNode.length;e++)fi(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Dh(n,e,t){if(Zc(n),kl(n),0===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Dh(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function fi(n,e){if(Zc(n),kl(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)fi(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];kl(i),i.producerIndexOfThis[r]=e}}function _a(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function kl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Zc(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let qp=function x_(){throw new Error};function Gp(){qp()}let xh=null;function Ph(n,e){const t=Object.create(P_);function r(){return Xt(t),t.value}return t.value=n,e?.equal&&(t.equal=e.equal),r.set=Gu,r.update=M_,r.mutate=O_,r.asReadonly=Kp,r[go]=t,r}const P_=(()=>({...fn,equal:Bp,readonlyFn:void 0}))();function Wp(n){n.version++,Hp(n),xh?.()}function Gu(n){const e=this[go];zu()||Gp(),e.equal(e.value,n)||(e.value=n,Wp(e))}function M_(n){zu()||Gp(),Gu.call(this,n(this[go].value))}function O_(n){const e=this[go];zu()||Gp(),n(e.value),Wp(e)}function Kp(){const n=this[go];if(void 0===n.readonlyFn){const e=()=>this();e[go]=n,n.readonlyFn=e}return n.readonlyFn}const Zp=()=>{},Mh=(()=>({...fn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Zp}))();class Yc{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ui(){return Oh}function Oh(n){return n.type.prototype.ngOnChanges&&(n.setInput=Vo),k_}function k_(){const n=Ia(this),e=n?.current;if(e){const t=n.previous;if(t===hn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Vo(n,e,t,r){const i=this.declaredInputs[t],s=Ia(n)||function Bi(n,e){return n[Ll]=e}(n,{previous:hn,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Yc(u&&u.currentValue,e,a===hn),n[r]=e}Ui.ngInherit=!0;const Ll="__ngSimpleChanges__";function Ia(n){return n[Ll]||null}const Ws=function(n,e,t){};function bn(n){for(;Array.isArray(n);)n=n[jn];return n}function Uo(n,e){return bn(e[n])}function Hi(n,e){return bn(e[n.index])}function Or(n,e){return n.data[e]}function $i(n,e){const t=e[n];return hi(t)?t:t[jn]}function ji(n,e){return null==e?null:n[e]}function Lh(n){n[rn]=0}function ti(n){1024&n[K]||(n[K]|=1024,ed(n,1))}function Xc(n){1024&n[K]&&(n[K]&=-1025,ed(n,-1))}function ed(n,e){let t=n[Z];if(null===t)return;t[It]+=e;let r=t;for(t=t[Z];null!==t&&(1===e&&1===r[It]||-1===e&&0===r[It]);)t[It]+=e,r=t,t=t[Z]}function Qp(n,e){if(256==(256&n[K]))throw new W(911,!1);null===n[po]&&(n[po]=[]),n[po].push(e)}const pt={lFrame:rd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ca(){return pt.bindingsEnabled}function Sa(){return null!==pt.skipHydrationRootTNode}function ye(){return pt.lFrame.lView}function en(){return pt.lFrame.tView}function ot(n){return pt.lFrame.contextLView=n,n[At]}function dt(n){return pt.lFrame.contextLView=null,n}function br(){let n=Bh();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bh(){return pt.lFrame.currentTNode}function is(n,e){const t=pt.lFrame;t.currentTNode=n,t.isParent=e}function Vl(){return pt.lFrame.isParent}function Qu(){pt.lFrame.isParent=!1}function Wr(){const n=pt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Aa(){return pt.lFrame.bindingIndex++}function Is(n){const e=pt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Ft(n,e){const t=pt.lFrame;t.bindingIndex=t.bindingRootIndex=n,jh(e)}function jh(n){pt.lFrame.currentDirectiveIndex=n}function Xu(){return pt.lFrame.currentQueryIndex}function zh(n){pt.lFrame.currentQueryIndex=n}function H_(n){const e=n[N];return 2===e.type?e.declTNode:1===e.type?n[Et]:null}function zi(n,e,t){if(t&qt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&qt.Host||(i=H_(s),null===i||(s=s[qs],10&i.type))););if(null===i)return!1;e=i,n=s}const r=pt.lFrame=Da();return r.currentTNode=e,r.lView=n,!0}function qh(n){const e=Da(),t=n[N];pt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Da(){const n=pt.lFrame,e=null===n?null:n.child;return null===e?rd(n):e}function rd(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Gh(){const n=pt.lFrame;return pt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Wh=Gh;function bi(){const n=Gh();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pi(){return pt.lFrame.selectedIndex}function yo(n){pt.lFrame.selectedIndex=n}function Un(){const n=pt.lFrame;return Or(n.tView,n.selectedIndex)}function Ho(){pt.lFrame.currentNamespace="svg"}let Yh=!0;function Ks(){return Yh}function jo(n){Yh=n}function Ul(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=p&&(n.destroyHooks??=[]).push(t,p)}}function id(n,e,t){Jh(n,e,3,t)}function Bl(n,e,t,r){(3&n[K])===t&&Jh(n,e,t,r)}function ec(n,e){let t=n[K];(3&t)===e&&(t&=8191,t+=1,n[K]=t)}function Jh(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[rn]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[rn]+=65536),(a<s||-1==s)&&($_(n,t,e,u),n[rn]=(4294901760&n[rn])+u+2),u++}function tc(n,e){Ws(4,n,e);const t=Ti(null);try{e.call(n)}finally{Ti(t),Ws(5,n,e)}}function $_(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[K]>>13<n[rn]>>16&&(3&n[K])===e&&(n[K]+=8192,tc(a,s)):tc(a,s)}const xa=-1;class Hl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Xh(n){return n!==xa}function $l(n){return 32767&n}function Go(n,e){let t=function jl(n){return n>>16}(n),r=e;for(;t>0;)r=r[qs],t--;return r}let ef=!0;function zl(n){const e=ef;return ef=n,e}const sd=255,m=5;let h=0;const f={};function E(n,e){const t=H(n,e);if(-1!==t)return t;const r=e[N];r.firstCreatePass&&(n.injectorIndex=e.length,D(r.data,n),D(e,null),D(r.blueprint,null));const i=X(n,e),s=n.injectorIndex;if(Xh(i)){const o=$l(i),a=Go(i,e),u=a[N].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function D(n,e){n.push(0,0,0,0,0,0,0,0,e)}function H(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function X(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Wl(i),null===r)return xa;if(t++,i=i[qs],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return xa}function ve(n,e,t){!function _(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bl)&&(r=t[bl]),null==r&&(r=t[bl]=h++);const i=r&sd;e.data[n+(i>>m)]|=1<<i}(n,e,t)}function rt(n,e,t){if(t&qt.Optional||void 0!==n)return n;Mc()}function Mt(n,e,t,r){if(t&qt.Optional&&void 0===r&&(r=null),!(t&(qt.Self|qt.Host))){const i=n[ys],s=Ni(void 0);try{return i?i.get(e,r,t&qt.Optional):kc(e,r,t&qt.Optional)}finally{Ni(s)}}return rt(r,0,t)}function mi(n,e,t,r=qt.Default,i){if(null!==n){if(2048&e[K]&&!(r&qt.Self)){const o=function tf(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[K]&&!(512&o[K]);){const a=vo(s,o,t,r|qt.Self,f);if(a!==f)return a;let u=s.parent;if(!u){const d=o[Uu];if(d){const p=d.get(t,f,r);if(p!==f)return p}u=Wl(o),o=o[qs]}s=u}return i}(n,e,t,r,f);if(o!==f)return o}const s=vo(n,e,t,r,f);if(s!==f)return s}return Mt(e,t,r,i)}function vo(n,e,t,r,i){const s=function og(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(bl)?n[bl]:void 0;return"number"==typeof e?e>=0?e&sd:el:e}(t);if("function"==typeof s){if(!zi(e,n,r))return r&qt.Host?rt(i,0,r):Mt(e,t,r,i);try{let o;if(o=s(r),null!=o||r&qt.Optional)return o;Mc()}finally{Wh()}}else if("number"==typeof s){let o=null,a=H(n,e),u=xa,d=r&qt.Host?e[Vn][Et]:null;for((-1===a||r&qt.SkipSelf)&&(u=-1===a?X(n,e):e[a+8],u!==xa&&Gl(r,!1)?(o=e[N],a=$l(u),e=Go(u,e)):a=-1);-1!==a;){const p=e[N];if(Zs(s,a,p.data)){const y=od(a,e,t,o,r,d);if(y!==f)return y}u=e[a+8],u!==xa&&Gl(r,e[N].data[a+8]===d)&&Zs(s,a,e)?(o=p,a=$l(u),e=Go(u,e)):a=-1}}return i}function od(n,e,t,r,i,s){const o=e[N],a=o.data[n+8],p=ql(a,o,t,null==r?Qa(a)&&ef:r!=o&&0!=(3&a.type),i&qt.Host&&s===a);return null!==p?Wo(e,o,p,a):f}function ql(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,p=s>>20,I=i?a+p:n.directiveEnd;for(let w=r?a:a+p;w<I;w++){const R=o[w];if(w<u&&t===R||w>=u&&R.type===t)return w}if(i){const w=o[u];if(w&&ns(w)&&w.type===t)return u}return null}function Wo(n,e,t,r){let i=n[t];const s=e.data;if(function gi(n){return n instanceof Hl}(i)){const o=i;o.resolving&&function Eu(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new W(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Zt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():je(n)}(s[t]));const a=zl(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?Ni(o.injectImpl):null;zi(n,r,qt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function tg(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Oh(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==d&&Ni(d),zl(a),o.resolving=!1,Wh()}}return i}function Zs(n,e,t){return!!(t[e+(n>>m)]&1<<n)}function Gl(n,e){return!(n&qt.Self||n&qt.Host&&e)}class Nr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return mi(this._tNode,this._lView,e,Du(r),t)}}function el(){return new Nr(br(),ye())}function Ue(n){return vr(()=>{const e=n.prototype.constructor,t=e[Po]||Ma(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Po]||Ma(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ma(n){return we(n)?()=>{const e=Ma(j(n));return e&&e()}:ga(n)}function Wl(n){const e=n[N],t=e.type;return 2===t?e.declTNode:1===t?n[Et]:null}const rc="__parameters__";function ic(n,e,t){return vr(()=>{const r=function z_(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,d,p){const y=u.hasOwnProperty(rc)?u[rc]:Object.defineProperty(u,rc,{value:[]})[rc];for(;y.length<=p;)y.push(null);return(y[p]=y[p]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function cd(n,e){n.forEach(t=>Array.isArray(t)?cd(t,e):e(t))}function TE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function lg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function dd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Ci(n,e,t){let r=sc(n,e);return r>=0?n[1|r]=t:(r=~r,function G_(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function rf(n,e){const t=sc(n,e);if(t>=0)return n[1|t]}function sc(n,e){return function sf(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const af=xo(ic("Optional"),8),cg=xo(ic("SkipSelf"),4);function pg(n){return 128==(128&n.flags)}var Ql=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ql||{});const Y_=/^>|^->|<!--|-->|--!>|<!-$/g,UE=/(<|>)/g,IC="\u200b$1\u200b";const J_=new Map;let EC=0;const X_="__ngContext__";function qi(n,e){hi(e)?(n[X_]=e[fa],function TC(n){J_.set(n[fa],n)}(e)):n[X_]=e}let ey;function ty(n,e){return ey(n,e)}function gd(n){const e=n[Z];return Vi(e)?e[Z]:e}function QE(n){return df(n[da])}function YE(n){return df(n[ke])}function df(n){for(;null!==n&&!Vi(n);)n=n[ke];return n}function md(n,e,t,r,i){if(null!=r){let s,o=!1;Vi(r)?s=r:hi(r)&&(o=!0,r=r[jn]);const a=bn(r);0===n&&null!==t?null==i?e0(e,t,a):Yl(e,t,a,i||null,!0):1===n&&null!==t?Yl(e,t,a,i||null,!0):2===n?function bg(n,e,t){const r=ac(n,e);r&&function VC(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Ko(n,e,t,r,i){const s=t[Gs];s!==bn(t)&&md(e,n,r,s,i);for(let a=Er;a<t.length;a++){const u=t[a];pf(u[N],u,n,e,r,s)}}(e,n,s,t,i)}}function ny(n,e){return n.createComment(function BE(n){return n.replace(Y_,e=>e.replace(UE,IC))}(e))}function _g(n,e,t){return n.createElement(e,t)}function hf(n,e){const t=n[Fo],r=t.indexOf(e);Xc(e),t.splice(r,1)}function yg(n,e){if(n.length<=Er)return;const t=Er+e,r=n[t];if(r){const i=r[ha];null!==i&&i!==n&&hf(i,r),e>0&&(n[t-1][ke]=r[ke]);const s=lg(n,Er+e);!function MC(n,e){pf(n,e,e[et],2,null,null),e[jn]=null,e[Et]=null}(r[N],r);const o=s[fo];null!==o&&o.detachView(s[N]),r[Z]=null,r[ke]=null,r[K]&=-129}return r}function vg(n,e){if(!(256&e[K])){const t=e[et];e[Bu]&&qu(e[Bu]),e[ko]&&qu(e[ko]),t.destroyNode&&pf(n,e,t,3,null,null),function kC(n){let e=n[da];if(!e)return Ig(n[N],n);for(;e;){let t=null;if(hi(e))t=e[da];else{const r=e[Er];r&&(t=r)}if(!t){for(;e&&!e[ke]&&e!==n;)hi(e)&&Ig(e[N],e),e=e[Z];null===e&&(e=n),hi(e)&&Ig(e[N],e),t=e&&e[ke]}e=t}}(e)}}function Ig(n,e){if(!(256&e[K])){e[K]&=-129,e[K]|=256,function XE(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Hl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Ws(4,a,u);try{u.call(a)}finally{Ws(5,a,u)}}else{Ws(4,i,s);try{s.call(i)}finally{Ws(5,i,s)}}}}}(n,e),function ry(n,e){const t=n.cleanup,r=e[Qn];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Qn]=null);const i=e[po];if(null!==i){e[po]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[N].type&&e[et].destroy();const t=e[ha];if(null!==t&&Vi(e[Z])){t!==e[Z]&&hf(t,e);const r=e[fo];null!==r&&r.detachView(n)}!function bC(n){J_.delete(n[fa])}(e)}}function Eg(n,e,t){return function iy(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[jn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===ki.None||s===ki.Emulated)return null}return Hi(r,t)}}(n,e.parent,t)}function Yl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function e0(n,e,t){n.appendChild(e,t)}function t0(n,e,t,r,i){null!==r?Yl(n,e,t,r,i):e0(n,e,t)}function ac(n,e){return n.parentNode(e)}function n0(n,e,t){return oy(n,e,t)}let ay,Cg,cy,yd,oy=function wg(n,e,t){return 40&n.type?Hi(n,t):null};function Tg(n,e,t,r){const i=Eg(n,r,e),s=e[et],a=n0(r.parent||e[Et],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)t0(s,i,t[u],a,!1);else t0(s,i,t,a,!1);void 0!==ay&&ay(s,r,e,t,i)}function ff(n,e){if(null!==e){const t=e.type;if(3&t)return Hi(e,n);if(4&t)return ly(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ff(n,r);{const i=n[e.index];return Vi(i)?ly(-1,i):bn(i)}}if(32&t)return ty(e,n)()||bn(n[e.index]);{const r=s0(n,e);return null!==r?Array.isArray(r)?r[0]:ff(gd(n[Vn]),r):ff(n,e.next)}}return null}function s0(n,e){return null!==e?n[Vn][Et].projection[e.projection]:null}function ly(n,e){const t=Er+n+1;if(t<e.length){const r=e[t],i=r[N].firstChild;if(null!==i)return ff(r,i)}return e[Gs]}function uy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&qi(bn(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)uy(n,e,t.child,r,i,s,!1),md(e,n,i,a,s);else if(32&u){const d=ty(t,r);let p;for(;p=d();)md(e,n,i,p,s);md(e,n,i,a,s)}else 16&u?a0(n,e,r,t,i,s):md(e,n,i,a,s);t=o?t.projectionNext:t.next}}function pf(n,e,t,r,i,s){uy(t,r,n.firstChild,e,i,s,!1)}function a0(n,e,t,r,i,s){const o=t[Vn],u=o[Et].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)md(e,n,i,u[d],s);else{let d=u;const p=o[Z];pg(r)&&(d.flags|=128),uy(n,e,d,p,i,s,!0)}}function Jl(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kt(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Mo(n,e,r),null!==i&&Jl(n,e,i),null!==s&&function $C(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Yn(n){return function Gi(){if(void 0===Cg&&(Cg=null,Dn.trustedTypes))try{Cg=Dn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cg}()?.createHTML(n)||n}function _d(){if(void 0!==cy)return cy;if(typeof document<"u")return document;throw new W(210,!1)}function dy(){if(void 0===yd&&(yd=null,Dn.trustedTypes))try{yd=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yd}function Na(n){return dy()?.createHTML(n)||n}function gf(n){return dy()?.createScriptURL(n)||n}class cr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zt})`}}function eu(n){return n instanceof cr?n.changingThisBreaksApplicationSecurity:n}function mf(n,e){const t=function ZC(n){return n instanceof cr&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${zt})`)}return t===e}class Qs{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Yn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class vd{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Yn(e),t}}const XC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fy(n){return(n=String(n)).match(XC)?n:"unsafe:"+n}function tl(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function yf(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const py=tl("area,br,col,hr,img,wbr"),ka=tl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bt=tl("rp,rt"),gy=yf(py,yf(ka,tl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yf(Bt,tl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yf(Bt,ka)),In=tl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vf=yf(In,tl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rS=tl("script,style,template");class iS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!gy.hasOwnProperty(t))return this.sanitizedSomething=!0,!rS.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!vf.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;In[a]&&(u=fy(u)),this.buf.push(" ",o,'="',c0(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();gy.hasOwnProperty(t)&&!py.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(c0(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const sS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oS=/([^\#-~ |!])/g;function c0(n){return n.replace(/&/g,"&amp;").replace(sS,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(oS,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ag;function my(n){return"content"in n&&function lS(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Id=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Id||{});function _y(n){const e=If();return e?Na(e.sanitize(Id.HTML,n)||""):mf(n,"HTML")?Na(eu(n)):function aS(n,e){let t=null;try{Ag=Ag||function _f(n){const e=new vd(n);return function JC(){try{return!!(new window.DOMParser).parseFromString(Yn(""),"text/html")}catch{return!1}}()?new Qs(e):e}(n);let r=e?String(e):"";t=Ag.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Ag.getInertBodyElement(r)}while(r!==s);return Yn((new iS).sanitizeChildren(my(t)||t))}finally{if(t){const r=my(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(_d(),je(n))}function Dg(n){const e=If();return e?e.sanitize(Id.URL,n)||"":mf(n,"URL")?eu(n):fy(je(n))}function Rg(n){const e=If();if(e)return gf(e.sanitize(Id.RESOURCE_URL,n)||"");if(mf(n,"ResourceURL"))return gf(eu(n));throw new W(904,!1)}function If(){const n=ye();return n&&n[Rl].sanitizer}class Oe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=He({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ef=new Oe("ENVIRONMENT_INITIALIZER"),vy=new Oe("INJECTOR",-1),h0=new Oe("INJECTOR_DEF_TYPES");class Iy{get(e,t=ts){if(t===ts){const r=new Error(`NullInjectorError: No provider for ${Xe(e)}!`);throw r.name="NullInjectorError",r}return t}}function f0(...n){return{\u0275providers:p0(0,n),\u0275fromNgModule:!0}}function p0(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return cd(e,o=>{const a=o;xg(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&g0(i,s),t}function g0(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Pg(i,s=>{e(s,r)})}}function xg(n,e,t,r){if(!(n=j(n)))return!1;let i=null,s=El(n);const o=!s&&nn(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=El(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const d of u)xg(d,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let d;r.add(i);try{cd(s.imports,p=>{xg(p,e,t,r)&&(d||=[],d.push(p))})}finally{}void 0!==d&&g0(d,e)}if(!a){const d=ga(i)||(()=>new i);e({provide:i,useFactory:d,deps:Gt},i),e({provide:h0,useValue:i,multi:!0},i),e({provide:Ef,useValue:()=>Te(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const d=n;Pg(u,p=>{e(p,d)})}}}return i!==n&&void 0!==n.providers}function Pg(n,e){for(let t of n)Qe(t)&&(t=t.\u0275providers),Array.isArray(t)?Pg(t,e):e(t)}const pS=Ve({provide:String,useValue:Ve});function wy(n){return null!==n&&"object"==typeof n&&pS in n}function Eo(n){return"function"==typeof n}const Ty=new Oe("Set Injector scope."),Mg={},mS={};let by;function wf(){return void 0===by&&(by=new Iy),by}class Ts{}class Og extends Ts{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sy(e,o=>this.processProvider(o)),this.records.set(vy,Ed(void 0,this)),i.has("environment")&&this.records.set(Ts,Ed(void 0,this));const s=this.records.get(Ty);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(h0.multi,Gt,qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Hs(this),r=Ni(void 0);try{return e()}finally{Hs(t),Ni(r)}}get(e,t=ts,r=qt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Pu))return e[Pu](this);r=Du(r);const s=Hs(this),o=Ni(void 0);try{if(!(r&qt.SkipSelf)){let u=this.records.get(e);if(void 0===u){const d=function ES(n){return"function"==typeof n||"object"==typeof n&&n instanceof Oe}(e)&&Ro(e);u=d&&this.injectableDefInScope(d)?Ed(Cy(e),Mg):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&qt.Self?wf():this.parent).get(e,t=r&qt.Optional&&t===ts?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Fc]=a[Fc]||[]).unshift(Xe(e)),s)throw a;return function wh(n,e,t,r){const i=n[Fc];throw e[Eh]&&i.unshift(e[Eh]),n.message=function ho(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Xe(e);if(Array.isArray(e))i=e.map(Xe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Xe(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Rp,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Fc]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ni(o),Hs(s)}}resolveInjectorInitializers(){const e=Hs(this),t=Ni(void 0);try{const i=this.get(Ef.multi,Gt,qt.Self);for(const s of i)s()}finally{Hs(e),Ni(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Xe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){let t=Eo(e=j(e))?e:j(e&&e.provide);const r=function yS(n){return wy(n)?Ed(void 0,n.useValue):Ed(y0(n),Mg)}(e);if(Eo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ed(void 0,Mg,!0),i.factory=()=>Ei(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Mg&&(t.value=mS,t.value=t.factory()),"object"==typeof t.value&&t.value&&function IS(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=j(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Cy(n){const e=Ro(n),t=null!==e?e.factory:ga(n);if(null!==t)return t;if(n instanceof Oe)throw new W(204,!1);if(n instanceof Function)return function _S(n){const e=n.length;if(e>0)throw dd(e,"?"),new W(204,!1);const t=function Il(n){return n&&(n[Ka]||n[Tu])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new W(204,!1)}function y0(n,e,t){let r;if(Eo(n)){const i=j(n);return ga(i)||Cy(i)}if(wy(n))r=()=>j(n.useValue);else if(function _0(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ei(n.deps||[]));else if(function m0(n){return!(!n||!n.useExisting)}(n))r=()=>Te(j(n.useExisting));else{const i=j(n&&(n.useClass||n.provide));if(!function vS(n){return!!n.deps}(n))return ga(i)||Cy(i);r=()=>new i(...Ei(n.deps))}return r}function Ed(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Sy(n,e){for(const t of n)Array.isArray(t)?Sy(t,e):t&&Qe(t)?Sy(t.\u0275providers,e):e(t)}const Ng=new Oe("AppId",{providedIn:"root",factory:()=>wS}),wS="ng",v0=new Oe("Platform Initializer"),bs=new Oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),I0=new Oe("AnimationModuleType"),E0=new Oe("CSP nonce",{providedIn:"root",factory:()=>_d().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let w0=(n,e,t)=>null;function My(n,e,t=!1){return w0(n,e,t)}class Ly{}class $g{}class xS{resolveComponentFactory(e){throw function RS(n){const e=Error(`No component factory found for ${Xe(n)}.`);return e.ngComponent=n,e}(e)}}let jg=(()=>{class n{static#e=this.NULL=new xS}return n})();function PS(){return Cd(br(),ye())}function Cd(n,e){return new ri(Hi(n,e))}let ri=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=PS}return n})();function MS(n){return n instanceof ri?n.nativeElement:n}class Cf{}let Cs=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function OS(){const n=ye(),t=$i(br().index,n);return(hi(t)?t:n)[et]}()}return n})(),NS=(()=>{class n{static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:()=>null})}return n})();class Sd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const S0=new Sd("16.2.9"),Fy={};function k(n,e=null,t=null,r){const i=B(n,e,t,r);return i.resolveInjectorInitializers(),i}function B(n,e=null,t=null,r,i=new Set){const s=[t||Gt,f0(n)];return r=r||("object"==typeof n?void 0:Xe(n)),new Og(s,e||wf(),r||null,i)}let z=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=ts;static#t=this.NULL=new Iy;static create(t,r){if(Array.isArray(t))return k({name:""},r,t,"");{const i=t.name??"";return k({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=He({token:n,providedIn:"any",factory:()=>Te(vy)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function Se(n){return n.ngOriginalError}class Pe{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Se(e);for(;t&&Se(t);)t=Se(t);return t||null}}let Ye=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Qt;static#t=this.__NG_ENV_ID__=t=>t}return n})();class wt extends Ye{constructor(e){super(),this._lView=e}onDestroy(e){return Qp(this._lView,e),()=>function Fh(n,e){if(null===n[po])return;const t=n[po].indexOf(e);-1!==t&&n[po].splice(t,1)}(this._lView,e)}}function Qt(){return new wt(ye())}function tn(n){return e=>{setTimeout(n,void 0,e)}}const We=class Tt extends se{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=tn(s),i&&(i=tn(i)),o&&(o=tn(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof dn&&e.add(a),a}};function Ss(...n){}class ht{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function os(){const n="function"==typeof Dn.requestAnimationFrame;let e=Dn[n?"requestAnimationFrame":"setTimeout"],t=Dn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function pH(n){const e=()=>{!function D0(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Dn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,FS(n),n.isCheckStableRunning=!0,Yo(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),FS(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function mH(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return RM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),xM(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return RM(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),xM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,FS(n),Yo(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ht.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(ht.isInAngularZone())throw new W(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Qo,Ss,Ss);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Qo={};function Yo(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function FS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function RM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xM(n){n._nesting--,Yo(n)}class gH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const PM=new Oe("",{providedIn:"root",factory:MM});function MM(){const n=Me(ht);let e=!0;return x(new St(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new St(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{ht.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{ht.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(oe()))}function VS(n){return n.ownerDocument}function lc(n){return n instanceof Function?n():n}let US=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new n})}return n})();function Uy(n){for(;n;){n[K]|=64;const e=gd(n);if(zc(n)&&!e)return n;n=e}return null}const FM=new Oe("",{providedIn:"root",factory:()=>!1});let x0=null;function HM(n,e){return n[e]??zM()}function $M(n,e){const t=zM();t.producerNode?.length&&(n[e]=x0,t.lView=n,x0=jM())}const CH={...fn,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Uy(n.lView)},lView:null};function jM(){return Object.create(CH)}function zM(){return x0??=jM(),x0}const Ht={};function be(n){qM(en(),ye(),pi()+n,!1)}function qM(n,e,t,r){if(!r)if(3==(3&e[K])){const s=n.preOrderCheckHooks;null!==s&&id(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Bl(e,s,0,t)}yo(t)}function ie(n,e=qt.Default){const t=ye();return null===t?Te(n,e):mi(br(),t,j(n),e)}function P0(n,e,t,r,i,s,o,a,u,d,p){const y=e.blueprint.slice();return y[jn]=i,y[K]=140|r,(null!==d||n&&2048&n[K])&&(y[K]|=2048),Lh(y),y[Z]=y[qs]=n,y[At]=t,y[Rl]=o||n&&n[Rl],y[et]=a||n&&n[et],y[ys]=u||n&&n[ys]||null,y[Et]=s,y[fa]=function wC(){return EC++}(),y[No]=p,y[Uu]=d,y[Vn]=2==e.type?n[Vn]:y,y}function Gg(n,e,t,r,i){let s=n.data[e];if(null===s)s=function BS(n,e,t,r,i){const s=Bh(),o=Vl(),u=n.data[e]=function OH(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Sa()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function U_(){return pt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Fl(){const n=pt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return is(s,!0),s}function By(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function WM(n,e,t,r,i){const s=HM(e,Bu),o=pi(),a=2&r;try{yo(-1),a&&e.length>Rt&&qM(n,e,Rt,!1),Ws(a?2:0,i);const d=a?s:null,p=Ah(d);try{null!==d&&(d.dirty=!1),t(r,i)}finally{Kc(d,p)}}finally{a&&null===e[Bu]&&$M(e,Bu),yo(o),Ws(a?3:1,i)}}function HS(n,e,t){if(ju(e)){const r=Ti(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Ti(r)}}}function $S(n,e,t){Ca()&&(function BH(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Qa(t)&&function WH(n,e,t){const r=Hi(e,n),i=KM(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=M0(n,P0(n,i,null,o,r,e,null,n[Rl].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||E(t,e),qi(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],d=Wo(e,n,a,t);qi(d,e),null!==o&&KH(0,a-i,d,u,0,o),ns(u)&&($i(t.index,e)[At]=Wo(e,n,a,t))}}(n,e,t,Hi(t,e)),64==(64&t.flags)&&XM(n,e,t))}function jS(n,e,t=Hi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function KM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=zS(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function zS(n,e,t,r,i,s,o,a,u,d,p){const y=Rt+r,I=y+i,w=function AH(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ht);return t}(y,I),R="function"==typeof d?d():d;return w[N]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:R,incompleteFirstPass:!1,ssrId:p}}let ZM=n=>null;function QM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?YM(t,e,i,s):r.hasOwnProperty(i)&&YM(t,e,r[i],s)}return t}function YM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function qS(n,e,t,r){if(Ca()){const i=null===r?null:{"":-1},s=function $H(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(wi(e,o.selectors,!1))if(r||(r=[]),ns(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),GS(n,e,a.length)}else r.unshift(o),GS(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&JM(n,e,t,o,i,a),i&&function jH(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new W(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Oo(t.mergedAttrs,t.attrs)}function JM(n,e,t,r,i,s){for(let d=0;d<r.length;d++)ve(E(t,e),n,r[d].type);!function qH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let d=0;d<r.length;d++){const p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=By(n,e,r.length,null);for(let d=0;d<r.length;d++){const p=r[d];t.mergedAttrs=Oo(t.mergedAttrs,p.hostAttrs),GH(n,t,e,u,p),zH(u,p,i),null!==p.contentQueries&&(t.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=64);const y=p.type.prototype;!o&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function NH(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,d=null;for(let p=e.directiveStart;p<i;p++){const y=s[p],I=t?t.get(y):null,R=I?I.outputs:null;u=QM(y.inputs,p,u,I?I.inputs:null),d=QM(y.outputs,p,d,R);const M=null===u||null===o||Vc(e)?null:ZH(u,p,o);a.push(M)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}(n,t,s)}function XM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function B_(){return pt.lFrame.currentDirectiveIndex}();try{yo(s);for(let a=r;a<i;a++){const u=n.data[a],d=e[a];jh(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&HH(u,d)}}finally{yo(-1),jh(o)}}function HH(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function GS(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function zH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ns(e)&&(t[""]=n)}}function GH(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ga(i.type)),o=new Hl(s,ns(i),ie);n.blueprint[r]=o,t[r]=o,function VH(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function UH(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,By(n,t,i.hostVars,Ht),i)}function tu(n,e,t,r,i,s){const o=Hi(n,e);!function WS(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?je(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[et],o,s,n.value,t,r,i)}function KH(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)eO(r,t,o[a++],o[a++],o[a++])}function eO(n,e,t,r,i){const s=Ti(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Ti(s)}}function ZH(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function tO(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function nO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];zh(t[r]),o.contentQueries(2,e[s],s)}}}function M0(n,e){return n[da]?n[jc][ke]=e:n[da]=e,n[jc]=e,e}function KS(n,e,t){zh(0);const r=Ti(null);try{e(n,t)}finally{Ti(r)}}function rO(n){return n[Qn]||(n[Qn]=[])}function iO(n){return n.cleanup||(n.cleanup=[])}function oO(n,e){const t=n[ys],r=t?t.get(Pe,null):null;r&&r.handleError(e)}function ZS(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];eO(n.data[o],e[o],r,a,i)}}function QH(n,e){const t=$i(e,n),r=t[N];!function YH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[jn];null!==i&&null===t[No]&&(t[No]=My(i,t[ys])),QS(r,t,t[At])}function QS(n,e,t){qh(e);try{const r=n.viewQuery;null!==r&&KS(1,r,t);const i=n.template;null!==i&&WM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&nO(n,e),n.staticViewQueries&&KS(2,n.viewQuery,t);const s=n.components;null!==s&&function JH(n,e){for(let t=0;t<e.length;t++)QH(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[K]&=-5,bi()}}let aO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function N_(n,e,t){const r=Object.create(Mh);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>ma(r),run:()=>{if(r.dirty=!1,r.hasRun&&!$p(r))return;r.hasRun=!0;const o=Ah(r);try{r.cleanupFn(),r.cleanupFn=Zp,r.fn(i)}finally{Kc(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,d=>{this.all.has(d)&&this.queue.set(d,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new n})}return n})();function lO(n,e){!e?.injector&&function Vy(n){if(!bu()&&!function _s(){return co}())throw new W(-203,!1)}();const t=e?.injector??Me(z),r=t.get(aO),i=!0!==e?.manualCleanup?t.get(Ye):null;return r.create(n,i,!!e?.allowSignalWrites)}function O0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=qr(i,a):2==s&&(r=qr(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Hy(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(bn(s)),Vi(s)&&uO(s,r);const o=t.type;if(8&o)Hy(n,e,t.child,r);else if(32&o){const a=ty(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=s0(e,t);if(Array.isArray(a))r.push(...a);else{const u=gd(e[Vn]);Hy(u[N],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function uO(n,e){for(let t=Er;t<n.length;t++){const r=n[t],i=r[N].firstChild;null!==i&&Hy(r[N],r,i,e)}n[Gs]!==n[jn]&&e.push(n[Gs])}function N0(n,e,t,r=!0){const i=e[Rl],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{cO(n,e,n.template,t)}catch(u){throw r&&oO(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function cO(n,e,t,r){const i=e[K];if(256!=(256&i)){e[Rl].effectManager?.flush(),qh(e);try{Lh(e),function Yu(n){return pt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&WM(n,e,t,2,r);const o=3==(3&i);if(o){const d=n.preOrderCheckHooks;null!==d&&id(e,d,null)}else{const d=n.preOrderHooks;null!==d&&Bl(e,d,0,null),ec(e,0)}if(function e9(n){for(let e=QE(n);null!==e;e=YE(e)){if(!e[xl])continue;const t=e[Fo];for(let r=0;r<t.length;r++){ti(t[r])}}}(e),dO(e,2),null!==n.contentQueries&&nO(n,e),o){const d=n.contentCheckHooks;null!==d&&id(e,d)}else{const d=n.contentHooks;null!==d&&Bl(e,d,1),ec(e,1)}!function SH(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=HM(e,ko);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)yo(~s);else{const o=s,a=t[++i],u=t[++i];Ft(a,o),r.dirty=!1;const d=Ah(r);try{u(2,e[o])}finally{Kc(r,d)}}}}finally{null===e[ko]&&$M(e,ko),yo(-1)}}(n,e);const a=n.components;null!==a&&fO(e,a,0);const u=n.viewQuery;if(null!==u&&KS(2,u,r),o){const d=n.viewCheckHooks;null!==d&&id(e,d)}else{const d=n.viewHooks;null!==d&&Bl(e,d,2),ec(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[K]&=-73,Xc(e)}finally{bi()}}}function dO(n,e){for(let t=QE(n);null!==t;t=YE(t))for(let r=Er;r<t.length;r++)hO(t[r],e)}function t9(n,e,t){hO($i(e,n),t)}function hO(n,e){if(!function Ku(n){return 128==(128&n[K])}(n))return;const t=n[N],r=n[K];if(80&r&&0===e||1024&r||2===e)cO(t,n,t.template,n[At]);else if(n[It]>0){dO(n,1);const i=t.components;null!==i&&fO(n,i,1)}}function fO(n,e,t){for(let r=0;r<e.length;r++)t9(n,e[r],t)}class $y{get rootNodes(){const e=this._lView,t=e[N];return Hy(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(e){this._lView[At]=e}get destroyed(){return 256==(256&this._lView[K])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Z];if(Vi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(yg(e,r),lg(t,r))}this._attachedToViewContainer=!1}vg(this._lView[N],this._lView)}onDestroy(e){Qp(this._lView,e)}markForCheck(){Uy(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){this._lView[K]|=128}detectChanges(){N0(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NC(n,e){pf(n,e,e[et],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e}}class n9 extends $y{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;N0(e[N],e,e[At],!1)}checkNoChanges(){}get context(){return null}}class pO extends jg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=nn(e);return new jy(t,this.ngModule)}}function gO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class i9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Du(r);const i=this.injector.get(e,Fy,r);return i!==Fy||t===Fy?i:this.parentInjector.get(e,t,r)}}class jy extends $g{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=gO(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return gO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Th(n){return n.map(Op).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ts?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new i9(e,s):e,a=o.get(Cf,null);if(null===a)throw new W(407,!1);const y={rendererFactory:a,sanitizer:o.get(NS,null),effectManager:o.get(aO,null),afterRenderEventManager:o.get(US,null)},I=a.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",R=r?function DH(n,e,t,r){const s=r.get(FM,!1)||t===ki.ShadowDom,o=n.selectRootElement(e,s);return function RH(n){ZM(n)}(o),o}(I,r,this.componentDef.encapsulation,o):_g(I,w,function r9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(w)),G=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $=null;null!==R&&($=My(R,o,!0));const J=zS(0,null,null,1,0,null,null,null,null,null,null),he=P0(null,J,null,G,null,null,y,I,o,null,$);let Re,tt;qh(he);try{const Ot=this.componentDef;let Xn,oo=null;Ot.findHostDirectiveDefs?(Xn=[],oo=new Map,Ot.findHostDirectiveDefs(Ot,Xn,oo),Xn.push(Ot)):Xn=[Ot];const Do=function o9(n,e){const t=n[N],r=Rt;return n[r]=e,Gg(t,r,2,"#host",null)}(he,R),Yb=function a9(n,e,t,r,i,s,o){const a=i[N];!function l9(n,e,t,r){for(const i of n)e.mergedAttrs=Oo(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(O0(e,e.mergedAttrs,!0),null!==t&&kt(r,t,e))}(r,n,e,o);let u=null;null!==e&&(u=My(e,i[ys]));const d=s.rendererFactory.createRenderer(e,t);let p=16;t.signals?p=4096:t.onPush&&(p=64);const y=P0(i,KM(t),null,p,i[n.index],n,s,d,null,null,u);return a.firstCreatePass&&GS(a,n,r.length-1),M0(i,y),i[n.index]=y}(Do,R,Ot,Xn,he,y,I);tt=Or(J,Rt),R&&function c9(n,e,t,r){if(r)Mo(n,t,["ng-version",S0.full]);else{const{attrs:i,classes:s}=function Np(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Li(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Mo(n,t,i),s&&s.length>0&&Jl(n,t,s.join(" "))}}(I,Ot,R,r),void 0!==t&&function d9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(tt,this.ngContentSelectors,t),Re=function u9(n,e,t,r,i,s){const o=br(),a=i[N],u=Hi(o,i);JM(a,i,o,t,null,r);for(let p=0;p<t.length;p++)qi(Wo(i,a,o.directiveStart+p,o),i);XM(a,i,o),u&&qi(u,i);const d=Wo(i,a,o.directiveStart+o.componentOffset,o);if(n[At]=i[At]=d,null!==s)for(const p of s)p(d,e);return HS(a,o,n),d}(Yb,Ot,Xn,oo,he,[h9]),QS(J,he,null)}finally{bi()}return new s9(this.componentType,Re,Cd(tt,he),he,tt)}}class s9 extends Ly{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new n9(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;ZS(s[N],s,i,e,t),this.previousInputValues.set(e,t),Uy($i(this._tNode.index,s))}}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function h9(){const n=br();Ul(ye()[N],n)}function _n(n){let e=function mO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ns(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=k0(n.inputs),o.inputTransforms=k0(n.inputTransforms),o.declaredInputs=k0(n.declaredInputs),o.outputs=k0(n.outputs);const a=i.hostBindings;a&&m9(n,a);const u=i.viewQuery,d=i.contentQueries;if(u&&p9(n,u),d&&g9(n,d),An(n.inputs,i.inputs),An(n.declaredInputs,i.declaredInputs),An(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),An(o.inputTransforms,i.inputTransforms)),ns(i)&&i.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===_n&&(t=!1)}}e=Object.getPrototypeOf(e)}!function f9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oo(i.hostAttrs,t=Oo(t,i.hostAttrs))}}(r)}function k0(n){return n===hn?{}:n===Gt?[]:n}function p9(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function g9(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function m9(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function IO(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function L0(n){return!!YS(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function YS(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function nu(n,e,t){return n[e]=t}function As(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Sf(n,e,t,r){const i=As(n,e,t);return As(n,e+1,r)||i}function $t(n,e,t,r){const i=ye();return As(i,Aa(),e)&&(en(),tu(Un(),i,n,e,t,r)),$t}function De(n,e,t,r,i,s,o,a){const u=ye(),d=en(),p=n+Rt,y=d.firstCreatePass?function H9(n,e,t,r,i,s,o,a,u){const d=e.consts,p=Gg(e,n,4,o||null,ji(d,a));qS(e,t,p,ji(d,u)),Ul(e,p);const y=p.tView=zS(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,p),y.queries=e.queries.embeddedTView(p)),p}(p,d,u,e,t,r,i,s,o):d.data[p];is(y,!1);const I=OO(d,u,y,n);Ks()&&Tg(d,u,I,y),qi(I,u),M0(u,u[p]=tO(I,u,I,y)),Ya(y)&&$S(d,u,y),null!=o&&jS(u,y,a)}let OO=function NO(n,e,t,r){return jo(!0),e[et].createComment("")};function nl(n){return function Ta(n,e){return n[e]}(function nd(){return pt.lFrame.contextLView}(),Rt+n)}function ue(n,e,t){const r=ye();return As(r,Aa(),e)&&function Jo(n,e,t,r,i,s,o,a){const u=Hi(e,t);let p,d=e.inputs;!a&&null!=d&&(p=d[r])?(ZS(n,t,p,r,i),Qa(e)&&function LH(n,e){const t=$i(e,n);16&t[K]||(t[K]|=64)}(t,e.index)):3&e.type&&(r=function kH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(en(),Un(),r,n,e,r[et],t,!1),ue}function rA(n,e,t,r,i){const o=i?"class":"style";ZS(n,t,e.inputs[o],o,r)}function le(n,e,t,r){const i=ye(),s=en(),o=Rt+n,a=i[et],u=s.firstCreatePass?function q9(n,e,t,r,i,s){const o=e.consts,u=Gg(e,n,2,r,ji(o,i));return qS(e,t,u,ji(o,s)),null!==u.attrs&&O0(u,u.attrs,!1),null!==u.mergedAttrs&&O0(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],d=kO(s,i,u,a,e,n);i[o]=d;const p=Ya(u);return is(u,!0),kt(a,d,u),32!=(32&u.flags)&&Ks()&&Tg(s,i,d,u),0===function Jp(){return pt.lFrame.elementDepthCount}()&&qi(d,i),function L_(){pt.lFrame.elementDepthCount++}(),p&&($S(s,i,u),HS(s,u,i)),null!==r&&jS(i,u),le}function _e(){let n=br();Vl()?Qu():(n=n.parent,is(n,!1));const e=n;(function F_(n){return pt.skipHydrationRootTNode===n})(e)&&function V_(){pt.skipHydrationRootTNode=null}(),function Vh(){pt.lFrame.elementDepthCount--}();const t=en();return t.firstCreatePass&&(Ul(t,n),ju(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function nc(n){return 0!=(8&n.flags)}(e)&&rA(t,e,ye(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function qo(n){return 0!=(16&n.flags)}(e)&&rA(t,e,ye(),e.stylesWithoutHost,!1),_e}function _t(n,e,t,r){return le(n,e,t,r),_e(),_t}let kO=(n,e,t,r,i,s)=>(jo(!0),_g(r,i,function $o(){return pt.lFrame.currentNamespace}()));function rl(n,e,t){const r=ye(),i=en(),s=n+Rt,o=i.firstCreatePass?function K9(n,e,t,r,i){const s=e.consts,o=ji(s,r),a=Gg(e,n,8,"ng-container",o);return null!==o&&O0(a,o,!0),qS(e,t,a,ji(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];is(o,!0);const a=LO(i,r,o,n);return r[s]=a,Ks()&&Tg(i,r,a,o),qi(a,r),Ya(o)&&($S(i,r,o),HS(i,o,r)),null!=t&&jS(r,o),rl}function il(){let n=br();const e=en();return Vl()?Qu():(n=n.parent,is(n,!1)),e.firstCreatePass&&(Ul(e,n),ju(n)&&e.queries.elementEnd(n)),il}function Ky(n,e,t){return rl(n,e,t),il(),Ky}let LO=(n,e,t,r)=>(jo(!0),ny(e[et],""));function Nn(){return ye()}function Zy(n){return!!n&&"function"==typeof n.then}function FO(n){return!!n&&"function"==typeof n.subscribe}function it(n,e,t,r){const i=ye(),s=en(),o=br();return function UO(n,e,t,r,i,s,o){const a=Ya(r),d=n.firstCreatePass&&iO(n),p=e[At],y=rO(e);let I=!0;if(3&r.type||o){const M=Hi(r,e),L=o?o(M):M,G=y.length,$=o?he=>o(bn(he[r.index])):r.index;let J=null;if(!o&&a&&(J=function Y9(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Qn],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=s,J.__ngLastListenerFn__=s,I=!1;else{s=HO(r,e,p,s,!1);const he=t.listen(L,i,s);y.push(s,he),d&&d.push(i,$,G,G+1)}}else s=HO(r,e,p,s,!1);const w=r.outputs;let R;if(I&&null!==w&&(R=w[i])){const M=R.length;if(M)for(let L=0;L<M;L+=2){const Re=e[R[L]][R[L+1]].subscribe(s),tt=y.length;y.push(s,Re),d&&d.push(i,r.index,tt,-(tt+1))}}}(s,i,i[et],o,n,e,r),it}function BO(n,e,t,r){try{return Ws(6,e,t),!1!==t(r)}catch(i){return oO(n,i),!1}finally{Ws(7,e,t)}}function HO(n,e,t,r,i){return function s(o){if(o===Function)return r;Uy(n.componentOffset>-1?$i(n.index,e):e);let u=BO(e,t,r,o),d=s.__ngNextListenerFn__;for(;d;)u=BO(e,t,d,o)&&u,d=d.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function ae(n=1){return function Ra(n){return(pt.lFrame.contextLView=function Kh(n,e){for(;n>0;)e=e[qs],n--;return e}(n,pt.lFrame.contextLView))[At]}(n)}function J9(n,e){let t=null;const r=function Fu(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?wi(n,s,!0):Vu(r,s))return i}else t=i}return t}function H0(n){const e=ye()[Vn][Et];if(!e.projection){const r=e.projection=dd(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?J9(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function $0(n,e=0,t){const r=ye(),i=en(),s=Gg(i,Rt+n,16,null,t||null);null===s.projection&&(s.projection=e),Qu(),(!r[No]||Sa())&&32!=(32&s.flags)&&function BC(n,e,t){a0(e[et],0,e,t,Eg(n,t,e),n0(t.parent||e[Et],t,e))}(i,r,s)}function j0(n,e){return n<<17|e<<2}function Ad(n){return n>>17&32767}function sA(n){return 2|n}function Af(n){return(131068&n)>>2}function oA(n,e){return-131069&n|e<<2}function aA(n){return 1|n}function YO(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Ad(s):Af(s),u=!1;for(;0!==a&&(!1===u||o);){const p=n[a+1];i$(n[a],e)&&(u=!0,n[a+1]=r?aA(p):sA(p)),a=r?Ad(p):Af(p)}u&&(n[t+1]=r?sA(s):aA(s))}function i$(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&sc(n,e)>=0}const Ai={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function JO(n){return n.substring(Ai.key,Ai.keyEnd)}function s$(n){return n.substring(Ai.value,Ai.valueEnd)}function XO(n,e){const t=Ai.textEnd;return t===e?-1:(e=Ai.keyEnd=function l$(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ai.key=e,t),nm(n,e,t))}function eN(n,e){const t=Ai.textEnd;let r=Ai.key=nm(n,e,t);return t===r?-1:(r=Ai.keyEnd=function u$(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=nN(n,r,t),r=Ai.value=nm(n,r,t),r=Ai.valueEnd=function c$(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const u=n.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=rN(n,u,o,t):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=rN(n,41,o,t):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(n,r,t),nN(n,r,t))}function tN(n){Ai.key=0,Ai.keyEnd=0,Ai.value=0,Ai.valueEnd=0,Ai.textEnd=n.length}function nm(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function nN(n,e,t,r){return(e=nm(n,e,t))<t&&e++,e}function rN(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function Qy(n,e){return function ol(n,e,t,r){const i=ye(),s=en(),o=Is(2);s.firstUpdatePass&&oN(s,n,o,r),e!==Ht&&As(i,o,e)&&lN(s,s.data[pi()],i,i[et],n,i[o+1]=function v$(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Xe(eu(n)))),n}(e,t),r,o)}(n,e,null,!0),Qy}function d$(n,e){for(let t=function a$(n){return tN(n),eN(n,nm(n,0,Ai.textEnd))}(e);t>=0;t=eN(e,t))aN(n,JO(e),s$(e))}function Fa(n){al(_$,ru,n,!0)}function ru(n,e){for(let t=function o$(n){return tN(n),XO(n,nm(n,0,Ai.textEnd))}(e);t>=0;t=XO(e,t))Ci(n,JO(e),!0)}function al(n,e,t,r){const i=en(),s=Is(2);i.firstUpdatePass&&oN(i,null,s,r);const o=ye();if(t!==Ht&&As(o,s,t)){const a=i.data[pi()];if(cN(a,r)&&!sN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=qr(u,t||"")),rA(i,a,o,t,r)}else!function y$(n,e,t,r,i,s,o,a){i===Ht&&(i=Gt);let u=0,d=0,p=0<i.length?i[0]:null,y=0<s.length?s[0]:null;for(;null!==p||null!==y;){const I=u<i.length?i[u+1]:void 0,w=d<s.length?s[d+1]:void 0;let M,R=null;p===y?(u+=2,d+=2,I!==w&&(R=y,M=w)):null===y||null!==p&&p<y?(u+=2,R=p):(d+=2,R=y,M=w),null!==R&&lN(n,e,t,r,R,M,o,a),p=u<i.length?i[u]:null,y=d<s.length?s[d]:null}}(i,a,o,o[et],o[s+1],o[s+1]=function m$(n,e,t){if(null==t||""===t)return Gt;const r=[],i=eu(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function sN(n,e){return e>=n.expandoStartIndex}function oN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[pi()],o=sN(n,t);cN(s,r)&&null===e&&!o&&(e=!1),e=function h$(n,e,t,r){const i=function Xa(n){const e=pt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Yy(t=lA(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=lA(i,n,e,t,r),null===s){let u=function f$(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Af(r))return n[Ad(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=lA(null,n,e,u[1],r),u=Yy(u,e.attrs,r),function p$(n,e,t,r){n[Ad(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function g$(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Yy(r,n[s].hostAttrs,t);return Yy(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function n$(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ad(o),u=Af(o);n[r]=t;let p,d=!1;if(Array.isArray(t)?(p=t[1],(null===p||sc(t,p)>0)&&(d=!0)):p=t,i)if(0!==u){const I=Ad(n[a+1]);n[r+1]=j0(I,a),0!==I&&(n[I+1]=oA(n[I+1],r)),n[a+1]=function e$(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=j0(a,0),0!==a&&(n[a+1]=oA(n[a+1],r)),a=r;else n[r+1]=j0(u,0),0===a?a=r:n[u+1]=oA(n[u+1],r),u=r;d&&(n[r+1]=sA(n[r+1])),YO(n,p,r,!0),YO(n,p,r,!1),function r$(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&sc(s,e)>=0&&(t[r+1]=aA(t[r+1]))}(e,p,n,r,s),o=j0(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function lA(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Yy(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Yy(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ci(n,o,!!t||e[++s]))}return void 0===n?null:n}function aN(n,e,t){Ci(n,e,eu(t))}function _$(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Ci(n,r,t)}function lN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,d=u[a+1],p=function t$(n){return 1==(1&n)}(d)?uN(u,e,t,i,Af(d),o):void 0;z0(p)||(z0(s)||function X9(n){return 2==(2&n)}(d)&&(s=uN(u,null,t,i,a,o)),function HC(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Ql.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ql.Important),n.setStyle(t,r,i,s))}}(r,o,Uo(pi(),t),i,s))}function uN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],d=Array.isArray(u),p=d?u[1]:u,y=null===p;let I=t[i+1];I===Ht&&(I=y?Gt:void 0);let w=y?rf(I,r):p===r?I:void 0;if(d&&!z0(w)&&(w=rf(u,r)),z0(w)&&(a=w,o))return a;const R=n[i+1];i=o?Ad(R):Af(R)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=rf(u,r))}return a}function z0(n){return void 0!==n}function cN(n,e){return 0!=(n.flags&(e?8:16))}function xt(n,e=""){const t=ye(),r=en(),i=n+Rt,s=r.firstCreatePass?Gg(r,i,1,e,null):r.data[i],o=dN(r,t,s,e,n);t[i]=o,Ks()&&Tg(r,t,o,s),is(s,!1)}let dN=(n,e,t,r,i)=>(jo(!0),function mg(n,e){return n.createText(e)}(e[et],r));function iu(n){return Df("",n,""),iu}function Df(n,e,t){const r=ye(),i=function Kg(n,e,t,r){return As(n,Aa(),t)?e+je(t)+r:Ht}(r,n,e,t);return i!==Ht&&function uc(n,e,t){const r=Uo(e,n);!function JE(n,e,t){n.setValue(e,t)}(n[et],r,t)}(r,pi(),i),Df}const im="en-US";let ON=im;function dA(n,e,t,r,i){if(n=j(n),Array.isArray(n))for(let s=0;s<n.length;s++)dA(n[s],e,t,r,i);else{const s=en(),o=ye(),a=br();let u=Eo(n)?n:j(n.provide);const d=y0(n),p=1048575&a.providerIndexes,y=a.directiveStart,I=a.providerIndexes>>20;if(Eo(n)||!n.multi){const w=new Hl(d,i,ie),R=fA(u,e,i?p:p+I,y);-1===R?(ve(E(a,o),s,u),hA(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),o.push(w)):(t[R]=w,o[R]=w)}else{const w=fA(u,e,p+I,y),R=fA(u,e,p,p+I),L=R>=0&&t[R];if(i&&!L||!i&&!(w>=0&&t[w])){ve(E(a,o),s,u);const G=function Bj(n,e,t,r,i){const s=new Hl(n,t,ie);return s.multi=[],s.index=e,s.componentProviders=0,ik(s,i,r&&!t),s}(i?Uj:Vj,t.length,i,r,d);!i&&L&&(t[R].providerFactory=G),hA(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(G),o.push(G)}else hA(s,n,w>-1?w:R,ik(t[i?R:w],d,!i&&r));!i&&r&&L&&t[R].componentProviders++}}}function hA(n,e,t,r){const i=Eo(e),s=function gS(n){return!!n.useClass}(e);if(i||s){const u=(s?j(e.useClass):e).prototype.ngOnDestroy;if(u){const d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const p=d.indexOf(t);-1===p?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function ik(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function fA(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Vj(n,e,t,r){return pA(this.multi,[])}function Uj(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Wo(t,t[N],this.providerFactory.index,r);s=a.slice(0,o),pA(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],pA(i,s);return s}function pA(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function hr(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Fj(n,e,t){const r=en();if(r.firstCreatePass){const i=ns(n);dA(t,r.data,r.blueprint,i,!0),dA(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class xf{}class sk{}class gA extends xf{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pO(this);const i=Fi(e);this._bootstrapComponents=lc(i.bootstrap),this._r3Injector=B(e,t,[{provide:xf,useValue:this},{provide:jg,useValue:this.componentFactoryResolver},...r],Xe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class mA extends sk{constructor(e){super(),this.moduleType=e}create(e){return new gA(this.moduleType,e,[])}}class ok extends xf{constructor(e){super(),this.componentFactoryResolver=new pO(this),this.instance=null;const t=new Og([...e.providers,{provide:xf,useValue:this},{provide:jg,useValue:this.componentFactoryResolver}],e.parent||wf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function _A(n,e,t=null){return new ok({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let jj=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=p0(0,t.type),i=r.length>0?_A([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=He({token:n,providedIn:"environment",factory:()=>new n(Te(Ts))})}return n})();function cc(n){n.getStandaloneInjector=e=>e.get(jj).getOrCreateStandaloneInjector(n)}function rv(n,e,t,r){return function pk(n,e,t,r,i,s){const o=e+t;return As(n,o,i)?nu(n,o+1,s?r.call(s,i):r(i)):iv(n,o+1)}(ye(),Wr(),n,e,t,r)}function Z0(n,e,t,r,i){return function gk(n,e,t,r,i,s,o){const a=e+t;return Sf(n,a,i,s)?nu(n,a+2,o?r.call(o,i,s):r(i,s)):iv(n,a+2)}(ye(),Wr(),n,e,t,r,i)}function Q0(n,e,t,r,i,s){return function mk(n,e,t,r,i,s,o,a){const u=e+t;return function F0(n,e,t,r,i){const s=Sf(n,e,t,r);return As(n,e+2,i)||s}(n,u,i,s,o)?nu(n,u+3,a?r.call(a,i,s,o):r(i,s,o)):iv(n,u+3)}(ye(),Wr(),n,e,t,r,i,s)}function iv(n,e){const t=n[e];return t===Ht?void 0:t}function d8(){return this._results[Symbol.iterator]()}class vA{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new We)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=vA.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=d8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Io(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function wE(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function f8(n,e,t,r=!0){const i=e[N];if(function LC(n,e,t,r){const i=Er+r,s=t.length;r>0&&(t[i-1][ke]=e),r<s-Er?(e[ke]=t[i],TE(t,Er+r,e)):(t.push(e),e[ke]=null),e[Z]=t;const o=e[ha];null!==o&&t!==o&&function FC(n,e){const t=n[Fo];e[Vn]!==e[Z][Z][Vn]&&(n[xl]=!0),null===t?n[Fo]=[e]:t.push(e)}(o,e);const a=e[fo];null!==a&&a.insertView(n),e[K]|=128}(i,e,n,t),r){const s=ly(t,n),o=e[et],a=ac(o,n[Gs]);null!==a&&function OC(n,e,t,r,i,s){r[jn]=i,r[Et]=e,pf(n,r,t,1,i,s)}(i,n[Et],o,e,a,s)}}let ll=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=m8}return n})();const p8=ll,g8=class extends p8{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function h8(n,e,t,r){const i=e.tView,a=P0(n,i,t,4096&n[K]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ha]=n[e.index];const d=n[fo];return null!==d&&(a[fo]=d.createEmbeddedView(i)),QS(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new $y(i)}};function m8(){return Y0(br(),ye())}function Y0(n,e){return 4&n.type?new g8(e,n,Cd(n,e)):null}let Va=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=w8}return n})();function w8(){return Ck(br(),ye())}const T8=Va,Tk=class extends T8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cd(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){const e=X(this._hostTNode,this._hostLView);if(Xh(e)){const t=Go(e,this._hostLView),r=$l(e);return new Nr(t[N].data[r+8],t)}return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=bk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function ud(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,s=M.environmentInjector||M.ngModuleRef}const u=o?e:new jy(nn(e)),d=r||this.parentInjector;if(!s&&null==u.ngModule){const L=(o?d:this.parentInjector).get(Ts,null);L&&(s=L)}nn(u.componentType??{});const w=u.create(d,i,null,s);return this.insertImpl(w.hostView,a,false),w}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Zu(n){return Vi(n[Z])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[Z],p=new Tk(d,d[Et],d[Z]);p.detach(p.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return f8(a,i,o,!r),e.attachToViewContainerRef(),TE(IA(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=bk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=yg(this._lContainer,t);r&&(lg(IA(this._lContainer),t),vg(r[N],r))}detach(e){const t=this._adjustIndex(e,-1),r=yg(this._lContainer,t);return r&&null!=lg(IA(this._lContainer),t)?new $y(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function bk(n){return n[8]}function IA(n){return n[8]||(n[8]=[])}function Ck(n,e){let t;const r=e[n.index];return Vi(r)?t=r:(t=tO(r,e,null,n),e[n.index]=t,M0(e,t)),Sk(t,e,n,r),new Tk(t,n,e)}let Sk=function Ak(n,e,t,r){if(n[Gs])return;let i;i=8&t.type?bn(r):function b8(n,e){const t=n[et],r=t.createComment(""),i=Hi(e,n);return Yl(t,ac(t,i),r,function UC(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Gs]=i};class EA{constructor(e){this.queryList=e,this.matches=null}clone(){return new EA(this.queryList)}setDirty(){this.queryList.setDirty()}}class wA{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new wA(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Mk(e,t).matches&&this.queries[t].setDirty()}}class Dk{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class TA{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new TA(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class bA{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new bA(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,A8(t,s)),this.matchTNodeWithReadOption(e,t,ql(t,e,s,!1,!1))}else r===ll?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ql(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ri||i===Va||i===ll&&4&t.type)this.addMatch(t.index,-2);else{const s=ql(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function A8(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function R8(n,e,t,r){return-1===t?function D8(n,e){return 11&n.type?Cd(n,e):4&n.type?Y0(n,e):null}(e,n):-2===t?function x8(n,e,t){return t===ri?Cd(e,n):t===ll?Y0(e,n):t===Va?Ck(e,n):void 0}(n,e,r):Wo(n,n[N],t,e)}function Rk(n,e,t,r){const i=e[fo].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const d=o[u];a.push(d<0?null:R8(e,s[d],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function CA(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Rk(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const d=s[a+1],p=e[-u];for(let y=Er;y<p.length;y++){const I=p[y];I[ha]===I[Z]&&CA(I[N],I,d,r)}if(null!==p[Fo]){const y=p[Fo];for(let I=0;I<y.length;I++){const w=y[I];CA(w[N],w,d,r)}}}}}return r}function ul(n){const e=ye(),t=en(),r=Xu();zh(r+1);const i=Mk(t,r);if(n.dirty&&function _o(n){return 4==(4&n[K])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?CA(t,e,r,[]):Rk(t,e,i,r);n.reset(s,MS),n.notifyOnChanges()}return!0}return!1}function Pf(n,e,t){const r=en();r.firstCreatePass&&(Pk(r,new Dk(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),xk(r,ye(),e)}function ov(n,e,t,r){const i=en();if(i.firstCreatePass){const s=br();Pk(i,new Dk(e,t,r),s.index),function M8(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}xk(i,ye(),t)}function cl(){return function P8(n,e){return n[fo].queries[e].queryList}(ye(),Xu())}function xk(n,e,t){const r=new vA(4==(4&t));(function MH(n,e,t,r){const i=rO(e);i.push(t),n.firstCreatePass&&iO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[fo]&&(e[fo]=new wA),e[fo].queries.push(new EA(r))}function Pk(n,e,t){null===n.queries&&(n.queries=new TA),n.queries.track(new bA(e,t))}function Mk(n,e){return n.queries.getByIndex(e)}function X0(n,e){return Y0(n,e)}const PA=new Oe("Application Initializer");let MA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Me(PA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Zy(s))t.push(s);else if(FO(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zk=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const dc=new Oe("LocaleId",{providedIn:"root",factory:()=>Me(dc,qt.Optional|qt.SkipSelf)||function X8(){return typeof $localize<"u"&&$localize.locale||im}()});let tw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new b(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class n7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Qk=(()=>{class n{compileModuleSync(t){return new mA(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=lc(Fi(t).declarations).reduce((o,a)=>{const u=nn(a);return u&&o.push(new jy(u)),o},[]);return new n7(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eL=new Oe(""),rw=new Oe("");let FA,kA=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,FA||(function w7(n){FA=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ht.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(Te(ht),Te(LA),Te(rw))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})(),LA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return FA?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Dd=null;const tL=new Oe("AllowMultipleToken"),VA=new Oe("PlatformDestroyListeners"),UA=new Oe("appBootstrapListener");class rL{constructor(e,t){this.name=e,this.token=t}}function sL(n,e,t=[]){const r=`Platform: ${e}`,i=new Oe(r);return(s=[])=>{let o=BA();if(!o||o.injector.get(tL,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function C7(n){if(Dd&&!Dd.get(tL,!1))throw new W(400,!1);(function nL(){!function va(n){qp=n}(()=>{throw new W(600,!1)})})(),Dd=n;const e=n.get(aL);(function iL(n){n.get(v0,null)?.forEach(t=>t())})(n)}(function oL(n=[],e){return z.create({name:e,providers:[{provide:Ty,useValue:"platform"},{provide:VA,useValue:new Set([()=>Dd=null])},...n]})}(a,r))}return function A7(n){const e=BA();if(!e)throw new W(401,!1);return e}()}}function BA(){return Dd?.get(aL)??null}let aL=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function D7(n="zone.js",e){return"noop"===n?new gH:"zone.js"===n?new ht(e):n}(r?.ngZone,function lL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function $j(n,e,t){return new gA(n,e,t)}(t.moduleType,this.injector,function fL(n){return[{provide:ht,useFactory:n},{provide:Ef,multi:!0,useFactory:()=>{const e=Me(x7,{optional:!0});return()=>e.initialize()}},{provide:hL,useFactory:R7},{provide:PM,useFactory:MM}]}(()=>i)),o=s.injector.get(Pe,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{iw(this._modules,s),a.unsubscribe()})}),function uL(n,e,t){try{const r=t();return Zy(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(MA);return a.runInitializers(),a.donePromise.then(()=>(function NN(n){ci(n,"Expected localeId to be defined"),"string"==typeof n&&(ON=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(dc,im)||im),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=cL({},r);return function T7(n,e,t){const r=new mA(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Mf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new W(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(VA,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(Te(z))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function cL(n,e){return Array.isArray(e)?e.reduce(cL,n):{...n,...e}}let Mf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Me(hL),this.zoneIsStable=Me(PM),this.componentTypes=[],this.components=[],this.isStable=Me(tw).hasPendingTasks.pipe(ze(t=>t?V(!1):this.zoneIsStable),mt(),oe()),this._injector=Me(Ts)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof $g;if(!this._injector.get(MA).done)throw!i&&function Gr(n){const e=nn(n)||Hr(n)||Mr(n);return null!==e&&e.standalone}(t),new W(405,!1);let o;o=i?t:this._injector.get(jg).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function b7(n){return n.isBoundToModule}(o)?void 0:this._injector.get(xf),d=o.create(z.NULL,[],r||o.selector,a),p=d.location.nativeElement,y=d.injector.get(eL,null);return y?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),iw(this.components,d),y?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;iw(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(UA,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>iw(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new W(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const hL=new Oe("",{providedIn:"root",factory:()=>Me(Pe).handleError.bind(void 0)});function R7(){const n=Me(ht),e=Me(Pe);return t=>n.runOutsideAngular(()=>e.handleError(t))}let x7=(()=>{class n{constructor(){this.zone=Me(ht),this.applicationRef=Me(Mf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let hc=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=M7}return n})();function M7(n){return function O7(n,e,t){if(Qa(n)&&!t){const r=$i(n.index,e);return new $y(r,r)}return 47&n.type?new $y(e[Vn],e):null}(br(),ye(),16==(16&n))}class yL{constructor(){}supports(e){return L0(e)}create(e){return new U7(e)}}const V7=(n,e)=>e;class U7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||V7}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<IL(r,i,s)?t:r,a=IL(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const d=a-i,p=u-i;if(d!=p){for(let I=0;I<d;I++){const w=I<s.length?s[I]:s[I]=0,R=w+I;p<=R&&R<d&&(s[I]=w+1)}s[o.previousIndex]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!L0(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function T9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new B7(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new vL),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class B7{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class H7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class vL{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new H7,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IL(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class EL{constructor(){}supports(e){return e instanceof Map||YS(e)}create(){return new $7}}class $7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||YS(e)))throw new W(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new j7(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class j7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wL(){return new aw([new yL])}let aw=(()=>{class n{static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:wL});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||wL()),deps:[[n,new cg,new af]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new W(901,!1)}}return n})();function TL(){return new uv([new EL])}let uv=(()=>{class n{static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:TL});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TL()),deps:[[n,new cg,new af]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new W(901,!1)}}return n})();const G7=sL(null,"core",[]);let W7=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Mf))};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({})}return n})();function am(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let GA=null;function Rd(){return GA}class az{}const Wi=new Oe("DocumentToken");let WA=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return Me(uz)},providedIn:"platform"})}return n})();const lz=new Oe("Location Initialized");let uz=(()=>{class n extends WA{constructor(){super(),this._doc=Me(Wi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rd().getBaseHref(this._doc)}onPopState(t){const r=Rd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Rd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function KA(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ML(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fc(n){return n&&"?"!==n[0]?"?"+n:n}let Nf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return Me(NL)},providedIn:"root"})}return n})();const OL=new Oe("appBaseHref");let NL=(()=>{class n extends Nf{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Me(Wi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return KA(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+fc(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+fc(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Te(WA),Te(OL,8))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cz=(()=>{class n extends Nf{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=KA(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+fc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+fc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Te(WA),Te(OL,8))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})(),ZA=(()=>{class n{constructor(t){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function fz(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ML(kL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fc(r))}normalize(t){return n.stripTrailingSlash(function hz(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,kL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=fc;static#t=this.joinWithSlash=KA;static#n=this.stripTrailingSlash=ML;static#r=this.\u0275fac=function(r){return new(r||n)(Te(Nf))};static#i=this.\u0275prov=He({token:n,factory:function(){return function dz(){return new ZA(Te(Nf))}()},providedIn:"root"})}return n})();function kL(n){return n.replace(/\/index.html$/,"")}function zL(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const sD=/\s+/,qL=[];let um=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=qL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(sD):qL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(sD):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(sD).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(ie(aw),ie(uv),ie(ri),ie(Cs))};static#t=this.\u0275dir=st({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Jz{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oD=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Jz(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),WL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{WL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Va),ie(ll),ie(aw))};static#t=this.\u0275dir=st({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function WL(n,e){n.context.$implicit=e.item}let mc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Va),ie(ll))};static#t=this.\u0275dir=st({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Xz{constructor(){this.$implicit=null,this.ngIf=null}}function KL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Xe(e)}'.`)}let hv=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Ql.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(ie(ri),ie(uv),ie(Cs))};static#t=this.\u0275dir=st({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),fv=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Va))};static#t=this.\u0275dir=st({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ui]})}return n})(),su=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({})}return n})();const YL="browser";function kf(n){return n===YL}function vw(n){return"server"===n}let Dq=(()=>{class n{static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new Rq(Te(Wi),window)})}return n})();class Rq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function xq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class JL{}class Xq extends az{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fD extends Xq{static makeCurrent(){!function oz(n){GA||(GA=n)}(new fD)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function eG(){return gv=gv||document.querySelector("base"),gv?gv.getAttribute("href"):null}();return null==t?null:function tG(n){ww=ww||document.createElement("a"),ww.setAttribute("href",n);const e=ww.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zL(document.cookie,e)}}let ww,gv=null,rG=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const pD=new Oe("EventManagerPlugins");let r2=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(Te(pD),Te(ht))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();class s2{constructor(e){this._doc=e}}const gD="ng-app-id";let o2=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vw(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${gD}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(gD),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(gD,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Wi),Te(Ng),Te(E0,8),Te(bs))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const mD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_D=/%COMP%/g,aG=new Oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function l2(n,e){return e.map(t=>t.replace(_D,n))}let yD=(()=>{class n{constructor(t,r,i,s,o,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=vw(a),this.defaultRenderer=new vD(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ki.ShadowDom&&(r={...r,encapsulation:ki.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof c2?i.applyToHost(t):i instanceof ID&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case ki.Emulated:s=new c2(u,d,r,this.appId,p,o,a,y);break;case ki.ShadowDom:return new dG(u,d,t,r,o,a,this.nonce,y);default:s=new ID(u,d,r,p,o,a,y)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(Te(r2),Te(o2),Te(Ng),Te(aG),Te(Wi),Te(bs),Te(ht),Te(E0))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();class vD{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(mD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(u2(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(u2(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=mD[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=mD[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ql.DashCase|Ql.Important)?e.style.setProperty(t,r,i&Ql.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ql.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Rd().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function u2(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class dG extends vD{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=l2(i.id,i.styles);for(const p of d){const y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=p,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ID extends vD{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?l2(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class c2 extends ID{constructor(e,t,r,i,s,o,a,u){const d=i+"-"+r.id;super(e,t,r,s,o,a,u,d),this.contentAttr=function lG(n){return"_ngcontent-%COMP%".replace(_D,n)}(d),this.hostAttr=function uG(n){return"_nghost-%COMP%".replace(_D,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let hG=(()=>{class n extends s2{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Wi))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const d2=["alt","control","meta","shift"],fG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pG={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let gG=(()=>{class n extends s2{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rd().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),d2.forEach(d=>{const p=r.indexOf(d);p>-1&&(r.splice(p,1),o+=d+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=fG[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),d2.forEach(o=>{o!==i&&(0,pG[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Wi))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const f2=[{provide:bs,useValue:YL},{provide:v0,useValue:function mG(){fD.makeCurrent()},multi:!0},{provide:Wi,useFactory:function yG(){return function qC(n){cy=n}(document),document},deps:[]}],vG=sL(G7,"browser",f2),IG=new Oe(""),p2=[{provide:rw,useClass:class nG{addToWindow(e){Dn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new W(5103,!1);return s},Dn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Dn.getAllAngularRootElements=()=>e.getAllRootElements(),Dn.frameworkStabilizers||(Dn.frameworkStabilizers=[]),Dn.frameworkStabilizers.push(r=>{const i=Dn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Rd().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:eL,useClass:kA,deps:[ht,LA,rw]},{provide:kA,useClass:kA,deps:[ht,LA,rw]}],g2=[{provide:Ty,useValue:"root"},{provide:Pe,useFactory:function _G(){return new Pe},deps:[]},{provide:pD,useClass:hG,multi:!0,deps:[Wi,ht,bs]},{provide:pD,useClass:gG,multi:!0,deps:[Wi]},yD,o2,r2,{provide:Cf,useExisting:yD},{provide:JL,useClass:rG,deps:[]},[]];let m2=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Ng,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Te(IG,12))};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({providers:[...g2,...p2],imports:[su,W7]})}return n})(),_2=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Wi))};static#t=this.\u0275prov=He({token:n,factory:function(r){let i=null;return i=r?new r:function wG(){return new _2(Te(Wi))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:DG}=Array,{getPrototypeOf:RG,prototype:xG,keys:PG}=Object;function E2(n){if(1===n.length){const e=n[0];if(DG(e))return{args:e,keys:null};if(function MG(n){return n&&"object"==typeof n&&RG(n)===xG}(e)){const t=PG(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:OG}=Array;function w2(n){return Ne(e=>function NG(n,e){return OG(e)?n(...e):n(e)}(n,e))}function T2(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function wD(...n){const e=Bs(n),t=ms(n),{args:r,keys:i}=E2(n);if(0===r.length)return A([],e);const s=new St(function kG(n,e,t=lr){return r=>{b2(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)b2(e,()=>{const d=A(n[u],e);let p=!1;d.subscribe(xe(r,y=>{s[u]=y,p||(p=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>T2(i,o):lr));return t?s.pipe(w2(t)):s}function b2(n,e,t){n?zr(t,n,e):e()}const Tw=C(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function TD(...n){return function LG(){return Ii(1)}()(A(n,Bs(n)))}function C2(n){return new St(e=>{jt(n()).subscribe(e)})}function mv(n,e){const t=O(n)?n:()=>n,r=i=>i.error(t());return new St(e?i=>e.schedule(r,0,i):r)}function bD(){return ce((n,e)=>{let t=null;n._refCount++;const r=xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class S2 extends St{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ge(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dn;const t=this.getSubject();e.add(this.source.subscribe(xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dn.EMPTY)}return e}refCount(){return bD()(this)}}function cm(n){return n<=0?()=>nr:ce((e,t)=>{let r=0;e.subscribe(xe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function bw(...n){const e=Bs(n);return ce((t,r)=>{(e?TD(n,t,e):TD(n,t)).subscribe(r)})}function ea(n,e){return ce((t,r)=>{let i=0;t.subscribe(xe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Cw(n){return ce((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function A2(n=FG){return ce((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function FG(){return new Tw}function Pd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ea((i,s)=>n(i,s,r)):lr,cm(1),t?Cw(e):A2(()=>new Tw))}function dm(n,e){return O(e)?mn(n,e,1):mn(n,1)}function as(n,e,t){const r=O(n)||e||t?{next:n,error:e,complete:t}:n;return r?ce((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(xe(s,u=>{var d;null===(d=r.next)||void 0===d||d.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,u),s.error(u)},()=>{var u,d;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):lr}function Lf(n){return ce((e,t)=>{let s,r=null,i=!1;r=e.subscribe(xe(t,void 0,void 0,o=>{s=jt(n(o,Lf(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Sw(n,e){return ce(function VG(n,e,t,r,i){return(s,o)=>{let a=t,u=e,d=0;s.subscribe(xe(o,p=>{const y=d++;u=a?n(u,p,y):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function CD(n){return n<=0?()=>nr:ce((e,t)=>{let r=[];e.subscribe(xe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function _v(n){return ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Yt="primary",yv=Symbol("RouteTitle");class $G{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hm(n){return new $G(n)}function jG(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ou(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!D2(n[i],e[i]))return!1;return!0}function D2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function R2(n){return n.length>0?n[n.length-1]:null}function Md(n){return function AG(n){return!!n&&(n instanceof St||O(n.lift)&&O(n.subscribe))}(n)?n:Zy(n)?A(Promise.resolve(n)):V(n)}const qG={exact:function M2(n,e,t){if(!Ff(n.segments,e.segments)||!Aw(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!M2(n.children[r],e.children[r],t))return!1;return!0},subset:O2},x2={exact:function GG(n,e){return ou(n,e)},subset:function WG(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>D2(n[t],e[t]))},ignored:()=>!0};function P2(n,e,t){return qG[t.paths](n.root,e.root,t.matrixParams)&&x2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function O2(n,e,t){return N2(n,e,e.segments,t)}function N2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ff(i,t)||e.hasChildren()||!Aw(i,t,r))}if(n.segments.length===t.length){if(!Ff(n.segments,t)||!Aw(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!O2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ff(n.segments,i)&&Aw(n.segments,i,r)&&n.children[Yt])&&N2(n.children[Yt],e,s,r)}}function Aw(n,e,t){return e.every((r,i)=>x2[t](n[i].parameters,r.parameters))}class fm{constructor(e=new zn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hm(this.queryParams)),this._queryParamMap}toString(){return QG.serialize(this)}}class zn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dw(this)}}class vv{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hm(this.parameters)),this._parameterMap}toString(){return F2(this)}}function Ff(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Iv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return new SD},providedIn:"root"})}return n})();class SD{parse(e){const t=new aW(e);return new fm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ev(e.root,!0)}`,r=function XG(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Rw(t)}=${Rw(i)}`).join("&"):`${Rw(t)}=${Rw(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function YG(n){return encodeURI(n)}(e.fragment)}`:""}`}}const QG=new SD;function Dw(n){return n.segments.map(e=>F2(e)).join("/")}function Ev(n,e){if(!n.hasChildren())return Dw(n);if(e){const t=n.children[Yt]?Ev(n.children[Yt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Yt&&r.push(`${i}:${Ev(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ZG(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Yt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Yt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Yt?[Ev(n.children[Yt],!1)]:[`${i}:${Ev(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Yt]?`${Dw(n)}/${t[0]}`:`${Dw(n)}/(${t.join("//")})`}}function k2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rw(n){return k2(n).replace(/%3B/gi,";")}function AD(n){return k2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xw(n){return decodeURIComponent(n)}function L2(n){return xw(n.replace(/\+/g,"%20"))}function F2(n){return`${AD(n.path)}${function JG(n){return Object.keys(n).map(e=>`;${AD(e)}=${AD(n[e])}`).join("")}(n.parameters)}`}const eW=/^[^\/()?;#]+/;function DD(n){const e=n.match(eW);return e?e[0]:""}const tW=/^[^\/()?;=#]+/,rW=/^[^=?&#]+/,sW=/^[^&#]+/;class aW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Yt]=new zn(e,t)),r}parseSegment(){const e=DD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new vv(xw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function nW(n){const e=n.match(tW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=DD(this.remaining);i&&(r=i,this.capture(r))}e[xw(t)]=xw(r)}parseQueryParam(e){const t=function iW(n){const e=n.match(rW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function oW(n){const e=n.match(sW);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=L2(t),s=L2(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=DD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new W(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Yt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Yt]:new zn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}}function V2(n){return n.segments.length>0?new zn([],{[Yt]:n}):n}function U2(n){const e={};for(const r of Object.keys(n.children)){const s=U2(n.children[r]);if(r===Yt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function lW(n){if(1===n.numberOfChildren&&n.children[Yt]){const e=n.children[Yt];return new zn(n.segments.concat(e.segments),e.children)}return n}(new zn(n.segments,e))}function Vf(n){return n instanceof fm}function B2(n){let e;const i=V2(function t(s){const o={};for(const u of s.children){const d=t(u);o[u.outlet]=d}const a=new zn(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function H2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return RD(i,i,i,t,r);const s=function cW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new j2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]="string"==typeof d?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new j2(t,e,r)}(e);if(s.toRoot())return RD(i,i,new zn([],{}),t,r);const o=function dW(n,e,t){if(n.isAbsolute)return new Mw(e,!0,0);if(!t)return new Mw(e,!1,NaN);if(null===t.parent)return new Mw(t,!0,0);const r=Pw(n.commands[0])?0:1;return function hW(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new Mw(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?Tv(o.segmentGroup,o.index,s.commands):z2(o.segmentGroup,o.index,s.commands);return RD(i,o.segmentGroup,a,t,r)}function Pw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wv(n){return"object"==typeof n&&null!=n&&n.outlets}function RD(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`}),o=n===e?t:$2(n,e,t);const a=V2(U2(o));return new fm(a,s,i)}function $2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:$2(s,e,t)}),new zn(n.segments,r)}class j2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pw(r[0]))throw new W(4003,!1);const i=r.find(wv);if(i&&i!==R2(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mw{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function z2(n,e,t){if(n||(n=new zn([],{})),0===n.segments.length&&n.hasChildren())return Tv(n,e,t);const r=function pW(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(wv(a))break;const u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&d&&"object"==typeof d&&void 0===d.outlets){if(!G2(u,d,o))return s;r+=2}else{if(!G2(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new zn(n.segments.slice(0,r.pathIndex),{});return s.children[Yt]=new zn(n.segments.slice(r.pathIndex),n.children),Tv(s,0,i)}return r.match&&0===i.length?new zn(n.segments,{}):r.match&&!n.hasChildren()?xD(n,e,t):r.match?Tv(n,0,i):xD(n,e,t)}function Tv(n,e,t){if(0===t.length)return new zn(n.segments,{});{const r=function fW(n){return wv(n[0])?n[0].outlets:{[Yt]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Yt)&&n.children[Yt]&&1===n.numberOfChildren&&0===n.children[Yt].segments.length){const s=Tv(n.children[Yt],e,t);return new zn(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=z2(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new zn(n.segments,i)}}function xD(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(wv(s)){const u=gW(s.outlets);return new zn(r,u)}if(0===i&&Pw(t[0])){r.push(new vv(n.segments[e].path,q2(t[0]))),i++;continue}const o=wv(s)?s.outlets[Yt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Pw(a)?(r.push(new vv(o,q2(a))),i+=2):(r.push(new vv(o,{})),i++)}return new zn(r,{})}function gW(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=xD(new zn([],{}),0,r))}),e}function q2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function G2(n,e,t){return n==t.path&&ou(e,t.parameters)}const bv="imperative";class au{constructor(e,t){this.id=e,this.url=t}}class Ow extends au{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Od extends au{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cv extends au{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pm extends au{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Nw extends au{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class W2 extends au{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mW extends au{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _W extends au{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yW extends au{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vW extends au{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class EW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class PD{}class MD{constructor(e){this.url=e}}class SW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sv,this.attachRef=null}}let Sv=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new SW,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Z2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=OD(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=OD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ND(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ND(e,this._root).map(t=>t.value)}}function OD(n,e){if(n===e.value)return e;for(const t of e.children){const r=OD(n,t);if(r)return r}return null}function ND(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ND(n,t);if(r.length)return r.unshift(e),r}return[]}class _c{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Q2 extends Z2{constructor(e,t){super(e),this.snapshot=t,kD(this,e)}toString(){return this.snapshot.toString()}}function Y2(n,e){const t=function AW(n,e){const o=new kw([],{},{},"",{},Yt,e,null,{});return new X2("",new _c(o,[]))}(0,e),r=new b([new vv("",{})]),i=new b({}),s=new b({}),o=new b({}),a=new b(""),u=new mm(r,i,o,a,s,Yt,e,t.root);return u.snapshot=t.root,new Q2(new _c(u,[]),t)}class mm{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ne(d=>d[yv]))??V(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ne(e=>hm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ne(e=>hm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function J2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function DW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class kw{get title(){return this.data?.[yv]}constructor(e,t,r,i,s,o,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class X2 extends Z2{constructor(e,t){super(t),this.url=e,kD(this,t)}toString(){return eF(this._root)}}function kD(n,e){e.value._routerState=n,e.children.forEach(t=>kD(n,t))}function eF(n){const e=n.children.length>0?` { ${n.children.map(eF).join(", ")} } `:"";return`${n.value}${e}`}function LD(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ou(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ou(e.params,t.params)||n.paramsSubject.next(t.params),function zG(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ou(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ou(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function FD(n,e){const t=ou(n.params,e.params)&&function KG(n,e){return Ff(n,e)&&n.every((t,r)=>ou(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||FD(n.parent,e.parent))}let VD=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Yt,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=Me(Sv),this.location=Me(Va),this.changeDetector=Me(hc),this.environmentInjector=Me(Ts),this.inputBinder=Me(Lw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new RW(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=st({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ui]})}return n})();class RW{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===mm?this.route:e===Sv?this.childContexts:this.parent.get(e,t)}}const Lw=new Oe("");let tF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=wD([r.queryParams,r.params,r.data]).pipe(ze(([s,o,a],u)=>(a={...s,...o,...a},0===u?V(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function sz(n){const e=nn(n);if(!e)return null;const t=new jy(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();function Av(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function PW(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Av(n,r,i);return Av(n,r)})}(n,e,t);return new _c(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Av(n,a)),o}}const r=function MW(n){return new mm(new b(n.url),new b(n.params),new b(n.queryParams),new b(n.fragment),new b(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Av(n,s));return new _c(r,i)}}const UD="ngNavigationCancelingError";function nF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Vf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function rF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[UD]=!0,r.cancellationCode=e,t&&(r.url=t),r}function iF(n){return n&&n[UD]}let sF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ir({type:n,selectors:[["ng-component"]],standalone:!0,features:[cc],decls:1,vars:0,template:function(r,i){1&r&&_t(0,"router-outlet")},dependencies:[VD],encapsulation:2})}return n})();function BD(n){const e=n.children&&n.children.map(BD),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Yt&&(t.component=sF),t}function fl(n){return n.outlet||Yt}function Dv(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class BW{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),LD(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=gm(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=gm(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=gm(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=gm(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new CW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new TW(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(LD(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),LD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Dv(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class oF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Fw{constructor(e,t){this.component=e,this.route=t}}function HW(n,e,t){const r=n._root;return Rv(r,e?e._root:null,t,[r.value])}function _m(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function mh(n){return null!==Ro(n)}(n)?e.get(n):n:r}function Rv(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=gm(e);return n.children.forEach(o=>{(function jW(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function zW(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ff(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ff(n.url,e.url)||!ou(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FD(n,e)||!ou(n.queryParams,e.queryParams);default:return!FD(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new oF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Rv(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fw(a.outlet.component,o))}else o&&xv(e,a,i),i.canActivateChecks.push(new oF(r)),Rv(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>xv(a,t.getContext(o),i)),i}function xv(n,e,t){const r=gm(n),i=n.value;Object.entries(r).forEach(([s,o])=>{xv(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Fw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pv(n){return"function"==typeof n}function aF(n){return n instanceof Tw||"EmptyError"===n?.name}const Vw=Symbol("INITIAL_VALUE");function ym(){return ze(n=>wD(n.map(e=>e.pipe(cm(1),bw(Vw)))).pipe(Ne(e=>{for(const t of e)if(!0!==t){if(t===Vw)return Vw;if(!1===t||t instanceof fm)return t}return!0}),ea(e=>e!==Vw),cm(1)))}function lF(n){return function Fs(...n){return Vs(n)}(as(e=>{if(Vf(e))throw nF(0,e)}),Ne(e=>!0===e))}class Uw{constructor(e){this.segmentGroup=e||null}}class uF{constructor(e){this.urlTree=e}}function vm(n){return mv(new Uw(n))}function cF(n){return mv(new uF(n))}class cK{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new W(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return V(r);if(i.numberOfChildren>1||!i.children[Yt])return mv(new W(4e3,!1));i=i.children[Yt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new fm(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new zn(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const HD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dK(n,e,t,r,i){const s=$D(n,e,t);return s.matched?(r=function NW(n,e){return n.providers&&!n._injector&&(n._injector=_A(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function aK(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?V(i.map(o=>{const a=_m(o,n);return Md(function QW(n){return n&&Pv(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ym(),lF()):V(!0)}(r,e,t).pipe(Ne(o=>!0===o?s:{...HD}))):V(s)}function $D(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...HD}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||jG)(t,n,e);if(!i)return{...HD};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function dF(n,e,t,r){return t.length>0&&function pK(n,e,t){return t.some(r=>Bw(n,e,r)&&fl(r)!==Yt)}(n,t,r)?{segmentGroup:new zn(e,fK(r,new zn(t,n.children))),slicedSegments:[]}:0===t.length&&function gK(n,e,t){return t.some(r=>Bw(n,e,r))}(n,t,r)?{segmentGroup:new zn(n.segments,hK(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new zn(n.segments,n.children),slicedSegments:t}}function hK(n,e,t,r,i){const s={};for(const o of r)if(Bw(n,t,o)&&!i[fl(o)]){const a=new zn([],{});s[fl(o)]=a}return{...i,...s}}function fK(n,e){const t={};t[Yt]=e;for(const r of n)if(""===r.path&&fl(r)!==Yt){const i=new zn([],{});t[fl(r)]=i}return t}function Bw(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class vK{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new cK(this.urlSerializer,this.urlTree)}noMatchError(e){return new W(4002,!1)}recognize(){const e=dF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Yt).pipe(Lf(t=>{if(t instanceof uF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Uw?this.noMatchError(t):t}),Ne(t=>{const r=new kw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yt,this.rootComponentType,null,{}),i=new _c(r,t),s=new X2("",i),o=function uW(n,e,t=null,r=null){return H2(B2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Yt).pipe(Lf(r=>{throw r instanceof Uw?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=J2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return A(i).pipe(dm(s=>{const o=r.children[s],a=function VW(n,e){const t=n.filter(r=>fl(r)===e);return t.push(...n.filter(r=>fl(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),Sw((s,o)=>(s.push(...o),s)),Cw(null),function UG(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ea((i,s)=>n(i,s,r)):lr,CD(1),t?Cw(e):A2(()=>new Tw))}(),mn(s=>{if(null===s)return vm(r);const o=hF(s);return function IK(n){n.sort((e,t)=>e.value.outlet===Yt?-1:t.value.outlet===Yt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),V(o)}))}processSegment(e,t,r,i,s,o){return A(t).pipe(dm(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Lf(u=>{if(u instanceof Uw)return V(null);throw u}))),Pd(a=>!!a),Lf(a=>{if(aF(a))return function _K(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?V([]):vm(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function mK(n,e,t,r){return!!(fl(n)===r||r!==Yt&&Bw(e,t,n))&&("**"===n.path||$D(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):vm(i):vm(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?cF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(mn(o=>{const a=new zn(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:d,positionalParamSegments:p}=$D(t,i,s);if(!a)return vm(t);const y=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,p);return i.redirectTo.startsWith("/")?cF(y):this.applyRedirects.lineralizeSegments(i,y).pipe(mn(I=>this.processSegment(e,r,t,I.concat(d),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?R2(i).parameters:{};a=V({snapshot:new kw(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fF(r),fl(r),r.component??r._loadedComponent??null,r,pF(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=dK(t,r,i,e).pipe(Ne(({matched:u,consumedSegments:d,remainingSegments:p,parameters:y})=>u?{snapshot:new kw(d,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fF(r),fl(r),r.component??r._loadedComponent??null,r,pF(r)),consumedSegments:d,remainingSegments:p}:null));return a.pipe(ze(u=>null===u?vm(t):this.getChildConfig(e=r._injector??e,r,i).pipe(ze(({routes:d})=>{const p=r._loadedInjector??e,{snapshot:y,consumedSegments:I,remainingSegments:w}=u,{segmentGroup:R,slicedSegments:M}=dF(t,I,w,d);if(0===M.length&&R.hasChildren())return this.processChildren(p,d,R).pipe(Ne(G=>null===G?null:[new _c(y,G)]));if(0===d.length&&0===M.length)return V([new _c(y,[])]);const L=fl(r)===s;return this.processSegment(p,d,R,M,L?Yt:s,!0).pipe(Ne(G=>[new _c(y,G)]))}))))}getChildConfig(e,t,r){return t.children?V({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?V({routes:t._loadedRoutes,injector:t._loadedInjector}):function oK(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?V(!0):V(i.map(o=>{const a=_m(o,n);return Md(function GW(n){return n&&Pv(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ym(),lF())}(e,t,r).pipe(mn(i=>i?this.configLoader.loadChildren(e,t).pipe(as(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function uK(n){return mv(rF(!1,3))}())):V({routes:[],injector:e})}}function EK(n){const e=n.value.routeConfig;return e&&""===e.path}function hF(n){const e=[],t=new Set;for(const r of n){if(!EK(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=hF(r.children);e.push(new _c(r.value,i))}return e.filter(r=>!t.has(r))}function fF(n){return n.data||{}}function pF(n){return n.resolve||{}}function gF(n){return"string"==typeof n.title||null===n.title}function jD(n){return ze(e=>{const t=n(e);return t?A(t).pipe(Ne(()=>e)):V(e)})}const Im=new Oe("ROUTES");let zD=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Me(Qk)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Md(t.loadComponent()).pipe(Ne(mF),as(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),_v(()=>{this.componentLoaders.delete(t)})),i=new S2(r,()=>new se).pipe(bD());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function DK(n,e,t,r){return Md(n.loadChildren()).pipe(Ne(mF),mn(i=>i instanceof sk||Array.isArray(i)?V(i):A(e.compileModuleAsync(i))),Ne(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Im,[],{optional:!0,self:!0}).flat()),{routes:o.map(BD),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(_v(()=>{this.childrenLoaders.delete(r)})),o=new S2(s,()=>new se).pipe(bD());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mF(n){return function RK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=Me(zD),this.environmentInjector=Me(Ts),this.urlSerializer=Me(Iv),this.rootContexts=Me(Sv),this.inputBindingEnabled=null!==Me(Lw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new EW(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new IW(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new b({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bv,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ea(s=>0!==s.id),Ne(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),ze(s=>{this.currentTransition=s;let o=!1,a=!1;return V(s).pipe(as(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ze(u=>{const d=u.currentBrowserUrl.toString(),p=!t.navigated||u.extractedUrl.toString()!==d||d!==u.currentUrlTree.toString();if(!p&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new pm(u.id,this.urlSerializer.serialize(u.rawUrl),I,0)),u.resolve(null),nr}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return V(u).pipe(ze(I=>{const w=this.transitions?.getValue();return this.events.next(new Ow(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),w!==this.transitions?.getValue()?nr:Promise.resolve(I)}),function wK(n,e,t,r,i,s){return mn(o=>function yK(n,e,t,r,i,s,o="emptyOnly"){return new vK(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Ne(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),as(I=>{s.targetSnapshot=I.targetSnapshot,s.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects};const w=new W2(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(w)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:I,extractedUrl:w,source:R,restoredState:M,extras:L}=u,G=new Ow(I,this.urlSerializer.serialize(w),R,M);this.events.next(G);const $=Y2(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:$,urlAfterRedirects:w,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},V(s)}{const I="";return this.events.next(new pm(u.id,this.urlSerializer.serialize(u.extractedUrl),I,1)),u.resolve(null),nr}}),as(u=>{const d=new mW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ne(u=>(this.currentTransition=s={...u,guards:HW(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function JW(n,e){return mn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?V({...t,guardsResult:!0}):function XW(n,e,t,r){return A(n).pipe(mn(i=>function sK(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?V(s.map(a=>{const u=Dv(e)??i,d=_m(a,u);return Md(function ZW(n){return n&&Pv(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,r):u.runInContext(()=>d(n,e,t,r))).pipe(Pd())})).pipe(ym()):V(!0)}(i.component,i.route,t,e,r)),Pd(i=>!0!==i,!0))}(o,r,i,n).pipe(mn(a=>a&&function qW(n){return"boolean"==typeof n}(a)?function eK(n,e,t,r){return A(e).pipe(dm(i=>TD(function nK(n,e){return null!==n&&e&&e(new wW(n)),V(!0)}(i.route.parent,r),function tK(n,e){return null!==n&&e&&e(new bW(n)),V(!0)}(i.route,r),function iK(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function $W(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>C2(()=>V(o.guards.map(u=>{const d=Dv(o.node)??t,p=_m(u,d);return Md(function KW(n){return n&&Pv(n.canActivateChild)}(p)?p.canActivateChild(r,n):d.runInContext(()=>p(r,n))).pipe(Pd())})).pipe(ym())));return V(s).pipe(ym())}(n,i.path,t),function rK(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return V(!0);const i=r.map(s=>C2(()=>{const o=Dv(e)??t,a=_m(s,o);return Md(function WW(n){return n&&Pv(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Pd())}));return V(i).pipe(ym())}(n,i.route,t))),Pd(i=>!0!==i,!0))}(r,s,n,e):V(a)),Ne(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),as(u=>{if(s.guardsResult=u.guardsResult,Vf(u.guardsResult))throw nF(0,u.guardsResult);const d=new _W(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),ea(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),jD(u=>{if(u.guards.canActivateChecks.length)return V(u).pipe(as(d=>{const p=new yW(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),ze(d=>{let p=!1;return V(d).pipe(function TK(n,e){return mn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let s=0;return A(i).pipe(dm(o=>function bK(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!gF(i)&&(s[yv]=i.title),function CK(n,e,t,r){const i=function SK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return V({});const s={};return A(i).pipe(mn(o=>function AK(n,e,t,r){const i=Dv(e)??r,s=_m(n,i);return Md(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Pd(),as(a=>{s[o]=a}))),CD(1),function BG(n){return Ne(()=>n)}(s),Lf(o=>aF(o)?nr:mv(o)))}(s,n,e,r).pipe(Ne(o=>(n._resolvedData=o,n.data=J2(n,t).resolve,i&&gF(i)&&(n.data[yv]=i.title),null)))}(o.route,r,n,e)),as(()=>s++),CD(1),mn(o=>s===i.length?V(t):nr))})}(t.paramsInheritanceStrategy,this.environmentInjector),as({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",2)}}))}),as(d=>{const p=new vW(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),jD(u=>{const d=p=>{const y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(as(I=>{p.component=I}),Ne(()=>{})));for(const I of p.children)y.push(...d(I));return y};return wD(d(u.targetSnapshot.root)).pipe(Cw(),cm(1))}),jD(()=>this.afterPreactivation()),Ne(u=>{const d=function xW(n,e,t){const r=Av(n,e._root,t?t._root:void 0);return new Q2(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:d},s}),as(()=>{this.events.next(new PD)}),((n,e,t,r)=>Ne(i=>(new BW(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),cm(1),as({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Od(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function HG(n){return ce((e,t)=>{jt(n).subscribe(xe(t,()=>t.complete(),Ke)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(as(u=>{throw u}))),_v(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Lf(u=>{if(a=!0,iF(u))this.events.next(new Cv(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function OW(n){return iF(n)&&Vf(n.url)}(u)?this.events.next(new MD(u.url)):s.resolve(!1);else{this.events.next(new Nw(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(u))}catch(d){s.reject(d)}}return nr}))}))}cancelNavigationTransition(t,r,i){const s=new Cv(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _F(n){return n!==bv}let yF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Yt);return r}getResolvedTitleForRoute(t){return t.data[yv]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return Me(xK)},providedIn:"root"})}return n})(),xK=(()=>{class n extends yF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(Te(_2))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return Me(OK)},providedIn:"root"})}return n})();class MK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let OK=(()=>{class n extends MK{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $w=new Oe("",{providedIn:"root",factory:()=>({})});let NK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return Me(kK)},providedIn:"root"})}return n})(),kK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Mv=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Mv||{});function vF(n,e){n.events.pipe(ea(t=>t instanceof Od||t instanceof Cv||t instanceof Nw||t instanceof pm),Ne(t=>t instanceof Od||t instanceof pm?Mv.COMPLETE:t instanceof Cv&&(0===t.code||1===t.code)?Mv.REDIRECTING:Mv.FAILED),ea(t=>t!==Mv.REDIRECTING),cm(1)).subscribe(()=>{e()})}function LK(n){throw n}function FK(n,e,t){return e.parse("/")}const VK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ds=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Me(Zk),this.isNgZoneEnabled=!1,this._events=new se,this.options=Me($w,{optional:!0})||{},this.pendingTasks=Me(tw),this.errorHandler=this.options.errorHandler||LK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||FK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Me(NK),this.routeReuseStrategy=Me(PK),this.titleStrategy=Me(yF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Me(Im,{optional:!0})?.flat()??[],this.navigationTransitions=Me(Hw),this.urlSerializer=Me(Iv),this.location=Me(ZA),this.componentInputBindingEnabled=!!Me(Lw,{optional:!0}),this.eventsSubscription=new dn,this.isNgZoneEnabled=Me(ht)instanceof ht&&ht.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Y2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(IF(r)&&this._events.next(r));if(r instanceof Ow)_F(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof pm)this.rawUrlTree=i.rawUrl;else if(r instanceof W2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof PD)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Cv)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof MD){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_F(i.source)};this.scheduleNavigation(s,bv,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Nw&&this.restoreHistory(i,!0),r instanceof Od&&(this.navigated=!0),IF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bv,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(BD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o;let y,p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{y=B2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),y=this.currentUrlTree.root}return H2(y,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Vf(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bv,null,r)}navigate(t,r={skipLocationChange:!1}){return function BK(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new W(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...VK}:!1===r?{...UK}:r,Vf(t))return P2(this.currentUrlTree,t,i);const s=this.parseUrl(t);return P2(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,d;o?(a=o.resolve,u=o.reject,d=o.promise):d=new Promise((y,I)=>{a=y,u=I});const p=this.pendingTasks.add();return vF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(y=>Promise.reject(y))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IF(n){return!(n instanceof PD||n instanceof MD)}let jw=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Od&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function d0(n,e,t){return function hS(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Rg:Dg}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Ds),ie(mm),function ag(n){return function qe(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Pp(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(br(),n)}("tabindex"),ie(Cs),ie(ri),ie(Nf))};static#t=this.\u0275dir=st({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&it("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&$t("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",am],skipLocationChange:["skipLocationChange","skipLocationChange",am],replaceUrl:["replaceUrl","replaceUrl",am],routerLink:"routerLink"},standalone:!0,features:[IO,Ui]})}return n})(),EF=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new We,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Od&&this.update()})}ngAfterContentInit(){V(this.links.changes,V(null)).pipe(Ii()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=A(t).pipe(Ii()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function HK(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Ds),ie(ri),ie(Cs),ie(hc),ie(jw,8))};static#t=this.\u0275dir=st({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&ov(s,jw,5),2&r){let o;ul(o=cl())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ui]})}return n})();class wF{}let $K=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ea(t=>t instanceof Od),dm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=_A(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return A(i).pipe(Ii())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):V(null);const s=i.pipe(mn(o=>null===o?V(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?A([s,this.loader.loadComponent(r)]).pipe(Ii()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Ds),Te(Qk),Te(Ts),Te(wF),Te(zD))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qD=new Oe("");let TF=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ow?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Od?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof pm&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof K2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new K2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function GM(){throw new Error("invalid")}()};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();function yc(n,e){return{\u0275kind:n,\u0275providers:e}}function CF(){const n=Me(z);return e=>{const t=n.get(Mf);if(e!==t.components[0])return;const r=n.get(Ds),i=n.get(SF);1===n.get(GD)&&r.initialNavigation(),n.get(AF,null,qt.Optional)?.setUpPreloading(),n.get(qD,null,qt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const SF=new Oe("",{factory:()=>new se}),GD=new Oe("",{providedIn:"root",factory:()=>1}),AF=new Oe("");function GK(n){return yc(0,[{provide:AF,useExisting:$K},{provide:wF,useExisting:n}])}const DF=new Oe("ROUTER_FORROOT_GUARD"),KK=[ZA,{provide:Iv,useClass:SD},Ds,Sv,{provide:mm,useFactory:function bF(n){return n.routerState.root},deps:[Ds]},zD,[]];function ZK(){return new rL("Router",Ds)}let zw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[KK,[],{provide:Im,multi:!0,useValue:t},{provide:DF,useFactory:XK,deps:[[Ds,new af,new cg]]},{provide:$w,useValue:r||{}},r?.useHash?{provide:Nf,useClass:cz}:{provide:Nf,useClass:NL},{provide:qD,useFactory:()=>{const n=Me(Dq),e=Me(ht),t=Me($w),r=Me(Hw),i=Me(Iv);return t.scrollOffset&&n.setOffset(t.scrollOffset),new TF(i,r,n,e,t)}},r?.preloadingStrategy?GK(r.preloadingStrategy).\u0275providers:[],{provide:rL,multi:!0,useFactory:ZK},r?.initialNavigation?eZ(r):[],r?.bindToComponentInputs?yc(8,[tF,{provide:Lw,useExisting:tF}]).\u0275providers:[],[{provide:RF,useFactory:CF},{provide:UA,multi:!0,useExisting:RF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Im,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Te(DF,8))};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({})}return n})();function XK(n){return"guarded"}function eZ(n){return["disabled"===n.initialNavigation?yc(3,[{provide:PA,multi:!0,useFactory:()=>{const e=Me(Ds);return()=>{e.setUpLocationChangeListener()}}},{provide:GD,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?yc(2,[{provide:GD,useValue:0},{provide:PA,multi:!0,deps:[z],useFactory:e=>{const t=e.get(lz,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ds),s=e.get(SF);vF(i,()=>{r(!0)}),e.get(Hw).afterPreactivation=()=>(r(!0),s.closed?V(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const RF=new Oe("");var xF=ct(562),sr=ct(58),Em=ct(534),lu=ct(879),PF=ct(537);ct(365),(0,Em.registerVersion)("firebase","10.6.0","app");class iZ extends dn{constructor(e,t){super()}schedule(e,t=0){return this}}const qw={setInterval(n,e,...t){const{delegate:r}=qw;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=qw;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class MF extends iZ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return qw.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&qw.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ze(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const WD={now:()=>(WD.delegate||Date).now(),delegate:void 0};class Ov{constructor(e,t=Ov.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Ov.now=WD.now;class OF extends Ov{constructor(e,t=Ov.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const aZ=new class oZ extends OF{}(class sZ extends MF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Gw=new OF(MF),lZ=Gw,KD=new Sd("ANGULARFIRE2_VERSION");class NF{constructor(){return((n,e)=>{const t=(0,Em.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(cZ)}}const cZ="app-check";function wm(){}class kF{zone;delegate;constructor(e,t=aZ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class dZ{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wm,{},wm,wm)),t.pipe(as({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let LF=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new kF(Zone.current)),this.insideAngular=t.run(()=>new kF(Zone.current,Gw)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Te(ht))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ta(n){return function fZ(n){return function(t){return(t=t.lift(new dZ(n.ngZone))).pipe(ui(n.outsideAngular),Br(n.insideAngular))}}(function Tm(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Nd=ct(106);Nd.Z.registerVersion("firebase","10.6.0","app-compat");const _Z=["ngOnDestroy"];class FF{constructor(e){return e}}const Ww=new Oe("angularfire2.app.options"),Kw=new Oe("angularfire2.app.name");function ZD(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=Nd.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Nd.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;IZ("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new FF(o)}const IZ=(n,...e)=>{},EZ={provide:FF,useFactory:ZD,deps:[Ww,ht,[new af,Kw]]};let wZ=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Ww,useValue:t},{provide:Kw,useValue:r}]}}constructor(t){Nd.Z.registerVersion("angularfire",KD.full,"core"),Nd.Z.registerVersion("angularfire",KD.full,"app-compat"),Nd.Z.registerVersion("angular",S0.full,t.toString())}static \u0275fac=function(r){return new(r||n)(Te(bs))};static \u0275mod=On({type:n});static \u0275inj=Mn({providers:[EZ]})}return n})();function VF(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function TZ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(UF("error",`${e} was already initialized on the ${t} Firebase App with different settings.${bZ?" You may need to reload as Firebase is not HMR aware.":""}`),UF("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const bZ=typeof module<"u"&&!!module.hot,UF=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class CZ extends se{constructor(e=1/0,t=1/0,r=WD){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function BF(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,oe({connector:()=>new CZ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function HF(n,e){return O(e)?ze(()=>n,e):ze(()=>n)}const $F=new Oe("angularfire2.auth.use-emulator"),jF=new Oe("angularfire2.auth.settings"),zF=new Oe("angularfire2.auth.tenant-id"),qF=new Oe("angularfire2.auth.langugage-code"),GF=new Oe("angularfire2.auth.use-device-language"),WF=new Oe("angularfire.auth.persistence"),KF=(n,e,t,r,i,s,o,a)=>VF(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[d,p]of Object.entries(o))u.settings[d]=p;return a&&u.setPersistence(a),u},[t,r,i,s,o,a]);let Zw=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,u,d,p,y,I,w){const R=new se,M=V(void 0).pipe(Br(o.outsideAngular),ze(()=>s.runOutsideAngular(()=>Promise.resolve().then(ct.bind(ct,365)))),Ne(()=>ZD(t,s,r)),Ne(L=>KF(L,s,a,d,p,y,u,I)),BF({bufferSize:1,refCount:!1}));if(vw(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=V(null);else{M.pipe(Pd()).subscribe();const L=M.pipe(ze(J=>J.getRedirectResult().then(he=>he,()=>null)),ta,BF({bufferSize:1,refCount:!1})),G=M.pipe(ze(J=>new St(he=>({unsubscribe:s.runOutsideAngular(()=>J.onAuthStateChanged(Re=>he.next(Re),Re=>he.error(Re),()=>he.complete()))})))),$=M.pipe(ze(J=>new St(he=>({unsubscribe:s.runOutsideAngular(()=>J.onIdTokenChanged(Re=>he.next(Re),Re=>he.error(Re),()=>he.complete()))}))));this.authState=L.pipe(HF(G),ui(o.outsideAngular),Br(o.insideAngular)),this.user=L.pipe(HF($),ui(o.outsideAngular),Br(o.insideAngular)),this.idToken=this.user.pipe(ze(J=>J?A(J.getIdToken()):V(null))),this.idTokenResult=this.user.pipe(ze(J=>J?A(J.getIdTokenResult()):V(null))),this.credential=x(L,R,this.authState.pipe(ea(J=>!J))).pipe(Ne(J=>J?.user?J:null),ui(o.outsideAngular),Br(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(_Z.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const u=a?.[s];return"function"==typeof u?u.bind(a):u?.then?u.then(d=>t.run(()=>d)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,d)=>o.then(p=>{const y=p?.(...d);return r?.spy?.apply&&r.spy.apply(s,d,y),y})})})}))(this,M,s,{spy:{apply:(L,G,$)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&$.then(J=>R.next(J))}}})}static \u0275fac=function(r){return new(r||n)(Te(Ww),Te(Kw,8),Te(bs),Te(ht),Te(LF),Te($F,8),Te(jF,8),Te(zF,8),Te(qF,8),Te(GF,8),Te(WF,8),Te(NF,8))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),AZ=(()=>{class n{constructor(){Nd.Z.registerVersion("angularfire",KD.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({providers:[Zw]})}return n})();function QD(){return ce((n,e)=>{let t,r=!1;n.subscribe(xe(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var Be,fe=ct(861),DZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pl={},YD=YD||{},Vt=DZ||self;function Qw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Nv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var JD="closure_uid_"+(1e9*Math.random()>>>0),xZ=0;function PZ(n,e,t){return n.call.apply(n.bind,arguments)}function MZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Rs(n,e,t){return(Rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PZ:MZ).apply(null,arguments)}function Yw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ki(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function kd(){this.s=this.s,this.o=this.o}kd.prototype.s=!1,kd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function RZ(n){Object.prototype.hasOwnProperty.call(n,JD)&&n[JD]||(n[JD]=++xZ)}(this)},kd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function XD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function QF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Qw(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function xs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}xs.prototype.h=function(){this.defaultPrevented=!0};var NZ=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",()=>{},e),Vt.removeEventListener("test",()=>{},e)}catch{}return n}();function kv(n){return/^[\s\xa0]*$/.test(n)}function Jw(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function uu(n){return-1!=Jw().indexOf(n)}function e1(n){return e1[" "](n),n}e1[" "]=function(){};var n1,n,LZ=uu("Opera"),bm=uu("Trident")||uu("MSIE"),YF=uu("Edge"),t1=YF||bm,JF=uu("Gecko")&&!(-1!=Jw().toLowerCase().indexOf("webkit")&&!uu("Edge"))&&!(uu("Trident")||uu("MSIE"))&&!uu("Edge"),FZ=-1!=Jw().toLowerCase().indexOf("webkit")&&!uu("Edge");function XF(){var n=Vt.document;return n?n.documentMode:void 0}e:{var r1="",s1=(n=Jw(),JF?/rv:([^\);]+)(\)|;)/.exec(n):YF?/Edge\/([\d\.]+)/.exec(n):bm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):FZ?/WebKit\/(\S+)/.exec(n):LZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(s1&&(r1=s1?s1[1]:""),bm){var o1=XF();if(null!=o1&&o1>parseFloat(r1)){n1=String(o1);break e}}n1=r1}var VZ=Vt.document&&bm&&(XF()||parseInt(n1,10))||void 0;function Lv(n,e){if(xs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(JF){e:{try{e1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:UZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Lv.$.h.call(this)}}Ki(Lv,xs);var UZ={2:"touch",3:"pen",4:"mouse"};Lv.prototype.h=function(){Lv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fv="closure_listenable_"+(1e6*Math.random()|0),BZ=0;function HZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++BZ,this.fa=this.ia=!1}function Xw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function l1(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function tV(n){const e={};for(const t in n)e[t]=n[t];return e}const nV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<nV.length;s++)t=nV[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function eT(n){this.src=n,this.g={},this.h=0}function u1(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=ZF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function c1(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}eT.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=c1(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new HZ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var d1="closure_lm_"+(1e6*Math.random()|0),h1={};function iV(n,e,t,r,i){if(r&&r.once)return oV(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)iV(n,e[s],t,r,i);return null}return t=m1(t),n&&n[Fv]?n.O(e,t,Nv(r)?!!r.capture:!!r,i):sV(n,e,t,!1,r,i)}function sV(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Nv(i)?!!i.capture:!!i,a=p1(n);if(a||(n[d1]=a=new eT(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function jZ(){const e=zZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)NZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(lV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function oV(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oV(n,e[s],t,r,i);return null}return t=m1(t),n&&n[Fv]?n.P(e,t,Nv(r)?!!r.capture:!!r,i):sV(n,e,t,!0,r,i)}function aV(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)aV(n,e[s],t,r,i);else r=Nv(r)?!!r.capture:!!r,t=m1(t),n&&n[Fv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=c1(s=n.g[e],t,r,i))&&(Xw(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=p1(n))&&(e=n.g[e.toString()],n=-1,e&&(n=c1(e,t,r,i)),(t=-1<n?e[n]:null)&&f1(t))}function f1(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Fv])u1(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(lV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=p1(e))?(u1(t,n),0==t.h&&(t.src=null,e[d1]=null)):Xw(n)}}}function lV(n){return n in h1?h1[n]:h1[n]="on"+n}function zZ(n,e){if(n.fa)n=!0;else{e=new Lv(e,this);var t=n.listener,r=n.la||n.src;n.ia&&f1(n),n=t.call(r,e)}return n}function p1(n){return(n=n[d1])instanceof eT?n:null}var g1="__closure_events_fn_"+(1e9*Math.random()>>>0);function m1(n){return"function"==typeof n?n:(n[g1]||(n[g1]=function(e){return n.handleEvent(e)}),n[g1])}function Zi(){kd.call(this),this.i=new eT(this),this.S=this,this.J=null}function ls(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new xs(e,n);else if(e instanceof xs)e.target=e.target||n;else{var i=e;rV(e=new xs(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=tT(o,r,!0,e)&&i}if(i=tT(o=e.g=n,r,!0,e)&&i,i=tT(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=tT(o=e.g=t[s],r,!1,e)&&i}function tT(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&u1(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ki(Zi,kd),Zi.prototype[Fv]=!0,Zi.prototype.removeEventListener=function(n,e,t,r){aV(this,n,e,t,r)},Zi.prototype.N=function(){if(Zi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Xw(t[r]);delete n.g[e],n.h--}}this.J=null},Zi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Zi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _1=Vt.JSON.stringify;function GZ(){var n=y1;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var uV=new class qZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new KZ,n=>n.reset());class KZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ZZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function QZ(n){Vt.setTimeout(()=>{throw n},0)}let Vv,Uv=!1,y1=new class WZ{constructor(){this.h=this.g=null}add(e,t){const r=uV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},cV=()=>{const n=Vt.Promise.resolve(void 0);Vv=()=>{n.then(YZ)}};var YZ=()=>{for(var n;n=GZ();){try{n.h.call(n.g)}catch(t){QZ(t)}var e=uV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Uv=!1};function nT(n,e){Zi.call(this),this.h=n||1,this.g=e||Vt,this.j=Rs(this.qb,this),this.l=Date.now()}function v1(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function I1(n,e,t){if("function"==typeof n)t&&(n=Rs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rs(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function dV(n){n.g=I1(()=>{n.g=null,n.i&&(n.i=!1,dV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ki(nT,Zi),(Be=nT.prototype).ga=!1,Be.T=null,Be.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ls(this,"tick"),this.ga&&(v1(this),this.start()))}},Be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Be.N=function(){nT.$.N.call(this),v1(this),delete this.g};class JZ extends kd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dV(this)}N(){super.N(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bv(n){kd.call(this),this.h=n,this.g={}}Ki(Bv,kd);var hV=[];function fV(n,e,t,r){Array.isArray(t)||(t&&(hV[0]=t.toString()),t=hV);for(var i=0;i<t.length;i++){var s=iV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function pV(n){l1(n.g,function(e,t){this.g.hasOwnProperty(t)&&f1(e)},n),n.g={}}function rT(){this.g=!0}function Cm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return _1(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bv.prototype.N=function(){Bv.$.N.call(this),pV(this)},Bv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rT.prototype.Ea=function(){this.g=!1},rT.prototype.info=function(){};var Bf={},gV=null;function iT(){return gV=gV||new Zi}function mV(n){xs.call(this,Bf.Ta,n)}function Hv(n){const e=iT();ls(e,new mV(e))}function _V(n,e){xs.call(this,Bf.STAT_EVENT,n),this.stat=e}function to(n){const e=iT();ls(e,new _V(e,n))}function yV(n,e){xs.call(this,Bf.Ua,n),this.size=e}function $v(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Bf.Ta="serverreachability",Ki(mV,xs),Bf.STAT_EVENT="statevent",Ki(_V,xs),Bf.Ua="timingevent",Ki(yV,xs);var sT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function E1(){}function EV(){}E1.prototype.h=null;var b1,jv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function w1(){xs.call(this,"d")}function T1(){xs.call(this,"c")}function oT(){}function zv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Bv(this),this.P=rQ,this.V=new nT(n=t1?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wV}function wV(){this.i=null,this.g="",this.h=!1}Ki(w1,xs),Ki(T1,xs),Ki(oT,E1),oT.prototype.g=function(){return new XMLHttpRequest},oT.prototype.i=function(){return{}},b1=new oT;var rQ=45e3,C1={},aT={};function S1(n,e,t){n.L=1,n.v=dT(vc(e)),n.s=t,n.S=!0,TV(n,null)}function TV(n,e){n.G=Date.now(),qv(n),n.A=vc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),OV(t.i,"t",r),n.C=0,t=n.l.J,n.h=new wV,n.g=rU(n.l,t?e:null,!n.s),0<n.O&&(n.M=new JZ(Rs(n.Pa,n,n.g),n.O)),fV(n.U,n.g,"readystatechange",n.nb),e=n.I?tV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Hv(),function XZ(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var d=a[u].split("=");if(1<d.length){var p=d[0];d=d[1];var y=p.split("_");o=2<=y.length&&"type"==y[1]?o+(p+"=")+d+"&":o+(p+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function bV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function CV(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=iQ(n,t),i==aT){4==e&&(n.o=4,to(14),r=!1),Cm(n.j,n.m,null,"[Incomplete Response]");break}if(i==C1){n.o=4,to(15),Cm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Cm(n.j,n.m,i,null),A1(n,i)}bV(n)&&i!=aT&&i!=C1&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,to(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),N1(e),e.M=!0,to(11))):(Cm(n.j,n.m,t,"[Invalid Chunked Response]"),Hf(n),Gv(n))}function iQ(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?aT:(t=Number(e.substring(t,r)),isNaN(t)?C1:(r+=1)+t>e.length?aT:(e=e.slice(r,r+t),n.C=r+t,e))}function qv(n){n.Y=Date.now()+n.P,SV(n,n.P)}function SV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$v(Rs(n.lb,n),e)}function lT(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Gv(n){0==n.l.H||n.J||XV(n.l,n)}function Hf(n){lT(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,v1(n.V),pV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function A1(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||D1(t.i,n)))if(!n.K&&D1(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;_T(t),gT(t)}O1(t),to(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=$v(Rs(t.ib,t),6e3));if(1>=LV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else jf(t,11)}else if((n.K||t.g==n)&&_T(t),!kv(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const p=d[3];null!=p&&(t.ra=p,t.l.info("VER="+t.ra));const y=d[4];null!=y&&(t.Ga=y,t.l.info("SVER="+t.Ga));const I=d[5];null!=I&&"number"==typeof I&&0<I&&(t.L=r=1.5*I,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const w=n.g;if(w){const R=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=r.i;s.g||-1==R.indexOf("spdy")&&-1==R.indexOf("quic")&&-1==R.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(R1(s,s.h),s.h=null))}if(r.F){const M=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;M&&(r.Da=M,Cr(r.I,r.F,M))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=nU(r,r.J?r.pa:null,r.Y),o.K){FV(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(lT(a),qv(a)),r.g=o}else YV(r);0<t.j.length&&mT(t)}else"stop"!=d[0]&&"close"!=d[0]||jf(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?jf(t,7):M1(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}Hv()}catch{}}function AV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Qw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function oQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Qw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function sQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Qw(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Be=zv.prototype).setTimeout=function(n){this.P=n},Be.nb=function(n){n=n.target;const e=this.M;e&&3==cu(n)?e.l():this.Pa(n)},Be.Pa=function(n){try{if(n==this.g)e:{const p=cu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>p)&&(3!=p||t1||this.g&&(this.h.h||this.g.ja()||qV(this.g)))){this.J||4!=p||7==e||Hv(),lT(this);var t=this.g.da();this.ca=t;t:if(bV(this)){var r=qV(this.g);n="";var i=r.length,s=4==cu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hf(this),Gv(this);var o="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function eQ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,p,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kv(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.o=3,to(12),Hf(this),Gv(this);break e}Cm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,A1(this,t)}this.S?(CV(this,p,o),t1&&this.i&&3==p&&(fV(this.U,this.V,"tick",this.mb),this.V.start())):(Cm(this.j,this.m,o,null),A1(this,o)),4==p&&Hf(this),this.i&&!this.J&&(4==p?XV(this.l,this):(this.i=!1,qv(this)))}else(function bQ(n){const e={};n=(n.g&&2<=cu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(kv(n[r]))continue;var t=ZZ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function $Z(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,to(12)):(this.o=0,to(13)),Hf(this),Gv(this)}}}catch{}},Be.mb=function(){if(this.g){var n=cu(this.g),e=this.g.ja();this.C<e.length&&(lT(this),CV(this,n,e),this.i&&4!=n&&qv(this))}},Be.cancel=function(){this.J=!0,Hf(this)},Be.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Hv(),to(17)),Hf(this),this.o=2,Gv(this)):SV(this,this.Y-n)};var DV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $f(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $f){this.h=n.h,uT(this,n.j),this.s=n.s,this.g=n.g,cT(this,n.m),this.l=n.l;var e=n.i,t=new Zv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),RV(this,t),this.o=n.o}else n&&(e=String(n).match(DV))?(this.h=!1,uT(this,e[1]||"",!0),this.s=Wv(e[2]||""),this.g=Wv(e[3]||"",!0),cT(this,e[4]),this.l=Wv(e[5]||"",!0),RV(this,e[6]||"",!0),this.o=Wv(e[7]||"")):(this.h=!1,this.i=new Zv(null,this.h))}function vc(n){return new $f(n)}function uT(n,e,t){n.j=t?Wv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function RV(n,e,t){e instanceof Zv?(n.i=e,function fQ(n,e){e&&!n.j&&(Ld(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(PV(this,r),OV(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Kv(e,dQ)),n.i=new Zv(e,n.h))}function Cr(n,e,t){n.i.set(e,t)}function dT(n){return Cr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Kv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,lQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function lQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$f.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Kv(e,xV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Kv(e,xV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Kv(t,"/"==t.charAt(0)?cQ:uQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Kv(t,hQ)),n.join("")};var xV=/[#\/\?@]/g,uQ=/[#\?:]/g,cQ=/[#\?]/g,dQ=/[#\?@]/g,hQ=/#/g;function Zv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ld(n){n.g||(n.g=new Map,n.h=0,n.i&&function aQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function PV(n,e){Ld(n),e=Sm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function MV(n,e){return Ld(n),e=Sm(n,e),n.g.has(e)}function OV(n,e,t){PV(n,e),0<t.length&&(n.i=null,n.g.set(Sm(n,e),XD(t)),n.h+=t.length)}function Sm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function NV(n){this.l=n||gQ,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ka&&Vt.g.Ka()&&Vt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Be=Zv.prototype).add=function(n,e){Ld(this),this.i=null,n=Sm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Be.forEach=function(n,e){Ld(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Be.ta=function(){Ld(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Be.Z=function(n){Ld(this);let e=[];if("string"==typeof n)MV(this,n)&&(e=e.concat(this.g.get(Sm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Be.set=function(n,e){return Ld(this),this.i=null,MV(this,n=Sm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Be.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var gQ=10;function kV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LV(n){return n.h?1:n.g?n.g.size:0}function D1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function R1(n,e){n.g?n.g.add(e):n.h=e}function FV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function VV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return XD(n.i)}NV.prototype.cancel=function(){if(this.i=VV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var mQ=class{stringify(n){return Vt.JSON.stringify(n,void 0)}parse(n){return Vt.JSON.parse(n,void 0)}};function _Q(){this.g=new mQ}function yQ(n,e,t){const r=t||"";try{AV(n,function(i,s){let o=i;Nv(i)&&(o=_1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hT(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qv(n){this.l=n.ec||null,this.j=n.ob||!1}function fT(n,e){Zi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=x1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ki(Qv,E1),Qv.prototype.g=function(){return new fT(this.l,this.j)},Qv.prototype.i=function(n){return function(){return n}}({}),Ki(fT,Zi);var x1=0;function UV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Yv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jv(n)}function Jv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Be=fT.prototype).open=function(n,e){if(this.readyState!=x1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jv(this)},Be.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Vt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yv(this)),this.readyState=x1},Be.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jv(this)),this.g&&(this.readyState=3,Jv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Be.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yv(this):Jv(this),3==this.readyState&&UV(this)}},Be.Za=function(n){this.g&&(this.response=this.responseText=n,Yv(this))},Be.Ya=function(n){this.g&&(this.response=n,Yv(this))},Be.ka=function(){this.g&&Yv(this)},Be.setRequestHeader=function(n,e){this.v.append(n,e)},Be.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Be.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var IQ=Vt.JSON.parse;function Zr(n){Zi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=BV,this.L=this.M=!1}Ki(Zr,Zi);var BV="",EQ=/^https?$/i,wQ=["POST","PUT"];function HV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$V(n),pT(n)}function $V(n){n.F||(n.F=!0,ls(n,"complete"),ls(n,"error"))}function jV(n){if(n.h&&typeof YD<"u"&&(!n.C[1]||4!=cu(n)||2!=n.da()))if(n.v&&4==cu(n))I1(n.La,0,n);else if(ls(n,"readystatechange"),4==cu(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(DV)[1]||null;!i&&Vt.self&&Vt.self.location&&(i=Vt.self.location.protocol.slice(0,-1)),r=!EQ.test(i?i.toLowerCase():"")}t=r}if(t)ls(n,"complete"),ls(n,"success");else{n.m=6;try{var s=2<cu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",$V(n)}}finally{pT(n)}}}function pT(n,e){if(n.g){zV(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ls(n,"ready");try{t.onreadystatechange=r}catch{}}}function zV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function cu(n){return n.g?n.g.readyState:0}function qV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case BV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function GV(n){let e="";return l1(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function P1(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=GV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Cr(n,e,t))}function Xv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WV(n){this.Ga=0,this.j=[],this.l=new rT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xv("baseRetryDelayMs",5e3,n),this.hb=Xv("retryDelaySeedMs",1e4,n),this.eb=Xv("forwardChannelMaxRetries",2,n),this.xa=Xv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new NV(n&&n.concurrentRequestLimit),this.Ja=new _Q,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function M1(n){if(KV(n),3==n.H){var e=n.W++,t=vc(n.I);if(Cr(t,"SID",n.K),Cr(t,"RID",e),Cr(t,"TYPE","terminate"),eI(n,t),(e=new zv(n,n.l,e)).L=2,e.v=dT(vc(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon)try{t=Vt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=rU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qv(e)}tU(n)}function gT(n){n.g&&(N1(n),n.g.cancel(),n.g=null)}function KV(n){gT(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),_T(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function mT(n){if(!kV(n.i)&&!n.m){n.m=!0;var e=n.Na;Vv||cV(),Uv||(Vv(),Uv=!0),y1.add(e,n),n.C=0}}function ZV(n,e){var t;t=e?e.m:n.W++;const r=vc(n.I);Cr(r,"SID",n.K),Cr(r,"RID",t),Cr(r,"AID",n.V),eI(n,r),n.o&&n.s&&P1(r,n.o,n.s),t=new zv(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=QV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),R1(n.i,t),S1(t,r,e)}function eI(n,e){n.na&&l1(n.na,function(t,r){Cr(e,r,t)}),n.h&&AV({},function(t,r){Cr(e,r,t)})}function QV(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Rs(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let d=i[u].g;const p=i[u].map;if(d-=s,0>d)s=Math.max(0,i[u].g-100),a=!1;else try{yQ(p,o,"req"+d+"_")}catch{r&&r(p)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function YV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Vv||cV(),Uv||(Vv(),Uv=!0),y1.add(e,n),n.A=0}}function O1(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$v(Rs(n.Ma,n),eU(n,n.A)),n.A++,0))}function N1(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function JV(n){n.g=new zv(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=vc(n.wa);Cr(e,"RID","rpc"),Cr(e,"SID",n.K),Cr(e,"AID",n.V),Cr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Cr(e,"TO",n.qa),Cr(e,"TYPE","xmlhttp"),eI(n,e),n.o&&n.s&&P1(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=dT(vc(e)),t.s=null,t.S=!0,TV(t,n)}function _T(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function XV(n,e){var t=null;if(n.g==e){_T(n),N1(n),n.g=null;var r=2}else{if(!D1(n.i,e))return;t=e.F,FV(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ls(r=iT(),new yV(r,t)),mT(n)}else YV(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function CQ(n,e){return!(LV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$v(Rs(n.Na,n,e),eU(n,n.C)),n.C++,0)))}(n,e)||2==r&&O1(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:jf(n,5);break;case 4:jf(n,10);break;case 3:jf(n,6);break;default:jf(n,2)}}function eU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function jf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Rs(n.pb,n);t||(t=new $f("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||uT(t,"https"),dT(t)),function vQ(n,e){const t=new rT;if(Vt.Image){const r=new Image;r.onload=Yw(hT,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Yw(hT,t,r,"TestLoadImage: error",!1,e),r.onabort=Yw(hT,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yw(hT,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else to(2);n.H=0,n.h&&n.h.za(e),tU(n),KV(n)}function tU(n){if(n.H=0,n.ma=[],n.h){const e=VV(n.i);(0!=e.length||0!=n.j.length)&&(QF(n.ma,e),QF(n.ma,n.j),n.i.i.length=0,XD(n.j),n.j.length=0),n.h.ya()}}function nU(n,e,t){var r=t instanceof $f?vc(t):new $f(t);if(""!=r.g)e&&(r.g=e+"."+r.g),cT(r,r.m);else{var i=Vt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new $f(null);r&&uT(s,r),e&&(s.g=e),i&&cT(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Cr(r,t,e),Cr(r,"VER",n.ra),eI(n,r),r}function rU(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zr(t&&n.Ha&&!n.va?new Qv({ob:!0}):n.va)).Oa(n.J),e}function iU(){}function yT(){if(bm&&!(10<=Number(VZ)))throw Error("Environmental error: no available transport.")}function na(n,e){Zi.call(this),this.g=new WV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!kv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kv(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Am(this)}function sU(n){w1.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function oU(){T1.call(this),this.status=1}function Am(n){this.g=n}function gl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function k1(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function qn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Be=Zr.prototype).Oa=function(n){this.M=n},Be.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():b1.g(),this.C=function IV(n){return n.h||(n.h=n.i())}(this.u?this.u:b1),this.g.onreadystatechange=Rs(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void HV(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Vt.FormData&&n instanceof Vt.FormData,!(0<=ZF(wQ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zV(this),0<this.B&&((this.L=function TQ(n){return bm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rs(this.ua,this)):this.A=I1(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){HV(this,s)}},Be.ua=function(){typeof YD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ls(this,"timeout"),this.abort(8))},Be.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ls(this,"complete"),ls(this,"abort"),pT(this))},Be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pT(this,!0)),Zr.$.N.call(this)},Be.La=function(){this.s||(this.G||this.v||this.l?jV(this):this.kb())},Be.kb=function(){jV(this)},Be.isActive=function(){return!!this.g},Be.da=function(){try{return 2<cu(this)?this.g.status:-1}catch{return-1}},Be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Be.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),IQ(e)}},Be.Ia=function(){return this.m},Be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Be=WV.prototype).ra=8,Be.H=1,Be.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new zv(this,this.l,n);let s=this.s;if(this.U&&(s?(s=tV(s),rV(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QV(this,i,e),Cr(t=vc(this.I),"RID",n),Cr(t,"CVER",22),this.F&&Cr(t,"X-HTTP-Session-Id",this.F),eI(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(GV(s)))+"&"+e:this.o&&P1(t,this.o,s)),R1(this.i,i),this.bb&&Cr(t,"TYPE","init"),this.P?(Cr(t,"$req",e),Cr(t,"SID","null"),i.aa=!0,S1(i,t,null)):S1(i,t,e),this.H=2}}else 3==this.H&&(n?ZV(this,n):0==this.j.length||kV(this.i)||ZV(this))},Be.Ma=function(){if(this.u=null,JV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=$v(Rs(this.jb,this),n)}},Be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,to(10),gT(this),JV(this))},Be.ib=function(){null!=this.v&&(this.v=null,gT(this),O1(this),to(19))},Be.pb=function(n){n?(this.l.info("Successfully pinged google.com"),to(2)):(this.l.info("Failed to ping google.com"),to(1))},Be.isActive=function(){return!!this.h&&this.h.isActive(this)},(Be=iU.prototype).Ba=function(){},Be.Aa=function(){},Be.za=function(){},Be.ya=function(){},Be.isActive=function(){return!0},Be.Va=function(){},yT.prototype.g=function(n,e){return new na(n,e)},Ki(na,Zi),na.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;to(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=nU(n,null,n.Y),mT(n)},na.prototype.close=function(){M1(this.g)},na.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_1(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&mT(e)},na.prototype.N=function(){this.g.h=null,delete this.j,M1(this.g),delete this.g,na.$.N.call(this)},Ki(sU,w1),Ki(oU,T1),Ki(Am,iU),Am.prototype.Ba=function(){ls(this.g,"a")},Am.prototype.Aa=function(n){ls(this.g,new sU(n))},Am.prototype.za=function(n){ls(this.g,new oU)},Am.prototype.ya=function(){ls(this.g,"b")},Ki(gl,function SQ(){this.blockSize=-1}),gl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)k1(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){k1(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){k1(this,r),i=0;break}}this.h=i,this.i+=e},gl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var AQ={};function L1(n){return-128<=n&&128>n?function kZ(n,e){var t=AQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new qn([0|e],0>e?-1:0)}):new qn([0|n],0>n?-1:0)}function du(n){if(isNaN(n)||!isFinite(n))return Dm;if(0>n)return us(du(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=F1;return new qn(e,0)}var F1=4294967296,Dm=L1(0),V1=L1(1),lU=L1(16777216);function Ic(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ha(n){return-1==n.h}function us(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new qn(t,~n.h).add(V1)}function vT(n,e){return n.add(us(e))}function IT(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function tI(n,e){this.g=n,this.h=e}function ET(n,e){if(Ic(e))throw Error("division by zero");if(Ic(n))return new tI(Dm,Dm);if(Ha(n))return e=ET(us(n),e),new tI(us(e.g),us(e.h));if(Ha(e))return e=ET(n,us(e)),new tI(us(e.g),e.h);if(30<n.g.length){if(Ha(n)||Ha(e))throw Error("slowDivide_ only works with positive integers.");for(var t=V1,r=e;0>=r.X(n);)t=uU(t),r=uU(r);var i=Rm(t,1),s=Rm(r,1);for(r=Rm(r,2),t=Rm(t,2);!Ic(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Rm(r,1),t=Rm(t,1)}return e=vT(n,i.R(e)),new tI(i,e)}for(i=Dm;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=du(t)).R(e);Ha(o)||0<o.X(n);)o=(s=du(t-=r)).R(e);Ic(s)&&(s=V1),i=i.add(s),n=vT(n,o)}return new tI(i,n)}function uU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new qn(t,n.h)}function Rm(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new qn(i,n.h)}(Be=qn.prototype).ea=function(){if(Ha(this))return-us(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:F1+r)*e,e*=F1}return n},Be.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ic(this))return"0";if(Ha(this))return"-"+us(this).toString(n);for(var e=du(Math.pow(n,6)),t=this,r="";;){var i=ET(t,e).g,s=((0<(t=vT(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ic(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Be.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Be.X=function(n){return Ha(n=vT(this,n))?-1:Ic(n)?0:1},Be.abs=function(){return Ha(this)?us(this):this},Be.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new qn(t,-2147483648&t[t.length-1]?-1:0)},Be.R=function(n){if(Ic(this)||Ic(n))return Dm;if(Ha(this))return Ha(n)?us(this).R(us(n)):us(us(this).R(n));if(Ha(n))return us(this.R(us(n)));if(0>this.X(lU)&&0>n.X(lU))return du(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,IT(t,2*r+2*i),t[2*r+2*i+1]+=s*u,IT(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,IT(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,IT(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new qn(t,0)},Be.gb=function(n){return ET(this,n).h},Be.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new qn(t,this.h&n.h)},Be.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new qn(t,this.h|n.h)},Be.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new qn(t,this.h^n.h)},yT.prototype.createWebChannel=yT.prototype.g,na.prototype.send=na.prototype.u,na.prototype.open=na.prototype.m,na.prototype.close=na.prototype.close,sT.NO_ERROR=0,sT.TIMEOUT=8,sT.HTTP_ERROR=6,vV.COMPLETE="complete",EV.EventType=jv,jv.OPEN="a",jv.CLOSE="b",jv.ERROR="c",jv.MESSAGE="d",Zi.prototype.listen=Zi.prototype.O,Zr.prototype.listenOnce=Zr.prototype.P,Zr.prototype.getLastError=Zr.prototype.Sa,Zr.prototype.getLastErrorCode=Zr.prototype.Ia,Zr.prototype.getStatus=Zr.prototype.da,Zr.prototype.getResponseJson=Zr.prototype.Wa,Zr.prototype.getResponseText=Zr.prototype.ja,Zr.prototype.send=Zr.prototype.ha,Zr.prototype.setWithCredentials=Zr.prototype.Oa,gl.prototype.digest=gl.prototype.l,gl.prototype.reset=gl.prototype.reset,gl.prototype.update=gl.prototype.j,qn.prototype.add=qn.prototype.add,qn.prototype.multiply=qn.prototype.R,qn.prototype.modulo=qn.prototype.gb,qn.prototype.compare=qn.prototype.X,qn.prototype.toNumber=qn.prototype.ea,qn.prototype.toString=qn.prototype.toString,qn.prototype.getBits=qn.prototype.D,qn.fromNumber=du,qn.fromString=function aU(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return us(aU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=du(Math.pow(e,8)),r=Dm,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=du(Math.pow(e,s)),r=r.R(s).add(du(o))):r=(r=r.R(t)).add(du(o))}return r};var DQ=pl.createWebChannelTransport=function(){return new yT},RQ=pl.getStatEventTarget=function(){return iT()},U1=pl.ErrorCode=sT,xQ=pl.EventType=vV,PQ=pl.Event=Bf,cU=pl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},MQ=pl.FetchXmlHttpFactory=Qv,wT=pl.WebChannel=EV,OQ=pl.XhrIo=Zr,NQ=pl.Md5=gl,xm=pl.Integer=qn;const dU="@firebase/firestore";class Qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let Pm="10.5.2";const Fd=new lu.Yd("@firebase/firestore");function Mm(){return Fd.logLevel}function Ae(n,...e){if(Fd.logLevel<=lu.in.DEBUG){const t=e.map(B1);Fd.debug(`Firestore (${Pm}): ${n}`,...t)}}function si(n,...e){if(Fd.logLevel<=lu.in.ERROR){const t=e.map(B1);Fd.error(`Firestore (${Pm}): ${n}`,...t)}}function Co(n,...e){if(Fd.logLevel<=lu.in.WARN){const t=e.map(B1);Fd.warn(`Firestore (${Pm}): ${n}`,...t)}}function B1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ge(n="Unexpected state"){const e=`FIRESTORE (${Pm}) INTERNAL ASSERTION FAILED: `+n;throw si(e),new Error(e)}function at(n,e){n||Ge()}function Le(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends sr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qi.UNAUTHENTICATED))}shutdown(){}}class VQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UQ{constructor(e){this.t=e,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Di,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const d=o;e.enqueueRetryable((0,fe.Z)(function*(){yield d.promise,yield s(r.currentUser)}))},u=d=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Di)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at("string"==typeof r.accessToken),new hU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(null===e||"string"==typeof e),new Qi(e)}}class BQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new BQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $Q{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at("string"==typeof t.token),this.R=t.token,new fU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class pU{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=jQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function Om(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function gU(n){return n+"\0"}class Lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lr.fromMillis(Date.now())}static fromDate(e){return Lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Lr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new lt(e)}static min(){return new lt(new Lr(0,0))}static max(){return new lt(new Lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nI{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ge(),void 0===r?r=e.length-t:r>e.length-t&&Ge(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===nI.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nI?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends nI{construct(e,t,r){return new En(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new En(t)}static emptyPath(){return new En([])}}const zQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends nI{construct(e,t,r){return new Sr(e,t,r)}static isValidIdentifier(e){return zQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Ee(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Ee(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ee(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ee(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(t)}static emptyPath(){return new Sr([])}}class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(En.fromString(e))}static fromName(e){return new Fe(En.fromString(e).popFirst(5))}static empty(){return new Fe(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new En(e.slice()))}}class Nm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function H1(n){return n.fields.find(e=>2===e.kind)}function zf(n){return n.fields.filter(e=>2!==e.kind)}Nm.UNKNOWN_ID=-1;class qf{constructor(e,t){this.fieldPath=e,this.kind=t}}class km{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new km(0,ra.min())}}function mU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=lt.fromTimestamp(1e9===r?new Lr(t+1,0):new Lr(t,r));return new ra(i,Fe.empty(),e)}function _U(n){return new ra(n.readTime,n.key,-1)}class ra{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ra(lt.min(),Fe.empty(),-1)}static max(){return new ra(lt.max(),Fe.empty(),-1)}}function $1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Fe.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}const yU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vd(n){return j1.apply(this,arguments)}function j1(){return j1=(0,fe.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==yU)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}),j1.apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(i=>i?Q.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,t){return new Q((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class TT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Di,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new rI(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=z1(r.target.error);this.V.reject(new rI(e,i))}}static open(e,t,r,i){try{return new TT(t,e.transaction(i,r))}catch(s){throw new rI(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ae("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new KQ(t)}}class ml{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===ml.S((0,sr.z$)())&&si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ae("SimpleDb","Removing database:",e),Gf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,sr.hl)())return!1;if(ml.C())return!0;const e=(0,sr.z$)(),t=ml.S(e),r=0<t&&t<10,i=ml.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,fe.Z)(function*(){return t.db||(Ae("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new rI(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new Ee(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Ee(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new rI(e,a))},s.onupgradeneeded=o=>{Ae("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{Ae("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,fe.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=TT.open(s.db,e,o?"readonly":"readwrite",r),d=i(u).next(p=>(u.g(),p)).catch(p=>(u.abort(p),Q.reject(p))).toPromise();return d.catch(()=>{}),yield u.m,d}catch(u){const d=u,p="FirebaseError"!==d.name&&a<3;if(Ae("SimpleDb","Transaction failed with error:",d.message,"Retrying:",p),s.close(),!p)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class WQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Gf(this.k.delete())}}class rI extends Ee{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ud(n){return"IndexedDbTransactionError"===n.name}class KQ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ae("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ae("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gf(r)}add(e){return Ae("SimpleDb","ADD",this.store.name,e,e),Gf(this.store.add(e))}get(e){return Gf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ae("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ae("SimpleDb","DELETE",this.store.name,e),Gf(this.store.delete(e))}count(){return Ae("SimpleDb","COUNT",this.store.name),Gf(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Q((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Q((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){Ae("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new Q((r,i)=>{t.onerror=s=>{const o=z1(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new Q((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new WQ(a),d=t(a.primaryKey,a.value,u);if(d instanceof Q){const p=d.catch(y=>(u.done(),Q.reject(y)));r.push(p)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>Q.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Gf(n){return new Q((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=z1(r.target.error);t(i)}})}let IU=!1;function z1(n){const e=ml.S((0,sr.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IU||(IU=!0,setTimeout(()=>{throw r},0)),r}}return n}class ZQ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;Ae("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,fe.Z)(function*(){t.task=null;try{Ae("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){Ud(r)?Ae("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Vd(r)}yield t.ee(6e4)}))}}class QQ{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,fe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return Q.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return Ae("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(Ae("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=_U(s);$1(o,r)>0&&(r=o)}),new ra(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ia=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function iI(n){return null==n}function sI(n){return 0===n&&1/n==-1/0}function EU(n){return"number"==typeof n&&Number.isInteger(n)&&!sI(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ps(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wU(e)),e=YQ(n.get(t),e);return wU(e)}function YQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function wU(n){return n+"\x01\x01"}function hu(n){const e=n.length;if(at(e>=2),2===e)return at("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Ge(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:Ge()}s=o+2}return new En(r)}const TU=["userId","batchId"];function bT(n,e){return[n,Ps(e)]}function bU(n,e,t){return[n,Ps(e),t]}const JQ={},XQ=["prefixPath","collectionGroup","readTime","documentId"],eY=["prefixPath","collectionGroup","documentId"],tY=["collectionGroup","readTime","prefixPath","documentId"],nY=["canonicalId","targetId"],rY=["targetId","path"],iY=["path","targetId"],sY=["collectionId","parent"],oY=["indexId","uid"],aY=["uid","sequenceNumber"],lY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uY=["indexId","uid","orderedDocumentKey"],cY=["userId","collectionPath","documentId"],dY=["userId","collectionPath","largestBatchId"],hY=["userId","collectionGroup","largestBatchId"],CU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fY=[...CU,"documentOverlays"],SU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AU=SU,pY=[...AU,"indexConfiguration","indexState","indexEntries"];class q1 extends vU{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Yi(n,e){const t=Le(n);return ml.M(t.ae,e)}function DU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pr{constructor(e,t){this.comparator=e,this.root=t||cs.EMPTY}insert(e,t){return new pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cs.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CT(this.root,e,this.comparator,!1)}getReverseIterator(){return new CT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CT(this.root,e,this.comparator,!0)}}class CT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cs{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??cs.RED,this.left=i??cs.EMPTY,this.right=s??cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new cs(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return cs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}cs.EMPTY=null,cs.RED=!0,cs.BLACK=!1,cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,t,r,i,s){return this}insert(e,t,r){return new cs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xU(this.data.getIterator())}getIteratorFrom(e){return new xU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class xU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lm(n){return n.hasNext()?n.getNext():void 0}class So{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new So([])}unionWith(e){let t=new Jn(Sr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new So(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Om(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class PU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PU("Invalid base64 string: "+s):s}}(e);return new Ri(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const mY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hd(n){if(at(!!n),"string"==typeof n){let e=0;const t=mY.exec(n);if(at(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qr(n.seconds),nanos:Qr(n.nanos)}}function Qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ec(n){return"string"==typeof n?Ri.fromBase64String(n):Ri.fromUint8Array(n)}function ST(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function AT(n){const e=n.mapValue.fields.__previous_value__;return ST(e)?AT(e):e}function oI(n){const e=Hd(n.mapValue.fields.__local_write_time__.timestampValue);return new Lr(e.seconds,e.nanos)}class _Y{constructor(e,t,r,i,s,o,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}}class $d{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $d("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $d&&e.projectId===this.projectId&&e.database===this.database}}const jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DT={nullValue:"NULL_VALUE"};function zd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ST(n)?4:kU(n)?9007199254740991:10:Ge()}function fu(n,e){if(n===e)return!0;const t=zd(n);if(t!==zd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return oI(n).isEqual(oI(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Hd(i.timestampValue),a=Hd(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Ec(n.bytesValue).isEqual(Ec(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Qr(i.geoPointValue.latitude)===Qr(s.geoPointValue.latitude)&&Qr(i.geoPointValue.longitude)===Qr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qr(i.integerValue)===Qr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qr(i.doubleValue),a=Qr(s.doubleValue);return o===a?sI(o)===sI(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Om(n.arrayValue.values||[],e.arrayValue.values||[],fu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(DU(o)!==DU(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!fu(o[u],a[u])))return!1;return!0}(n,e);default:return Ge()}var s}function aI(n,e){return void 0!==(n.values||[]).find(t=>fu(t,e))}function qd(n,e){if(n===e)return 0;const t=zd(n),r=zd(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qr(s.integerValue||s.doubleValue),u=Qr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return MU(n.timestampValue,e.timestampValue);case 4:return MU(oI(n),oI(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Ec(s),u=Ec(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){const p=Lt(a[d],u[d]);if(0!==p)return p}return Lt(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Lt(Qr(s.latitude),Qr(o.latitude));return 0!==a?a:Lt(Qr(s.longitude),Qr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let d=0;d<a.length&&d<u.length;++d){const p=qd(a[d],u[d]);if(p)return p}return Lt(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===jd.mapValue&&o===jd.mapValue)return 0;if(s===jd.mapValue)return 1;if(o===jd.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){const I=Lt(u[y],p[y]);if(0!==I)return I;const w=qd(a[u[y]],d[p[y]]);if(0!==w)return w}return Lt(u.length,p.length)}(n.mapValue,e.mapValue);default:throw Ge()}}function MU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=Hd(n),r=Hd(e),i=Lt(t.seconds,r.seconds);return 0!==i?i:Lt(t.nanos,r.nanos)}function Fm(n){return G1(n)}function G1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Hd(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ec(n.bytesValue).toBase64():"referenceValue"in n?Fe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=G1(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${G1(t.fields[o])}`;return i+"}"}(n.mapValue):Ge()}function Wf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function W1(n){return!!n&&"integerValue"in n}function lI(n){return!!n&&"arrayValue"in n}function OU(n){return!!n&&"nullValue"in n}function NU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xT(n){return!!n&&"mapValue"in n}function uI(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uI(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uI(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function yY(n){return"nullValue"in n?DT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wf($d.empty(),Fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ge()}function vY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wf($d.empty(),Fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?jd:Ge()}function LU(n,e){const t=qd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function FU(n,e){const t=qd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uI(t)}setAll(e){let t=Sr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=uI(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());xT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bd(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ds(uI(this.value))}}function VU(n){const e=[];return Bd(n.fields,(t,r)=>{const i=new Sr([t]);if(xT(r)){const s=VU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new So(e)}class Ar{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ar(e,0,lt.min(),lt.min(),lt.min(),ds.empty(),0)}static newFoundDocument(e,t,r,i){return new Ar(e,1,t,lt.min(),r,i,0)}static newNoDocument(e,t){return new Ar(e,2,t,lt.min(),lt.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new Ar(e,3,t,lt.min(),lt.min(),ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gd{constructor(e,t){this.position=e,this.inclusive=t}}function UU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?Fe.comparator(Fe.fromName(o.referenceValue),t.key):qd(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function BU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fu(n.position[t],e.position[t]))return!1;return!0}class cI{constructor(e,t="asc"){this.field=e,this.dir=t}}function IY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class HU{}class gn extends HU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new EY(e,t,r):"array-contains"===t?new bY(e,r):"in"===t?new WU(e,r):"not-in"===t?new CY(e,r):"array-contains-any"===t?new SY(e,r):new gn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new wY(e,r):new TY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qd(t,this.value)):null!==t&&zd(this.value)===zd(t)&&this.matchesComparison(qd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends HU{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Gn(e,t)}matches(e){return Vm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Vm(n){return"and"===n.op}function K1(n){return"or"===n.op}function Z1(n){return $U(n)&&Vm(n)}function $U(n){for(const e of n.filters)if(e instanceof Gn)return!1;return!0}function Q1(n){if(n instanceof gn)return n.field.canonicalString()+n.op.toString()+Fm(n.value);if(Z1(n))return n.filters.map(e=>Q1(e)).join(",");{const e=n.filters.map(t=>Q1(t)).join(",");return`${n.op}(${e})`}}function jU(n,e){return n instanceof gn?(r=n,(i=e)instanceof gn&&r.op===i.op&&r.field.isEqual(i.field)&&fu(r.value,i.value)):n instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&jU(o,i.filters[a]),!0)}(n,e):void Ge();var r,i}function zU(n,e){const t=n.filters.concat(e);return Gn.create(t,n.op)}function qU(n){return n instanceof gn?`${(t=n).field.canonicalString()} ${t.op} ${Fm(t.value)}`:n instanceof Gn?function(t){return t.op.toString()+" {"+t.getFilters().map(qU).join(" ,")+"}"}(n):"Filter";var t}class EY extends gn{constructor(e,t,r){super(e,t,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class wY extends gn{constructor(e,t){super(e,"in",t),this.keys=GU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TY extends gn{constructor(e,t){super(e,"not-in",t),this.keys=GU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class bY extends gn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lI(t)&&aI(t.arrayValue,this.value)}}class WU extends gn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&aI(this.value.arrayValue,t)}}class CY extends gn{constructor(e,t){super(e,"not-in",t)}matches(e){if(aI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!aI(this.value.arrayValue,t)}}class SY extends gn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>aI(this.value.arrayValue,r))}}class AY{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Y1(n,e=null,t=[],r=[],i=null,s=null,o=null){return new AY(n,e,t,r,i,s,o)}function Kf(n){const e=Le(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Q1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),iI(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fm(r)).join(",")),e.ce=t}return e.ce}function dI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BU(n.startAt,e.startAt)&&BU(n.endAt,e.endAt)}function PT(n){return Fe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function MT(n,e){return n.filters.filter(t=>t instanceof gn&&t.field.isEqual(e))}function KU(n,e,t){let r=DT,i=!0;for(const s of MT(n,e)){let o=DT,a=!0;switch(s.op){case"<":case"<=":o=yY(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=DT}LU({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];LU({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function ZU(n,e,t){let r=jd,i=!0;for(const s of MT(n,e)){let o=jd,a=!0;switch(s.op){case">=":case">":o=vY(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=jd}FU({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];FU({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class wc{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function QU(n,e,t,r,i,s,o,a){return new wc(n,e,t,r,i,s,o,a)}function Um(n){return new wc(n)}function YU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function J1(n){return null!==n.collectionGroup}function Bm(n){const e=Le(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Jn(Sr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new cI(s,r))}),t.has(Sr.keyField().canonicalString())||e.le.push(new cI(Sr.keyField(),r))}return e.le}function no(n){const e=Le(n);return e.he||(e.he=function JU(n,e){if("F"===n.limitType)return Y1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new cI(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Gd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Gd(n.startAt.position,n.startAt.inclusive):null;return Y1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Bm(n))),e.he}function X1(n,e){const t=n.filters.concat([e]);return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function OT(n,e,t){return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hI(n,e){return dI(no(n),no(e))&&n.limitType===e.limitType}function XU(n){return`${Kf(no(n))}|lt:${n.limitType}`}function Hm(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>qU(i)).join(", ")}]`),iI(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Fm(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Fm(i)).join(",")),`Target(${r})`}(no(n))}; limitType=${n.limitType})`}function fI(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Bm(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,u){const d=UU(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,Bm(r),i)||r.endAt&&!function(o,a,u){const d=UU(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,Bm(r),i)));var r,i}function eB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tB(n){return(e,t)=>{let r=!1;for(const i of Bm(n)){const s=DY(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function DY(n,e,t){const r=n.field.isKeyField()?Fe.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),d=a.data.field(s);return null!==u&&null!==d?qd(u,d):Ge()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge()}}class Tc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bd(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RU(this.inner)}size(){return this.innerSize}}const RY=new pr(Fe.comparator);function Ao(){return RY}const nB=new pr(Fe.comparator);function pI(...n){let e=nB;for(const t of n)e=e.insert(t.key,t);return e}function rB(n){let e=nB;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pu(){return gI()}function iB(){return gI()}function gI(){return new Tc(n=>n.toString(),(n,e)=>n.isEqual(e))}const xY=new pr(Fe.comparator),PY=new Jn(Fe.comparator);function Jt(...n){let e=PY;for(const t of n)e=e.add(t);return e}const MY=new Jn(Lt);function eR(){return MY}function sB(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sI(e)?"-0":e}}function oB(n){return{integerValue:""+n}}function aB(n,e){return EU(e)?oB(e):sB(n,e)}class NT{constructor(){this._=void 0}}function OY(n,e,t){return n instanceof $m?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ST(s)&&(s=AT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Zf?uB(n,e):n instanceof Qf?cB(n,e):function(i,s){const o=lB(i,s),a=dB(o)+dB(i.Ie);return W1(o)&&W1(i.Ie)?oB(a):sB(i.serializer,a)}(n,e)}function NY(n,e,t){return n instanceof Zf?uB(n,e):n instanceof Qf?cB(n,e):t}function lB(n,e){return n instanceof jm?W1(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class $m extends NT{}class Zf extends NT{constructor(e){super(),this.elements=e}}function uB(n,e){const t=hB(e);for(const r of n.elements)t.some(i=>fu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Qf extends NT{constructor(e){super(),this.elements=e}}function cB(n,e){let t=hB(e);for(const r of n.elements)t=t.filter(i=>!fu(i,r));return{arrayValue:{values:t}}}class jm extends NT{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function dB(n){return Qr(n.integerValue||n.doubleValue)}function hB(n){return lI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mI{constructor(e,t){this.field=e,this.transform=t}}class LY{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class LT{}function fB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new qm(n.key,Fr.none()):new zm(n.key,n.data,Fr.none());{const t=n.data,r=ds.empty();let i=new Jn(Sr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new bc(n.key,r,new So(i.toArray()),Fr.none())}}function FY(n,e,t){n instanceof zm?function(i,s,o){const a=i.value.clone(),u=mB(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof bc?function(i,s,o){if(!kT(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=mB(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(gB(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _I(n,e,t,r){return n instanceof zm?function(s,o,a,u){if(!kT(s.precondition,o))return a;const d=s.value.clone(),p=_B(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof bc?function(s,o,a,u){if(!kT(s.precondition,o))return a;const d=_B(s.fieldTransforms,u,o),p=o.data;return p.setAll(gB(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,e,t,r):(a=t,kT(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function VY(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=lB(r.transform,i||null);null!=s&&(null===t&&(t=ds.empty()),t.set(r.field,s))}return t||null}function pB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Om(r,i,(s,o)=>function kY(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Zf&&i instanceof Zf||r instanceof Qf&&i instanceof Qf?Om(r.elements,i.elements,fu):r instanceof jm&&i instanceof jm?fu(r.Ie,i.Ie):r instanceof $m&&i instanceof $m);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class zm extends LT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bc extends LT{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function mB(n,e,t){const r=new Map;at(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,NY(o,a,t[i]))}return r}function _B(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,OY(s,o,e))}return r}class qm extends LT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tR extends LT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nR{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&FY(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=_I(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=_I(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=iB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=fB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(lt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Om(this.mutations,e.mutations,(t,r)=>pB(t,r))&&Om(this.baseMutations,e.baseMutations,(t,r)=>pB(t,r))}}class rR{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){at(e.mutations.length===r.length);let i=xY;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new rR(e,t,r,i)}}class iR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class BY{constructor(e,t){this.count=e,this.unchangedNames=t}}var vi,wn;function yB(n){switch(n){default:return Ge();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function vB(n){if(void 0===n)return si("GRPC error has no .code"),re.UNKNOWN;switch(n){case vi.OK:return re.OK;case vi.CANCELLED:return re.CANCELLED;case vi.UNKNOWN:return re.UNKNOWN;case vi.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case vi.INTERNAL:return re.INTERNAL;case vi.UNAVAILABLE:return re.UNAVAILABLE;case vi.UNAUTHENTICATED:return re.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case vi.NOT_FOUND:return re.NOT_FOUND;case vi.ALREADY_EXISTS:return re.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return re.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case vi.ABORTED:return re.ABORTED;case vi.OUT_OF_RANGE:return re.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return re.UNIMPLEMENTED;case vi.DATA_LOSS:return re.DATA_LOSS;default:return Ge()}}(wn=vi||(vi={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";function IB(){return new TextEncoder}const HY=new xm([4294967295,4294967295],0);function EB(n){const e=IB().encode(n),t=new NQ;return t.update(e),new Uint8Array(t.digest())}function wB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xm([t,r],0),new xm([i,s],0)]}class sR{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yI(`Invalid padding: ${t}`);if(r<0)throw new yI(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new yI(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new yI(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=xm.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(xm.fromNumber(r)));return 1===i.compare(HY)&&(i=new xm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=EB(e),[r,i]=wB(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new sR(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=EB(e),[r,i]=wB(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class yI extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vI{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,II.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new vI(lt.min(),i,new pr(Lt),Ao(),Jt())}}class II{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new II(r,t,Jt(),Jt(),Jt())}}class VT{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class TB{constructor(e,t){this.targetId=e,this.fe=t}}class bB{constructor(e,t,r=Ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class CB{constructor(){this.ge=0,this.pe=AB(),this.ye=Ri.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Jt(),t=Jt(),r=Jt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ge()}}),new II(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=AB()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class $Y{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ao(),this.Qe=SB(),this.Ke=new pr(Lt)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(PT(s))if(0===r){const o=new Fe(s.path);this.We(t,o,Ar.newNoDocument(o,lt.min()))}else at(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Ec(r).toUint8Array()}catch(u){if(u instanceof PU)return Co("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new sR(o,i,s)}catch(u){return Co(u instanceof yI?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&PT(a.target)){const u=new Fe(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,Ar.newNoDocument(u,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=Jt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const d=this.Ye(u);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new vI(e,t,this.Ke,this.qe,r);return this.qe=Ao(),this.Qe=SB(),this.Ke=new pr(Lt),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new CB,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Jn(Lt),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new CB),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function SB(){return new pr(Fe.comparator)}function AB(){return new pr(Fe.comparator)}const jY={asc:"ASCENDING",desc:"DESCENDING"},zY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qY={and:"AND",or:"OR"};class GY{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oR(n,e){return n.useProto3Json||iI(e)?e:{value:e}}function Gm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WY(n,e){return Gm(n,e.toTimestamp())}function oi(n){return at(!!n),lt.fromTimestamp(function(t){const r=Hd(t);return new Lr(r.seconds,r.nanos)}(n))}function aR(n,e){return(r=n,new En(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function RB(n){const e=En.fromString(n);return at(VB(e)),e}function EI(n,e){return aR(n.databaseId,e.path)}function gu(n,e){const t=RB(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(PB(t))}function lR(n,e){return aR(n.databaseId,e)}function xB(n){const e=RB(n);return 4===e.length?En.emptyPath():PB(e)}function wI(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PB(n){return at(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function MB(n,e,t){return{name:EI(n,e),fields:t.value.mapValue.fields}}function OB(n,e,t){const r=gu(n,e.name),i=oi(e.updateTime),s=e.createTime?oi(e.createTime):lt.min(),o=new ds({mapValue:{fields:e.fields}}),a=Ar.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function TI(n,e){let t;if(e instanceof zm)t={update:MB(n,e.key,e.value)};else if(e instanceof qm)t={delete:EI(n,e.key)};else if(e instanceof bc)t={update:MB(n,e.key,e.data),updateMask:tJ(e.fieldMask)};else{if(!(e instanceof tR))return Ge();t={verify:EI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $m)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jm)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ge()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:WY(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ge()),t;var s}function uR(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Fr.updateTime(oi(s.updateTime)):void 0!==s.exists?Fr.exists(s.exists):Fr.none():Fr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;"setToServerValue"in a?(at("REQUEST_TIME"===a.setToServerValue),u=new $m):"appendMissingElements"in a?u=new Zf(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Qf(a.removeAllFromArray.values||[]):"increment"in a?u=new jm(o,a.increment):Ge();const d=Sr.fromServerFormat(a.fieldPath);return new mI(d,u)}(n,i)):[];var s;if(e.update){const i=gu(n,e.update.name),s=new ds({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new So((e.updateMask.fieldPaths||[]).map(p=>Sr.fromServerFormat(p)));return new bc(i,s,o,t,r)}return new zm(i,s,t,r)}if(e.delete){const i=gu(n,e.delete);return new qm(i,t)}if(e.verify){const i=gu(n,e.verify);return new tR(i,t)}return Ge()}function NB(n,e){return{documents:[lR(n,e.path)]}}function cR(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=lR(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lR(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return FB(Gn.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(d=>{return{field:Wd((y=d).field),direction:JY(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=oR(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t;var u}function kB(n){let e=xB(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){at(1===r);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(y){const I=LB(y);return I instanceof Gn&&Z1(I)?I.getFilters():[I]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(I=>{return new cI(Wm((R=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let a=null;t.limit&&(a=function(y){let I;return I="object"==typeof y?y.value:y,iI(I)?null:I}(t.limit));let u=null;var y;t.startAt&&(u=new Gd((y=t.startAt).values||[],!!y.before));let d=null;return t.endAt&&(d=function(y){return new Gd(y.values||[],!y.before)}(t.endAt)),QU(e,i,o,s,a,"F",u,d)}function LB(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wm(t.unaryFilter.field);return gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wm(t.unaryFilter.field);return gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wm(t.unaryFilter.field);return gn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wm(t.unaryFilter.field);return gn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(n):void 0!==n.fieldFilter?gn.create(Wm((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Gn.create(t.compositeFilter.filters.map(r=>LB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge()}}(t.compositeFilter.op))}(n):Ge();var t}function JY(n){return jY[n]}function XY(n){return zY[n]}function eJ(n){return qY[n]}function Wd(n){return{fieldPath:n.canonicalString()}}function Wm(n){return Sr.fromServerFormat(n.fieldPath)}function FB(n){return n instanceof gn?function(t){if("=="===t.op){if(NU(t.value))return{unaryFilter:{field:Wd(t.field),op:"IS_NAN"}};if(OU(t.value))return{unaryFilter:{field:Wd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(NU(t.value))return{unaryFilter:{field:Wd(t.field),op:"IS_NOT_NAN"}};if(OU(t.value))return{unaryFilter:{field:Wd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wd(t.field),op:XY(t.op),value:t.value}}}(n):n instanceof Gn?function(t){const r=t.getFilters().map(i=>FB(i));return 1===r.length?r[0]:{compositeFilter:{op:eJ(t.op),filters:r}}}(n):Ge()}function tJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cc{constructor(e,t,r,i,s=lt.min(),o=lt.min(),a=Ri.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Cc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UB{constructor(e){this.ut=e}}function BB(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:UT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:EI(s=n.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Gm(s,o.version.toTimestamp()),createTime:Gm(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Yf(e.version)};else{if(!e.isUnknownDocument())return Ge();r.unknownDocument={path:t.path.toArray(),version:Yf(e.version)}}var s,o;return r}function UT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Yf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jf(n){const e=new Lr(n.seconds,n.nanoseconds);return lt.fromTimestamp(e)}function Xf(n,e){const t=(e.baseMutations||[]).map(s=>uR(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>uR(n.ut,s)),i=Lr.fromMillis(e.localWriteTimeMs);return new nR(e.batchId,i,t,r)}function bI(n){const e=Jf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jf(n.lastLimboFreeSnapshotVersion):lt.min();let r;return r=void 0!==n.query.documents?(at(1===(s=n.query).documents.length),no(Um(xB(s.documents[0])))):function(s){return no(kB(s))}(n.query),new Cc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ri.fromBase64String(n.resumeToken));var s}function HB(n,e){const t=Yf(e.snapshotVersion),r=Yf(e.lastLimboFreeSnapshotVersion);let i;i=PT(e.target)?NB(n.ut,e.target):cR(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kf(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dR(n){const e=kB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?OT(e,e.limit,"L"):e}function hR(n,e){return new iR(e.largestBatchId,uR(n.ut,e.overlayMutation))}function $B(n,e){const t=e.path.lastSegment();return[n,Ps(e.path.popLast()),t]}function jB(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Yf(r.readTime),documentKey:Ps(r.documentKey.path),largestBatchId:r.largestBatchId}}class rJ{getBundleMetadata(e,t){return zB(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Jf(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return zB(e).put({bundleId:(i=t).id,createTime:Yf(oi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return qB(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:dR(s.bundledQuery),readTime:Jf(s.readTime)};var s})}saveNamedQuery(e,t){return qB(e).put({name:(i=t).name,readTime:Yf(oi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function zB(n){return Yi(n,"bundles")}function qB(n){return Yi(n,"namedQueries")}class BT{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new BT(e,t.uid||"")}getOverlay(e,t){return CI(e).get($B(this.userId,t)).next(r=>r?hR(this.serializer,r):null)}getOverlays(e,t){const r=pu();return Q.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new iR(t,o);i.push(this.lt(e,a))}),Q.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Ps(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(CI(e).H("collectionPathOverlayIndex",a))}),Q.waitFor(s)}getOverlaysForCollection(e,t,r){const i=pu(),s=Ps(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return CI(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const d=hR(this.serializer,u);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=pu();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return CI(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,d,p)=>{const y=hR(this.serializer,d);s.size()<i||y.largestBatchId===o?(s.set(y.getKey(),y),o=y.largestBatchId):p.done()}).next(()=>s)}lt(e,t){return CI(e).put(function(i,s,o){const[a,u,d]=$B(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:d,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:TI(i.ut,o.mutation)}}(this.serializer,this.userId,t))}}function CI(n){return Yi(n,"documentOverlays")}class ep{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Qr(e.integerValue));else if("doubleValue"in e){const r=Qr(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),sI(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ec(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?kU(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ge()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),Fe.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function iJ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function GB(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=iJ(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}ep.St=new ep;class sJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Bt(e),r=GB(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Bt(e),r=GB(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class oJ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class aJ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class SI{constructor(){this.Wt=new sJ,this.Gt=new oJ(this.Wt),this.zt=new aJ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class tp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new tp(this.indexId,this.documentKey,this.arrayValue,r)}}function Kd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=WB(n.arrayValue,e.arrayValue),0!==t?t:(t=WB(n.directionalValue,e.directionalValue),0!==t?t:Fe.comparator(n.documentKey,e.documentKey)))}function WB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class KB{constructor(e){this.Jt=new Jn((t,r)=>Sr.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(at(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=H1(e);if(void 0!==t&&!this.tn(t))return!1;const r=zf(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.nn(a,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Jn(Sr.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new qf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new qf(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new qf(r.field,"asc"===r.dir?0:1)));return new Nm(Nm.UNKNOWN_ID,this.collectionId,t,km.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ZB(n){var e,t;if(at(n instanceof gn||n instanceof Gn),n instanceof gn){if(n instanceof WU){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>gn.create(n.field,"==",s)))||[];return Gn.create(i,"or")}return n}const r=n.filters.map(i=>ZB(i));return Gn.create(r,n.op)}function lJ(n){if(0===n.getFilters().length)return[];const e=gR(ZB(n));return at(QB(e)),fR(e)||pR(e)?[e]:e.getFilters()}function fR(n){return n instanceof gn}function pR(n){return n instanceof Gn&&Z1(n)}function QB(n){return fR(n)||pR(n)||function(t){if(t instanceof Gn&&K1(t)){for(const r of t.getFilters())if(!fR(r)&&!pR(r))return!1;return!0}return!1}(n)}function gR(n){if(at(n instanceof gn||n instanceof Gn),n instanceof gn)return n;if(1===n.filters.length)return gR(n.filters[0]);const e=n.filters.map(r=>gR(r));let t=Gn.create(e,n.op);return t=HT(t),QB(t)?t:(at(t instanceof Gn),at(Vm(t)),at(t.filters.length>1),t.filters.reduce((r,i)=>mR(r,i)))}function mR(n,e){let t;return at(n instanceof gn||n instanceof Gn),at(e instanceof gn||e instanceof Gn),t=n instanceof gn?e instanceof gn?Gn.create([n,e],"and"):YB(n,e):e instanceof gn?YB(e,n):function(i,s){if(at(i.filters.length>0&&s.filters.length>0),Vm(i)&&Vm(s))return zU(i,s.getFilters());const o=K1(i)?i:s,a=K1(i)?s:i,u=o.filters.map(d=>mR(d,a));return Gn.create(u,"or")}(n,e),HT(t)}function YB(n,e){if(Vm(e))return zU(e,n.getFilters());{const t=e.filters.map(r=>mR(n,r));return Gn.create(t,"or")}}function HT(n){if(at(n instanceof gn||n instanceof Gn),n instanceof gn)return n;const e=n.getFilters();if(1===e.length)return HT(e[0]);if($U(n))return n;const t=e.map(i=>HT(i)),r=[];return t.forEach(i=>{i instanceof gn?r.push(i):i instanceof Gn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Gn.create(r,n.op)}class uJ{constructor(){this.on=new _R}addToCollectionParentIndex(e,t){return this.on.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ra.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class _R{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jn(En.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(En.comparator)).toArray()}}const $T=new Uint8Array(0);class cJ{constructor(e,t){this.user=e,this.databaseId=t,this._n=new _R,this.an=new Tc(r=>Kf(r),(r,i)=>dI(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:r,parent:Ps(i)};return JB(e).put(s)}return Q.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[gU(t),""],!1,!0);return JB(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(hu(o.parent))}return r})}addFieldIndex(e,t){const r=AI(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=Zm(e);return s.next(a=>{o.put(jB(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=AI(e),i=Zm(e),s=Km(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=AI(e),r=Km(e),i=Zm(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return Q.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new KB(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=Km(e);let i=!0;const s=new Map;return Q.forEach(this.un(t),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Jt();const a=[];return Q.forEach(s,(u,d)=>{var J;Ae("IndexedDbIndexManager",`Using index ${J=u,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(he=>`${he.fieldPath}:${he.kind}`).join(",")}`} to execute ${Kf(t)}`);const p=function(J,he){const Re=H1(he);if(void 0===Re)return null;for(const tt of MT(J,Re.fieldPath))switch(tt.op){case"array-contains-any":return tt.value.arrayValue.values||[];case"array-contains":return[tt.value]}return null}(d,u),y=function(J,he){const Re=new Map;for(const tt of zf(he))for(const Ot of MT(J,tt.fieldPath))switch(Ot.op){case"==":case"in":Re.set(tt.fieldPath.canonicalString(),Ot.value);break;case"not-in":case"!=":return Re.set(tt.fieldPath.canonicalString(),Ot.value),Array.from(Re.values())}return null}(d,u),I=function(J,he){const Re=[];let tt=!0;for(const Ot of zf(he)){const Xn=0===Ot.kind?KU(J,Ot.fieldPath,J.startAt):ZU(J,Ot.fieldPath,J.startAt);Re.push(Xn.value),tt&&(tt=Xn.inclusive)}return new Gd(Re,tt)}(d,u),w=function(J,he){const Re=[];let tt=!0;for(const Ot of zf(he)){const Xn=0===Ot.kind?ZU(J,Ot.fieldPath,J.endAt):KU(J,Ot.fieldPath,J.endAt);Re.push(Xn.value),tt&&(tt=Xn.inclusive)}return new Gd(Re,tt)}(d,u),R=this.ln(u,d,I),M=this.ln(u,d,w),L=this.hn(u,d,y),G=this.Pn(u.indexId,p,R,I.inclusive,M,w.inclusive,L);return Q.forEach(G,$=>r.j($,t.limit).next(J=>{J.forEach(he=>{const Re=Fe.fromSegments(he.documentKey);o.has(Re)||(o=o.add(Re),a.push(Re))})}))}).next(()=>a)}return Q.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:lJ(Gn.create(e.filters,"and")).map(r=>Y1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,s,o,a){const u=(null!=t?t.length:1)*Math.max(r.length,s.length),d=u/(null!=t?t.length:1),p=[];for(let y=0;y<u;++y){const I=t?this.In(t[y/d]):$T,w=this.Tn(e,I,r[y%d],i),R=this.En(e,I,s[y%d],o),M=a.map(L=>this.Tn(e,I,L,!0));p.push(...this.createRange(w,R,M))}return p}Tn(e,t,r,i){const s=new tp(e,Fe.empty(),t,r);return i?s:s.Ht()}En(e,t,r,i){const s=new tp(e,Fe.empty(),t,r);return i?s.Ht():s}cn(e,t){const r=new KB(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.un(t);return Q.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(u){let d=new Jn(Sr.comparator),p=!1;for(const y of u.filters)for(const I of y.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?p=!0:d=d.add(I.field));for(const y of u.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(p?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new SI;for(const i of zf(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);ep.St.ht(s,o)}return r.Ut()}In(e){const t=new SI;return ep.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new SI;return ep.St.ht(Wf(this.databaseId,t),r.jt(function(s){const o=zf(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new SI);let s=0;for(const o of zf(e)){const a=r[s++];for(const u of i)if(this.Rn(t,o.fieldPath)&&lI(a))i=this.Vn(i,o,a);else{const d=u.jt(o.kind);ep.St.ht(a,d)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new SI;u.seed(a.Ut()),ep.St.ht(o,u.jt(t.kind)),s.push(u)}return s}Rn(e,t){return!!e.filters.find(r=>r instanceof gn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=AI(e),i=Zm(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return Q.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(p,y){const I=y?new km(y.sequenceNumber,new ra(Jf(y.readTime),new Fe(hu(y.documentKey)),y.largestBatchId)):km.empty(),w=p.fields.map(([R,M])=>new qf(Sr.fromServerFormat(R),M));return new Nm(p.indexId,p.collectionGroup,w,I)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Lt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=AI(e),s=Zm(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>Q.forEach(a,u=>s.put(jB(u.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return Q.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Q.forEach(a,u=>this.gn(e,i,u).next(d=>{const p=this.pn(s,u);return d.isEqual(p)?Q.resolve():this.yn(e,s,u,d,p)}))))})}wn(e,t,r,i){return Km(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return Km(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=Km(e);let s=new Jn(Kd);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(o,a)=>{s=s.add(new tp(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,t){let r=new Jn(Kd);const i=this.dn(t,e);if(null==i)return r;const s=H1(t);if(null!=s){const o=e.data.field(s.fieldPath);if(lI(o))for(const a of o.arrayValue.values||[])r=r.add(new tp(t.indexId,e.key,this.In(a),i))}else r=r.add(new tp(t.indexId,e.key,$T,i));return r}yn(e,t,r,i,s){Ae("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(u,d,p,y,I){const w=u.getIterator(),R=d.getIterator();let M=Lm(w),L=Lm(R);for(;M||L;){let G=!1,$=!1;if(M&&L){const J=p(M,L);J<0?$=!0:J>0&&(G=!0)}else null!=M?$=!0:G=!0;G?(y(L),L=Lm(R)):$?(I(M),M=Lm(w)):(M=Lm(w),L=Lm(R))}}(i,s,Kd,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.Sn(e,t,r,a))}),Q.waitFor(o)}fn(e){let t=1;return Zm(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Kd(o,a)).filter((o,a,u)=>!a||0!==Kd(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=Kd(o,e),u=Kd(o,t);if(0===a)i[0]=e.Ht();else if(a>0&&u<0)i.push(o),i.push(o.Ht());else if(u>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,$T,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,$T,[]]))}return s}bn(e,t){return Kd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(XB)}getMinOffset(e,t){return Q.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||Ge())).next(XB)}}function JB(n){return Yi(n,"collectionParents")}function Km(n){return Yi(n,"indexEntries")}function AI(n){return Yi(n,"indexConfiguration")}function Zm(n){return Yi(n,"indexState")}function XB(n){at(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;$1(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ra(e.readTime,e.documentKey,t)}const e3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ms{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ms(e,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function t3(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const u=r.Y({range:o},(p,y,I)=>(a++,I.delete()));s.push(u.next(()=>{at(1===a)}));const d=[];for(const p of t.mutations){const y=bU(e,p.key.path,t.batchId);s.push(i.delete(y)),d.push(p.key)}return Q.waitFor(s).next(()=>d)}function jT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ge();e=n.noDocument}return JSON.stringify(e).length}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class zT{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){at(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new zT(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zd(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Qm(e),o=Zd(e);return o.add({}).next(a=>{at("number"==typeof a);const u=new nR(a,t,r,i),d=function(w,R,M){const L=M.baseMutations.map($=>TI(w.ut,$)),G=M.mutations.map($=>TI(w.ut,$));return{userId:R,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:L,mutations:G}}(this.serializer,this.userId,u),p=[];let y=new Jn((I,w)=>Lt(I.canonicalString(),w.canonicalString()));for(const I of i){const w=bU(this.userId,I.key.path,a);y=y.add(I.key.path.popLast()),p.push(o.put(d)),p.push(s.put(w,JQ))}return y.forEach(I=>{p.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.Dn[a]=u.keys()}),Q.waitFor(p).next(()=>u)})}lookupMutationBatch(e,t){return Zd(e).get(t).next(r=>r?(at(r.userId===this.userId),Xf(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?Q.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Zd(e).Y({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(at(a.batchId>=r),s=Xf(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zd(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zd(e).W("userMutationsIndex",t).next(r=>r.map(i=>Xf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=bT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Qm(e).Y({range:i},(o,a,u)=>{const[d,p,y]=o,I=hu(p);if(d===this.userId&&t.path.isEqual(I))return Zd(e).get(y).next(w=>{if(!w)throw Ge();at(w.userId===this.userId),s.push(Xf(this.serializer,w))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(Lt);const i=[];return t.forEach(s=>{const o=bT(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Qm(e).Y({range:a},(d,p,y)=>{const[I,w,R]=d,M=hu(w);I===this.userId&&s.path.isEqual(M)?r=r.add(R):y.done()});i.push(u)}),Q.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=bT(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Jn(Lt);return Qm(e).Y({range:o},(u,d,p)=>{const[y,I,w]=u,R=hu(I);y===this.userId&&r.isPrefixOf(R)?R.length===i&&(a=a.add(w)):p.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Zd(e).get(s).next(o=>{if(null===o)throw Ge();at(o.userId===this.userId),r.push(Xf(this.serializer,o))}))}),Q.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return t3(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),Q.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Q.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Qm(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=hu(s[1]);i.push(u)}else a.done()}).next(()=>{at(0===i.length)})})}containsKey(e,t){return n3(e,this.userId,t)}Mn(e){return r3(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function n3(n,e,t){const r=bT(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Qm(n).Y({range:s,J:!0},(a,u,d)=>{const[p,y,I]=a;p===e&&y===i&&(o=!0),d.done()}).next(()=>o)}function Zd(n){return Yi(n,"mutations")}function Qm(n){return Yi(n,"documentMutations")}function r3(n){return Yi(n,"mutationQueues")}class np{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new np(0)}static Nn(){return new np(-1)}}class dJ{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new np(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>lt.fromTimestamp(new Lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ym(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(at(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Ym(e).Y((o,a)=>{const u=bI(a);u.sequenceNumber<=t&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>Q.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Ym(e).Y((r,i)=>{const s=bI(i);t(s)})}Bn(e){return i3(e).get("targetGlobalKey").next(t=>(at(null!==t),t))}Ln(e,t){return i3(e).put("targetGlobalKey",t)}kn(e,t){return Ym(e).put(HB(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Kf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ym(e).Y({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const d=bI(a);dI(t,d.target)&&(s=d,u.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Qd(e);return t.forEach(o=>{const a=Ps(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),Q.waitFor(i)}removeMatchingKeys(e,t,r){const i=Qd(e);return Q.forEach(t,s=>{const o=Ps(s.path);return Q.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Qd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Qd(e);let s=Jt();return i.Y({range:r,J:!0},(o,a,u)=>{const d=hu(o[1]),p=new Fe(d);s=s.add(p)}).next(()=>s)}containsKey(e,t){const r=Ps(t.path),i=IDBKeyRange.bound([r],[gU(r)],!1,!0);let s=0;return Qd(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],u,d)=>{0!==o&&(s++,d.done())}).next(()=>s>0)}_t(e,t){return Ym(e).get(t).next(r=>r?bI(r):null)}}function Ym(n){return Yi(n,"targets")}function i3(n){return Yi(n,"targetGlobal")}function Qd(n){return Yi(n,"targetDocuments")}function s3([n,e],[t,r]){const i=Lt(n,t);return 0===i?Lt(e,r):i}class hJ{constructor(e){this.Qn=e,this.buffer=new Jn(s3),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();s3(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class o3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;Ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,fe.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ud(r)?Ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Vd(r)}yield t.Gn(3e5)}))}}class fJ{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Q.resolve(ia._e);const r=new hJ(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(e3)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e3):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,s,o,a,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,o=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,a=Date.now(),this.removeTargets(e,r,t))).next(y=>(s=y,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),Mm()<=lu.in.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-p}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${y} documents in `+(d-u)+`ms\nTotal Duration: ${d-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}class pJ{constructor(e,t){this.db=e,this.garbageCollector=function a3(n,e){return new fJ(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return qT(e,r)}removeReference(e,t,r){return qT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return qT(e,t)}Xn(e,t){return function(i,s){let o=!1;return r3(i).Z(a=>n3(i,a,s).next(u=>(u&&(o=!0),Q.resolve(!u)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=t){const u=this.Xn(e,o).next(d=>{if(!d)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,lt.min()),Qd(e).delete([0,Ps(o.path)])))});i.push(u)}}).next(()=>Q.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return qT(e,t)}Zn(e,t){const r=Qd(e);let i,s=ia._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:d})=>{0===o?(s!==ia._e&&t(new Fe(hu(i)),s),s=d,i=u):s=ia._e}).next(()=>{s!==ia._e&&t(new Fe(hu(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qT(n,e){return Qd(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ps(e.path),sequenceNumber:i}));var i}class l3{constructor(){this.changes=new Tc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return rp(e).put(r)}removeEntry(e,t,r){return rp(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],UT(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=Ar.newInvalidDocument(t);return rp(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(DI(t))},(i,s)=>{r=this.tr(t,s)}).next(()=>r)}nr(e,t){let r={size:0,document:Ar.newInvalidDocument(t)};return rp(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(DI(t))},(i,s)=>{r={document:this.tr(t,s),size:jT(s)}}).next(()=>r)}getEntries(e,t){let r=Ao();return this.rr(e,t,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,t){let r=Ao(),i=new pr(Fe.comparator);return this.rr(e,t,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,jT(o))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return Q.resolve();let i=new Jn(h3);t.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(DI(i.first()),DI(i.last())),o=i.getIterator();let a=o.getNext();return rp(e).Y({index:"documentKeyIndex",range:s},(u,d,p)=>{const y=Fe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&h3(a,y)<0;)r(a,null),a=o.getNext();a&&a.isEqual(y)&&(r(a,d),a=o.hasNext()?o.getNext():null),a?p.U(DI(a)):p.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),UT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rp(e).W(IDBKeyRange.bound(a,u,!0)).next(d=>{s?.incrementDocumentReadCount(d.length);let p=Ao();for(const y of d){const I=this.tr(Fe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);I.isFoundDocument()&&(fI(t,I)||i.has(I.key))&&(p=p.insert(I.key,I))}return p})}getAllFromCollectionGroup(e,t,r,i){let s=Ao();const o=d3(t,r),a=d3(t,ra.max());return rp(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,d,p)=>{const y=this.tr(Fe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(y.key,y),s.size===i&&p.done()}).next(()=>s)}newChangeBuffer(e){return new mJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return c3(e).get("remoteDocumentGlobalKey").next(t=>(at(!!t),t))}er(e,t){return c3(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function nJ(n,e){let t;if(e.document)t=OB(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Fe.fromSegments(e.noDocument.path),i=Jf(e.noDocument.readTime);t=Ar.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ge();{const r=Fe.fromSegments(e.unknownDocument.path),i=Jf(e.unknownDocument.version);t=Ar.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new Lr(i[0],i[1]);return lt.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(lt.min()))return r}return Ar.newInvalidDocument(e)}}function u3(n){return new gJ(n)}class mJ extends l3{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Tc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Jn((s,o)=>Lt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=BB(this._r.serializer,o);i=i.add(s.path.popLast());const d=jT(u);r+=d-a.size,t.push(this._r.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=BB(this._r.serializer,o.convertToNoDocument(lt.min()));t.push(this._r.addEntry(e,s,u))}}),i.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,r)),Q.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function c3(n){return Yi(n,"remoteDocumentGlobal")}function rp(n){return Yi(n,"remoteDocumentsV14")}function DI(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function d3(n,e){const t=e.documentKey.path.toArray();return[n,UT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function h3(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Lt(t[s],r[s]),i)return i;return i=Lt(t.length,r.length),i||(i=Lt(t[t.length-2],r[r.length-2]),i||Lt(t[t.length-1],r[r.length-1]))}class _J{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class f3{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&_I(r.mutation,i,So.empty(),Lr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Jt()){const i=pu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=pI();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=pu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ao();const o=gI(),a=gI();return t.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(void 0===p||p.mutation instanceof bc)?s=s.insert(d.key,d):void 0!==p?(o.set(d.key,p.mutation.getFieldMask()),_I(p.mutation,d,p.mutation.getFieldMask(),Lr.now())):o.set(d.key,So.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),t.forEach((d,p)=>{var y;return a.set(d,new _J(p,null!==(y=o.get(d))&&void 0!==y?y:null))}),a))}recalculateAndSaveOverlays(e,t){const r=gI();let i=new pr((o,a)=>o-a),s=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const d=t.get(u);if(null===d)return;let p=r.get(u)||So.empty();p=a.applyToLocalView(d,p),r.set(u,p);const y=(i.get(a.batchId)||Jt()).add(u);i=i.insert(a.batchId,y)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),d=u.key,p=u.value,y=iB();p.forEach(I=>{if(!s.has(I)){const w=fB(t.get(I),r.get(I));null!==w&&y.set(I,w),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,y))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Fe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):J1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Q.resolve(pu());let a=-1,u=s;return o.next(d=>Q.forEach(d,(p,y)=>(a<y.largestBatchId&&(a=y.largestBatchId),s.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next(I=>{u=u.insert(p,I)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Jt())).next(p=>({batchId:a,changes:rB(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next(r=>{let i=pI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=pI();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,u=>{const d=(y=t,I=u.child(s),new wc(I,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,I;return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((y,I)=>{o=o.insert(y,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,d)=>{const p=d.getKey();null===o.get(p)&&(o=o.insert(p,Ar.newInvalidDocument(p)))});let a=pI();return o.forEach((u,d)=>{const p=s.get(u);void 0!==p&&_I(p.mutation,d,So.empty(),Lr.now()),fI(t,d)&&(a=a.insert(u,d))}),a})}}class yJ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Q.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:oi(i.createTime)}),Q.resolve();var i}getNamedQuery(e,t){return Q.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:dR(i.bundledQuery),readTime:oi(i.readTime)}),Q.resolve();var i}}class vJ{constructor(){this.overlays=new pr(Fe.comparator),this.lr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=pu();return Q.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const i=pu(),s=t.length+1,o=new Fe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new pr((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=s.get(d.largestBatchId);null===p&&(p=pu(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const a=pu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return Q.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iR(t,r));let s=this.lr.get(t);void 0===s&&(s=Jt(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class yR{constructor(){this.hr=new Jn(Ji.Pr),this.Ir=new Jn(Ji.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Ji(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Ji(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new Fe(new En([])),r=new Ji(t,e),i=new Ji(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Fe(new En([])),r=new Ji(t,e),i=new Ji(t,e+1);let s=Jt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ji(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ji{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Fe.comparator(e.key,t.key)||Lt(e.gr,t.gr)}static Tr(e,t){return Lt(e.gr,t.gr)||Fe.comparator(e.key,t.key)}}class IJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Jn(Ji.Pr)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new nR(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Ji(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,t){return Q.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ji(t,0),i=new Ji(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(Lt);return t.forEach(i=>{const s=new Ji(i,0),o=new Ji(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Q.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Fe.isDocumentKey(s)||(s=s.child(""));const o=new Ji(new Fe(s),0);let a=new Jn(Lt);return this.yr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.gr)),!0)},o),Q.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){at(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return Q.forEach(t.mutations,i=>{const s=new Ji(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Ji(t,0),i=this.yr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Q.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class EJ{constructor(e){this.Cr=e,this.docs=new pr(Fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Ar.newInvalidDocument(t))}getEntries(e,t){let r=Ao();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ar.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ao();const o=t.path,a=new Fe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||$1(_U(p),r)<=0||(i.has(p.key)||fI(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ge()}vr(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wJ(this)}getSize(e){return Q.resolve(this.size)}}class wJ extends l3{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class TJ{constructor(e){this.persistence=e,this.Fr=new Tc(t=>Kf(t),dI),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new yR,this.targetCount=0,this.Nr=np.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),Q.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new np(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.kn(t),Q.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.Or.containsKey(t))}}class vR{constructor(e,t){this.Br={},this.overlays={},this.Lr=new ia(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new TJ(this),this.indexManager=new uJ,this.remoteDocumentCache=new EJ(r=>this.referenceDelegate.Qr(r)),this.serializer=new UB(t),this.Kr=new yJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new IJ(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const i=new bJ(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return Q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class bJ extends vU{constructor(e){super(),this.currentSequenceNumber=e}}class GT{constructor(e){this.persistence=e,this.Gr=new yR,this.zr=null}static jr(e){return new GT(e)}get Hr(){if(this.zr)return this.zr;throw Ge()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Hr,r=>{const i=Fe.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,lt.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return Q.or([()=>Q.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class CJ{constructor(e){this.serializer=e}N(e,t,r,i){const s=new TT("createOrUpgrade",t);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TU,{unique:!0}),u.createObjectStore("documentMutations"),p3(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=Q.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),p3(e)),o=o.next(()=>function(u){const d=u.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:lt.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",p)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,d){return d.store("mutations").W().next(p=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TU,{unique:!0});const y=d.store("mutations"),I=p.map(w=>y.put(w));return Q.waitFor(I)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const d=u.createObjectStore("documentOverlays",{keyPath:cY});d.createIndex("collectionPathOverlayIndex",dY,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",hY,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const d=u.createObjectStore("remoteDocumentsV14",{keyPath:XQ});d.createIndex("documentKeyIndex",eY),d.createIndex("collectionGroupIndex",tY)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:oY}).createIndex("sequenceNumberIndex",aY,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:lY}).createIndex("documentKeyIndex",uY,{unique:!1})}(e))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=jT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Q.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>Q.forEach(a,u=>{at(u.userId===s.userId);const d=Xf(this.serializer,u);return t3(e,s.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const u=new En(o),d=[0,Ps(u)];s.push(t.get(d).next(p=>p?Q.resolve():t.put({targetId:0,path:Ps(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Q.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:sY});const r=t.store("collectionParents"),i=new _R,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Ps(u)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const u=new En(o);return s(u.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,u],d)=>{const p=hu(a);return s(p.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,i)=>{const s=bI(i),o=HB(this.serializer,s);return t.put(o)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),u=(y=o,y.document?new Fe(En.fromString(y.document.name).popFirst(5)):y.noDocument?Fe.fromSegments(y.noDocument.path):y.unknownDocument?Fe.fromSegments(y.unknownDocument.path):Ge()).path.toArray(),d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var y;i.push(a.put(d))}).next(()=>Q.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=u3(this.serializer),s=new vR(GT.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var d;let p=null!==(d=a.get(u.userId))&&void 0!==d?d:Jt();Xf(this.serializer,u).keys().forEach(y=>p=p.add(y)),a.set(u.userId,p)}),Q.forEach(a,(u,d)=>{const p=new Qi(d),y=BT.ct(this.serializer,p),I=s.getIndexManager(p),w=zT.ct(p,this.serializer,I,s.referenceDelegate);return new f3(i,w,y,I).recalculateAndSaveOverlaysForDocumentKeys(new q1(t,ia._e),u).next()})})}}function p3(n){n.createObjectStore("targetDocuments",{keyPath:rY}).createIndex("documentTargetsIndex",iY,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nY,{unique:!0}),n.createObjectStore("targetGlobal")}const IR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ER{constructor(e,t,r,i,s,o,a,u,d,p,y=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=d,this._i=p,this.ai=y,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=I=>Promise.resolve(),!ER.D())throw new Ee(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pJ(this,i),this.Ii=t+"main",this.serializer=new UB(u),this.Ti=new ml(this.Ii,this.ai,new CJ(this.serializer)),this.qr=new dJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=u3(this.serializer),this.Kr=new rJ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===p&&si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ee(re.FAILED_PRECONDITION,IR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ia(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,fe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,fe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,fe.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>KT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Ud(e))return Ae("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ae("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return RI(e).get("owner").next(t=>Q.resolve(this.wi(t)))}Si(e){return KT(e).delete(this.clientId)}bi(){var e=this;return(0,fe.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Yi(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return Q.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Q.resolve(!0):RI(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Ee(re.FAILED_PRECONDITION,IR);return!1}}return!(!this.networkEnabled||!this.inForeground)||KT(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ae("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,fe.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new q1(t,ia._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>KT(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return zT.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cJ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return BT.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){Ae("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(u=this.ai)?pY:14===u?AU:13===u?SU:12===u?fY:11===u?CU:void Ge();var u;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new q1(a,this.Lr?this.Lr.next():ia._e),"readwrite-primary"===t?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw si(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Ee(re.FAILED_PRECONDITION,yU);return r(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return RI(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ee(re.FAILED_PRECONDITION,IR)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return RI(e).put("owner",t)}static D(){return ml.D()}pi(e){const t=RI(e);return t.get("owner").next(r=>this.wi(r)?(Ae("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Q.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(si(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,sr.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Ae("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return si("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){si("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function RI(n){return Yi(n,"owner")}function KT(n){return Yi(n,"clientMetadata")}function wR(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class TR{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=Jt(),i=Jt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new TR(e,t.fromCache,r,i)}}class SJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class g3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new SJ;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Mm()<=lu.in.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Hm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Q.resolve()):(Mm()<=lu.in.DEBUG&&Ae("QueryEngine","Query:",Hm(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Mm()<=lu.in.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Hm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,no(t))):Q.resolve())}zi(e,t){if(YU(t))return Q.resolve(null);let r=no(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=OT(t,null,"F"),r=no(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Jt(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Yi(t,a);return this.Zi(t,d,o,u.readTime)?this.zi(e,OT(t,null,"F")):this.Xi(e,d,t,u)}))})))}ji(e,t,r,i){return YU(t)||i.isEqual(lt.min())?Q.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?Q.resolve(null):(Mm()<=lu.in.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hm(t)),this.Xi(e,o,t,mU(i,-1)).next(a=>a))})}Yi(e,t){let r=new Jn(tB(e));return t.forEach((i,s)=>{fI(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Mm()<=lu.in.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Hm(t)),this.Gi.getDocumentsMatchingQuery(e,t,ra.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class AJ{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new pr(Lt),this.ns=new Tc(s=>Kf(s),dI),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f3(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function m3(n,e,t,r){return new AJ(n,e,t,r)}function _3(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,fe.Z)(function*(n,e){const t=Le(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Jt();for(const d of i){o.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({_s:d,removedBatchIds:o,addedBatchIds:a}))})})}),bR.apply(this,arguments)}function y3(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function v3(n,e,t){let r=Jt(),i=Jt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ao();return t.forEach((a,u)=>{const d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(lt.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||0===u.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{us:o,cs:i}})}function xJ(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jm(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new Cc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function Xm(n,e,t){return CR.apply(this,arguments)}function CR(){return CR=(0,fe.Z)(function*(n,e,t){const r=Le(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ud(o))throw o;Ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),CR.apply(this,arguments)}function ZT(n,e,t){const r=Le(n);let i=lt.min(),s=Jt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){const y=Le(u),I=y.ns.get(p);return void 0!==I?Q.resolve(y.ts.get(I)):y.qr.getTargetData(d,p)}(r,o,no(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:lt.min(),t?s:Jt())).next(a=>(w3(r,eB(e),a),{documents:a,ls:s})))}function I3(n,e){const t=Le(n),r=Le(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function E3(n,e){const t=Le(n),r=t.rs.get(e)||lt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,mU(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(w3(t,e,i),i))}function w3(n,e,t){let r=n.rs.get(e)||lt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}function SR(){return SR=(0,fe.Z)(function*(n,e,t,r){const i=Le(n);let s=Jt(),o=Ao();for(const d of t){const p=e.hs(d.metadata.name);d.document&&(s=s.add(p));const y=e.Ps(d);y.setReadTime(e.Is(d.metadata.readTime)),o=o.insert(p,y)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),u=yield Jm(i,(p=r,no(Um(En.fromString(`__bundle__/docs/${p}`)))));var p;return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>v3(d,a,o).next(p=>(a.apply(d),p)).next(p=>i.qr.removeMatchingKeysForTargetId(d,u.targetId).next(()=>i.qr.addMatchingKeys(d,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,p.us,p.cs)).next(()=>p.us)))}),SR.apply(this,arguments)}function MJ(n,e){return AR.apply(this,arguments)}function AR(){return AR=(0,fe.Z)(function*(n,e,t=Jt()){const r=yield Jm(n,no(dR(e.bundledQuery))),i=Le(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=oi(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(Ri.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),AR.apply(this,arguments)}function T3(n,e){return`firestore_clients_${n}_${e}`}function b3(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function DR(n,e){return`firestore_targets_${n}_${e}`}class QT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new Ee(i.error.code,i.error.message))),o?new QT(e,t,i.state,s):(si("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xI{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Ee(r.error.code,r.error.message))),s?new xI(e,r.state,i):(si("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=eR();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=EU(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new YT(e,s):(si("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class RR{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new RR(t.clientId,t.onlineState):(si("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xR{constructor(){this.activeTargetIds=eR()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PR{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new pr(Lt),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=T3(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new xR),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,fe.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Rs)continue;const s=e.getItem(T3(e.persistenceKey,i));if(s){const o=YT.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(DR(this.persistenceKey,e));if(r){const i=xI.Ts(e,r);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DR(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ae("SharedClientState","READ",e,t),t}setItem(e,t){Ae("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ae("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ae("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,fe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(o){let a=ia._e;if(null!=o)try{const u=JSON.parse(o);at("number"==typeof u),a=u}catch(u){si("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==ia._e&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const i=new QT(this.currentUser,e,t,r),s=b3(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=b3(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=DR(this.persistenceKey,e),s=new xI(e,t,r);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return YT.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return QT.Ts(new Qi(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return xI.Ts(i,t)}Ms(e){return RR.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);Ae("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=eR();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class C3{constructor(){this.eo=new xR,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new xR,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OJ{ro(e){}shutdown(){}}class S3{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let JT=null;function MR(){return null===JT?JT=268435456+Math.round(2147483648*Math.random()):JT++,"0x"+JT.toString(16)}const NJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kJ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Os="WebChannelConnection";class LJ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=MR(),u=this.So(t,r);Ae("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,s,o),this.Do(t,u,d,i).then(p=>(Ae("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw Co("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Pm,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${NJ[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=MR();return new Promise((o,a)=>{const u=new OQ;u.setWithCredentials(!0),u.listenOnce(xQ.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case U1.NO_ERROR:const p=u.getResponseJson();Ae(Os,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case U1.TIMEOUT:Ae(Os,`RPC '${e}' ${s} timed out`),a(new Ee(re.DEADLINE_EXCEEDED,"Request time out"));break;case U1.HTTP_ERROR:const y=u.getStatus();if(Ae(Os,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let I=u.getResponseJson();Array.isArray(I)&&(I=I[0]);const w=I?.error;if(w&&w.status&&w.message){const R=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(G)>=0?G:re.UNKNOWN}(w.status);a(new Ee(R,w.message))}else a(new Ee(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Ee(re.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Ae(Os,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Ae(Os,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}vo(e,t,r){const i=MR(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=DQ(),a=RQ(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new MQ({})),this.bo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const p=s.join("");Ae(Os,`Creating RPC '${e}' stream ${i}: ${p}`,u);const y=o.createWebChannel(p,u);let I=!1,w=!1;const R=new kJ({co:L=>{w?Ae(Os,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(I||(Ae(Os,`Opening RPC '${e}' stream ${i} transport.`),y.open(),I=!0),Ae(Os,`RPC '${e}' stream ${i} sending:`,L),y.send(L))},lo:()=>y.close()}),M=(L,G,$)=>{L.listen(G,J=>{try{$(J)}catch(he){setTimeout(()=>{throw he},0)}})};return M(y,wT.EventType.OPEN,()=>{w||Ae(Os,`RPC '${e}' stream ${i} transport opened.`)}),M(y,wT.EventType.CLOSE,()=>{w||(w=!0,Ae(Os,`RPC '${e}' stream ${i} transport closed`),R.Ro())}),M(y,wT.EventType.ERROR,L=>{w||(w=!0,Co(Os,`RPC '${e}' stream ${i} transport errored:`,L),R.Ro(new Ee(re.UNAVAILABLE,"The operation could not be completed")))}),M(y,wT.EventType.MESSAGE,L=>{var G;if(!w){const $=L.data[0];at(!!$);const he=$.error||(null===(G=$[0])||void 0===G?void 0:G.error);if(he){Ae(Os,`RPC '${e}' stream ${i} received error:`,he);const Re=he.status;let tt=function(oo){const Do=vi[oo];if(void 0!==Do)return vB(Do)}(Re),Ot=he.message;void 0===tt&&(tt=re.INTERNAL,Ot="Unknown error status: "+Re+" with message "+he.message),w=!0,R.Ro(new Ee(tt,Ot)),y.close()}else Ae(Os,`RPC '${e}' stream ${i} received:`,$),R.Vo($)}}),M(a,PQ.STAT_EVENT,L=>{L.stat===cU.PROXY?Ae(Os,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===cU.NOPROXY&&Ae(Os,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.Ao()},0),R}}function A3(){return typeof window<"u"?window:null}function XT(){return typeof document<"u"?document:null}function PI(n){return new GY(n,!0)}class OR{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class D3{constructor(e,t,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new OR(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,fe.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,fe.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,fe.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new Ee(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,fe.Z)(function*(){e.state=0,e.start()}))}o_(e){return Ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(Ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FJ extends D3{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function ZY(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:Ge(),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(at(void 0===p||"string"==typeof p),Ri.fromBase64String(p||"")):(at(void 0===p||p instanceof Uint8Array),Ri.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const p=void 0===d.code?re.UNKNOWN:vB(d.code);return new Ee(p,d.message||"")}(o);t=new bB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=gu(n,r.document.name),s=oi(r.document.updateTime),o=r.document.createTime?oi(r.document.createTime):lt.min(),a=new ds({mapValue:{fields:r.document.fields}}),u=Ar.newFoundDocument(i,s,o,a);t=new VT(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=gu(n,r.document),s=r.readTime?oi(r.readTime):lt.min(),o=Ar.newNoDocument(i,s);t=new VT([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=gu(n,r.document);t=new VT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ge();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new BY(i,s);t=new TB(r.targetId,o)}}var d;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?lt.min():o.readTime?oi(o.readTime):lt.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=wI(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=PT(u)?{documents:NB(s,u)}:{query:cR(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DB(s,o.resumeToken);const d=oR(s,o.expectedCount);null!==d&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(lt.min())>0){a.readTime=Gm(s,o.snapshotVersion.toTimestamp());const d=oR(s,o.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const r=function YY(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=wI(this.serializer),t.removeTarget=e,this.e_(t)}}class VJ extends D3{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function QY(n,e){return n&&n.length>0?(at(void 0!==e),n.map(t=>function(i,s){let o=oi(i.updateTime?i.updateTime:s);return o.isEqual(lt.min())&&(o=oi(s)),new LY(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.I_(r,t)}return at(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=wI(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>TI(this.serializer,r))};this.e_(t)}}class UJ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ee(re.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(re.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class HJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(si(t),this.f_=!1):Ae("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class $J{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,fe.Z)(function*(){var u;Yd(o)&&(Ae("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,fe.Z)(function*(p){const y=Le(p);y.C_.add(4),yield e_(y),y.M_.set("Unknown"),y.C_.delete(4),yield MI(y)}),function d(p){return u.apply(this,arguments)})(o))}))}),this.M_=new HJ(r,i)}}function MI(n){return kR.apply(this,arguments)}function kR(){return kR=(0,fe.Z)(function*(n){if(Yd(n))for(const e of n.v_)yield e(!0)}),kR.apply(this,arguments)}function e_(n){return LR.apply(this,arguments)}function LR(){return LR=(0,fe.Z)(function*(n){for(const e of n.v_)yield e(!1)}),LR.apply(this,arguments)}function eb(n,e){const t=Le(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),UR(t)?VR(t):n_(t).Ho()&&FR(t,e))}function OI(n,e){const t=Le(n),r=n_(t);t.D_.delete(e),r.Ho()&&R3(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Yd(t)&&t.M_.set("Unknown"))}function FR(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}n_(n).u_(e)}function R3(n,e){n.x_.Oe(e),n_(n).c_(e)}function VR(n){n.x_=new $Y({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),n_(n).start(),n.M_.g_()}function UR(n){return Yd(n)&&!n_(n).jo()&&n.D_.size>0}function Yd(n){return 0===Le(n).C_.size}function x3(n){n.x_=void 0}function jJ(n){return BR.apply(this,arguments)}function BR(){return BR=(0,fe.Z)(function*(n){n.D_.forEach((e,t)=>{FR(n,e)})}),BR.apply(this,arguments)}function zJ(n,e){return HR.apply(this,arguments)}function HR(){return HR=(0,fe.Z)(function*(n,e){x3(n),UR(n)?(n.M_.w_(e),VR(n)):n.M_.set("Unknown")}),HR.apply(this,arguments)}function qJ(n,e,t){return $R.apply(this,arguments)}function $R(){return $R=(0,fe.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof bB&&2===e.state&&e.cause)try{yield(r=(0,fe.Z)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.D_.delete(u),s.x_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){Ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tb(n,r)}else if(e instanceof VT?n.x_.$e(e):e instanceof TB?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(lt.min()))try{const r=yield y3(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.D_.get(d);p&&s.D_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{const p=s.D_.get(u);if(!p)return;s.D_.set(u,p.withResumeToken(Ri.EMPTY_BYTE_STRING,p.snapshotVersion)),R3(s,u);const y=new Cc(p.target,u,d,p.sequenceNumber);FR(s,y)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Ae("RemoteStore","Failed to raise snapshot:",r),yield tb(n,r)}var r}),$R.apply(this,arguments)}function tb(n,e,t){return jR.apply(this,arguments)}function jR(){return jR=(0,fe.Z)(function*(n,e,t){if(!Ud(e))throw e;n.C_.add(1),yield e_(n),n.M_.set("Offline"),t||(t=()=>y3(n.localStore)),n.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){Ae("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield MI(n)}))}),jR.apply(this,arguments)}function P3(n,e){return e().catch(t=>tb(n,t,e))}function t_(n){return zR.apply(this,arguments)}function zR(){return zR=(0,fe.Z)(function*(n){const e=Le(n),t=Jd(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;GJ(e);)try{const i=yield xJ(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,WJ(e,i)}catch(i){yield tb(e,i)}M3(e)&&O3(e)}),zR.apply(this,arguments)}function GJ(n){return Yd(n)&&n.b_.length<10}function WJ(n,e){n.b_.push(e);const t=Jd(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function M3(n){return Yd(n)&&!Jd(n).jo()&&n.b_.length>0}function O3(n){Jd(n).start()}function KJ(n){return qR.apply(this,arguments)}function qR(){return qR=(0,fe.Z)(function*(n){Jd(n).E_()}),qR.apply(this,arguments)}function ZJ(n){return GR.apply(this,arguments)}function GR(){return GR=(0,fe.Z)(function*(n){const e=Jd(n);for(const t of n.b_)e.P_(t.mutations)}),GR.apply(this,arguments)}function QJ(n,e,t){return WR.apply(this,arguments)}function WR(){return WR=(0,fe.Z)(function*(n,e,t){const r=n.b_.shift(),i=rR.from(r,e,t);yield P3(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield t_(n)}),WR.apply(this,arguments)}function YJ(n,e){return KR.apply(this,arguments)}function KR(){return KR=(0,fe.Z)(function*(n,e){var t;e&&Jd(n).h_&&(yield(t=(0,fe.Z)(function*(i,s){if(yB(a=s.code)&&a!==re.ABORTED){const o=i.b_.shift();Jd(i).Yo(),yield P3(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield t_(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),M3(n)&&O3(n)}),KR.apply(this,arguments)}function N3(n,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,fe.Z)(function*(n,e){const t=Le(n);t.asyncQueue.verifyOperationInProgress(),Ae("RemoteStore","RemoteStore received new credentials");const r=Yd(t);t.C_.add(3),yield e_(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield MI(t)}),ZR.apply(this,arguments)}function QR(n,e){return YR.apply(this,arguments)}function YR(){return YR=(0,fe.Z)(function*(n,e){const t=Le(n);e?(t.C_.delete(2),yield MI(t)):e||(t.C_.add(2),yield e_(t),t.M_.set("Unknown"))}),YR.apply(this,arguments)}function n_(n){return n.O_||(n.O_=function(t,r,i){const s=Le(t);return s.A_(),new FJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:jJ.bind(null,n),Io:zJ.bind(null,n),a_:qJ.bind(null,n)}),n.v_.push(function(){var e=(0,fe.Z)(function*(t){t?(n.O_.Yo(),UR(n)?VR(n):n.M_.set("Unknown")):(yield n.O_.stop(),x3(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Jd(n){return n.N_||(n.N_=function(t,r,i){const s=Le(t);return s.A_(),new VJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:KJ.bind(null,n),Io:YJ.bind(null,n),T_:ZJ.bind(null,n),I_:QJ.bind(null,n)}),n.v_.push(function(){var e=(0,fe.Z)(function*(t){t?(n.N_.Yo(),yield t_(n)):(yield n.N_.stop(),n.b_.length>0&&(Ae("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class JR{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new JR(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ee(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r_(n,e){if(si("AsyncQueue",`${e}: ${n}`),Ud(n))return new Ee(re.UNAVAILABLE,`${e}: ${n}`);throw n}class i_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Fe.comparator(t.key,r.key):(t,r)=>Fe.comparator(t.key,r.key),this.keyedMap=pI(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new i_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof i_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new i_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class k3{constructor(){this.B_=new pr(Fe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ge():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class s_{constructor(e,t,r,i,s,o,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new s_(e,t,i_.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class JJ{constructor(){this.k_=void 0,this.listeners=[]}}class XJ{constructor(){this.queries=new Tc(e=>XU(e),hI),this.onlineState="Unknown",this.q_=new Set}}function XR(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,fe.Z)(function*(n,e){const t=Le(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new JJ),i)try{s.k_=yield t.onListen(r)}catch(o){const a=r_(o,`Initialization of query '${Hm(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&rx(t)}),ex.apply(this,arguments)}function tx(n,e){return nx.apply(this,arguments)}function nx(){return nx=(0,fe.Z)(function*(n,e){const t=Le(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),nx.apply(this,arguments)}function eX(n,e){const t=Le(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&rx(t)}function tX(n,e,t){const r=Le(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function rx(n){n.q_.forEach(e=>{e.next()})}class ix{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new s_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=s_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class nX{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class L3{constructor(e){this.serializer=e}hs(e){return gu(this.serializer,e)}Ps(e){return e.metadata.exists?OB(this.serializer,e.document,!1):Ar.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return oi(e)}}class rX{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=F3(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=En.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new L3(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||Jt()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,fe.Z)(function*(){const t=yield function PJ(n,e,t,r){return SR.apply(this,arguments)}(e.localStore,new L3(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield MJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function F3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class V3{constructor(e){this.key=e}}class U3{constructor(e){this.key=e}}class B3{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Jt(),this.mutatedKeys=Jt(),this._a=tB(e),this.aa=new i_(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new k3,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,d="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const I=i.get(p),w=fI(this.query,y)?y:null,R=!!I&&this.mutatedKeys.has(I.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;I&&w?I.data.isEqual(w.data)?R!==M&&(r.track({type:3,doc:w}),L=!0):this.ha(I,w)||(r.track({type:2,doc:w}),L=!0,(u&&this._a(w,u)>0||d&&this._a(w,d)<0)&&(a=!0)):!I&&w?(r.track({type:0,doc:w}),L=!0):I&&!w&&(r.track({type:1,doc:I}),L=!0,(u||d)&&(a=!0)),L&&(w?(o=o.add(w),s=M?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const p="F"===this.query.limitType?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((d,p)=>function(I,w){const R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return R(I)-R(w)}(d.type,p.type)||this._a(d.doc,p.doc)),this.Pa(r);const o=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,u=a!==this.sa;return this.sa=a,0!==s.length||u?{snapshot:new s_(this.query,e.aa,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new k3,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Jt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new U3(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new V3(r))}),t}da(e){this.ia=e.ls,this.oa=Jt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return s_.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class iX{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class sX{constructor(e){this.key=e,this.Ra=!1}}class oX{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Tc(a=>XU(a),hI),this.fa=new Map,this.ga=new Set,this.pa=new pr(Fe.comparator),this.ya=new Map,this.wa=new yR,this.Sa={},this.ba=new Map,this.Da=np.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function aX(n,e){return sx.apply(this,arguments)}function sx(){return sx=(0,fe.Z)(function*(n,e){const t=Dx(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield Jm(t.localStore,no(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield ox(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&eb(t.remoteStore,o)}return i}),sx.apply(this,arguments)}function ox(n,e,t,r,i){return ax.apply(this,arguments)}function ax(){return ax=(0,fe.Z)(function*(n,e,t,r,i){n.va=(y,I,w)=>{return(R=(0,fe.Z)(function*(L,G,$,J){let he=G.view.ca($);he.Zi&&(he=yield ZT(L.localStore,G.query,!1).then(({documents:Ot})=>G.view.ca(Ot,he)));const Re=J&&J.targetChanges.get(G.targetId),tt=G.view.applyChanges(he,L.isPrimaryClient,Re);return _x(L,G.targetId,tt.Ta),tt.snapshot}),function M(L,G,$,J){return R.apply(this,arguments)})(n,y,I,w);var R};const s=yield ZT(n.localStore,e,!0),o=new B3(e,s.ls),a=o.ca(s.documents),u=II.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),d=o.applyChanges(a,n.isPrimaryClient,u);_x(n,t,d.Ta);const p=new iX(e,t,o);return n.ma.set(e,p),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),ax.apply(this,arguments)}function lX(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,fe.Z)(function*(n,e){const t=Le(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!hI(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),OI(t.remoteStore,r.targetId),o_(t,r.targetId)}).catch(Vd))):(o_(t,r.targetId),yield Xm(t.localStore,r.targetId,!0))}),lx.apply(this,arguments)}function ux(){return ux=(0,fe.Z)(function*(n,e,t){const r=Rx(n);try{const i=yield function(o,a){const u=Le(o),d=Lr.now(),p=a.reduce((w,R)=>w.add(R.key),Jt());let y,I;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let R=Ao(),M=Jt();return u.ss.getEntries(w,p).next(L=>{R=L,R.forEach((G,$)=>{$.isValidDocument()||(M=M.add(G))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,R)).next(L=>{y=L;const G=[];for(const $ of a){const J=VY($,y.get($.key).overlayedDocument);null!=J&&G.push(new bc($.key,J,VU(J.value.mapValue),Fr.exists(!0)))}return u.mutationQueue.addMutationBatch(w,d,G,a)}).next(L=>{I=L;const G=L.applyToLocalDocumentSet(y,M);return u.documentOverlayCache.saveOverlays(w,L.batchId,G)})}).then(()=>({batchId:I.batchId,changes:rB(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Sa[o.currentUser.toKey()];d||(d=new pr(Lt)),d=d.insert(a,u),o.Sa[o.currentUser.toKey()]=d}(r,i.batchId,t),yield Sc(r,i.changes),yield t_(r.remoteStore)}catch(i){const s=r_(i,"Failed to persist write");t.reject(s)}}),ux.apply(this,arguments)}function H3(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,fe.Z)(function*(n,e){const t=Le(n);try{const r=yield function RJ(n,e){const t=Le(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((p,y)=>{const I=i.get(y);if(!I)return;a.push(t.qr.removeMatchingKeys(s,p.removedDocuments,y).next(()=>t.qr.addMatchingKeys(s,p.addedDocuments,y)));let w=I.withSequenceNumber(s.currentSequenceNumber);var M,L,G;null!==e.targetMismatches.get(y)?w=w.withResumeToken(Ri.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(y,w),L=w,G=p,(0===(M=I).resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8||G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,w))});let u=Ao(),d=Jt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(v3(s,o,e.documentUpdates).next(p=>{u=p.us,d=p.cs})),!r.isEqual(lt.min())){const p=t.qr.getLastRemoteSnapshotVersion(s).next(y=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?at(o.Ra):i.removedDocuments.size>0&&(at(o.Ra),o.Ra=!1))}),yield Sc(t,r,e)}catch(r){yield Vd(r)}}),cx.apply(this,arguments)}function $3(n,e,t){const r=Le(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Le(o);u.onlineState=a;let d=!1;u.queries.forEach((p,y)=>{for(const I of y.listeners)I.Q_(a)&&(d=!0)}),d&&rx(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cX(n,e,t){return dx.apply(this,arguments)}function dx(){return dx=(0,fe.Z)(function*(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new pr(Fe.comparator);o=o.insert(s,Ar.newNoDocument(s,lt.min()));const a=Jt().add(s),u=new vI(lt.min(),new Map,new pr(Lt),o,a);yield H3(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),yx(r)}else yield Xm(r.localStore,e,!1).then(()=>o_(r,e,t)).catch(Vd)}),dx.apply(this,arguments)}function dX(n,e){return hx.apply(this,arguments)}function hx(){return hx=(0,fe.Z)(function*(n,e){const t=Le(n),r=e.batch.batchId;try{const i=yield function DJ(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){const y=d.batch,I=y.keys();let w=Q.resolve();return I.forEach(R=>{w=w.next(()=>p.getEntry(u,R)).next(M=>{const L=d.docVersions.get(R);at(null!==L),M.version.compareTo(L)<0&&(y.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),p.addEntry(M)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,y))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Jt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);mx(t,r,null),gx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Sc(t,i)}catch(i){yield Vd(i)}}),hx.apply(this,arguments)}function hX(n,e,t){return fx.apply(this,arguments)}function fx(){return fx=(0,fe.Z)(function*(n,e,t){const r=Le(n);try{const i=yield function(o,a){const u=Le(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(y=>(at(null!==y),p=y.keys(),u.mutationQueue.removeMutationBatch(d,y))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);mx(r,e,t),gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Sc(r,i)}catch(i){yield Vd(i)}}),fx.apply(this,arguments)}function px(){return px=(0,fe.Z)(function*(n,e){const t=Le(n);Yd(t.remoteStore)||Ae("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=Le(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ba.get(r)||[];i.push(e),t.ba.set(r,i)}catch(r){const i=r_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),px.apply(this,arguments)}function gx(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function mx(n,e,t){const r=Le(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function o_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||j3(n,r)})}function j3(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(OI(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),yx(n))}function _x(n,e,t){for(const r of t)r instanceof V3?(n.wa.addReference(r.key,e),pX(n,r)):r instanceof U3?(Ae("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||j3(n,r.key)):Ge()}function pX(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(Ae("SyncEngine","New document in limbo: "+t),n.ga.add(r),yx(n))}function yx(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new Fe(En.fromString(e)),r=n.Da.next();n.ya.set(r,new sX(t)),n.pa=n.pa.insert(t,r),eb(n.remoteStore,new Cc(no(Um(t.path)),r,"TargetPurposeLimboResolution",ia._e))}}function Sc(n,e,t){return vx.apply(this,arguments)}function vx(){return vx=(0,fe.Z)(function*(n,e,t){const r=Le(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,t).then(d=>{if((d||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,d?.fromCache?"not-current":"current"),d){i.push(d);const p=TR.Qi(u.targetId,d);s.push(p)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,fe.Z)(function*(d,p){const y=Le(d);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(p,w=>Q.forEach(w.ki,R=>y.persistence.referenceDelegate.addReference(I,w.targetId,R)).next(()=>Q.forEach(w.qi,R=>y.persistence.referenceDelegate.removeReference(I,w.targetId,R)))))}catch(I){if(!Ud(I))throw I;Ae("LocalStore","Failed to update sequence numbers: "+I)}for(const I of p){const w=I.targetId;if(!I.fromCache){const R=y.ts.get(w),L=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);y.ts=y.ts.insert(w,L)}}}),function u(d,p){return a.apply(this,arguments)})(r.localStore,s))}),vx.apply(this,arguments)}function gX(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,fe.Z)(function*(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){Ae("SyncEngine","User change. New user:",e.toKey());const r=yield _3(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(u=>{u.reject(new Ee(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Sc(t,r._s)}var s}),Ix.apply(this,arguments)}function mX(n,e){const t=Le(n),r=t.ya.get(e);if(r&&r.Ra)return Jt().add(r.key);{let i=Jt();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function _X(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,fe.Z)(function*(n,e){const t=Le(n),r=yield ZT(t.localStore,e.query,!0),i=e.view.da(r);return t.isPrimaryClient&&_x(t,e.targetId,i.Ta),i}),Ex.apply(this,arguments)}function yX(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,fe.Z)(function*(n,e){const t=Le(n);return E3(t.localStore,e).then(r=>Sc(t,r))}),wx.apply(this,arguments)}function vX(n,e,t,r){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,fe.Z)(function*(n,e,t,r){const i=Le(n),s=yield function(a,u){const d=Le(a),p=Le(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",y=>p.Cn(y,u).next(I=>I?d.localDocuments.getDocuments(y,I):Q.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===t?yield t_(i.remoteStore):"acknowledged"===t||"rejected"===t?(mx(i,e,r||null),gx(i,e),u=e,Le(Le(i.localStore).mutationQueue).Fn(u)):Ge(),yield Sc(i,s)):Ae("SyncEngine","Cannot apply mutation batch with id: "+e)}),Tx.apply(this,arguments)}function bx(){return bx=(0,fe.Z)(function*(n,e){const t=Le(n);if(Dx(t),Rx(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield z3(t,r.toArray());t.Ca=!0,yield QR(t.remoteStore,!0);for(const s of i)eb(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const r=[];let i=Promise.resolve();t.fa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(o_(t,o),Xm(t.localStore,o,!0))),OI(t.remoteStore,o)}),yield i,yield z3(t,r),function(o){const a=Le(o);a.ya.forEach((u,d)=>{OI(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new pr(Fe.comparator)}(t),t.Ca=!1,yield QR(t.remoteStore,!1)}}),bx.apply(this,arguments)}function z3(n,e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,fe.Z)(function*(n,e,t){const r=Le(n),i=[],s=[];for(const o of e){let a;const u=r.fa.get(o);if(u&&0!==u.length){a=yield Jm(r.localStore,no(u[0]));for(const d of u){const p=r.ma.get(d),y=yield _X(r,p);y.snapshot&&s.push(y.snapshot)}}else{const d=yield I3(r.localStore,o);a=yield Jm(r.localStore,d),yield ox(r,q3(d),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),Cx.apply(this,arguments)}function q3(n){return QU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function EX(n){return t=Le(n).localStore,Le(Le(t).persistence).Bi();var t}function wX(n,e,t,r){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,fe.Z)(function*(n,e,t,r){const i=Le(n);if(i.Ca)return void Ae("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield E3(i.localStore,eB(s[0])),a=vI.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ri.EMPTY_BYTE_STRING);yield Sc(i,o,a);break}case"rejected":yield Xm(i.localStore,e,!0),o_(i,e,r);break;default:Ge()}}),Sx.apply(this,arguments)}function TX(n,e,t){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,fe.Z)(function*(n,e,t){const r=Dx(n);if(r.Ca){for(const i of e){if(r.fa.has(i)){Ae("SyncEngine","Adding an already active target "+i);continue}const s=yield I3(r.localStore,i),o=yield Jm(r.localStore,s);yield ox(r,q3(s),o.targetId,!1,o.resumeToken),eb(r.remoteStore,o)}for(const i of t)r.fa.has(i)&&(yield Xm(r.localStore,i,!1).then(()=>{OI(r.remoteStore,i),o_(r,i)}).catch(Vd))}}),Ax.apply(this,arguments)}function Dx(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=H3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cX.bind(null,e),e.Va.a_=eX.bind(null,e.eventManager),e.Va.Fa=tX.bind(null,e.eventManager),e}function Rx(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hX.bind(null,e),e}class NI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,fe.Z)(function*(){t.serializer=PI(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return m3(this.persistence,new g3,e.initialUser,this.serializer)}createPersistence(e){return new vR(GT.jr,this.serializer)}createSharedClientState(e){return new C3}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xx extends NI{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield Rx(r.xa.syncEngine),yield t_(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return m3(this.persistence,new g3,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new o3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new QQ(t,this.persistence);return new ZQ(e.asyncQueue,r)}createPersistence(e){const t=wR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new ER(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,A3(),XT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new C3}}class G3 extends xx{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof PR&&(r.sharedClientState.syncEngine={Ys:vX.bind(null,i),Zs:wX.bind(null,i),Xs:TX.bind(null,i),Bi:EX.bind(null,i),Js:yX.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,fe.Z)(function*(o){yield function IX(n,e){return bx.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=A3();if(!PR.D(t))throw new Ee(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new PR(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class a_{initialize(e,t){var r=this;return(0,fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=gX.bind(null,r.syncEngine),yield QR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new XJ}createDatastore(e){const t=PI(e.databaseInfo.databaseId),r=new LJ(e.databaseInfo);return new UJ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>$3(this.syncEngine,t,0),a=S3.D()?new S3:new OJ,new $J(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,u,d,p){const y=new oX(i,s,o,a,u,d);return p&&(y.Ca=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,fe.Z)(function*(r){const i=Le(r);Ae("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield e_(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function W3(n,e=10240){let t=0;return{read:()=>(0,fe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class nb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SX{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Di,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,fe.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,fe.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,fe.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new nX(JSON.parse(s),t.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,fe.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,fe.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class AX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ee(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,fe.Z)(function*(o,a){const u=Le(o),d=wI(u.serializer)+"/documents",p={documents:a.map(R=>EI(u.serializer,R))},y=yield u.Co("BatchGetDocuments",d,p,a.length),I=new Map;y.forEach(R=>{const M=function KY(n,e){return"found"in e?function(r,i){at(!!i.found);const s=gu(r,i.found.name),o=oi(i.found.updateTime),a=i.found.createTime?oi(i.found.createTime):lt.min(),u=new ds({mapValue:{fields:i.found.fields}});return Ar.newFoundDocument(s,o,a,u)}(n,e):"missing"in e?function(r,i){at(!!i.missing),at(!!i.readTime);const s=gu(r,i.missing),o=oi(i.readTime);return Ar.newNoDocument(s,o)}(n,e):Ge()}(u.serializer,R);I.set(M.key.toString(),M)});const w=[];return a.forEach(R=>{const M=I.get(R.toString());at(!!M),w.push(M)}),w}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new qm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Fe.fromPath(i);e.mutations.push(new tR(s,e.precondition(s)))}),yield(r=(0,fe.Z)(function*(s,o){const a=Le(s),u=wI(a.serializer)+"/documents",d={writes:o.map(p=>TI(a.serializer,p))};yield a.wo("Commit",u,d)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ge();t=lt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ee(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(lt.min())?Fr.exists(!1):Fr.updateTime(t):Fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(lt.min()))throw new Ee(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fr.updateTime(t)}return Fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class DX{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new OR(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,fe.Z)(function*(){const t=new AX(e.datastore),r=e.za(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const t=this.updateFunction(e);return!iI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yB(t)}return!1}}class RX{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qi.UNAUTHENTICATED,this.clientId=pU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,fe.Z)(function*(a){Ae("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=r_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function rb(n,e){return Px.apply(this,arguments)}function Px(){return Px=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ae("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,fe.Z)(function*(s){r.isEqual(s)||(yield _3(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Px.apply(this,arguments)}function Mx(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Nx(n);Ae("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>N3(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>N3(e.remoteStore,s)),n._onlineComponents=e}),Ox.apply(this,arguments)}function K3(n){return"FirebaseError"===n.name?n.code===re.FAILED_PRECONDITION||n.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Nx(n){return kx.apply(this,arguments)}function kx(){return kx=(0,fe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!K3(t))throw t;Co("Error using user provided cache. Falling back to memory cache: "+t),yield rb(n,new NI)}}else Ae("FirestoreClient","Using default OfflineComponentProvider"),yield rb(n,new NI);return n._offlineComponents}),kx.apply(this,arguments)}function ib(n){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,fe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mx(n,n._uninitializedComponentsProvider._online)):(Ae("FirestoreClient","Using default OnlineComponentProvider"),yield Mx(n,new a_))),n._onlineComponents}),Lx.apply(this,arguments)}function Z3(n){return Nx(n).then(e=>e.persistence)}function l_(n){return Nx(n).then(e=>e.localStore)}function Q3(n){return ib(n).then(e=>e.remoteStore)}function Fx(n){return ib(n).then(e=>e.syncEngine)}function u_(n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,fe.Z)(function*(n){const e=yield ib(n),t=e.eventManager;return t.onListen=aX.bind(null,e.syncEngine),t.onUnlisten=lX.bind(null,e.syncEngine),t}),Vx.apply(this,arguments)}function J3(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(s,o,a,u,d){const p=new nb({next:I=>{o.enqueueAndForget(()=>tx(s,y));const w=I.docs.has(a);!w&&I.fromCache?d.reject(new Ee(re.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&I.fromCache&&u&&"server"===u.source?d.reject(new Ee(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(I)},error:I=>d.reject(I)}),y=new ix(Um(a.path),p,{includeMetadataChanges:!0,J_:!0});return XR(s,y)}(yield u_(n),n.asyncQueue,e,t,r)})),r.promise}function X3(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(s,o,a,u,d){const p=new nb({next:I=>{o.enqueueAndForget(()=>tx(s,y)),I.fromCache&&"server"===u.source?d.reject(new Ee(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(I)},error:I=>d.reject(I)}),y=new ix(a,p,{includeMetadataChanges:!0,J_:!0});return XR(s,y)}(yield u_(n),n.asyncQueue,e,t,r)})),r.promise}function e4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const t4=new Map;function Ux(n,e,t){if(!t)throw new Ee(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n4(n,e,t,r){if(!0===e&&!0===r)throw new Ee(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function r4(n){if(!Fe.isDocumentKey(n))throw new Ee(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function i4(n){if(Fe.isDocumentKey(n))throw new Ee(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ge()}function pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sb(n);throw new Ee(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function s4(n,e){if(e<=0)throw new Ee(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class o4{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ee(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ee(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=e4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kI{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ee(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o4(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new FQ;switch(r.type){case"firstParty":return new HQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=t4.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),t4.delete(t),r.terminate())}(this),Promise.resolve()}}class hs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class Dr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dr(this.firestore,e,this._key)}}class mu extends hs{constructor(e,t,r){super(e,t,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dr(this.firestore,null,new Fe(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function l4(n,e,...t){if(n=(0,sr.m9)(n),Ux("collection","path",e),n instanceof kI){const r=En.fromString(e,...t);return i4(r),new mu(n,null,r)}{if(!(n instanceof Dr||n instanceof mu))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return i4(r),new mu(n.firestore,null,r)}}function ob(n,e,...t){if(n=(0,sr.m9)(n),1===arguments.length&&(e=pU.newId()),Ux("doc","path",e),n instanceof kI){const r=En.fromString(e,...t);return r4(r),new Dr(n,null,new Fe(r))}{if(!(n instanceof Dr||n instanceof mu))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return r4(r),new Dr(n.firestore,n instanceof mu?n.converter:null,new Fe(r))}}function u4(n,e){return n=(0,sr.m9)(n),e=(0,sr.m9)(e),(n instanceof Dr||n instanceof mu)&&(e instanceof Dr||e instanceof mu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Bx(n,e){return n=(0,sr.m9)(n),e=(0,sr.m9)(e),n instanceof hs&&e instanceof hs&&n.firestore===e.firestore&&hI(n._query,e._query)&&n.converter===e.converter}class HX{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new OR(this,"async_queue_retry"),this.iu=()=>{const t=XT();t&&Ae("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=XT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=XT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Di;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Ud(t))throw t;Ae("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,si("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=JR.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Ge()}verifyOperationInProgress(){}uu(){var e=this;return(0,fe.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function Hx(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class $X{constructor(){this._progressObserver={},this._taskCompletionResolver=new Di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gr extends kI{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new HX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||c4(this),this._firestoreClient.terminate()}}function Yr(n){return n._firestoreClient||c4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function c4(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _Y(n._databaseId,u,n._persistenceKey,(p=i).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,e4(p.experimentalLongPollingOptions),p.useFetchStreams));var u,p;n._firestoreClient=new RX(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function d4(n,e,t){const r=new Di;return n.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield rb(n,t),yield Mx(n,e),r.resolve()}catch(i){const s=i;if(!K3(s))throw s;Co("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function h4(n){if(n._initialized||n._terminated)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _u(Ri.fromBase64String(e))}catch(t){throw new Ee(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _u(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ac{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ee(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ip{constructor(e){this._methodName=e}}class ab{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const XX=/^__.*__$/;class eee{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new bc(e,this.data,this.fieldMask,t,this.fieldTransforms):new zm(e,this.data,t,this.fieldTransforms)}}class f4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function p4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class lb{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new lb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return db(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(p4(this.Iu)&&XX.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class tee{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||PI(e)}pu(e,t,r,i=!1){return new lb({Iu:e,methodName:t,gu:r,path:Sr.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sp(n){const e=n._freezeSettings(),t=PI(n._databaseId);return new tee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ub(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);qx("Data must be an object, but it was:",o,r);const a=_4(r,o);let u,d;if(s.merge)u=new So(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const I=VI(e,y,t);if(!o.contains(I))throw new Ee(re.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);v4(p,I)||p.push(I)}u=new So(p),d=o.fieldTransforms.filter(y=>u.covers(y.field))}else u=null,d=o.fieldTransforms;return new eee(new ds(a),u,d)}class FI extends ip{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof FI}}function g4(n,e,t){return new lb({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $x extends ip{_toFieldTransform(e){return new mI(e.path,new $m)}isEqual(e){return e instanceof $x}}class nee extends ip{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=g4(this,e,!0),r=this.yu.map(s=>op(s,t)),i=new Zf(r);return new mI(e.path,i)}isEqual(e){return this===e}}class ree extends ip{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=g4(this,e,!0),r=this.yu.map(s=>op(s,t)),i=new Qf(r);return new mI(e.path,i)}isEqual(e){return this===e}}class iee extends ip{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new jm(e.serializer,aB(e.serializer,this.wu));return new mI(e.path,t)}isEqual(e){return this===e}}function jx(n,e,t,r){const i=n.pu(1,e,t);qx("Data must be an object, but it was:",i,r);const s=[],o=ds.empty();Bd(r,(u,d)=>{const p=cb(e,u,t);d=(0,sr.m9)(d);const y=i.Ru(p);if(d instanceof FI)s.push(p);else{const I=op(d,y);null!=I&&(s.push(p),o.set(p,I))}});const a=new So(s);return new f4(o,a,i.fieldTransforms)}function zx(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[VI(e,r,t)],u=[i];if(s.length%2!=0)throw new Ee(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)a.push(VI(e,s[I])),u.push(s[I+1]);const d=[],p=ds.empty();for(let I=a.length-1;I>=0;--I)if(!v4(d,a[I])){const w=a[I];let R=u[I];R=(0,sr.m9)(R);const M=o.Ru(w);if(R instanceof FI)d.push(w);else{const L=op(R,M);null!=L&&(d.push(w),p.set(w,L))}}const y=new So(d);return new f4(p,y,o.fieldTransforms)}function m4(n,e,t,r=!1){return op(t,n.pu(r?4:3,e))}function op(n,e){if(y4(n=(0,sr.m9)(n)))return qx("Unsupported field value:",e,n),_4(n,e);if(n instanceof ip)return function(r,i){if(!p4(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=op(a,i.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,sr.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return aB(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Lr.fromDate(r);return{timestampValue:Gm(i.serializer,s)}}if(r instanceof Lr){const s=new Lr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gm(i.serializer,s)}}if(r instanceof ab)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _u)return{bytesValue:DB(i.serializer,r._byteString)};if(r instanceof Dr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aR(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${sb(r)}`)}(n,e)}function _4(n,e){const t={};return RU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bd(n,(r,i)=>{const s=op(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function y4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Lr||n instanceof ab||n instanceof _u||n instanceof Dr||n instanceof ip)}function qx(n,e,t){if(!y4(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=sb(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function VI(n,e,t){if((e=(0,sr.m9)(e))instanceof Ac)return e._internalPath;if("string"==typeof e)return cb(n,e);throw db("Field path arguments must be of type string or ",n,!1,void 0,t)}const see=new RegExp("[~\\*/\\[\\]]");function cb(n,e,t){if(e.search(see)>=0)throw db(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ac(...e.split("."))._internalPath}catch{throw db(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function db(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Ee(re.INVALID_ARGUMENT,a+n+u)}function v4(n,e){return n.some(t=>t.isEqual(e))}class UI{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oee extends UI{data(){return super.data()}}function hb(n,e){return"string"==typeof e?cb(n,e):e instanceof Ac?e._internalPath:e._delegate._internalPath}function I4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ee(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gx{}class BI extends Gx{}function Xd(n,e,...t){let r=[];e instanceof Gx&&r.push(e),r=r.concat(t),function(s){const o=s.filter(u=>u instanceof c_).length,a=s.filter(u=>u instanceof HI).length;if(o>1||o>0&&a>0)throw new Ee(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class HI extends BI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new HI(e,t,r)}_apply(e){const t=this._parse(e);return b4(e._query,t),new hs(e.firestore,e.converter,X1(e._query,t))}_parse(e){const t=sp(e.firestore);return function(s,o,a,u,d,p,y){let I;if(d.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new Ee(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){T4(y,p);const w=[];for(const R of y)w.push(w4(u,s,R));I={arrayValue:{values:w}}}else I=w4(u,s,y)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||T4(y,p),I=m4(a,"where",y,"in"===p||"not-in"===p);return gn.create(d,p,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class c_ extends Gx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new c_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Gn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)b4(o,u),o=X1(o,u)}(e._query,t),new hs(e.firestore,e.converter,X1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Wx extends BI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wx(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new Ee(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ee(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cI(s,o)}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new wc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class fb extends BI{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new fb(e,t,r)}_apply(e){return new hs(e.firestore,e.converter,OT(e._query,this._limit,this._limitType))}}class pb extends BI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new pb(e,t,r)}_apply(e){const t=E4(e,this.type,this._docOrFields,this._inclusive);return new hs(e.firestore,e.converter,(s=t,new wc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class gb extends BI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new gb(e,t,r)}_apply(e){const t=E4(e,this.type,this._docOrFields,this._inclusive);return new hs(e.firestore,e.converter,(s=t,new wc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function E4(n,e,t,r){if(t[0]=(0,sr.m9)(t[0]),t[0]instanceof UI)return function(s,o,a,u,d){if(!u)throw new Ee(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const y of Bm(s))if(y.field.isKeyField())p.push(Wf(o,u.key));else{const I=u.data.field(y.field);if(ST(I))throw new Ee(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const w=y.field.canonicalString();throw new Ee(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(I)}return new Gd(p,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=sp(n.firestore);return function(o,a,u,d,p,y){const I=o.explicitOrderBy;if(p.length>I.length)throw new Ee(re.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let R=0;R<p.length;R++){const M=p[R];if(I[R].field.isKeyField()){if("string"!=typeof M)throw new Ee(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof M}`);if(!J1(o)&&-1!==M.indexOf("/"))throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${M}' contains a slash.`);const L=o.path.child(En.fromString(M));if(!Fe.isDocumentKey(L))throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const G=new Fe(L);w.push(Wf(a,G))}else{const L=m4(u,d,M);w.push(L)}}return new Gd(w,y)}(n._query,n.firestore._databaseId,i,e,t,r)}}function w4(n,e,t){if("string"==typeof(t=(0,sr.m9)(t))){if(""===t)throw new Ee(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J1(e)&&-1!==t.indexOf("/"))throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(En.fromString(t));if(!Fe.isDocumentKey(r))throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wf(n,new Fe(r))}if(t instanceof Dr)return Wf(n,t._key);throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sb(t)}.`)}function T4(n,e){if(!Array.isArray(n)||0===n.length)throw new Ee(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b4(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ee(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Kx{convertValue(e,t="none"){switch(zd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ec(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Bd(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new ab(Qr(e.latitude),Qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=AT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(oI(e));default:return null}}convertTimestamp(e){const t=Hd(e);return new Lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=En.fromString(e);at(VB(r));const i=new $d(r.get(1),r.get(3)),s=new Fe(r.popFirst(5));return i.isEqual(t)||si(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function mb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class gee extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,t)}}class ap{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dc extends UI{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $I(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $I extends Dc{data(e={}){return super.data(e)}}class eh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ap(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $I(this._firestore,this._userDataWriter,r.key,r,new ap(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new $I(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ap(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new $I(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ap(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return 0!==a.type&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:_ee(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _ee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}function S4(n,e){return n instanceof Dc&&e instanceof Dc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof eh&&e instanceof eh&&n._firestore===e._firestore&&Bx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class th extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,t)}}function A4(n,e,t){n=pn(n,Dr);const r=pn(n.firestore,gr),i=mb(n.converter,e,t);return d_(r,[ub(sp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Fr.none())])}function D4(n,e,t,...r){n=pn(n,Dr);const i=pn(n.firestore,gr),s=sp(i);let o;return o="string"==typeof(e=(0,sr.m9)(e))||e instanceof Ac?zx(s,"updateDoc",n._key,e,t,r):jx(s,"updateDoc",n._key,e),d_(i,[o.toMutation(n._key,Fr.exists(!0))])}function R4(n,...e){var t,r,i;n=(0,sr.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Hx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Hx(e[o])){const y=e[o];e[o]=null===(t=y.next)||void 0===t?void 0:t.bind(y),e[o+1]=null===(r=y.error)||void 0===r?void 0:r.bind(y),e[o+2]=null===(i=y.complete)||void 0===i?void 0:i.bind(y)}let u,d,p;if(n instanceof Dr)d=pn(n.firestore,gr),p=Um(n._key.path),u={next:y=>{e[o]&&e[o](Zx(d,n,y))},error:e[o+1],complete:e[o+2]};else{const y=pn(n,hs);d=pn(y.firestore,gr),p=y._query;const I=new th(d);u={next:w=>{e[o]&&e[o](new eh(d,I,y,w))},error:e[o+1],complete:e[o+2]},I4(n._query)}return function(I,w,R,M){const L=new nb(M),G=new ix(w,L,R);return I.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return XR(yield u_(I),G)})),()=>{L.Na(),I.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return tx(yield u_(I),G)}))}}(Yr(d),p,a,u)}function d_(n,e){return function(r,i){const s=new Di;return r.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function uX(n,e,t){return ux.apply(this,arguments)}(yield Fx(r),i,s)})),s.promise}(Yr(n),e)}function Zx(n,e,t){const r=t.docs.get(e._key),i=new th(n);return new Dc(n,i,e._key,r,new ap(t.hasPendingWrites,t.fromCache),e.converter)}const kee={maxAttempts:5};class x4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sp(e)}set(e,t,r){this._verifyNotCommitted();const i=nh(e,this._firestore),s=mb(i.converter,t,r),o=ub(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Fr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=nh(e,this._firestore);let o;return o="string"==typeof(t=(0,sr.m9)(t))||t instanceof Ac?zx(this._dataReader,"WriteBatch.update",s._key,t,r,i):jx(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nh(e,this._firestore);return this._mutations=this._mutations.concat(new qm(t._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nh(n,e){if((n=(0,sr.m9)(n)).firestore!==e)throw new Ee(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lee extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=sp(t)}get(t){const r=nh(t,this._firestore),i=new gee(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Ge();const o=s[0];if(o.isFoundDocument())return new UI(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new UI(this._firestore,i,r._key,null,r.converter);throw Ge()})}set(t,r,i){const s=nh(t,this._firestore),o=mb(s.converter,r,i),a=ub(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=nh(t,this._firestore);let a;return a="string"==typeof(r=(0,sr.m9)(r))||r instanceof Ac?zx(this._dataReader,"Transaction.update",o._key,r,i,s):jx(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=nh(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nh(e,this._firestore),r=new th(this._firestore);return super.get(e).then(i=>new Dc(this._firestore,r,t._key,i._document,new ap(!1,!1),t.converter))}}function Yx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function N4(){if(typeof Uint8Array>"u")throw new Ee("unimplemented","Uint8Arrays are not available in this environment.")}function k4(){if(!function gY(){return typeof atob<"u"}())throw new Ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Pm=Em.SDK_VERSION,(0,Em._registerComponent)(new PF.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new gr(new UQ(r.getProvider("auth-internal")),new $Q(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ee(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Em.registerVersion)(dU,"4.3.2",e),(0,Em.registerVersion)(dU,"4.3.2","esm2017")}();class jI{constructor(e){this._delegate=e}static fromBase64String(e){return k4(),new jI(_u.fromBase64String(e))}static fromUint8Array(e){return N4(),new jI(_u.fromUint8Array(e))}toBase64(){return k4(),this._delegate.toBase64()}toUint8Array(){return N4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jx(n){return function Gee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Wee{enableIndexedDbPersistence(e,t){return function zX(n,e){h4(n=pn(n,gr));const t=Yr(n);if(t._uninitializedComponentsProvider)throw new Ee(re.FAILED_PRECONDITION,"SDK cache is already specified.");Co("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new a_;return d4(t,i,new xx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function qX(n){h4(n=pn(n,gr));const e=Yr(n);if(e._uninitializedComponentsProvider)throw new Ee(re.FAILED_PRECONDITION,"SDK cache is already specified.");Co("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new a_;return d4(e,r,new G3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function GX(n){if(n._initialized&&!n._terminated)throw new Ee(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(t=(0,fe.Z)(function*(i){if(!ml.D())return Promise.resolve();const s=i+"main";yield ml.delete(s)}),function r(i){return t.apply(this,arguments)})(wR(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class L4{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $d||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Co("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function a4(n,e,t,r={}){var i;const s=(n=pn(n,kI))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Qi.MOCK_USER;else{a=(0,sr.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Ee(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qi(d)}n._authCredentials=new VQ(new hU(a,u))}}(this._delegate,e,t,r)}enableNetwork(){return function KX(n){return function xX(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield Z3(n),t=yield Q3(n);return e.setNetworkEnabled(!0),function(i){const s=Le(i);return s.C_.delete(0),MI(s)}(t)}))}(Yr(n=pn(n,gr)))}(this._delegate)}disableNetwork(){return function ZX(n){return function PX(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield Z3(n),t=yield Q3(n);return e.setNetworkEnabled(!1),(r=(0,fe.Z)(function*(s){const o=Le(s);o.C_.add(0),yield e_(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(Yr(n=pn(n,gr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,n4("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function WX(n){return function(t){const r=new Di;return t.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function fX(n,e){return px.apply(this,arguments)}(yield Fx(t),r)})),r.promise}(Yr(n=pn(n,gr)))}(this._delegate)}onSnapshotsInSync(e){return function See(n,e){return function NX(n,e){const t=new nb(e);return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return i=yield u_(n),s=t,Le(i).q_.add(s),void s.next();var i,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return i=yield u_(n),s=t,void Le(i).q_.delete(s);var i,s}))}}(Yr(n=pn(n,gr)),Hx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new h_(this,l4(this._delegate,e))}catch(t){throw ro(t,"collection()","Firestore.collection()")}}doc(e){try{return new $a(this,ob(this._delegate,e))}catch(t){throw ro(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new io(this,function BX(n,e){if(n=pn(n,kI),Ux("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ee(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hs(n,null,(r=e,new wc(En.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw ro(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Fee(n,e,t){n=pn(n,gr);const r=Object.assign(Object.assign({},kee),t);return function(s){if(s.maxAttempts<1)throw new Ee(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new Di;return s.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const d=yield function Y3(n){return ib(n).then(e=>e.datastore)}(s);new DX(s.asyncQueue,d,a,o,u).run()})),u.promise}(Yr(n),i=>e(new Lee(n,i)),r)}(this._delegate,t=>e(new F4(this,t)))}batch(){return Yr(this._delegate),new V4(new x4(this._delegate,e=>d_(this._delegate,e)))}loadBundle(e){return function QX(n,e){const t=Yr(n=pn(n,gr)),r=new $X;return function kX(n,e,t,r){const i=function(o,a){let u;return u="string"==typeof o?IB().encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return W3(p,y);if(p instanceof ArrayBuffer)return W3(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new SX(p,a);var p}(t,PI(e));n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function bX(n,e,t){const r=Le(n);var i;(i=(0,fe.Z)(function*(o,a,u){try{const d=yield a.getMetadata();if(yield function(R,M){const L=Le(R),G=oi(M.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",$=>L.Kr.getBundleMetadata($,M.id)).then($=>!!$&&$.createTime.compareTo(G)>=0)}(o.localStore,d))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(R=d).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);u._updateProgress(F3(d));const p=new rX(d,o.localStore,a.serializer);let y=yield a.Ma();for(;y;){const w=yield p.ea(y);w&&u._updateProgress(w),y=yield a.Ma()}const I=yield p.complete();return yield Sc(o,I.ra,void 0),yield function(R,M){const L=Le(R);return L.persistence.runTransaction("Save bundle","readwrite",G=>L.Kr.saveBundleMetadata(G,M))}(o.localStore,d),u._completeWith(I.progress),Promise.resolve(I.na)}catch(d){return Co("SyncEngine",`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}var R}),function s(o,a,u){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Fx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function YX(n,e){return function LX(n,e){return n.asyncQueue.enqueue((0,fe.Z)(function*(){return function(r,i){const s=Le(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield l_(n),e)}))}(Yr(n=pn(n,gr)),e).then(t=>t?new hs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new io(this,t):null)}}class yb extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new jI(new _u(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $a.forKey(t,this.firestore,null)}}class F4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yb(e)}get(e){const t=up(e);return this._delegate.get(t).then(r=>new zI(this._firestore,new Dc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=up(e);return r?(Yx("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=up(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=up(e);return this._delegate.delete(t),this}}class V4{constructor(e){this._delegate=e}set(e,t,r){const i=up(e);return r?(Yx("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=up(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=up(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new $I(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qI(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=lp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new lp(e,new yb(e),t),i.set(t,s)),s}}lp.INSTANCES=new WeakMap;class $a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $a(t,new Dr(t._delegate,r,new Fe(e)))}static forKey(e,t,r){return new $a(t,new Dr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new h_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new h_(this.firestore,l4(this._delegate,e))}catch(t){throw ro(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,sr.m9)(e))instanceof Dr&&u4(this._delegate,e)}set(e,t){t=Yx("DocumentReference.set",t);try{return t?A4(this._delegate,e,t):A4(this._delegate,e)}catch(r){throw ro(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?D4(this._delegate,e):D4(this._delegate,e,t,...r)}catch(i){throw ro(i,"updateDoc()","DocumentReference.update()")}}delete(){return function bee(n){return d_(pn(n.firestore,gr),[new qm(n._key,Fr.none())])}(this._delegate)}onSnapshot(...e){const t=U4(e),r=B4(e,i=>new zI(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return R4(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function vee(n){n=pn(n,Dr);const e=pn(n.firestore,gr),t=Yr(e),r=new th(e);return function MX(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(s,o,a){try{const u=yield function(p,y){const I=Le(p);return I.persistence.runTransaction("read document","readonly",w=>I.localDocuments.getDocument(w,y))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new Ee(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=r_(u,`Failed to get document '${o} from cache`);a.reject(d)}}),function i(s,o,a){return r.apply(this,arguments)})(yield l_(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Dc(e,r,n._key,i,new ap(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Iee(n){n=pn(n,Dr);const e=pn(n.firestore,gr);return J3(Yr(e),n._key,{source:"server"}).then(t=>Zx(e,n,t))}(this._delegate):function yee(n){n=pn(n,Dr);const e=pn(n.firestore,gr);return J3(Yr(e),n._key).then(t=>Zx(e,n,t))}(this._delegate),t.then(r=>new zI(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $a(this.firestore,this._delegate.withConverter(e?lp.getInstance(this.firestore,e):null))}}function ro(n,e,t){return n.message=n.message.replace(e,t),n}function U4(n){for(const e of n)if("object"==typeof e&&!Jx(e))return e;return{}}function B4(n,e){var t,r;let i;return i=Jx(n[0])?n[0]:Jx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return S4(this._delegate,e._delegate)}}class qI extends zI{data(e){const t=this._delegate.data(e);return this._delegate._converter||function LQ(n,e){n||Ge()}(void 0!==t),t}}class io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yb(e)}where(e,t,r){try{return new io(this.firestore,Xd(this._delegate,function aee(n,e,t){const r=e,i=hb("where",n);return HI._create(i,r,t)}(e,t,r)))}catch(i){throw ro(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new io(this.firestore,Xd(this._delegate,function lee(n,e="asc"){const t=e,r=hb("orderBy",n);return Wx._create(r,t)}(e,t)))}catch(r){throw ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new io(this.firestore,Xd(this._delegate,function uee(n){return s4("limit",n),fb._create("limit",n,"F")}(e)))}catch(t){throw ro(t,"limit()","Query.limit()")}}limitToLast(e){try{return new io(this.firestore,Xd(this._delegate,function cee(n){return s4("limitToLast",n),fb._create("limitToLast",n,"L")}(e)))}catch(t){throw ro(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new io(this.firestore,Xd(this._delegate,function dee(...n){return pb._create("startAt",n,!0)}(...e)))}catch(t){throw ro(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new io(this.firestore,Xd(this._delegate,function hee(...n){return pb._create("startAfter",n,!1)}(...e)))}catch(t){throw ro(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new io(this.firestore,Xd(this._delegate,function fee(...n){return gb._create("endBefore",n,!1)}(...e)))}catch(t){throw ro(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new io(this.firestore,Xd(this._delegate,function pee(...n){return gb._create("endAt",n,!0)}(...e)))}catch(t){throw ro(t,"endAt()","Query.endAt()")}}isEqual(e){return Bx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function wee(n){n=pn(n,hs);const e=pn(n.firestore,gr),t=Yr(e),r=new th(e);return function OX(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(s,o,a){try{const u=yield ZT(s,o,!0),d=new B3(o,u.ls),p=d.ca(u.documents),y=d.applyChanges(p,!1);a.resolve(y.snapshot)}catch(u){const d=r_(u,`Failed to execute query '${o} against cache`);a.reject(d)}}),function i(s,o,a){return r.apply(this,arguments)})(yield l_(n),e,t);var r})),t.promise}(t,n._query).then(i=>new eh(e,r,n,i))}(this._delegate):"server"===e?.source?function Tee(n){n=pn(n,hs);const e=pn(n.firestore,gr),t=Yr(e),r=new th(e);return X3(t,n._query,{source:"server"}).then(i=>new eh(e,r,n,i))}(this._delegate):function Eee(n){n=pn(n,hs);const e=pn(n.firestore,gr),t=Yr(e),r=new th(e);return I4(n._query),X3(t,n._query).then(i=>new eh(e,r,n,i))}(this._delegate),t.then(r=>new Xx(this.firestore,new eh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=U4(e),r=B4(e,i=>new Xx(this.firestore,new eh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return R4(this._delegate,t,r)}withConverter(e){return new io(this.firestore,this._delegate.withConverter(e?lp.getInstance(this.firestore,e):null))}}class Zee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Zee(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new qI(this._firestore,r))})}isEqual(e){return S4(this._delegate,e._delegate)}}class h_ extends io{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $a(this.firestore,e):null}doc(e){try{return new $a(this.firestore,void 0===e?ob(this._delegate):ob(this._delegate,e))}catch(t){throw ro(t,"doc()","CollectionReference.doc()")}}add(e){return function Cee(n,e){const t=pn(n.firestore,gr),r=ob(n),i=mb(n.converter,e);return d_(t,[ub(sp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Fr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new $a(this.firestore,t))}isEqual(e){return u4(this._delegate,e._delegate)}withConverter(e){return new h_(this.firestore,this._delegate.withConverter(e?lp.getInstance(this.firestore,e):null))}}function up(n){return pn(n,Dr)}class eP{constructor(...e){this._delegate=new Ac(...e)}static documentId(){return new eP(Sr.keyField().canonicalString())}isEqual(e){return(e=(0,sr.m9)(e))instanceof Ac&&this._delegate._internalPath.isEqual(e._internalPath)}}class cp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Uee(){return new $x("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new cp(e)}static delete(){const e=function Vee(){return new FI("deleteField")}();return e._methodName="FieldValue.delete",new cp(e)}static arrayUnion(...e){const t=function Bee(...n){return new nee("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new cp(t)}static arrayRemove(...e){const t=function Hee(...n){return new ree("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new cp(t)}static increment(e){const t=function $ee(n){return new iee("increment",n)}(e);return t._methodName="FieldValue.increment",new cp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Qee={Firestore:L4,GeoPoint:ab,Timestamp:Lr,Blob:jI,Transaction:F4,WriteBatch:V4,DocumentReference:$a,DocumentSnapshot:zI,Query:io,QueryDocumentSnapshot:qI,QuerySnapshot:Xx,CollectionReference:h_,FieldPath:eP,FieldValue:cp,setLogLevel:function Kee(n){!function kQ(n){Fd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function H4(n,e){return function Xee(n,e=Gw){return new St(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function tP(n,e){return H4(n,e).pipe(Ne(t=>({payload:t,type:"query"})))}!function Jee(n){(function Yee(n,e){n.INTERNAL.registerComponent(new PF.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Qee)))})(n,(e,t)=>new L4(e,t,new Wee)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(Nd.Z);class $4{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=G4(r,t);return new q4(i,s,this.afs)}snapshotChanges(){return function ete(n,e){return H4(n,e).pipe(bw(void 0),QD(),Ne(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ta)}valueChanges(e={}){return this.snapshotChanges().pipe(Ne(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return A(this.ref.get(e)).pipe(ta)}}function vb(n,e){return tP(n,e).pipe(bw(void 0),QD(),Ne(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const d=s.find(y=>y.doc.ref.isEqual(a.ref)),p=r?.payload.docs.find(y=>y.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function j4(n,e,t){return vb(n,t).pipe(Sw((r,i)=>function tte(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function nte(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return nP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),mt(),Ne(r=>r.map(i=>({type:i.type,payload:i}))))}function nP(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function z4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class q4{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=vb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Ne(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(bw(void 0),QD(),ea(([r,i])=>i.length>0||!r),Ne(([,r])=>r),ta)}auditTrail(e){return this.stateChanges(e).pipe(Sw((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=z4(e);return j4(this.query,t,this.afs.schedulers.outsideAngular).pipe(ta)}valueChanges(e={}){return tP(this.query,this.afs.schedulers.outsideAngular).pipe(Ne(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),ta)}get(e){return A(this.query.get(e)).pipe(ta)}add(e){return this.ref.add(e)}doc(e){return new $4(this.ref.doc(e),this.afs)}}class rte{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vb(this.query,this.afs.schedulers.outsideAngular).pipe(Ne(t=>t.filter(r=>e.indexOf(r.type)>-1)),ea(t=>t.length>0),ta):vb(this.query,this.afs.schedulers.outsideAngular).pipe(ta)}auditTrail(e){return this.stateChanges(e).pipe(Sw((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=z4(e);return j4(this.query,t,this.afs.schedulers.outsideAngular).pipe(ta)}valueChanges(e={}){return tP(this.query,this.afs.schedulers.outsideAngular).pipe(Ne(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),ta)}get(e){return A(this.query.get(e)).pipe(ta)}}const ite=new Oe("angularfire2.enableFirestorePersistence"),ste=new Oe("angularfire2.firestore.persistenceSettings"),ote=new Oe("angularfire2.firestore.settings"),ate=new Oe("angularfire2.firestore.use-emulator");function G4(n,e=(t=>t)){return{query:e(n),ref:n}}let lte=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,u,d,p,y,I,w,R,M,L,G,$){this.schedulers=u;const J=ZD(t,a,r),he=p;y&&KF(J,a,I,R,M,L,w,G),[this.firestore,this.persistenceEnabled$]=VF(`${J.name}.firestore`,"AngularFirestore",J.name,()=>{const Re=a.runOutsideAngular(()=>J.firestore());if(s&&Re.settings(s),he&&Re.useEmulator(...he),i&&!vw(o)){const tt=()=>{try{return A(Re.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(Ot){return typeof console<"u"&&console.warn(Ot),V(!1)}};return[Re,a.runOutsideAngular(tt)]}return[Re,V(!1)]},[s,he,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=G4(i,r),a=this.schedulers.ngZone.run(()=>s);return new q4(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new rte(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new $4(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(Te(Ww),Te(Kw,8),Te(ite,8),Te(ote,8),Te(bs),Te(ht),Te(LF),Te(ste,8),Te(ate,8),Te(Zw,8),Te($F,8),Te(jF,8),Te(zF,8),Te(qF,8),Te(GF,8),Te(WF,8),Te(NF,8))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),f_=(()=>{class n{constructor(t,r,i){this.afAuth=t,this.router=r,this.firestore=i,this.userSubject=new b(null),this.user=this.userSubject.asObservable(),this.afAuth.authState.subscribe(s=>{this.userSubject.next(s)})}getUser(){return this.user}isLoggedIn(){return!!localStorage.getItem("token")}setDisplayName(t,r){const i=`${t} ${r}`;return this.afAuth.currentUser.then(s=>s?.updateProfile({displayName:i}))}signIn(t,r,i){this.afAuth.signInWithEmailAndPassword(t,r).then(s=>{s.user?.emailVerified?(""!=i?(localStorage.setItem("rememberMe","true"),localStorage.setItem("token",s.user?.uid)):(localStorage.setItem("rememberMe","false"),localStorage.removeItem("token")),this.router.navigate(["/tasks"])):s.user&&(s.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},s=>{alert(s.message),this.router.navigate(["/login"])})}register(t){this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{r.user?.updateProfile({displayName:t.userName}),this.storeAdditionalUserData(r.user?.uid,{fullName:t.fullName,username:t.userName}),r.user&&(r.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},r=>{alert(r.message)})}storeAdditionalUserData(t,r){t&&this.firestore.collection("users").doc(t).set(r,{merge:!0}).then(()=>{console.log("Additional user data stored successfully")}).catch(i=>{console.error("Error storing additional user data:",i)})}signOut(){this.afAuth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}forgotPassword(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{this.email=t,this.router.navigate(["/verify-email"])},r=>{alert(r.message)})}deleteCurrentUser(){this.afAuth.currentUser.then(t=>{t&&(t.delete(),localStorage.removeItem("token"),this.router.navigate(["/login"]))},t=>{alert(t.message)})}singInWithGoogle(){return this.afAuth.signInWithPopup(new xF.X).then(t=>{const r=t.user;if(r){const[i,s]=r.displayName?.split(" ")||["",""];r.updateProfile({displayName:r.displayName,photoURL:r.photoURL}).then(()=>{localStorage.setItem("token",t.user?.uid),this.router.navigate(["/tasks"])})}},t=>{alert(t.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.afAuth.signInWithPopup(new xF.Y).then(t=>{const r=t.user;if(r){const[i,s]=r.displayName?.split(" ")||["",""];r.updateProfile({displayName:r.displayName,photoURL:r.photoURL}).then(()=>{localStorage.setItem("token",t.user?.uid),this.router.navigate(["/tasks"])})}},t=>{alert(t.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Zw),Te(Ds),Te(lte))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ute(n,e){if(1&n&&(le(0,"span",6),xt(1,"We've sent a verification mail to "),le(2,"strong",7),xt(3),_e()()),2&n){const t=ae();be(3),iu(t.email)}}function cte(n,e){if(1&n&&(le(0,"span",6),xt(1,"We've sent instructions on how to reset "),_t(2,"br"),xt(3," your password to "),le(4,"strong",7),xt(5),_e()()),2&n){const t=ae();be(5),iu(t.email)}}function dte(n,e){1&n&&(le(0,"span",6),xt(1,"Please go to your mail to verify your email."),_e())}let hte=(()=>{class n{constructor(t){this.authService=t,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(t=>{t?this.email=t.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(r){return new(r||n)(ie(f_))};static#t=this.\u0275cmp=Ir({type:n,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(r,i){1&r&&(le(0,"div",0)(1,"div",1),_t(2,"img",2),le(3,"span",3),xt(4,"Check your email"),_e(),De(5,ute,4,1,"span",4),De(6,cte,6,1,"span",4),De(7,dte,2,0,"span",4),le(8,"a",5),xt(9,"Verified logging in"),_e()()()),2&r&&(be(5),ue("ngIf",!i.forgotPassLabel),be(1),ue("ngIf",i.forgotPassLabel),be(1),ue("ngIf",!i.forgotPassLabel))},dependencies:[mc],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return n})(),W4=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Cs),ie(ri))};static#t=this.\u0275dir=st({type:n})}return n})(),dp=(()=>{class n extends W4{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static#t=this.\u0275dir=st({type:n,features:[_n]})}return n})();const _l=new Oe("NgValueAccessor"),pte={provide:_l,useExisting:Y(()=>rP),multi:!0};let rP=(()=>{class n extends dp{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static#t=this.\u0275dir=st({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&it("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[hr([pte]),_n]})}return n})();const gte={provide:_l,useExisting:Y(()=>hp),multi:!0},_te=new Oe("CompositionEventMode");let hp=(()=>{class n extends W4{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mte(){const n=Rd()?Rd().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Cs),ie(ri),ie(_te,8))};static#t=this.\u0275dir=st({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&it("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[hr([gte]),_n]})}return n})();const Ns=new Oe("NgValidators"),ih=new Oe("NgAsyncValidators");function Y4(n){return function rh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Ib(n){return null}function r5(n){return null!=n}function i5(n){return Zy(n)?A(n):n}function s5(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function o5(n,e){return e.map(t=>t(n))}function a5(n){return n.map(e=>function vte(n){return!n.validate}(e)?e:t=>e.validate(t))}function iP(n){return null!=n?function l5(n){if(!n)return null;const e=n.filter(r5);return 0==e.length?null:function(t){return s5(o5(t,e))}}(a5(n)):null}function sP(n){return null!=n?function u5(n){if(!n)return null;const e=n.filter(r5);return 0==e.length?null:function(t){return function fte(...n){const e=ms(n),{args:t,keys:r}=E2(n),i=new St(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,d=o;for(let p=0;p<o;p++){let y=!1;jt(t[p]).subscribe(xe(s,I=>{y||(y=!0,d--),a[p]=I},()=>u--,void 0,()=>{(!u||!y)&&(d||s.next(r?T2(r,a):a),s.complete())}))}});return e?i.pipe(w2(e)):i}(o5(t,e).map(i5)).pipe(Ne(s5))}}(a5(n)):null}function c5(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function oP(n){return n?Array.isArray(n)?n:[n]:[]}function Eb(n,e){return Array.isArray(n)?n.includes(e):n===e}function f5(n,e){const t=oP(e);return oP(n).forEach(i=>{Eb(t,i)||t.push(i)}),t}function p5(n,e){return oP(e).filter(t=>!Eb(n,t))}class g5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class so extends g5{get formDirective(){return null}get path(){return null}}class sh extends g5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class m5{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GI=(()=>{class n extends m5{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(sh,2))};static#t=this.\u0275dir=st({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Qy("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[_n]})}return n})(),aP=(()=>{class n extends m5{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(so,10))};static#t=this.\u0275dir=st({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Qy("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[_n]})}return n})();const WI="VALID",Tb="INVALID",p_="PENDING",KI="DISABLED";function cP(n){return(bb(n)?n.validators:n)||null}function dP(n,e){return(bb(e)?e.asyncValidators:n)||null}function bb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class I5{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===WI}get invalid(){return this.status===Tb}get pending(){return this.status==p_}get disabled(){return this.status===KI}get enabled(){return this.status!==KI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(f5(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(f5(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(p5(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(p5(e,this._rawAsyncValidators))}hasValidator(e){return Eb(this._rawValidators,e)}hasAsyncValidator(e){return Eb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=p_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=KI,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=WI,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===WI||this.status===p_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?KI:WI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=p_,this._hasOwnPendingAsyncValidator=!0;const t=i5(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?KI:this.errors?Tb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(p_)?p_:this._anyControlsHaveStatus(Tb)?Tb:WI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Tte(n){return Array.isArray(n)?iP(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function bte(n){return Array.isArray(n)?sP(n):n||null}(this._rawAsyncValidators)}}class hP extends I5{constructor(e,t,r){super(cP(t),dP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function v5(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new W(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function y5(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[t])throw new W(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const g_=new Oe("CallSetDisabledState",{providedIn:"root",factory:()=>Cb}),Cb="always";function ZI(n,e,t=Cb){fP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ate(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&E5(n,e)})}(n,e),function Rte(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Dte(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&E5(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ste(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Db(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fP(n,e){const t=function d5(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(c5(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function h5(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(c5(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Db(e._rawValidators,i),Db(e._rawAsyncValidators,i)}function E5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Nte={provide:so,useExisting:Y(()=>YI)},QI=(()=>Promise.resolve())();let YI=(()=>{class n extends so{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new We,this.form=new hP({},iP(t),sP(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){QI.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ZI(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){QI.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){QI.then(()=>{const r=this._findContainer(t.path),i=new hP({});(function w5(n,e){fP(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){QI.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){QI.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function T5(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Ns,10),ie(ih,10),ie(g_,8))};static#t=this.\u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&it("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hr([Nte]),_n]})}return n})();function b5(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function C5(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const S5=class extends I5{constructor(e=null,t,r){super(cP(t),dP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=C5(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){b5(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){b5(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){C5(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Fte={provide:sh,useExisting:Y(()=>fp)},R5=(()=>Promise.resolve())();let fp=(()=>{class n extends sh{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new S5,this._registered=!1,this.name="",this.update=new We,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function mP(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===hp?t=s:function Mte(n){return Object.getPrototypeOf(n.constructor)===dp}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function gP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ZI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){R5.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&am(r);R5.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Sb(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(ie(so,9),ie(Ns,10),ie(ih,10),ie(_l,10),ie(hc,8),ie(g_,8))};static#t=this.\u0275dir=st({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[hr([Fte]),_n,Ui]})}return n})(),_P=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),P5=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({})}return n})(),pp=(()=>{class n{constructor(){this._validator=Ib}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ib,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=st({type:n,features:[Ui]})}return n})();const tne={provide:Ns,useExisting:Y(()=>JI),multi:!0};let JI=(()=>{class n extends pp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=am,this.createValidator=t=>Y4}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static#t=this.\u0275dir=st({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&$t("required",i._enabled?"":null)},inputs:{required:"required"},features:[hr([tne]),_n]})}return n})(),ane=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({imports:[P5]})}return n})(),une=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:g_,useValue:t.callSetDisabledState??Cb}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({imports:[ane]})}return n})(),cne=(()=>{class n{constructor(t){this.authService=t,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(f_))};static#t=this.\u0275cmp=Ir({type:n,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["href","login",1,"title2"]],template:function(r,i){1&r&&(le(0,"div",0)(1,"div",1)(2,"span",2),xt(3,"Forgot your password?"),_e(),le(4,"span",3),xt(5,"Your password will be reset by email."),_e(),le(6,"label",4),xt(7,"Enter your email address"),_e(),le(8,"input",5),it("ngModelChange",function(o){return i.email=o}),_e(),le(9,"button",6),it("click",function(){return i.forgotPasswordMail()}),xt(10,"Next"),_e(),le(11,"a",7),xt(12,"Back to log in"),_e()()()),2&r&&(be(8),ue("ngModel",i.email))},dependencies:[hp,GI,fp],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px 60%;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;margin-bottom:3%;font-weight:500;margin-left:-180px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return n})(),dne=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.isLoggedIn()||"false"==localStorage.getItem("rememberMe")?(localStorage.removeItem("rememberMe"),!0):(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)(Te(f_),Te(Ds))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hne=["registerationForm"];function fne(n,e){if(1&n){const t=Nn();le(0,"i",28),it("click",function(){return ot(t),dt(ae().togglePasswordVisibility())}),_e()}}function pne(n,e){if(1&n){const t=Nn();le(0,"i",29),it("click",function(){return ot(t),dt(ae().togglePasswordVisibility())}),_e()}}function gne(n,e){if(1&n){const t=Nn();le(0,"i",28),it("click",function(){return ot(t),dt(ae().toggleConfirmPasswordVisibility())}),_e()}}function mne(n,e){if(1&n){const t=Nn();le(0,"i",29),it("click",function(){return ot(t),dt(ae().toggleConfirmPasswordVisibility())}),_e()}}let _ne=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const t=document.getElementById("password");"password"===t.type?(t.type="text",this.passwordToggle=!1):(t.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const t=document.getElementById("confirmPassword");"password"===t.type?(t.type="text",this.confirmPasswordToggle=!1):(t.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(f_),ie(Ds))};static#t=this.\u0275cmp=Ir({type:n,selectors:[["app-register"]],viewQuery:function(r,i){if(1&r&&Pf(hne,5),2&r){let s;ul(s=cl())&&(i.registerationForm=s.first)}},decls:40,vars:4,consts:[[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["registerationForm","ngForm"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required",""],[1,"rectangle4"],["type","submit",1,"register"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(r,i){1&r&&(le(0,"div",0),xt(1,"Please Fill out form to Register!"),_e(),le(2,"form",1,2),it("ngSubmit",function(){return i.register()}),le(4,"label",3),xt(5,"Full name:"),_e(),_t(6,"input",4),le(7,"label",5),xt(8,"Username:"),_e(),_t(9,"input",6),le(10,"label",7),xt(11,"Email:"),_e(),_t(12,"input",8),le(13,"label",9),xt(14,"Password:"),_e(),le(15,"div",10),_t(16,"input",11),le(17,"div",12),De(18,fne,1,0,"i",13),De(19,pne,1,0,"i",14),_e()(),le(20,"label",15),xt(21,"Confirm Password:"),_e(),le(22,"div",16),_t(23,"input",17),le(24,"div",12),De(25,gne,1,0,"i",13),De(26,mne,1,0,"i",14),_e()(),_t(27,"div",18),le(28,"button",19),xt(29,"Register"),_e()(),le(30,"div",20)(31,"p",21)(32,"span",22),xt(33,"Yes i have an account?"),_e(),le(34,"a",23),xt(35,"Login"),_e(),_t(36,"span",24),_e()(),_t(37,"div",25)(38,"div",26)(39,"div",27)),2&r&&(be(18),ue("ngIf",i.passwordToggle),be(1),ue("ngIf",!i.passwordToggle),be(6),ue("ngIf",i.confirmPasswordToggle),be(1),ue("ngIf",!i.confirmPasswordToggle))},dependencies:[mc,_P,hp,GI,aP,JI,fp,YI],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:590px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:529px;width:365px;height:34px;border-radius:50px;background-color:#656ed3}.register[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:910px;top:533px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#656ed3;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#afb3ff;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:16px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:818px;top:92px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 12.7344%;background-image:url(/assets/pc-reg.svg);background-position:center;background-repeat:no-repeat;background-size:cover}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:9px}']})}return n})();const yne=["loginForm"];function vne(n,e){if(1&n){const t=Nn();le(0,"i",29),it("click",function(){return ot(t),dt(ae().togglePasswordVisibility())}),_e()}}function Ine(n,e){if(1&n){const t=Nn();le(0,"i",30),it("click",function(){return ot(t),dt(ae().togglePasswordVisibility())}),_e()}}let Ene=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.passwordToggle=!1}ngOnInit(){}login(t){this.loginForm.valid?this.authService.signIn(t.email,t.password,t.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const t=document.getElementById("password");"password"===t.type?(t.type="text",this.passwordToggle=!1):(t.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(r){return new(r||n)(ie(f_),ie(Ds))};static#t=this.\u0275cmp=Ir({type:n,selectors:[["app-login"]],viewQuery:function(r,i){if(1&r&&Pf(yne,5),2&r){let s;ul(s=cl())&&(i.loginForm=s.first)}},decls:40,vars:2,consts:[[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["loginForm","ngForm"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"label"],["href","register",1,"label2"],[1,"rectangle4"],["type","submit",1,"login"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],[1,"rectangle5"],[1,"rectangle6"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(r,i){if(1&r){const s=Nn();_t(0,"div",0)(1,"div",1),le(2,"div",2),xt(3,"Welcome Back!"),_e(),le(4,"form",3,4),it("ngSubmit",function(){ot(s);const a=nl(5);return dt(i.login(a.value))}),le(6,"label",5),xt(7,"Username:"),_e(),_t(8,"input",6),le(9,"label",7),xt(10,"Password:"),_e(),le(11,"div",8),_t(12,"input",9),le(13,"div",10),De(14,vne,1,0,"i",11),De(15,Ine,1,0,"i",12),_e()(),le(16,"div",13)(17,"div",14)(18,"div"),_t(19,"input",15),le(20,"span",16),xt(21,"Remember Me"),_e()(),le(22,"a",17),xt(23,"Forgot Password"),_e()()(),le(24,"div",18)(25,"p",14)(26,"span",19),xt(27,"Dont have and account?"),_e(),le(28,"a",20),xt(29,"Register"),_e()()(),_t(30,"div",21),le(31,"button",22),xt(32,"Login"),_e(),le(33,"div",23)(34,"a",24),it("click",function(){return i.signInWithGoogle()}),_t(35,"img",25),_e(),le(36,"a",24),it("click",function(){return i.signInWithGithub()}),_t(37,"img",26),_e()()(),_t(38,"div",27)(39,"div",28)}2&r&&(be(14),ue("ngIf",i.passwordToggle),be(1),ue("ngIf",!i.passwordToggle))},dependencies:[mc,_P,hp,rP,GI,aP,JI,fp,YI],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:525px;height:720px;background-color:#afb3ff}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:34px;padding-left:1%;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:9px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:34px;padding-left:1%;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:379px;width:max-content;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:16px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:240px;top:177px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:34px;border-radius:50px;background-color:#656ed3}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:285px;top:424px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#838cf1;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#afb3ff;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(/assets/pc-login.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return n})();const Z5={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let xb;const wne=new Uint8Array(16);function Tne(){if(!xb&&(xb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xb(wne)}const fs=[];for(let n=0;n<256;++n)fs.push((n+256).toString(16).slice(1));const Y5=function bne(n,e,t){if(Z5.randomUUID&&!e&&!n)return Z5.randomUUID();const r=(n=n||{}).random||(n.rng||Tne)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return function Q5(n,e=0){return fs[n[e+0]]+fs[n[e+1]]+fs[n[e+2]]+fs[n[e+3]]+"-"+fs[n[e+4]]+fs[n[e+5]]+"-"+fs[n[e+6]]+fs[n[e+7]]+"-"+fs[n[e+8]]+fs[n[e+9]]+"-"+fs[n[e+10]]+fs[n[e+11]]+fs[n[e+12]]+fs[n[e+13]]+fs[n[e+14]]+fs[n[e+15]]}(r)};class TP{setModel(e,t,r,i,s){this.name=t,this.id=e,this.todoId=s||Y5(),this.completed=r||!1,this.deleted=i||!1}}class bP{setModel(e,t,r){this.name=t,this.id=e||Y5(),this.deleted=r||!1}}var J5=ct(990);const CP_apiUrl="https://tasksapi-production-96eb.up.railway.app";class Pb{}class Mb{}class yu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof yu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new yu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof yu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Cne{encodeKey(e){return X5(e)}encodeValue(e){return X5(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ane=/%(\d[a-f0-9])/gi,Dne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function X5(n){return encodeURIComponent(n).replace(Ane,(e,t)=>Dne[t]??e)}function Ob(n){return`${n}`}class oh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cne,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Sne(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Ob):[Ob(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new oh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ob(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ob(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Rne{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function e6(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function t6(n){return typeof Blob<"u"&&n instanceof Blob}function n6(n){return typeof FormData<"u"&&n instanceof FormData}class XI{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xne(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new yu),this.context||(this.context=new Rne),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new oh,this.urlWithParams=t}serializeBody(){return null===this.body?null:e6(this.body)||t6(this.body)||n6(this.body)||function Pne(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof oh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||n6(this.body)?null:t6(this.body)?this.body.type||null:e6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,d=e.params||this.params;const p=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((y,I)=>y.set(I,e.setHeaders[I]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((y,I)=>y.set(I,e.setParams[I]),d)),new XI(t,r,s,{params:d,headers:u,context:p,reportProgress:a,responseType:i,withCredentials:o})}}var m_=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(m_||{});class SP{constructor(e,t=200,r="OK"){this.headers=e.headers||new yu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class AP extends SP{constructor(e={}){super(e),this.type=m_.ResponseHeader}clone(e={}){return new AP({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class __ extends SP{constructor(e={}){super(e),this.type=m_.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new __({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class r6 extends SP{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function DP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let i6=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof XI)s=t;else{let u,d;u=i.headers instanceof yu?i.headers:new yu(i.headers),i.params&&(d=i.params instanceof oh?i.params:new oh({fromObject:i.params})),s=new XI(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=V(s).pipe(dm(u=>this.handler.handle(u)));if(t instanceof XI||"events"===i.observe)return o;const a=o.pipe(ea(u=>u instanceof __));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ne(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ne(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ne(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ne(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new oh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,DP(i,r))}post(t,r,i={}){return this.request("POST",t,DP(i,r))}put(t,r,i={}){return this.request("PUT",t,DP(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Pb))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();function a6(n,e){return e(n)}function One(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const kne=new Oe(""),eE=new Oe(""),l6=new Oe("");function Lne(){let n=null;return(e,t)=>{null===n&&(n=(Me(kne,{optional:!0})??[]).reduceRight(One,a6));const r=Me(tw),i=r.add();return n(e,t).pipe(_v(()=>r.remove(i)))}}let u6=(()=>{class n extends Pb{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Me(tw)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(eE),...this.injector.get(l6,[])]));this.chain=i.reduceRight((s,o)=>function Nne(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,o,this.injector),a6)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(_v(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Mb),Te(Ts))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const Bne=/^\)\]\}',?\n/;let d6=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new W(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?A(r.\u0275loadImpl()):V(null)).pipe(ze(()=>new St(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((M,L)=>o.setRequestHeader(M,L.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&o.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();o.responseType="json"!==M?M:"text"}const a=t.serializeBody();let u=null;const d=()=>{if(null!==u)return u;const M=o.statusText||"OK",L=new yu(o.getAllResponseHeaders()),G=function Hne(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return u=new AP({headers:L,status:o.status,statusText:M,url:G}),u},p=()=>{let{headers:M,status:L,statusText:G,url:$}=d(),J=null;204!==L&&(J=typeof o.response>"u"?o.responseText:o.response),0===L&&(L=J?200:0);let he=L>=200&&L<300;if("json"===t.responseType&&"string"==typeof J){const Re=J;J=J.replace(Bne,"");try{J=""!==J?JSON.parse(J):null}catch(tt){J=Re,he&&(he=!1,J={error:tt,text:J})}}he?(s.next(new __({body:J,headers:M,status:L,statusText:G,url:$||void 0})),s.complete()):s.error(new r6({error:J,headers:M,status:L,statusText:G,url:$||void 0}))},y=M=>{const{url:L}=d(),G=new r6({error:M,status:o.status||0,statusText:o.statusText||"Unknown Error",url:L||void 0});s.error(G)};let I=!1;const w=M=>{I||(s.next(d()),I=!0);let L={type:m_.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(L.total=M.total),"text"===t.responseType&&o.responseText&&(L.partialText=o.responseText),s.next(L)},R=M=>{let L={type:m_.UploadProgress,loaded:M.loaded};M.lengthComputable&&(L.total=M.total),s.next(L)};return o.addEventListener("load",p),o.addEventListener("error",y),o.addEventListener("timeout",y),o.addEventListener("abort",y),t.reportProgress&&(o.addEventListener("progress",w),null!==a&&o.upload&&o.upload.addEventListener("progress",R)),o.send(a),s.next({type:m_.Sent}),()=>{o.removeEventListener("error",y),o.removeEventListener("abort",y),o.removeEventListener("load",p),o.removeEventListener("timeout",y),t.reportProgress&&(o.removeEventListener("progress",w),null!==a&&o.upload&&o.upload.removeEventListener("progress",R)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(Te(JL))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const RP=new Oe("XSRF_ENABLED"),h6=new Oe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),f6=new Oe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class p6{}let zne=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zL(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Wi),Te(bs),Te(h6))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();function qne(n,e){const t=n.url.toLowerCase();if(!Me(RP)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Me(p6).getToken(),i=Me(f6);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ah=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ah||{});function Gne(...n){const e=[i6,d6,u6,{provide:Pb,useExisting:u6},{provide:Mb,useExisting:d6},{provide:eE,useValue:qne,multi:!0},{provide:RP,useValue:!0},{provide:p6,useClass:zne}];for(const t of n)e.push(...t.\u0275providers);return function Ey(n){return{\u0275providers:n}}(e)}const g6=new Oe("LEGACY_INTERCEPTOR_FN");function Wne(){return function gp(n,e){return{\u0275kind:n,\u0275providers:e}}(ah.LegacyInterceptors,[{provide:g6,useFactory:Lne},{provide:eE,useExisting:g6,multi:!0}])}let Kne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({providers:[Gne(Wne())]})}return n})(),ere=(()=>{class n{constructor(t){this.http=t,this.apiMode=CP_apiUrl+"/api/mode/",this.apiTasks=CP_apiUrl+"/api/tasks/",this.apiTodo=CP_apiUrl+"/api/todos/"}updateMode(t,r){return this.http.patch(this.apiMode+r,t)}createTodo(t,r){return this.http.post(this.apiTodo+t,r)}patchTodo(t,r){return this.http.patch(this.apiTodo+t,r)}getTasks(t){return this.http.get(this.apiTasks+t)}createTasks(t,r){return this.http.post(this.apiTasks+r,t)}patchTasks(t,r){return this.http.patch(this.apiTasks+t,r)}static#e=this.\u0275fac=function(r){return new(r||n)(Te(i6))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ks=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),nre=(()=>{class n{clickSource=new se;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kb=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[ks.STARTS_WITH,ks.CONTAINS,ks.NOT_CONTAINS,ks.ENDS_WITH,ks.EQUALS,ks.NOT_EQUALS],numeric:[ks.EQUALS,ks.NOT_EQUALS,ks.LESS_THAN,ks.LESS_THAN_OR_EQUAL_TO,ks.GREATER_THAN,ks.GREATER_THAN_OR_EQUAL_TO],date:[ks.DATE_IS,ks.DATE_IS_NOT,ks.DATE_BEFORE,ks.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new se;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lb=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(ie(ll))};static \u0275dir=st({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return n})(),lh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({imports:[su]})}return n})();class ai{static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var u=this.isDate(e),d=this.isDate(t);if(u!=d)return!1;if(u&&d)return e.getTime()==t.getTime();var p=e instanceof RegExp,y=t instanceof RegExp;if(p!=y)return!1;if(p&&y)return e.toString()==t.toString();var I=Object.keys(e);if((o=I.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,I[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[a=I[s]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>t){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let s=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return s=o&&a?0:o?i:a?-i:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,r,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,r=1,i,s=1){return(1===s?r:s)*ai.compare(e,t,i,r)}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}}var m6=0;function xP(n="pn_id_"){return`${n}${++m6}`}var uh=function rre(){let n=[];const i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,a)=>{o&&(o.style.zIndex=String(((s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},u=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:u}),u})(s,a)))},clear:s=>{s&&((s=>{n=n.filter(o=>o.value!==s)})(i(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const ire=["*"];let y_=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=ai.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ir({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[cc],ngContentSelectors:ire,decls:1,vars:0,template:function(r,i){1&r&&(H0(),$0(0))},encapsulation:2,changeDetection:0})}return n})(),_6=(()=>{class n extends y_{static \u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static \u0275cmp=Ir({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[_n,cc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,i){1&r&&(Ho(),le(0,"svg",0),_t(1,"path",1),_e()),2&r&&(Fa(i.getClassNames()),$t("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();const sre=["input"];function ore(n,e){1&n&&_t(0,"span",10),2&n&&(ue("ngClass",ae(3).checkboxIcon),$t("data-pc-section","icon"))}function are(n,e){1&n&&_t(0,"CheckIcon",11),2&n&&(ue("styleClass","p-checkbox-icon"),$t("data-pc-section","icon"))}function lre(n,e){if(1&n&&(rl(0),De(1,ore,1,2,"span",8),De(2,are,1,2,"CheckIcon",9),il()),2&n){const t=ae(2);be(1),ue("ngIf",t.checkboxIcon),be(1),ue("ngIf",!t.checkboxIcon)}}function ure(n,e){}function cre(n,e){1&n&&De(0,ure,0,0,"ng-template")}function dre(n,e){if(1&n&&(le(0,"span",12),De(1,cre,1,0,null,13),_e()),2&n){const t=ae(2);$t("data-pc-section","icon"),be(1),ue("ngTemplateOutlet",t.checkboxIconTemplate)}}function hre(n,e){if(1&n&&(rl(0),De(1,lre,3,2,"ng-container",5),De(2,dre,2,2,"span",7),il()),2&n){const t=ae();be(1),ue("ngIf",!t.checkboxIconTemplate),be(1),ue("ngIf",t.checkboxIconTemplate)}}const fre=function(n,e,t){return{"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t}};function pre(n,e){if(1&n){const t=Nn();le(0,"label",14),it("click",function(i){return ot(t),dt(ae().onClick(i))}),xt(1),_e()}if(2&n){const t=ae();Fa(t.labelStyleClass),ue("ngClass",Q0(6,fre,t.checked(),t.disabled,t.focused)),$t("for",t.inputId)("data-pc-section","label"),be(1),Df(" ",t.label,"")}}const gre=function(n,e,t){return{"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":e,"p-checkbox-focused":t}},mre=function(n,e,t){return{"p-highlight":n,"p-disabled":e,"p-focus":t}},_re={provide:_l,useExisting:Y(()=>y6),multi:!0};let y6=(()=>{class n{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new We;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(t){this.cd=t}ngAfterContentInit(){this.templates.forEach(t=>{"icon"===t.getType()&&(this.checkboxIconTemplate=t.template)})}onClick(t){if(!this.disabled&&!this.readonly){let r;this.inputViewChild.nativeElement.focus(),this.binary?(r=this.checked()?this.falseValue:this.trueValue,this.model=r,this.onModelChange(r)):(r=this.checked()?this.model.filter(i=>!ai.equals(i,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(r),this.model=r,this.formControl&&this.formControl.setValue(r)),this.onChange.emit({checked:r,originalEvent:t})}}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:ai.contains(this.value,this.model)}static \u0275fac=function(r){return new(r||n)(ie(hc))};static \u0275cmp=Ir({type:n,selectors:[["p-checkbox"]],contentQueries:function(r,i,s){if(1&r&&ov(s,Lb,4),2&r){let o;ul(o=cl())&&(i.templates=o)}},viewQuery:function(r,i){if(1&r&&Pf(sre,5),2&r){let s;ul(s=cl())&&(i.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[hr([_re])],decls:7,vars:35,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"value","checked","disabled","readonly","focus","blur"],["input",""],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(r,i){1&r&&(le(0,"div",0),it("click",function(o){return i.onClick(o)}),le(1,"div",1)(2,"input",2,3),it("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),_e()(),le(4,"div",4),De(5,hre,3,2,"ng-container",5),_e()(),De(6,pre,2,10,"label",6)),2&r&&(Fa(i.styleClass),ue("ngStyle",i.style)("ngClass",Q0(27,gre,i.checked(),i.disabled,i.focused)),$t("data-pc-name","checkbox")("data-pc-section","root"),be(1),$t("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),be(1),ue("value",i.value)("checked",i.checked())("disabled",i.disabled)("readonly",i.readonly),$t("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("required",i.required)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-checked",i.checked())("data-pc-section","hiddenInput"),be(2),ue("ngClass",Q0(31,mre,i.checked(),i.disabled,i.focused)),$t("data-p-highlight",i.checked())("data-p-disabled",i.disabled)("data-p-focused",i.focused)("data-pc-section","input"),be(1),ue("ngIf",i.checked()),be(1),ue("ngIf",i.label))},dependencies:function(){return[um,mc,fv,hv,_6]},styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),yre=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({imports:[su,_6,lh]})}return n})(),ut=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)t.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)t.className+=" "+i[s]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==t)return i;1==r[s].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==t)return s;i[o].attributes&&i[o].attributes[r]&&1==i[o].nodeType&&s++}return-1}static appendOverlay(t,r,i="self"){"self"!==i&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",s=!0){t&&r&&(s&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),"self"===i?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r){const i=G=>{if(G)return"relative"===getComputedStyle(G).getPropertyValue("position")?G:i(G.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=r.offsetHeight,a=r.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),p=this.getViewport(),I=i(t)?.getBoundingClientRect()||{top:-1*u,left:-1*d};let w,R;a.top+o+s.height>p.height?(w=a.top-I.top-s.height,t.style.transformOrigin="bottom",a.top+w<0&&(w=-1*a.top)):(w=o+a.top-I.top,t.style.transformOrigin="top");const M=a.left+s.width-p.width;R=s.width>p.width?-1*(a.left-I.left):M>0?a.left-I.left-M:a.left-I.left,t.style.top=w+"px",t.style.left=R+"px"}static absolutePosition(t,r){const i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=i.height,o=i.width,a=r.offsetHeight,u=r.offsetWidth,d=r.getBoundingClientRect(),p=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),I=this.getViewport();let w,R;d.top+a+s>I.height?(w=d.top+p-s,t.style.transformOrigin="bottom",w<0&&(w=p)):(w=a+d.top+p,t.style.transformOrigin="top"),R=d.left+o>I.width?Math.max(0,d.left+y+u-o):d.left+y,t.style.top=w+"px",t.style.left=R+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const s=/(auto|scroll)/,o=a=>{let u=window.getComputedStyle(a,null);return s.test(u.getPropertyValue("overflow"))||s.test(u.getPropertyValue("overflowX"))||s.test(u.getPropertyValue("overflowY"))};for(let a of i){let u=1===a.nodeType&&a.dataset.scrollselectors;if(u){let d=u.split(",");for(let p of d){let y=this.findSingle(a,p);y&&o(y)&&r.push(y)}}9!==a.nodeType&&o(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,u=t.getBoundingClientRect(),p=r.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-a,y=t.scrollTop,I=t.clientHeight,w=this.getOuterHeight(r);p<0?t.scrollTop=y+p:p+w>I&&(t.scrollTop=y+p-I+w)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,r){var i=1,a=50/r;let u=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(u)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||s.clientWidth,height:t.innerHeight||i.clientHeight||s.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableElements(t,r=""){let i=this.find(t,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`),s=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&s.push(o);return s}static getFirstFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){const i=n.getFocusableElements(t);let s=0;if(i&&i.length>0){const o=i.indexOf(i[0].ownerDocument.activeElement);r?s=-1==o||0===o?i.length-1:o-1:-1!=o&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const i=typeof t;if("string"===i)return document.querySelector(t);if("object"===i&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){const i=t.getAttribute(r);return isNaN(i)?"true"===i||"false"===i?"true"===i:i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}}return n})();class v6{element;listener;scrollableParents;constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=ut.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let I6=(()=>{class n extends y_{static \u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static \u0275cmp=Ir({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[_n,cc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(r,i){1&r&&(Ho(),le(0,"svg",0),_t(1,"path",1),_e()),2&r&&(Fa(i.getClassNames()),$t("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),E6=(()=>{class n extends y_{static \u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static \u0275cmp=Ir({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[_n,cc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(r,i){1&r&&(Ho(),le(0,"svg",0),_t(1,"path",1),_e()),2&r&&(Fa(i.getClassNames()),$t("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),w6=(()=>{class n extends y_{static \u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static \u0275cmp=Ir({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[_n,cc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(r,i){1&r&&(Ho(),le(0,"svg",0),_t(1,"path",1),_e()),2&r&&(Fa(i.getClassNames()),$t("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),T6=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,s,o,a){this.document=t,this.platformId=r,this.renderer=i,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){kf(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(ut.removeClass(r,"p-ink-active"),!ut.getHeight(r)&&!ut.getWidth(r)){let a=Math.max(ut.getOuterWidth(this.el.nativeElement),ut.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=ut.getOffset(this.el.nativeElement),s=t.pageX-i.left+this.document.body.scrollTop-ut.getWidth(r)/2,o=t.pageY-i.top+this.document.body.scrollLeft-ut.getHeight(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),ut.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&ut.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&ut.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),ut.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,ut.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)(ie(Wi),ie(bs),ie(Cs),ie(ri),ie(ht),ie(kb,8))};static \u0275dir=st({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),PP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({imports:[su]})}return n})(),vre=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:xP()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;constructor(t,r,i,s,o,a){this.platformId=t,this.el=r,this.zone=i,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){kf(this.platformId)&&this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.getTarget(this.el.nativeElement);t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){(this.isAutoHide()||!(ut.hasClass(t.relatedTarget,"p-tooltip")||ut.hasClass(t.relatedTarget,"p-tooltip-text")||ut.hasClass(t.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?ut.appendChild(this.container,this.el.nativeElement):ut.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",r=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),ut.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?uh.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&uh.clear(this.container),this.remove()}updateText(){const t=this.getOption("tooltipLabel");if(t instanceof ll){const r=this.viewContainer.createEmbeddedView(t);r.detectChanges(),r.rootNodes.forEach(i=>this.tooltipText.appendChild(i))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+ut.getWindowScrollLeft(),top:t.top+ut.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),r=t.left+ut.getOuterWidth(this.el.nativeElement),i=t.top+(ut.getOuterHeight(this.el.nativeElement)-ut.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=i+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),r=t.left-ut.getOuterWidth(this.container),i=t.top+(ut.getOuterHeight(this.el.nativeElement)-ut.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=i+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),r=t.left+(ut.getOuterWidth(this.el.nativeElement)-ut.getOuterWidth(this.container))/2,i=t.top-ut.getOuterHeight(this.container);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=i+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),r=t.left+(ut.getOuterWidth(this.el.nativeElement)-ut.getOuterWidth(this.container))/2,i=t.top+ut.getOuterHeight(this.el.nativeElement);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=i+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return ut.hasClass(t,"p-inputwrapper")?ut.findSingle(t,"input"):t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let r="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?r+" "+this.getOption("tooltipStyleClass"):r}isOutOfBounds(){let t=this.container.getBoundingClientRect(),r=t.top,i=t.left,s=ut.getOuterWidth(this.container),o=ut.getOuterHeight(this.container),a=ut.getViewport();return i+s>a.width||i<0||r<0||r+o>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new v6(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let t=this.getTarget(this.el.nativeElement);t.removeEventListener("focus",this.focusListener),t.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):ut.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&uh.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(r){return new(r||n)(ie(bs),ie(ri),ie(ht),ie(kb),ie(Cs),ie(Va))};static \u0275dir=st({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(r,i){1&r&&it("keydown.escape",function(o){return i.onPressEscape(o)},0,VS)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",hideOnEscape:"hideOnEscape",content:["pTooltip","content"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ui]})}return n})(),b6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({imports:[su]})}return n})();const bre=["menubar"];function Cre(n,e){if(1&n&&_t(0,"li",5),2&n){const t=ae().$implicit,r=ae();(function sl(n){al(aN,d$,n,!1)})(r.getItemProp(t,"style")),ue("ngClass",r.getSeparatorItemClass(t)),$t("id",r.getItemId(t))("data-pc-section","separator")}}function Sre(n,e){if(1&n&&_t(0,"span",18),2&n){const t=ae(4).$implicit,r=ae();ue("ngClass",r.getItemProp(t,"icon"))("ngStyle",r.getItemProp(t,"iconStyle")),$t("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Are(n,e){if(1&n&&(le(0,"span",19),xt(1),_e()),2&n){const t=ae(4).$implicit,r=ae();$t("data-pc-section","label"),be(1),Df(" ",r.getItemLabel(t)," ")}}function Dre(n,e){if(1&n&&_t(0,"span",20),2&n){const t=ae(4).$implicit;ue("innerHTML",ae().getItemLabel(t),_y),$t("data-pc-section","label")}}function Rre(n,e){if(1&n&&(le(0,"span",21),xt(1),_e()),2&n){const t=ae(4).$implicit,r=ae();ue("ngClass",r.getItemProp(t,"badgeStyleClass")),be(1),iu(r.getItemProp(t,"badge"))}}function xre(n,e){1&n&&_t(0,"AngleDownIcon",24),2&n&&(ue("styleClass","p-submenu-icon"),$t("data-pc-section","submenuicon")("aria-hidden",!0))}function Pre(n,e){1&n&&_t(0,"AngleRightIcon",24),2&n&&(ue("styleClass","p-submenu-icon"),$t("data-pc-section","submenuicon")("aria-hidden",!0))}function Mre(n,e){if(1&n&&(rl(0),De(1,xre,1,3,"AngleDownIcon",23),De(2,Pre,1,3,"AngleRightIcon",23),il()),2&n){const t=ae(6);be(1),ue("ngIf",t.root),be(1),ue("ngIf",!t.root)}}function Ore(n,e){}function Nre(n,e){1&n&&De(0,Ore,0,0,"ng-template"),2&n&&ue("data-pc-section","submenuicon")("aria-hidden",!0)}function kre(n,e){if(1&n&&(rl(0),De(1,Mre,3,2,"ng-container",9),De(2,Nre,1,2,null,22),il()),2&n){ae(5);const t=nl(1);be(1),ue("ngIf",!t.submenuIconTemplate),be(1),ue("ngTemplateOutlet",t.submenuIconTemplate)}}const C6=function(n){return{"p-menuitem-link":!0,"p-disabled":n}};function Lre(n,e){if(1&n&&(le(0,"a",13),De(1,Sre,1,5,"span",14),De(2,Are,2,2,"span",15),De(3,Dre,1,2,"ng-template",null,16,X0),De(5,Rre,2,2,"span",17),De(6,kre,3,2,"ng-container",9),_e()),2&n){const t=nl(4),r=ae(3).$implicit,i=ae();ue("target",i.getItemProp(r,"target"))("ngClass",rv(12,C6,i.getItemProp(r,"disabled"))),$t("href",i.getItemProp(r,"url"),Dg)("aria-hidden",!0)("data-automationid",i.getItemProp(r,"automationId"))("data-pc-section","action")("tabindex",-1),be(1),ue("ngIf",i.getItemProp(r,"icon")),be(1),ue("ngIf",i.getItemProp(r,"escape"))("ngIfElse",t),be(3),ue("ngIf",i.getItemProp(r,"badge")),be(1),ue("ngIf",i.isItemGroup(r))}}function Fre(n,e){if(1&n&&_t(0,"span",18),2&n){const t=ae(4).$implicit,r=ae();ue("ngClass",r.getItemProp(t,"icon"))("ngStyle",r.getItemProp(t,"iconStyle")),$t("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Vre(n,e){if(1&n&&(le(0,"span",19),xt(1),_e()),2&n){const t=ae(4).$implicit,r=ae();be(1),iu(r.getItemLabel(t))}}function Ure(n,e){if(1&n&&_t(0,"span",20),2&n){const t=ae(4).$implicit;ue("innerHTML",ae().getItemLabel(t),_y),$t("data-pc-section","label")}}function Bre(n,e){if(1&n&&(le(0,"span",21),xt(1),_e()),2&n){const t=ae(4).$implicit,r=ae();ue("ngClass",r.getItemProp(t,"badgeStyleClass")),be(1),iu(r.getItemProp(t,"badge"))}}function Hre(n,e){1&n&&_t(0,"AngleDownIcon",24),2&n&&(ue("styleClass","p-submenu-icon"),$t("data-pc-section","submenuicon")("aria-hidden",!0))}function $re(n,e){1&n&&_t(0,"AngleRightIcon",24),2&n&&(ue("styleClass","p-submenu-icon"),$t("data-pc-section","submenuicon")("aria-hidden",!0))}function jre(n,e){if(1&n&&(rl(0),De(1,Hre,1,3,"AngleDownIcon",23),De(2,$re,1,3,"AngleRightIcon",23),il()),2&n){const t=ae(6);be(1),ue("ngIf",t.root),be(1),ue("ngIf",!t.root)}}function zre(n,e){}function qre(n,e){1&n&&De(0,zre,0,0,"ng-template"),2&n&&ue("data-pc-section","submenuicon")("aria-hidden",!0)}function Gre(n,e){if(1&n&&(rl(0),De(1,jre,3,2,"ng-container",9),De(2,qre,1,2,null,22),il()),2&n){ae(5);const t=nl(1);be(1),ue("ngIf",!t.submenuIconTemplate),be(1),ue("ngTemplateOutlet",t.submenuIconTemplate)}}const Wre=function(){return{exact:!1}};function Kre(n,e){if(1&n&&(le(0,"a",25),De(1,Fre,1,5,"span",14),De(2,Vre,2,1,"span",15),De(3,Ure,1,2,"ng-template",null,26,X0),De(5,Bre,2,2,"span",17),De(6,Gre,3,2,"ng-container",9),_e()),2&n){const t=nl(4),r=ae(3).$implicit,i=ae();ue("routerLink",i.getItemProp(r,"routerLink"))("queryParams",i.getItemProp(r,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.getItemProp(r,"routerLinkActiveOptions")||function fk(n,e,t){const r=Wr()+n,i=ye();return i[r]===Ht?nu(i,r,t?e.call(t):e()):function zy(n,e){return n[e]}(i,r)}(21,Wre))("target",i.getItemProp(r,"target"))("ngClass",rv(22,C6,i.getItemProp(r,"disabled")))("fragment",i.getItemProp(r,"fragment"))("queryParamsHandling",i.getItemProp(r,"queryParamsHandling"))("preserveFragment",i.getItemProp(r,"preserveFragment"))("skipLocationChange",i.getItemProp(r,"skipLocationChange"))("replaceUrl",i.getItemProp(r,"replaceUrl"))("state",i.getItemProp(r,"state")),$t("data-automationid",i.getItemProp(r,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),be(1),ue("ngIf",i.getItemProp(r,"icon")),be(1),ue("ngIf",i.getItemProp(r,"escape"))("ngIfElse",t),be(3),ue("ngIf",i.getItemProp(r,"badge")),be(1),ue("ngIf",i.isItemGroup(r))}}function Zre(n,e){if(1&n&&(rl(0),De(1,Lre,7,14,"a",11),De(2,Kre,7,24,"a",12),il()),2&n){const t=ae(2).$implicit,r=ae();be(1),ue("ngIf",!r.getItemProp(t,"routerLink")),be(1),ue("ngIf",r.getItemProp(t,"routerLink"))}}function Qre(n,e){}function Yre(n,e){1&n&&De(0,Qre,0,0,"ng-template")}const Jre=function(n){return{$implicit:n}};function Xre(n,e){if(1&n&&(rl(0),De(1,Yre,1,0,null,27),il()),2&n){const t=ae(2).$implicit,r=ae();be(1),ue("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",rv(2,Jre,t.item))}}function eie(n,e){if(1&n){const t=Nn();le(0,"p-menubarSub",28),it("itemClick",function(i){return ot(t),dt(ae(3).itemClick.emit(i))})("itemMouseEnter",function(i){return ot(t),dt(ae(3).onItemMouseEnter(i))}),_e()}if(2&n){const t=ae(2).$implicit,r=ae();ue("itemTemplate",r.itemTemplate)("items",t.items)("mobileActive",r.mobileActive)("autoDisplay",r.autoDisplay)("menuId",r.menuId)("activeItemPath",r.activeItemPath)("focusedItemId",r.focusedItemId)("level",r.level+1)}}function tie(n,e){if(1&n){const t=Nn();le(0,"li",6,7)(2,"div",8),it("click",function(i){ot(t);const s=ae().$implicit;return dt(ae().onItemClick(i,s))})("mouseenter",function(i){ot(t);const s=ae().$implicit;return dt(ae().onItemMouseEnter({$event:i,processedItem:s}))}),De(3,Zre,3,2,"ng-container",9),De(4,Xre,2,4,"ng-container",9),_e(),De(5,eie,1,8,"p-menubarSub",10),_e()}if(2&n){const t=ae(),r=t.$implicit,i=t.index,s=ae();Fa(s.getItemProp(r,"styleClass")),ue("ngStyle",s.getItemProp(r,"style"))("ngClass",s.getItemClass(r))("tooltipOptions",s.getItemProp(r,"tooltipOptions")),$t("id",s.getItemId(r))("data-pc-section","menuitem")("data-p-highlight",s.isItemActive(r))("data-p-focused",s.isItemFocused(r))("data-p-disabled",s.isItemDisabled(r))("aria-label",s.getItemLabel(r))("aria-disabled",s.isItemDisabled(r)||void 0)("aria-haspopup",s.isItemGroup(r)&&!s.getItemProp(r,"to")?"menu":void 0)("aria-expanded",s.isItemGroup(r)?s.isItemActive(r):void 0)("aria-level",s.level+1)("aria-setsize",s.getAriaSetSize())("aria-posinset",s.getAriaPosInset(i)),be(2),$t("data-pc-section","content"),be(1),ue("ngIf",!s.itemTemplate),be(1),ue("ngIf",s.itemTemplate),be(1),ue("ngIf",s.isItemVisible(r)&&s.isItemGroup(r))}}function nie(n,e){if(1&n&&(De(0,Cre,1,5,"li",3),De(1,tie,6,21,"li",4)),2&n){const t=e.$implicit,r=ae();ue("ngIf",r.isItemVisible(t)&&r.getItemProp(t,"separator")),be(1),ue("ngIf",r.isItemVisible(t)&&!r.getItemProp(t,"separator"))}}const rie=function(n,e){return{"p-submenu-list":n,"p-menubar-root-list":e}},iie=["menubutton"],sie=["rootmenu"];function oie(n,e){1&n&&Ky(0)}function aie(n,e){if(1&n&&(le(0,"div",7),De(1,oie,1,0,"ng-container",8),_e()),2&n){const t=ae();be(1),ue("ngTemplateOutlet",t.startTemplate)}}function lie(n,e){1&n&&_t(0,"BarsIcon")}function uie(n,e){}function cie(n,e){1&n&&De(0,uie,0,0,"ng-template")}function die(n,e){if(1&n){const t=Nn();le(0,"a",9,10),it("click",function(i){return ot(t),dt(ae().menuButtonClick(i))})("keydown",function(i){return ot(t),dt(ae().menuButtonKeydown(i))}),De(2,lie,1,0,"BarsIcon",11),De(3,cie,1,0,null,8),_e()}if(2&n){const t=ae();$t("aria-haspopup",!!(t.model.length&&t.model.length>0))("aria-expanded",t.mobileActive)("aria-controls",t.id)("aria-label",t.config.translation.aria.navigation)("data-pc-section","button"),be(2),ue("ngIf",!t.menuIconTemplate),be(1),ue("ngTemplateOutlet",t.menuIconTemplate)}}function hie(n,e){1&n&&Ky(0)}function fie(n,e){if(1&n&&(le(0,"div",12),De(1,hie,1,0,"ng-container",8),_e()),2&n){const t=ae();be(1),ue("ngTemplateOutlet",t.endTemplate)}}function pie(n,e){1&n&&(le(0,"div",12),$0(1),_e())}const gie=function(n){return{"p-menubar p-component":!0,"p-menubar-mobile-active":n}},mie=["*"];let MP=(()=>{class n{autoHide;autoHideDelay;mouseLeaves=new se;mouseLeft$=this.mouseLeaves.pipe(function Tre(n){return ce((e,t)=>{let r=!1,i=null,s=null;const o=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const a=i;i=null,t.next(a)}};e.subscribe(xe(t,a=>{s?.unsubscribe(),r=!0,i=a,s=xe(t,o,Ke),jt(n(a)).subscribe(s)},()=>{o(),t.complete()},void 0,()=>{i=s=null}))})}(()=>function wre(n=0,e=Gw){return n<0&&(n=0),function Ere(n=0,e,t=lZ){let r=-1;return null!=e&&(Zn(e)?t=e:r=e),new St(i=>{let s=function Ire(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,n,e)}(this.autoHideDelay)),ea(t=>this.autoHide&&t));static \u0275fac=function(r){return new(r||n)};static \u0275prov=He({token:n,factory:n.\u0275fac})}return n})(),_ie=(()=>{class n{el;renderer;cd;menubarService;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;itemClick=new We;itemMouseEnter=new We;menuFocus=new We;menuBlur=new We;menuKeydown=new We;menubarViewChild;mouseLeaveSubscriber;constructor(t,r,i,s){this.el=t,this.renderer=r,this.cd=i,this.menubarService=s}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(t,r){this.getItemProp(r,"command",{originalEvent:t,item:r.item}),this.itemClick.emit({originalEvent:t,processedItem:r,isFocus:!0})}getItemProp(t,r,i=null){return t&&t.item?ai.getItemValue(t.item[r],i):void 0}getItemId(t){return t.item&&t.item?.id?t.item.id:`${this.menuId}_${t.key}`}getItemKey(t){return this.getItemId(t)}getItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem":!0,"p-highlight":this.isItemActive(t),"p-menuitem-active":this.isItemActive(t),"p-focus":this.isItemFocused(t),"p-disabled":this.isItemDisabled(t)}}getItemLabel(t){return this.getItemProp(t,"label")}getSeparatorItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem-separator":!0}}isItemVisible(t){return!1!==this.getItemProp(t,"visible")}isItemActive(t){if(this.activeItemPath)return this.activeItemPath.some(r=>r.key===t.key)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemFocused(t){return this.focusedItemId===this.getItemId(t)}isItemGroup(t){return ai.isNotEmpty(t.items)}getAriaSetSize(){return this.items.filter(t=>this.isItemVisible(t)&&!this.getItemProp(t,"separator")).length}getAriaPosInset(t){return t-this.items.slice(0,t).filter(r=>this.isItemVisible(r)&&this.getItemProp(r,"separator")).length+1}onItemMouseLeave(){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(t){if(this.autoDisplay){this.menubarService.mouseLeaves.next(!1);const{event:r,processedItem:i}=t;this.itemMouseEnter.emit({originalEvent:r,processedItem:i})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe()}static \u0275fac=function(r){return new(r||n)(ie(ri),ie(Cs),ie(hc),ie(MP))};static \u0275cmp=Ir({type:n,selectors:[["p-menubarSub"]],viewQuery:function(r,i){if(1&r&&Pf(bre,7),2&r){let s;ul(s=cl())&&(i.menubarViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",activeItemPath:"activeItemPath"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:3,vars:11,consts:[["role","menu",3,"ngClass","tabindex","focus","blur","keydown"],["menubar",""],["ngFor","",3,"ngForOf"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["listItem",""],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["htmlRouteLabel",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter"]],template:function(r,i){1&r&&(le(0,"ul",0,1),it("focus",function(o){return i.menuFocus.emit(o)})("blur",function(o){return i.menuBlur.emit(o)})("keydown",function(o){return i.menuKeydown.emit(o)}),De(2,nie,2,2,"ng-template",2),_e()),2&r&&(ue("ngClass",Z0(8,rie,!i.root,i.root))("tabindex",0),$t("data-pc-section","menu")("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("id",i.menuId)("aria-activedescendant",i.focusedItemId),be(2),ue("ngForOf",i.items))},dependencies:function(){return[um,oD,mc,fv,hv,jw,EF,T6,vre,I6,E6,n]},encapsulation:2})}return n})(),yie=(()=>{class n{document;platformId;el;renderer;cd;config;menubarService;set model(t){this._model=t,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}style;styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new We;onBlur=new We;templates;menubutton;rootmenu;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;mobileActive;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=Ph([]);number=Ph(0);focusedItemInfo=Ph({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){const t=this.activeItemPath().find(r=>r.key===this.focusedItemInfo().parentKey);return t?t.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){const t=this.focusedItemInfo();return t.item&&t.item?.id?t.item.id:-1!==t.index?`${this.id}${ai.isNotEmpty(t.parentKey)?"_"+t.parentKey:""}_${t.index}`:null}constructor(t,r,i,s,o,a,u){this.document=t,this.platformId=r,this.el=i,this.renderer=s,this.cd=o,this.config=a,this.menubarService=u,lO(()=>{const d=this.activeItemPath();ai.isNotEmpty(d)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener()),this.id=this.id||xP()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template;break;case"menuicon":this.menuIconTemplate=t.template;break;case"submenuicon":this.submenuIconTemplate=t.template;break;default:this.itemTemplate=t.template}})}createProcessedItems(t,r=0,i={},s=""){const o=[];return t&&t.forEach((a,u)=>{const d=(""!==s?s+"_":"")+u,p={item:a,index:u,level:r,key:d,parent:i,parentKey:s};p.items=this.createProcessedItems(a.items,r+1,p,d),o.push(p)}),o}getItemProp(t,r){return t?ai.getItemValue(t[r]):void 0}menuButtonClick(t){this.toggle(t)}menuButtonKeydown(t){("Enter"===t.code||"Space"===t.code)&&this.menuButtonClick(t)}onItemClick(t){const{originalEvent:r,processedItem:i}=t,s=this.isProcessedItemGroup(i),o=ai.isEmpty(i.parent);if(this.isSelected(i)){const{index:u,key:d,level:p,parentKey:y,item:I}=i;this.activeItemPath.set(this.activeItemPath().filter(w=>d!==w.key&&d.startsWith(w.key))),this.focusedItemInfo.set({index:u,level:p,parentKey:y,item:I}),this.dirty=!o,ut.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(s)this.onItemChange(t);else{const u=o?i:this.activeItemPath().find(d=>""===d.parentKey);this.hide(r),this.changeFocusedItemIndex(r,u?u.index:-1),this.mobileActive=!1,ut.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(t){ut.isTouchDevice()||this.mobileActive||this.onItemChange(t)}changeFocusedItemIndex(t,r){const i=this.findVisibleItem(r);this.focusedItemInfo().index!==r&&(this.focusedItemInfo.mutate(s=>{s.index=r,s.item=i.item}),this.scrollInView())}scrollInView(t=-1){const i=ut.findSingle(this.rootmenu.el.nativeElement,`li[id="${-1!==t?`${this.id}_${t}`:this.focusedItemId}"]`);i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(t){const{processedItem:r,isFocus:i}=t;if(ai.isEmpty(r))return;const{index:s,key:o,level:a,parentKey:u,items:d,item:p}=r,y=ai.isNotEmpty(d),I=this.activeItemPath().filter(w=>w.parentKey!==u&&w.parentKey!==o);y&&I.push(r),this.focusedItemInfo.set({index:s,level:a,parentKey:u,item:p}),this.activeItemPath.set(I),y&&(this.dirty=!0),i&&ut.focus(this.rootmenu.menubarViewChild.nativeElement)}toggle(t){this.mobileActive?(this.mobileActive=!1,uh.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,uh.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.cd.markForCheck(),this.bindOutsideClickListener(),t.preventDefault()}hide(t,r){this.mobileActive&&setTimeout(()=>{ut.focus(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),r&&ut.focus(this.rootmenu.menubarViewChild.nativeElement),this.dirty=!1}show(){const t=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:t.item}),ut.focus(this.rootmenu.menubarViewChild.nativeElement)}onMenuFocus(t){this.focused=!0;const r=this.findVisibleItem(this.findFirstFocusedItemIndex()),i=-1!==this.focusedItemInfo().index?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:r.item};this.focusedItemInfo.set(i),this.onFocus.emit(t)}onMenuBlur(t){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(t)}onKeyDown(t){const r=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"ArrowRight":this.onArrowRightKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Space":this.onSpaceKey(t);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!r&&ai.isPrintableCharacter(t.key)&&this.searchItems(t,t.key)}}findVisibleItem(t){return ai.isNotEmpty(this.visibleItems)?this.visibleItems[t]:null}findFirstFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findFirstItemIndex():t}findFirstItemIndex(){return this.visibleItems.findIndex(t=>this.isValidItem(t))}findSelectedItemIndex(){return this.visibleItems.findIndex(t=>this.isValidSelectedItem(t))}isProcessedItemGroup(t){return t&&ai.isNotEmpty(t.items)}isSelected(t){return this.activeItemPath().some(r=>r.key===t.key)}isValidSelectedItem(t){return this.isValidItem(t)&&this.isSelected(t)}isValidItem(t){return!!t&&!this.isItemDisabled(t.item)&&!this.isItemSeparator(t.item)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemSeparator(t){return this.getItemProp(t,"separator")}isItemMatched(t){return this.isValidItem(t)&&this.getProccessedItemLabel(t).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(t){return t&&ai.isNotEmpty(t.items)}searchItems(t,r){this.searchValue=(this.searchValue||"")+r;let i=-1,s=!1;return-1!==this.focusedItemInfo().index?(i=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)),i=-1===i?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)):i+this.focusedItemInfo().index):i=this.visibleItems.findIndex(o=>this.isItemMatched(o)),-1!==i&&(s=!0),-1===i&&-1===this.focusedItemInfo().index&&(i=this.findFirstFocusedItemIndex()),-1!==i&&this.changeFocusedItemIndex(t,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}getProccessedItemLabel(t){return t?this.getItemLabel(t.item):void 0}getItemLabel(t){return this.getItemProp(t,"label")}onArrowDownKey(t){const r=this.visibleItems[this.focusedItemInfo().index];if(r&&ai.isEmpty(r.parent))this.isProccessedItemGroup(r)&&(this.onItemChange({originalEvent:t,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key,item:r.item}),this.onArrowRightKey(t));else{const s=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowRightKey(t){const r=this.visibleItems[this.focusedItemInfo().index];if(r&&this.activeItemPath().find(s=>s.key===r.parentKey))this.isProccessedItemGroup(r)&&(this.onItemChange({originalEvent:t,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key,item:r.item}),this.onArrowDownKey(t));else{const s=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowUpKey(t){const r=this.visibleItems[this.focusedItemInfo().index];if(ai.isEmpty(r.parent)){if(this.isProccessedItemGroup(r)){this.onItemChange({originalEvent:t,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key,item:r.item});const o=this.findLastItemIndex();this.changeFocusedItemIndex(t,o)}}else{const s=this.activeItemPath().find(o=>o.key===r.parentKey);if(0===this.focusedItemInfo().index){this.focusedItemInfo.set({index:-1,parentKey:s?s.parentKey:"",item:r.item}),this.searchValue="",this.onArrowLeftKey(t);const o=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(o)}else{const o=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,o)}}t.preventDefault()}onArrowLeftKey(t){const r=this.visibleItems[this.focusedItemInfo().index],i=r?this.activeItemPath().find(s=>s.key===r.parentKey):null;if(i){this.onItemChange({originalEvent:t,processedItem:i});const s=this.activeItemPath().filter(o=>o.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),t.preventDefault()}else{const s=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onHomeKey(t){this.changeFocusedItemIndex(t,this.findFirstItemIndex()),t.preventDefault()}onEndKey(t){this.changeFocusedItemIndex(t,this.findLastItemIndex()),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onEscapeKey(t){this.hide(t,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),t.preventDefault()}onTabKey(t){if(-1!==this.focusedItemInfo().index){const r=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(r)&&this.onItemChange({originalEvent:t,processedItem:r})}this.hide()}onEnterKey(t){if(-1!==this.focusedItemInfo().index){const r=ut.findSingle(this.rootmenu.el.nativeElement,`li[id="${this.focusedItemId}"]`),i=r&&ut.findSingle(r,'a[data-pc-section="action"]');i?i.click():r&&r.click();const s=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(s)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}t.preventDefault()}findLastFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findLastItemIndex():t}findLastItemIndex(){return ai.findLastIndex(this.visibleItems,t=>this.isValidItem(t))}findPrevItemIndex(t){const r=t>0?ai.findLastIndex(this.visibleItems.slice(0,t),i=>this.isValidItem(i)):-1;return r>-1?r:t}findNextItemIndex(t){const r=t<this.visibleItems.length-1?this.visibleItems.slice(t+1).findIndex(i=>this.isValidItem(i)):-1;return r>-1?r+t+1:t}bindResizeListener(){kf(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",t=>{ut.isTouchDevice()||this.hide(t,!0),this.mobileActive=!1})))}bindOutsideClickListener(){kf(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",t=>{const r=this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target),i=this.mobileActive&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target);r&&(i?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener()}static \u0275fac=function(r){return new(r||n)(ie(Wi),ie(bs),ie(ri),ie(Cs),ie(hc),ie(kb),ie(MP))};static \u0275cmp=Ir({type:n,selectors:[["p-menubar"]],contentQueries:function(r,i,s){if(1&r&&ov(s,Lb,4),2&r){let o;ul(o=cl())&&(i.templates=o)}},viewQuery:function(r,i){if(1&r&&(Pf(iie,5),Pf(sie,5)),2&r){let s;ul(s=cl())&&(i.menubutton=s.first),ul(s=cl())&&(i.rootmenu=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",autoHide:"autoHide",autoHideDelay:"autoHideDelay",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[hr([MP])],ngContentSelectors:mie,decls:8,vars:24,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","role","button","class","p-menubar-button",3,"click","keydown",4,"ngIf"],[3,"items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","ariaLabel","ariaLabelledBy","focusedItemId","activeItemPath","itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",1,"p-menubar-button",3,"click","keydown"],["menubutton",""],[4,"ngIf"],[1,"p-menubar-end"]],template:function(r,i){if(1&r&&(H0(),le(0,"div",0),De(1,aie,2,1,"div",1),De(2,die,4,7,"a",2),le(3,"p-menubarSub",3,4),it("itemClick",function(o){return i.onItemClick(o)})("menuFocus",function(o){return i.onMenuFocus(o)})("menuBlur",function(o){return i.onMenuBlur(o)})("menuKeydown",function(o){return i.onKeyDown(o)})("itemMouseEnter",function(o){return i.onItemMouseEnter(o)}),_e(),De(5,fie,2,1,"div",5),De(6,pie,2,0,"ng-template",null,6,X0),_e()),2&r){const s=nl(7);Fa(i.styleClass),ue("ngClass",rv(22,gie,i.mobileActive))("ngStyle",i.style),$t("data-pc-section","root")("data-pc-name","menubar"),be(1),ue("ngIf",i.startTemplate),be(1),ue("ngIf",i.model&&i.model.length>0),be(1),ue("items",i.processedItems)("itemTemplate",i.itemTemplate)("menuId",i.id)("root",!0)("baseZIndex",i.baseZIndex)("autoZIndex",i.autoZIndex)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)("ariaLabel",i.ariaLabel)("ariaLabelledBy",i.ariaLabelledBy)("focusedItemId",i.focused?i.focusedItemId:void 0)("activeItemPath",i.activeItemPath()),be(2),ue("ngIf",i.endTemplate)("ngIfElse",s)}},dependencies:function(){return[um,mc,fv,hv,w6,_ie]},styles:["@layer primeng{.p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-menubar .p-menubar-root-list .p-icon-wrapper,.p-menubar .p-submenu-list .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}}\n"],encapsulation:2,changeDetection:0})}return n})(),vie=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({imports:[su,zw,PP,b6,lh,w6,I6,E6,zw,b6,lh]})}return n})(),Iie=(()=>{class n{el;ngModel;cd;filled;constructor(t,r,i){this.el=t,this.ngModel=r,this.cd=i}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(r){return new(r||n)(ie(ri),ie(fp,8),ie(hc))};static \u0275dir=st({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(r,i){1&r&&it("input",function(o){return i.onInput(o)}),2&r&&Qy("p-filled",i.filled)}})}return n})(),Eie=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({imports:[su]})}return n})();class S6{}class wie{}const Rc="*";function Tie(n,e){return{type:7,name:n,definitions:e,options:{}}}function A6(n,e=null){return{type:4,styles:e,timings:n}}function D6(n,e=null){return{type:2,steps:n,options:e}}function tE(n){return{type:6,styles:n,offset:null}}function OP(n,e,t){return{type:0,name:n,styles:e,options:t}}function R6(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class nE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class x6{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let P6=(()=>{class n extends y_{static \u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static \u0275cmp=Ir({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[_n,cc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){1&r&&(Ho(),le(0,"svg",0),_t(1,"path",1),_e()),2&r&&(Fa(i.getClassNames()),$t("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();function bie(n,e){1&n&&Ky(0)}function Cie(n,e){1&n&&_t(0,"TimesIcon",8),2&n&&ue("styleClass","p-overlaypanel-close-icon")}function Sie(n,e){}function Aie(n,e){1&n&&De(0,Sie,0,0,"ng-template")}function Die(n,e){if(1&n&&(le(0,"span",9),De(1,Aie,1,0,null,3),_e()),2&n){const t=ae(3);be(1),ue("ngTemplateOutlet",t.closeIconTemplate)}}function Rie(n,e){if(1&n){const t=Nn();le(0,"button",5),it("click",function(i){return ot(t),dt(ae(2).onCloseClick(i))})("keydown.enter",function(){return ot(t),dt(ae(2).hide())}),De(1,Cie,1,1,"TimesIcon",6),De(2,Die,2,1,"span",7),_e()}if(2&n){const t=ae(2);$t("aria-label",t.ariaCloseLabel),be(1),ue("ngIf",!t.closeIconTemplate),be(1),ue("ngIf",t.closeIconTemplate)}}const xie=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},Pie=function(n,e){return{value:n,params:e}};function Mie(n,e){if(1&n){const t=Nn();le(0,"div",1),it("click",function(i){return ot(t),dt(ae().onOverlayClick(i))})("@animation.start",function(i){return ot(t),dt(ae().onAnimationStart(i))})("@animation.done",function(i){return ot(t),dt(ae().onAnimationEnd(i))}),le(1,"div",2),it("click",function(){return ot(t),dt(ae().onContentClick())})("mousedown",function(){return ot(t),dt(ae().onContentClick())}),$0(2),De(3,bie,1,0,"ng-container",3),_e(),De(4,Rie,3,3,"button",4),_e()}if(2&n){const t=ae();Fa(t.styleClass),ue("ngClass","p-overlaypanel p-component")("ngStyle",t.style)("@animation",Z0(11,Pie,t.overlayVisible?"open":"close",Z0(8,xie,t.showTransitionOptions,t.hideTransitionOptions))),$t("aria-modal",t.overlayVisible),be(3),ue("ngTemplateOutlet",t.contentTemplate),be(1),ue("ngIf",t.showCloseIcon)}}const Oie=["*"];let Nie=(()=>{class n{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new We;onHide=new We;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(t,r,i,s,o,a,u,d){this.document=t,this.platformId=r,this.el=i,this.renderer=s,this.cd=o,this.zone=a,this.config=u,this.overlayService=d}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}this.cd.markForCheck()})}bindDocumentClickListener(){if(kf(this.platformId)&&!this.documentClickListener&&this.dismissable){let t=ut.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,t,i=>{!this.container?.contains(i.target)&&this.target!==i.target&&!this.target.contains(i.target)&&this.hide(),this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(t,r){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(t,r)&&(this.destroyCallback=()=>{this.show(null,r||t.currentTarget||t.target)}),this.hide()):this.show(t,r))}show(t,r){r&&t&&t.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=r||t.currentTarget||t.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(t,r){return null!=this.target&&this.target!==(r||t.currentTarget||t.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):ut.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&uh.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),ut.absolutePosition(this.container,this.target);const t=ut.getOffset(this.container),r=ut.getOffset(this.target),i=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let s=0;t.left<r.left&&(s=r.left-t.left-2*parseFloat(i)),this.container?.style.setProperty("--overlayArrowLeft",`${s}px`),t.top<r.top&&(ut.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(t){"open"===t.toState&&(this.container=t.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=r=>{this.container&&this.container.contains(r.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(t){switch(t.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&uh.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let t=ut.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(t){this.hide(),t.preventDefault()}onEscapeKeydown(t){this.hide()}onWindowResize(){this.overlayVisible&&!ut.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){kf(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){kf(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new v6(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&uh.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)(ie(Wi),ie(bs),ie(ri),ie(Cs),ie(hc),ie(ht),ie(kb),ie(nre))};static \u0275cmp=Ir({type:n,selectors:[["p-overlayPanel"]],contentQueries:function(r,i,s){if(1&r&&ov(s,Lb,4),2&r){let o;ul(o=cl())&&(i.templates=o)}},hostAttrs:[1,"p-element"],hostBindings:function(r,i){1&r&&it("keydown.escape",function(o){return i.onEscapeKeydown(o)},0,VS)},inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:Oie,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(r,i){1&r&&(H0(),De(0,Mie,5,14,"div",0)),2&r&&ue("ngIf",i.render)},dependencies:function(){return[um,mc,fv,hv,T6,P6]},styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[Tie("animation",[OP("void",tE({transform:"scaleY(0.8)",opacity:0})),OP("close",tE({opacity:0})),OP("open",tE({transform:"translateY(0)",opacity:1})),R6("void => open",A6("{{showTransitionParams}}")),R6("open => close",A6("{{hideTransitionParams}}"))])]},changeDetection:0})}return n})(),kie=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({imports:[su,PP,lh,P6,lh]})}return n})();function Lie(n,e){if(1&n){const t=Nn();_t(0,"i",15),le(1,"span",16),xt(2,"TasksBoard"),_e(),le(3,"span",17),_t(4,"i",18),le(5,"input",19),it("ngModelChange",function(i){return ot(t),dt(ae().searchValue=i)})("input",function(){return ot(t),dt(ae().onEnterSearch())}),_e()()}if(2&n){const t=ae();be(5),ue("ngModel",t.searchValue)}}function Fie(n,e){if(1&n){const t=Nn();le(0,"i",28),it("click",function(){return ot(t),dt(ae(2).darkMode())}),_e()}}function Vie(n,e){if(1&n){const t=Nn();le(0,"i",29),it("click",function(){return ot(t),dt(ae(2).darkMode())}),_e()}}function Uie(n,e){if(1&n){const t=Nn();le(0,"i",30),it("click",function(i){return ot(t),ae(),dt(nl(4).toggle(i))}),_e()}}function Bie(n,e){if(1&n){const t=Nn();le(0,"img",31),it("click",function(i){return ot(t),ae(),dt(nl(4).toggle(i))}),_e()}2&n&&ue("src",ae(2).photoURL,Dg)}function Hie(n,e){if(1&n){const t=Nn();le(0,"div",20),De(1,Fie,1,0,"i",21),De(2,Vie,1,0,"i",22),le(3,"p-overlayPanel",null,23)(5,"span",8),it("click",function(){return ot(t),dt(ae().logout())}),_t(6,"i",24),xt(7," Sign Out"),_e(),le(8,"span",8),it("click",function(){return ot(t),dt(ae().switchAccount())}),_t(9,"i",25),xt(10," Switch Account"),_e()(),De(11,Uie,1,0,"i",26),De(12,Bie,1,1,"img",27),_e()}if(2&n){const t=ae();be(1),ue("ngIf",!t.mode),be(1),ue("ngIf",t.mode),be(9),ue("ngIf",null==t.photoURL),be(1),ue("ngIf",null!=t.photoURL)}}function $ie(n,e){if(1&n&&(le(0,"span",0),xt(1),_e()),2&n){const t=ae();ue("ngClass",t.mode?"main-board-dark":"main-board"),be(1),iu(t.mainBoard)}}function jie(n,e){if(1&n){const t=Nn();le(0,"div")(1,"input",32),it("ngModelChange",function(i){return ot(t),dt(ae().mainBoardName=i)})("keyup.enter",function(){return ot(t),dt(ae().onEnterMainBoard())}),_e()()}if(2&n){const t=ae();be(1),ue("ngModel",t.mainBoardName)}}function zie(n,e){if(1&n&&(le(0,"label",50),xt(1),_e()),2&n){const t=ae(2).$implicit;be(1),Df(" ",t.name," ")}}function qie(n,e){if(1&n){const t=Nn();le(0,"div")(1,"input",32),it("ngModelChange",function(i){return ot(t),dt(ae(4).taskLabelName=i)})("keyup.enter",function(){ot(t);const i=ae(2).$implicit;return dt(ae(2).onEnterCardLabel(i.id))}),_e()()}if(2&n){const t=ae(4);be(1),ue("ngModel",t.taskLabelName)}}function Gie(n,e){if(1&n){const t=Nn();le(0,"input",51),it("ngModelChange",function(i){return ot(t),dt(ae(4).addedTodo=i)})("keyup.enter",function(){ot(t);const i=ae(2).$implicit;return dt(ae(2).onEnterTodo(i.id))}),_e()}2&n&&ue("ngModel",ae(4).addedTodo)}function Wie(n,e){if(1&n){const t=Nn();le(0,"p-checkbox",58),it("mouseover",function(){return ot(t),dt(ae(6).checkHover=!1)})("mouseout",function(){return ot(t),dt(ae(6).checkHover=!0)})("click",function(){ot(t);const i=ae(2).$implicit;return dt(ae(4).onCheckboxClick(i))}),_e()}2&n&&ue("inputId",ae(2).$implicit.key)}function Kie(n,e){if(1&n){const t=Nn();le(0,"i",59),it("mouseover",function(){return ot(t),dt(ae(6).checkHover=!0)})("mouseout",function(){return ot(t),dt(ae(6).checkHover=!1)}),_e()}}function Zie(n,e){if(1&n&&(le(0,"div",54),De(1,Wie,1,1,"p-checkbox",55),De(2,Kie,1,0,"i",56),le(3,"label",57),xt(4),_e()()),2&n){const t=ae().$implicit,r=ae(4);be(1),ue("ngIf",!r.checkHover),be(1),ue("ngIf",r.checkHover),be(1),ue("for",t.key),be(1),iu(t.name)}}function Qie(n,e){if(1&n&&(le(0,"div",52),De(1,Zie,5,4,"div",53),_e()),2&n){const t=e.$implicit,r=ae(2).$implicit;be(1),ue("ngIf",!t.deleted&&!t.completed&&t.id===r.id)}}function Yie(n,e){1&n&&(le(0,"div")(1,"span",60),xt(2,"Completed"),_e()())}function Jie(n,e){if(1&n){const t=Nn();le(0,"div",61)(1,"span",60),xt(2),_e(),le(3,"button",62),it("click",function(){ot(t);const i=ae(2).$implicit;return dt(ae(2).toggleForCompletedList(i.id))}),_e()()}if(2&n){const t=ae(2).$implicit,r=ae(2);be(2),Df("Completed(",r.completedTodosCountObj[t.id],")"),be(1),ue("textContent",r.isCompletedListOpen.includes(t.id)?"\u039b":"V")}}function Xie(n,e){if(1&n){const t=Nn();le(0,"button",70),it("click",function(){ot(t);const i=ae(2).$implicit;return dt(ae(5).deleteCompleteList(i))}),_t(1,"i",71),_e()}}function ese(n,e){if(1&n&&(le(0,"div",65)(1,"div",66),_t(2,"i",67),le(3,"label",68),xt(4),_e()(),De(5,Xie,2,0,"button",69),_e()),2&n){const t=ae().$implicit,r=ae(3).$implicit;be(4),iu(t.name),be(1),ue("ngIf",!t.deleted&&t.completed&&t.id===r.id)}}function tse(n,e){if(1&n&&(le(0,"div",52),De(1,ese,6,2,"div",64),_e()),2&n){const t=e.$implicit,r=ae(3).$implicit;be(1),ue("ngIf",!t.deleted&&t.completed&&t.id===r.id)}}function nse(n,e){if(1&n&&(le(0,"div",63),De(1,tse,2,1,"div",47),_e()),2&n){const t=ae(4);be(1),ue("ngForOf",t.todos)}}function rse(n,e){if(1&n){const t=Nn();le(0,"div")(1,"div",35)(2,"div",36),De(3,zie,2,1,"label",37),De(4,qie,2,1,"div",5),le(5,"div",38)(6,"p-overlayPanel",null,39)(8,"span",8),it("click",function(){ot(t);const i=ae().$implicit;return dt(ae(2).menuItemClicked("delete",i))}),_t(9,"i",40),xt(10," Delete"),_e(),le(11,"span",8),it("click",function(){ot(t);const i=ae().$implicit;return dt(ae(2).menuItemClicked("edit",i))}),_t(12,"i",41),xt(13," Edit"),_e()(),le(14,"i",42),it("click",function(i){return ot(t),dt(nl(7).toggle(i))}),_e()()(),le(15,"div",43),it("mouseover",function(){ot(t);const i=ae().$implicit;return dt(ae(2).hoverOnAddTaskMtd(i))})("mouseout",function(){ot(t);const i=ae().$implicit;return dt(ae(2).hoverOnAddTaskMtd1(i))})("click",function(){ot(t);const i=ae().$implicit;return dt(ae(2).addTodo(i.id))}),_t(16,"i",44),xt(17," Add Task "),_e(),le(18,"div",45),De(19,Gie,1,1,"input",46),De(20,Qie,2,1,"div",47),_e(),De(21,Yie,3,0,"div",5),De(22,Jie,4,2,"div",48),De(23,nse,2,1,"div",49),_e()()}if(2&n){const t=ae().$implicit,r=ae(2);be(3),ue("ngIf",r.editTaskLabel!=t.id),be(1),ue("ngIf",r.editTaskLabel===t.id),be(12),ue("ngClass",t.sty?"add-icon-hover":"add-icon"),be(3),ue("ngIf",r.isAddTodo===t.id),be(1),ue("ngForOf",r.todos),be(1),ue("ngIf",r.completedTodosCountObj&&!r.completedTodosCountObj.hasOwnProperty(t.id)),be(1),ue("ngIf",r.completedTodosCountObj&&r.completedTodosCountObj[t.id]&&0!=r.completedTodosCountObj[t.id]),be(1),ue("ngIf",r.isCompletedListOpen.includes(t.id))}}function ise(n,e){if(1&n&&(le(0,"div"),De(1,rse,24,8,"div",5),_e()),2&n){const t=e.$implicit;be(1),ue("ngIf",!t.deleted)}}function sse(n,e){if(1&n&&(le(0,"div",33),De(1,ise,2,1,"div",34),_e()),2&n){const t=ae();be(1),ue("ngForOf",t.tasks)}}function ose(n,e){if(1&n){const t=Nn();le(0,"p",72),it("click",function(){return ot(t),dt(ae().addTasksIcon())}),_t(1,"i",73),xt(2," Add new list"),_e()}}function ase(n,e){if(1&n){const t=Nn();le(0,"div",74)(1,"span",75)(2,"i",76),it("click",function(){return ot(t),dt(ae().plusIconBtn())}),_e(),le(3,"input",77),it("ngModelChange",function(i){return ot(t),dt(ae().addedTask=i)})("keyup.enter",function(){return ot(t),dt(ae().onEnterTask())}),_e()()()}if(2&n){const t=ae();be(3),ue("ngModel",t.addedTask)}}const lse=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",component:(()=>{class n{constructor(t,r){this.tasksService=t,this.authService=r,this.menuOpen=!1,this.errorMsg="API failing",this.showProfileOptions=!1,this.addedTask="",this.addedTodo="",this.isCompletedListOpen=[],this.isAddTodo="",this.todos=[],this.todosFix=[],this.tasksFix=[],this.addTasksInput=!1,this.isMenuOpen="",this.tasks=[],this.mode=!1,this.checkHover=!1,this.hoverOnAddTask=!1,this.editMainBoard=!1,this.mainBoard=""}ngOnInit(){this.authService.getUser().subscribe(t=>{t&&(this.photoURL=t.photoURL,t.uid&&""!=t.uid&&null!=t.uid&&(this.uid=t.uid,this.getLatestTasks(t.uid)))})}hoverOnAddTaskMtd(t){t.sty=!0}hoverOnAddTaskMtd1(t){t.sty=!1}onEnterSearch(){this.todos=this.todosFix.filter(r=>r.name.toLowerCase().includes(this.searchValue.toLowerCase()));const t=this.todos.map(r=>r.id);this.tasks=this.tasksFix.filter(r=>t.includes(r.id))}ngafterviewinit(){}darkMode(){this.mode?(this.mode=!1,this.tasksService.updateMode({mode:"light"},this.uid).subscribe(t=>{})):(this.mode=!0,this.tasksService.updateMode({mode:"dark"},this.uid).subscribe(t=>{}))}toggleProfileOptions(){this.showProfileOptions=!this.showProfileOptions}switchAccount(){this.authService.singInWithGoogle()}logout(){this.authService.signOut()}editBoard(){this.editMainBoard=!0,this.mainBoardName=this.mainBoard}onEnterMainBoard(){this.tasksService.updateMode({mainBoard:this.mainBoardName},this.uid).subscribe(t=>{this.editMainBoard=!1,this.getLatestTasks(this.uid)})}completedTodosCount(t){const r={};for(const i of t)if(!0===i.completed&&!1===i.deleted){const s=i.id;r[s]||(r[s]=0),r[s]++}return r}getLatestTasks(t){this.tasksService.getTasks(t).subscribe(r=>{r[0].todos&&(this.tasks=r[0].tasks,this.todos=r[0].todos,this.todosFix=(0,J5.cloneDeep)(this.todos),this.tasksFix=(0,J5.cloneDeep)(this.tasks),this.completedTodosCountObj=this.completedTodosCount(this.todos),this.mode="dark"==r[0].mode,this.mainBoard=r[0].mainBoard)})}addTasksIcon(){this.addTasksInput=!0,this.addedTask=""}plusIconBtn(){this.addTasksInput=!1,this.addedTask=""}onEnterTask(){""!=this.addedTask?(this.tasksModel=new bP,this.tasksModel.setModel(void 0,this.addedTask),this.tasksService.createTasks(this.tasksModel,this.uid).subscribe(t=>{this.getLatestTasks(this.uid),this.addedTask="",this.addTasksInput=!1})):alert("Please enter name of task")}onEnterCardLabel(t){""!=this.editTaskLabel?(this.tasksModel=new bP,this.tasksModel.setModel(t,this.taskLabelName),this.tasksService.patchTasks(this.uid,this.tasksModel).subscribe(r=>{this.getLatestTasks(this.uid),this.editTaskLabel=""})):alert("Please enter name of task")}ellipseMenu(t){this.isMenuOpen=this.isMenuOpen==t?"":t}menuItemClicked(t,r){if("delete"==t)this.tasksModel=new bP,this.tasksModel.setModel(r.id,r.name,!0),this.tasksService.patchTasks(this.uid,this.tasksModel).subscribe(i=>{this.isMenuOpen="",this.getLatestTasks(this.uid)});else if("edit"==t){this.editTaskLabel=r.id;let i=this.tasks.find(s=>s.id==s.id);this.taskLabelName=i.name,this.isMenuOpen=""}}addTodo(t){this.isAddTodo==t?this.isAddTodo="":(this.isAddTodo=t,this.addedTodo="")}onEnterTodo(t){""!=this.addedTodo?(this.todosModel=new TP,this.todosModel.setModel(t,this.addedTodo),this.tasksService.createTodo(this.uid,this.todosModel).subscribe(r=>{this.getLatestTasks(this.uid),this.addedTodo=""})):alert("Please enter name of todo")}onCheckboxClick(t){this.todosModel=new TP,this.todosModel.setModel(t.id,t.name,!0,t.deleted,t.todoId),this.tasksService.patchTodo(this.uid,this.todosModel).subscribe(r=>{this.getLatestTasks(this.uid)})}deleteCompleteList(t){this.todosModel=new TP,this.todosModel.setModel(t.id,t.name,t.completed,!0,t.todoId),this.tasksService.patchTodo(this.uid,this.todosModel).subscribe(r=>{this.getLatestTasks(this.uid)})}toggleForCompletedList(t){if(this.isCompletedListOpen.includes(t)){let r=this.isCompletedListOpen.findIndex(i=>i===t);this.isCompletedListOpen.splice(r,1)}else this.isCompletedListOpen.push(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(ere),ie(f_))};static#t=this.\u0275cmp=Ir({type:n,selectors:[["app-tasks"]],decls:20,vars:10,consts:[[3,"ngClass"],["pTemplate","start"],["pTemplate","end"],[1,"add-todo-action"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"add-todo-text"],["op1",""],[1,"menu-items",3,"click"],[1,"pi","pi-pencil"],[1,"pi","pi-ellipsis-v",3,"ngClass","click"],[1,"main-panel"],["class","cards-container",4,"ngIf"],["class","list-label",3,"click",4,"ngIf"],["class","custom-input-container",4,"ngIf"],[1,"pi","pi-th-large","mt-2"],[1,"ml-2","mr-8"],[1,"p-input-icon-left","searchIconBox"],[1,"pi","pi-search","searchIcon"],["type","text","pInputText","","placeholder","Search",1,"search",3,"ngModel","ngModelChange","input"],[1,"profile"],["class","pi pi-sun modeIcon",3,"click",4,"ngIf"],["class","pi pi-moon modeIcon",3,"click",4,"ngIf"],["op2",""],[1,"pi","pi-sign-out","mr-3"],[1,"pi","pi-user","mr-3"],["class","pi pi-user",3,"click",4,"ngIf"],["class","profile-img","alt","Profile Icon",3,"src","click",4,"ngIf"],[1,"pi","pi-sun","modeIcon",3,"click"],[1,"pi","pi-moon","modeIcon",3,"click"],[1,"pi","pi-user",3,"click"],["alt","Profile Icon",1,"profile-img",3,"src","click"],["type","text","pInputText","",1,"edit_Task",3,"ngModel","ngModelChange","keyup.enter"],[1,"cards-container"],[4,"ngFor","ngForOf"],[1,"card"],[1,"ellipse"],["class","taskLabel",4,"ngIf"],[1,"ellipse-card"],["op",""],[1,"pi","pi-trash"],[1,"pi","pi-file-edit"],[1,"pi","pi-ellipsis-v",2,"color","#495057",3,"click"],[1,"mb-2","add-button",3,"mouseover","mouseout","click"],[1,"pi","pi-plus",3,"ngClass"],[1,"todoIncompleted"],["type","text","class","add_Todo","pInputText","",3,"ngModel","ngModelChange","keyup.enter",4,"ngIf"],["class","field-checkbox",4,"ngFor","ngForOf"],["class","list-container",4,"ngIf"],["class","todoCompleted",4,"ngIf"],[1,"taskLabel"],["type","text","pInputText","",1,"add_Todo",3,"ngModel","ngModelChange","keyup.enter"],[1,"field-checkbox"],["class","checkIncompleted",4,"ngIf"],[1,"checkIncompleted"],["class","checkbox-icon",3,"inputId","mouseover","mouseout","click",4,"ngIf"],["class","pi pi-check checkHoverIcon",3,"mouseover","mouseout",4,"ngIf"],[1,"ml-2","mb-0",3,"for"],[1,"checkbox-icon",3,"inputId","mouseover","mouseout","click"],[1,"pi","pi-check","checkHoverIcon",3,"mouseover","mouseout"],[1,"completed-button"],[1,"list-container"],["type","button",1,"toggle-button",3,"textContent","click"],[1,"todoCompleted"],["class","check",4,"ngIf"],[1,"check"],[1,"check-icon"],[1,"pi","pi-check",2,"font-size","0.8rem","color","rgb(66, 133, 244)"],[1,"ml-2","mb-0"],["class","delete-button","type","button",3,"click",4,"ngIf"],["type","button",1,"delete-button",3,"click"],[1,"pi","pi-trash",2,"color","#495057"],[1,"list-label",3,"click"],[1,"pi","pi-plus",2,"font-size","0.6rem","color","rgb(115, 121, 125)"],[1,"custom-input-container"],[1,"p-input-icon-right"],[1,"pi","pi-plus","plusIcon",3,"click"],["type","text","pInputText","","placeholder","New Task",1,"add_Task",3,"ngModel","ngModelChange","keyup.enter"]],template:function(r,i){if(1&r){const s=Nn();le(0,"div",0)(1,"p-menubar",0),De(2,Lie,6,1,"ng-template",1),De(3,Hie,13,4,"ng-template",2),_e()(),le(4,"div",0)(5,"div",3),De(6,$ie,2,2,"span",4),De(7,jie,2,1,"div",5),le(8,"div",6)(9,"p-overlayPanel",null,7)(11,"span",8),it("click",function(){return i.editBoard()}),_t(12,"i",9),xt(13," Edit Board"),_e()(),le(14,"i",10),it("click",function(a){return ot(s),dt(nl(10).toggle(a))}),_e()()(),le(15,"div",11),De(16,sse,2,1,"div",12),le(17,"div",0),De(18,ose,3,0,"p",13),De(19,ase,4,1,"div",14),_e()()()}2&r&&(ue("ngClass",i.mode?"main-header-dark":"main-header"),be(1),ue("ngClass",i.mode?"header-dark":"header"),be(3),ue("ngClass",i.mode?"main-card-dark":"main-card"),be(2),ue("ngIf",!i.editMainBoard),be(1),ue("ngIf",i.editMainBoard),be(7),ue("ngClass",i.mode?"ellipse-dark":"ellipse"),be(2),ue("ngIf",i.tasks&&i.tasks.length>0),be(1),ue("ngClass",i.mode?"add-new-todo-card-dark":"add-new-todo-card"),be(1),ue("ngIf",!i.addTasksInput),be(1),ue("ngIf",i.addTasksInput))},dependencies:[um,oD,mc,hp,GI,fp,Lb,y6,yie,Iie,Nie],styles:['[_nghost-%COMP%]     .header .p-menubar{padding:.5rem;background:#fff;color:#495057;border:1px solid #dee2e6;border-radius:6px;height:45px}[_nghost-%COMP%]     .header-dark .p-menubar{padding:.5rem;background:#6c6c6c;color:#fff;border:1px solid #2e2e2e;border-radius:6px;height:45px}.searchIconBox[_ngcontent-%COMP%]{margin-left:285px}.taskBoradIcon-dark[_ngcontent-%COMP%], .taskBoradIcon[_ngcontent-%COMP%]{height:20px}.searchIcon[_ngcontent-%COMP%]{font-size:14px;margin-top:-6px}.modeIcon[_ngcontent-%COMP%]{margin-right:20px;padding:6px;border-radius:8px}.modeIcon[_ngcontent-%COMP%]:hover{background-color:gray;opacity:.5;transition:.3s}.search[_ngcontent-%COMP%]{width:450px;height:35px;background-color:#dee2e6;background:rgb(241,243,244);border:1px solid transparent;border-radius:8px;max-width:500px}.label_toggle[_ngcontent-%COMP%]{margin-right:25px;margin-top:10px;width:50px;height:20px;position:relative;display:block;background:#ebebeb;border-radius:200px;box-shadow:inset 0 5px 15px #0006,inset 0 -5px 15px #fff3;cursor:pointer}.label_toggle[_ngcontent-%COMP%]:after{content:"";width:20px;height:20px;top:0;left:0;position:absolute;background:linear-gradient(180deg,#ffcc89,#d39f51);border-radius:180px;box-shadow:0 5px 10px #0003}.input_toggle[_ngcontent-%COMP%]{width:0;height:0;visibility:hidden}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]{background:#242424}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]:after{left:50px;transform:translate(-100%);background:linear-gradient(180deg,#777,#3a3a3a)}.label_toggle[_ngcontent-%COMP%], .label_toggle[_ngcontent-%COMP%]:after{transition:.3s}.label_toggle[_ngcontent-%COMP%]:active:after{width:50px}.label_toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;width:13px;top:3px;z-index:100}.label_toggle[_ngcontent-%COMP%]   svg.sun[_ngcontent-%COMP%]{left:3px;fill:#fff;transition:.3s}.label_toggle[_ngcontent-%COMP%]   svg.moon[_ngcontent-%COMP%]{left:33px;fill:#7e7e7e;transition:.3s}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]   svg.sun[_ngcontent-%COMP%]{fill:#7e7e7e}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]   svg.moon[_ngcontent-%COMP%]{fill:#fff}.profile-img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:100px}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.profile-options[_ngcontent-%COMP%]{position:absolute;top:50px;right:10px;background-color:#fff;border:1px solid #ccc;border-radius:50px;box-shadow:0 2px 5px #0000001a;z-index:1}.profile-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.profile-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.profile-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;display:block}.profile-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.bxs-face[_ngcontent-%COMP%]{font-size:xx-large}.custom-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;width:270px}.custom-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}.ellipse[_ngcontent-%COMP%]{color:#495057}.ellipse-dark[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]{padding:10px;position:relative;display:flex;-webkit-box-align:center;justify-content:flex-start;height:auto;flex-direction:column;flex-shrink:0;width:270px;max-width:800px;max-height:calc(100vh - 114px);background:rgb(255,255,255);box-shadow:#a9aeb780 0 1px 2px;border-radius:8px;margin:10px;overflow:auto;border:solid 1px #fff;cursor:default!important}.add-new-todo-card[_ngcontent-%COMP%]{border-radius:8px;margin:10px;display:flex;flex-shrink:0;align-items:center;justify-content:center;min-height:52px;height:45px;width:270px;cursor:pointer;font-size:15px;line-height:15px;background:rgba(255,255,255,.5);color:#73797d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.add-new-todo-card-dark[_ngcontent-%COMP%]{border-radius:8px;margin:10px;display:flex;flex-shrink:0;align-items:center;justify-content:center;min-height:52px;height:45px;width:270px;cursor:pointer;font-size:15px;line-height:15px;background:#fff;color:#73797d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.list-label[_ngcontent-%COMP%]{font-size:14px;margin-top:16px;padding:19px 50px}.main-header-dark[_ngcontent-%COMP%]{background-color:#242424}.main-header[_ngcontent-%COMP%]{background-color:#f6f8f9}.main-card[_ngcontent-%COMP%]{background-color:#f6f8f9;height:calc(100vh - 45px)}.main-card-dark[_ngcontent-%COMP%]{background-color:#242424;height:calc(100vh - 45px)}[_nghost-%COMP%]     .checkbox-icon .p-checkbox .p-checkbox-box{border:2px solid #ced4da;background:#ffffff;width:18px;height:18px;color:#727272;margin-top:3px;border-radius:10px;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s}.toggle-button[_ngcontent-%COMP%]{border:none;color:#727272;background-color:transparent;font-size:small;margin-left:10px;display:flex;align-items:center}.completed-button[_ngcontent-%COMP%]{font-size:16;margin-top:2px;color:#727272;margin-right:140px}.list-container[_ngcontent-%COMP%]{display:flex;list-style:none;align-items:center;justify-content:space-between;margin-bottom:7px}.checkHoverIcon[_ngcontent-%COMP%]{font-size:13px;color:#4285f4}.check[_ngcontent-%COMP%]{display:flex;list-style:none;align-items:center;justify-content:space-between;padding:8px;margin-left:5px;transition:box-shadow .3s,transform .3s}.check[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a;transform:translateY(-4px)}.check-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.checkIncompleted[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 0;transition:box-shadow .3s,transform .3s}.checkIncompleted[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a;transform:translateY(-4px)}.delete-button[_ngcontent-%COMP%]{margin-left:10px;border:none;background-color:transparent;font-size:large;display:flex;align-items:center}.main-panel[_ngcontent-%COMP%]{display:flex}.cards-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-wrap:nowrap;justify-content:left;flex-direction:row;overflow-x:auto;overflow-y:hidden;margin-left:5px}@media (max-width: 576px){.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:left;flex-direction:row}}.add_Task[_ngcontent-%COMP%]{height:50px;width:270px;font-size:14px}.add_Todo[_ngcontent-%COMP%]{margin-bottom:13px;width:240px;height:30px}.main-board[_ngcontent-%COMP%]{font-size:18px;color:#727272}.main-board-dark[_ngcontent-%COMP%]{font-size:18px;color:#fff}.todoCompleted[_ngcontent-%COMP%]{overflow:auto}.todoIncompleted[_ngcontent-%COMP%]{overflow:auto;margin-bottom:7px}.add-button[_ngcontent-%COMP%]:hover{color:#4285f4}.add-button[_ngcontent-%COMP%]{color:gray}.add-icon[_ngcontent-%COMP%]{color:#4285f4;font-size:12px;padding:3px;margin-right:8px}.add-icon-hover[_ngcontent-%COMP%]{margin-right:10px;font-size:10px;padding:3px;color:#fff;background-color:#4285f4;border-radius:50px}.ellipse-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#4285f4;color:#fff;border:none;cursor:pointer}.add-todo[_ngcontent-%COMP%]{background-color:transparent;border:none}.add-todo-icon[_ngcontent-%COMP%]{color:#fff;margin-top:2px;margin-left:2px}.add-todo-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-left:15px;padding-top:5px}.add-todo-text[_ngcontent-%COMP%]{margin-right:10px}.plusIcon[_ngcontent-%COMP%]{font-size:15px;color:#4285f4;margin-right:8px;margin-top:-7px}.ellipse[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .checkIncompleted[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#727272}.taskLabel[_ngcontent-%COMP%]{font-size:large;color:#727272}.p-card-content[_ngcontent-%COMP%]{padding:0;margin:0}.menu-items[_ngcontent-%COMP%]{border:none;background-color:transparent;cursor:pointer;display:flex;align-items:center;color:#727272;font-size:13px;margin-bottom:5px}.edit_Task[_ngcontent-%COMP%]{height:30px;width:220px;margin-bottom:8px}.menu-items[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px;font-size:13px;color:#727272}.vertical-ellipse-button[_ngcontent-%COMP%]{margin-top:6px;margin-left:2.5px;color:#727272;font-size:20px}.bxs-plus-circle[_ngcontent-%COMP%]{color:#727272;font-size:30px}']})}return n})(),canActivate:[dne]},{path:"login",component:Ene},{path:"register",component:_ne},{path:"verify-email",component:hte},{path:"forgot-password",component:cne}];let use=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({imports:[zw.forRoot(lse),zw]})}return n})(),cse=(()=>{class n{constructor(){this.title="tasks"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ir({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&_t(0,"router-outlet")},dependencies:[VD]})}return n})();function M6(n){return new W(3e3,!1)}function ch(n){switch(n.length){case 0:return new nE;case 1:return n[0];default:return new x6(n)}}function O6(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const d=u.get("offset"),p=d==o,y=p&&a||new Map;u.forEach((I,w)=>{let R=w,M=I;if("offset"!==w)switch(R=n.normalizePropertyName(R,i),M){case"!":M=t.get(w);break;case Rc:M=r.get(w);break;default:M=n.normalizeStyleValue(w,R,M,i)}y.set(R,M)}),p||s.push(y),a=y,o=d}),i.length)throw function Ose(n){return new W(3502,!1)}();return s}function kP(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&LP(t,"start",n)));break;case"done":n.onDone(()=>r(t&&LP(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&LP(t,"destroy",n)))}}function LP(n,e,t){const s=FP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function FP(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function sa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function N6(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const qse=(()=>typeof document>"u"?null:document.documentElement)();function VP(n){const e=n.parentNode||n.host||null;return e===qse?null:e}let mp=null,k6=!1;function L6(n,e){for(;e;){if(e===n)return!0;e=VP(e)}return!1}function F6(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let V6=(()=>{class n{validateStyleProperty(t){return function Wse(n){mp||(mp=function Kse(){return typeof document<"u"?document.body:null}()||{},k6=!!mp.style&&"WebkitAppearance"in mp.style);let e=!0;return mp.style&&!function Gse(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in mp.style,!e&&k6&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in mp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return L6(t,r)}getParentElement(t){return VP(t)}query(t,r,i){return F6(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new nE(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})(),UP=(()=>{class n{static#e=this.NOOP=new V6}return n})();const Zse=1e3,BP="ng-enter",Fb="ng-leave",Vb="ng-trigger",Ub=".ng-trigger",B6="ng-animating",HP=".ng-animating";function xc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$P(parseFloat(e[1]),e[2])}function $P(n,e){return"s"===e?n*Zse:n}function Bb(n,e,t){return n.hasOwnProperty("duration")?n:function Yse(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(M6()),{duration:0,delay:0,easing:""};i=$P(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=$P(parseFloat(u),a[4]));const d=a[5];d&&(o=d)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function dse(){return new W(3100,!1)}()),a=!0),s<0&&(e.push(function hse(){return new W(3101,!1)}()),a=!0),a&&e.splice(u,0,M6())}return{duration:i,delay:s,easing:o}}(n,e,t)}function rE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function H6(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function dh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function vu(n,e,t){e.forEach((r,i)=>{const s=zP(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function _p(n,e){e.forEach((t,r)=>{const i=zP(r);n.style[i]=""})}function iE(n){return Array.isArray(n)?1==n.length?n[0]:D6(n):n}const jP=new RegExp("{{\\s*(.+?)\\s*}}","g");function j6(n){let e=[];if("string"==typeof n){let t;for(;t=jP.exec(n);)e.push(t[1]);jP.lastIndex=0}return e}function sE(n,e,t){const r=n.toString(),i=r.replace(jP,(s,o)=>{let a=e[o];return null==a&&(t.push(function pse(n){return new W(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Hb(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const eoe=/-+([a-z0-9])/g;function zP(n){return n.replace(eoe,(...e)=>e[1].toUpperCase())}function oa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gse(n){return new W(3004,!1)}()}}function z6(n,e){return window.getComputedStyle(n)[e]}const $b="*";function roe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ioe(n,e,t){if(":"==n[0]){const u=function soe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Rse(n){return new W(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Dse(n){return new W(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(q6(i,o));"<"==s[0]&&!(i==$b&&o==$b)&&e.push(q6(o,i))}(r,t,e)):t.push(n),t}const jb=new Set(["true","1"]),zb=new Set(["false","0"]);function q6(n,e){const t=jb.has(n)||zb.has(n),r=jb.has(e)||zb.has(e);return(i,s)=>{let o=n==$b||n==i,a=e==$b||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?jb.has(n):zb.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?jb.has(e):zb.has(e)),o&&a}}const ooe=new RegExp("s*:selfs*,?","g");function qP(n,e,t,r){return new aoe(n).build(e,t,r)}class aoe{constructor(e){this._driver=e}build(e,t,r){const i=new coe(t);return this._resetContextStyleTimingState(i),oa(this,iE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function _se(){return new W(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,d=u.name;d.toString().split(/\s*,\s*/).forEach(p=>{u.name=p,s.push(this.visitState(u,t))}),u.name=d}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function yse(){return new W(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{j6(u).forEach(d=>{o.hasOwnProperty(d)||s.add(d)})})}),s.size&&(Hb(s.values()),t.errors.push(function vse(n,e){return new W(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=oa(this,iE(e.animation),t);return{type:1,matchers:roe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:yp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>oa(this,r,t)),options:yp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=oa(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:yp(e.options)}}visitAnimate(e,t){const r=function hoe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return GP(Bb(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=GP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Bb(t,e);return GP(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:tE({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const d={};r.easing&&(d.easing=r.easing),o=tE(d)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Rc?r.push(a):t.errors.push(new W(3002,!1)):r.push(H6(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const d=t.collectedStyles.get(t.currentQuerySelector),p=d.get(u);let y=!0;p&&(s!=i&&s>=p.startTime&&i<=p.endTime&&(t.errors.push(function Ese(n,e,t,r,i){return new W(3010,!1)}()),y=!1),s=p.startTime),y&&d.set(u,{startTime:s,endTime:i}),t.options&&function Xse(n,e,t){const r=e.params||{},i=j6(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function fse(n){return new W(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function wse(){return new W(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,d=0;const p=e.steps.map(G=>{const $=this._makeStyleAst(G,t);let J=null!=$.offset?$.offset:function doe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}($.styles),he=0;return null!=J&&(s++,he=$.offset=J),u=u||he<0||he>1,a=a||he<d,d=he,o.push(he),$});u&&t.errors.push(function Tse(){return new W(3012,!1)}()),a&&t.errors.push(function bse(){return new W(3200,!1)}());const y=e.steps.length;let I=0;s>0&&s<y?t.errors.push(function Cse(){return new W(3202,!1)}()):0==s&&(I=1/(y-1));const w=y-1,R=t.currentTime,M=t.currentAnimateTimings,L=M.duration;return p.forEach((G,$)=>{const J=I>0?$==w?1:I*$:o[$],he=J*L;t.currentTime=R+M.delay+he,M.duration=he,this._validateStyleAst(G,t),G.offset=J,r.styles.push(G)}),r}visitReference(e,t){return{type:8,animation:oa(this,iE(e.animation),t),options:yp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:yp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:yp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function loe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ooe,"")),n=n.replace(/@\*/g,Ub).replace(/@\w+/g,t=>Ub+"-"+t.slice(1)).replace(/:animating/g,HP),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,sa(t.collectedStyles,t.currentQuerySelector,new Map);const a=oa(this,iE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:yp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Sse(){return new W(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Bb(e.timings,t.errors,!0);return{type:12,animation:oa(this,iE(e.animation),t),timings:r,options:null}}}class coe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yp(n){return n?(n=rE(n)).params&&(n.params=function uoe(n){return n?rE(n):null}(n.params)):n={},n}function GP(n,e,t){return{duration:n,delay:e,easing:t}}function WP(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class qb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const goe=new RegExp(":enter","g"),_oe=new RegExp(":leave","g");function KP(n,e,t,r,i,s=new Map,o=new Map,a,u,d=[]){return(new yoe).buildKeyframes(n,e,t,r,i,s,o,a,u,d)}class yoe{buildKeyframes(e,t,r,i,s,o,a,u,d,p=[]){d=d||new qb;const y=new ZP(e,t,d,i,s,p,[]);y.options=u;const I=u.delay?xc(u.delay):0;y.currentTimeline.delayNextStep(I),y.currentTimeline.setStyles([o],null,y.errors,u),oa(this,r,y);const w=y.timelines.filter(R=>R.containsAnimation());if(w.length&&a.size){let R;for(let M=w.length-1;M>=0;M--){const L=w[M];if(L.element===t){R=L;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([a],null,y.errors,u)}return w.length?w.map(R=>R.buildKeyframes()):[WP(t,[],[],[],0,I,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:xc(sE(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?xc(r.duration):null,a=null!=r.delay?xc(r.delay):null;return 0!==o&&e.forEach(u=>{const d=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,d.duration+d.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),oa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gb);const o=xc(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>oa(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?xc(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),oa(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Bb(t.params?sE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?xc(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gb);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((d,p)=>{t.currentQueryIndex=p;const y=t.createSubContext(e.options,d);s&&y.delayNextStep(s),d===t.element&&(u=y.currentTimeline),oa(this,e.animation,y),y.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,y.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const p=t.currentTimeline;u&&p.delayNextStep(u);const y=p.currentTime;oa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-y+(i.startTime-r.currentTimeline.startTime)}}const Gb={};class ZP{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Wb(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=xc(r.duration)),null!=r.delay&&(i.delay=xc(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=sE(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new ZP(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Gb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new voe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(goe,"."+this._enterClassName)).replace(_oe,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=r);0!==r&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),a.push(...d)}return!s&&0==a.length&&o.push(function Ase(n){return new W(3014,!1)}()),a}}class Wb{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Wb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Rc),this._currentKeyframe.set(t,Rc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Ioe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Rc)}else dh(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const d=sE(u,s,r);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Rc),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const d=dh(a,new Map,this._backFill);d.forEach((p,y)=>{"!"===p?e.add(y):p===Rc&&t.add(y)}),r||d.set("offset",u/this.duration),i.push(d)});const s=e.size?Hb(e.values()):[],o=t.size?Hb(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return WP(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class voe extends Wb{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=dh(e[0]);u.set("offset",0),s.push(u);const d=dh(e[0]);d.set("offset",K6(a)),s.push(d);const p=e.length-1;for(let y=1;y<=p;y++){let I=dh(e[y]);const w=I.get("offset");I.set("offset",K6((t+w*r)/o)),s.push(I)}r=o,t=0,i="",e=s}return WP(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function K6(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class QP{}const Eoe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class woe extends QP{normalizePropertyName(e,t){return zP(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Eoe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function mse(n,e){return new W(3005,!1)}())}return o+s}}function Z6(n,e,t,r,i,s,o,a,u,d,p,y,I){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:d,postStyleProps:p,totalTime:y,errors:I}}const YP={};class Q6{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Toe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,d,p){const y=[],I=this.ast.options&&this.ast.options.params||YP,R=this.buildStyles(r,a&&a.params||YP,y),M=u&&u.params||YP,L=this.buildStyles(i,M,y),G=new Set,$=new Map,J=new Map,he="void"===i,Re={params:boe(M,I),delay:this.ast.options?.delay},tt=p?[]:KP(e,t,this.ast.animation,s,o,R,L,Re,d,y);let Ot=0;if(tt.forEach(oo=>{Ot=Math.max(oo.duration+oo.delay,Ot)}),y.length)return Z6(t,this._triggerName,r,i,he,R,L,[],[],$,J,Ot,y);tt.forEach(oo=>{const Do=oo.element,Yb=sa($,Do,new Set);oo.preStyleProps.forEach(vp=>Yb.add(vp));const aE=sa(J,Do,new Set);oo.postStyleProps.forEach(vp=>aE.add(vp)),Do!==t&&G.add(Do)});const Xn=Hb(G.values());return Z6(t,this._triggerName,r,i,he,R,L,tt,Xn,$,J,Ot)}}function boe(n,e){const t=rE(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Coe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=rE(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=sE(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}}class Aoe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Coe(i.style,i.options&&i.options.params||{},r))}),Y6(this.states,"true","1"),Y6(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Q6(e,i,this.states))}),this.fallbackTransition=function Doe(n,e,t){return new Q6(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Y6(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Roe=new qb;class xoe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=qP(this._driver,t,r,[]);if(r.length)throw function Nse(n){return new W(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=O6(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=KP(this._driver,t,s,BP,Fb,new Map,new Map,r,Roe,i),o.forEach(p=>{const y=sa(a,p.element,new Map);p.postStyleProps.forEach(I=>y.set(I,null))})):(i.push(function kse(){return new W(3300,!1)}()),o=[]),i.length)throw function Lse(n){return new W(3504,!1)}();a.forEach((p,y)=>{p.forEach((I,w)=>{p.set(w,this._driver.computeStyle(y,w,Rc))})});const d=ch(o.map(p=>{const y=a.get(p.element);return this._buildPlayer(p,new Map,y)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Fse(n){return new W(3301,!1)}();return t}listen(e,t,r,i){const s=FP(t,"","","");return kP(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const J6="ng-animate-queued",JP="ng-animate-disabled",koe=[],X6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Loe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yl="__ng_removed";class XP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Boe(n){return n??null}(r?e.value:e),r){const s=rE(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const oE="void",eM=new XP(oE);class Foe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ja(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Vse(n,e){return new W(3302,!1)}();if(null==r||0==r.length)throw function Use(n){return new W(3303,!1)}();if(!function Hoe(n){return"start"==n||"done"==n}(r))throw function Bse(n,e){return new W(3400,!1)}();const s=sa(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=sa(this._engine.statesByElement,e,new Map);return a.has(t)||(ja(e,Vb),ja(e,Vb+"-"+t),a.set(t,eM)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Hse(n){return new W(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new tM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ja(e,Vb),ja(e,Vb+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const d=new XP(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),a.set(t,d),u||(u=eM),d.value!==oE&&u.value===d.value){if(!function zoe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,d.params)){const M=[],L=s.matchStyles(u.value,u.params,M),G=s.matchStyles(d.value,d.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{_p(e,L),vu(e,G)})}return}const I=sa(this._engine.playersByElement,e,[]);I.forEach(M=>{M.namespaceId==this.id&&M.triggerName==t&&M.queued&&M.destroy()});let w=s.matchTransition(u.value,d.value,e,d.params),R=!1;if(!w){if(!i)return;w=s.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:w,fromState:u,toState:d,player:o,isFallbackTransition:R}),R||(ja(e,J6),o.onStart(()=>{v_(e,J6)})),o.onDone(()=>{let M=this.players.indexOf(o);M>=0&&this.players.splice(M,1);const L=this._engine.playersByElement.get(e);if(L){let G=L.indexOf(o);G>=0&&L.splice(G,1)}}),this.players.push(o),I.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Ub,!0);r.forEach(i=>{if(i[yl])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,d)=>{if(o.set(d,u.value),this._triggers.has(d)){const p=this.trigger(e,d,oE,i);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&ch(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,d=r.get(o)||eM,p=new XP(oE),y=new tM(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:d,toState:p,player:y,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[yl];(!s||s===X6)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ja(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=FP(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,kP(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Voe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Foe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const d=r.indexOf(u);r.splice(d+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Kb(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Kb(t))return;const s=t[yl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ja(e,JP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),v_(e,JP))}removeNode(e,t,r){if(Kb(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[yl]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Kb(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Ub,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,HP,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ch(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[yl];if(t&&t.setForRemoval){if(e[yl]=X6,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(JP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ja(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ch(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function $se(n){return new W(3402,!1)}()}_flushAnimations(e,t){const r=new qb,i=[],s=new Map,o=[],a=new Map,u=new Map,d=new Map,p=new Set;this.disabledNodes.forEach(nt=>{p.add(nt);const yt=this.driver.query(nt,".ng-animate-queued",!0);for(let Pt=0;Pt<yt.length;Pt++)p.add(yt[Pt])});const y=this.bodyNode,I=Array.from(this.statesByElement.keys()),w=nH(I,this.collectedEnterElements),R=new Map;let M=0;w.forEach((nt,yt)=>{const Pt=BP+M++;R.set(yt,Pt),nt.forEach(Cn=>ja(Cn,Pt))});const L=[],G=new Set,$=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const yt=this.collectedLeaveElements[nt],Pt=yt[yl];Pt&&Pt.setForRemoval&&(L.push(yt),G.add(yt),Pt.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(Cn=>G.add(Cn)):$.add(yt))}const J=new Map,he=nH(I,Array.from(G));he.forEach((nt,yt)=>{const Pt=Fb+M++;J.set(yt,Pt),nt.forEach(Cn=>ja(Cn,Pt))}),e.push(()=>{w.forEach((nt,yt)=>{const Pt=R.get(yt);nt.forEach(Cn=>v_(Cn,Pt))}),he.forEach((nt,yt)=>{const Pt=J.get(yt);nt.forEach(Cn=>v_(Cn,Pt))}),L.forEach(nt=>{this.processLeaveNode(nt)})});const Re=[],tt=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(t).forEach(Pt=>{const Cn=Pt.player,Xi=Pt.element;if(Re.push(Cn),this.collectedEnterElements.length){const Ls=Xi[yl];if(Ls&&Ls.setForMove){if(Ls.previousTriggersValues&&Ls.previousTriggersValues.has(Pt.triggerName)){const Ip=Ls.previousTriggersValues.get(Pt.triggerName),za=this.statesByElement.get(Pt.element);if(za&&za.has(Pt.triggerName)){const Jb=za.get(Pt.triggerName);Jb.value=Ip,za.set(Pt.triggerName,Jb)}}return void Cn.destroy()}}const Iu=!y||!this.driver.containsElement(y,Xi),aa=J.get(Xi),hh=R.get(Xi),jr=this._buildInstruction(Pt,r,hh,aa,Iu);if(jr.errors&&jr.errors.length)return void tt.push(jr);if(Iu)return Cn.onStart(()=>_p(Xi,jr.fromStyles)),Cn.onDestroy(()=>vu(Xi,jr.toStyles)),void i.push(Cn);if(Pt.isFallbackTransition)return Cn.onStart(()=>_p(Xi,jr.fromStyles)),Cn.onDestroy(()=>vu(Xi,jr.toStyles)),void i.push(Cn);const fH=[];jr.timelines.forEach(Ls=>{Ls.stretchStartingKeyframe=!0,this.disabledNodes.has(Ls.element)||fH.push(Ls)}),jr.timelines=fH,r.append(Xi,jr.timelines),o.push({instruction:jr,player:Cn,element:Xi}),jr.queriedElements.forEach(Ls=>sa(a,Ls,[]).push(Cn)),jr.preStyleProps.forEach((Ls,Ip)=>{if(Ls.size){let za=u.get(Ip);za||u.set(Ip,za=new Set),Ls.forEach((Jb,iM)=>za.add(iM))}}),jr.postStyleProps.forEach((Ls,Ip)=>{let za=d.get(Ip);za||d.set(Ip,za=new Set),Ls.forEach((Jb,iM)=>za.add(iM))})});if(tt.length){const nt=[];tt.forEach(yt=>{nt.push(function jse(n,e){return new W(3505,!1)}())}),Re.forEach(yt=>yt.destroy()),this.reportError(nt)}const Ot=new Map,Xn=new Map;o.forEach(nt=>{const yt=nt.element;r.has(yt)&&(Xn.set(yt,yt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,Ot))}),i.forEach(nt=>{const yt=nt.element;this._getPreviousPlayers(yt,!1,nt.namespaceId,nt.triggerName,null).forEach(Cn=>{sa(Ot,yt,[]).push(Cn),Cn.destroy()})});const oo=L.filter(nt=>iH(nt,u,d)),Do=new Map;tH(Do,this.driver,$,d,Rc).forEach(nt=>{iH(nt,u,d)&&oo.push(nt)});const aE=new Map;w.forEach((nt,yt)=>{tH(aE,this.driver,new Set(nt),u,"!")}),oo.forEach(nt=>{const yt=Do.get(nt),Pt=aE.get(nt);Do.set(nt,new Map([...yt?.entries()??[],...Pt?.entries()??[]]))});const vp=[],dH=[],hH={};o.forEach(nt=>{const{element:yt,player:Pt,instruction:Cn}=nt;if(r.has(yt)){if(p.has(yt))return Pt.onDestroy(()=>vu(yt,Cn.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(Cn.totalTime),void i.push(Pt);let Xi=hH;if(Xn.size>1){let aa=yt;const hh=[];for(;aa=aa.parentNode;){const jr=Xn.get(aa);if(jr){Xi=jr;break}hh.push(aa)}hh.forEach(jr=>Xn.set(jr,Xi))}const Iu=this._buildAnimation(Pt.namespaceId,Cn,Ot,s,aE,Do);if(Pt.setRealPlayer(Iu),Xi===hH)vp.push(Pt);else{const aa=this.playersByElement.get(Xi);aa&&aa.length&&(Pt.parentPlayer=ch(aa)),i.push(Pt)}}else _p(yt,Cn.fromStyles),Pt.onDestroy(()=>vu(yt,Cn.toStyles)),dH.push(Pt),p.has(yt)&&i.push(Pt)}),dH.forEach(nt=>{const yt=s.get(nt.element);if(yt&&yt.length){const Pt=ch(yt);nt.setRealPlayer(Pt)}}),i.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<L.length;nt++){const yt=L[nt],Pt=yt[yl];if(v_(yt,Fb),Pt&&Pt.hasAnimation)continue;let Cn=[];if(a.size){let Iu=a.get(yt);Iu&&Iu.length&&Cn.push(...Iu);let aa=this.driver.query(yt,HP,!0);for(let hh=0;hh<aa.length;hh++){let jr=a.get(aa[hh]);jr&&jr.length&&Cn.push(...jr)}}const Xi=Cn.filter(Iu=>!Iu.destroyed);Xi.length?$oe(this,yt,Xi):this.processLeaveNode(yt)}return L.length=0,vp.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const yt=this.players.indexOf(nt);this.players.splice(yt,1)}),nt.play()}),vp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==oE;a.forEach(d=>{d.queued||!u&&d.triggerName!=i||o.push(d)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const d=u.element,p=d!==s,y=sa(r,d,[]);this._getPreviousPlayers(d,p,o,a,t.toState).forEach(w=>{const R=w.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),w.destroy(),y.push(w)})}_p(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,d=[],p=new Set,y=new Set,I=t.timelines.map(R=>{const M=R.element;p.add(M);const L=M[yl];if(L&&L.removedBeforeQueried)return new nE(R.duration,R.delay);const G=M!==u,$=function joe(n){const e=[];return rH(n,e),e}((r.get(M)||koe).map(Ot=>Ot.getRealPlayer())).filter(Ot=>!!Ot.element&&Ot.element===M),J=s.get(M),he=o.get(M),Re=O6(this._normalizer,R.keyframes,J,he),tt=this._buildPlayer(R,Re,$);if(R.subTimeline&&i&&y.add(M),G){const Ot=new tM(e,a,M);Ot.setRealPlayer(tt),d.push(Ot)}return tt});d.forEach(R=>{sa(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function Uoe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,R.element,R))}),p.forEach(R=>ja(R,B6));const w=ch(I);return w.onDestroy(()=>{p.forEach(R=>v_(R,B6)),vu(u,t.toStyles)}),y.forEach(R=>{sa(i,R,[]).push(w)}),w}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new nE(e.duration,e.delay)}}class tM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new nE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>kP(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Kb(n){return n&&1===n.nodeType}function eH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function tH(n,e,t,r,i){const s=[];t.forEach(u=>s.push(eH(u)));const o=[];r.forEach((u,d)=>{const p=new Map;u.forEach(y=>{const I=e.computeStyle(d,y,i);p.set(y,I),(!I||0==I.length)&&(d[yl]=Loe,o.push(d))}),n.set(d,p)});let a=0;return t.forEach(u=>eH(u,s[a++])),o}function nH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const d=a.parentNode;return u=t.has(d)?d:i.has(d)?1:o(d),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function ja(n,e){n.classList?.add(e)}function v_(n,e){n.classList?.remove(e)}function $oe(n,e,t){ch(t).onDone(()=>n.processLeaveNode(e))}function rH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof x6?rH(r.players,e):e.push(r)}}function iH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Zb{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Voe(e,t,r),this._timelineEngine=new xoe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],p=qP(this._driver,s,u,[]);if(u.length)throw function Mse(n,e){return new W(3404,!1)}();a=function Soe(n,e,t){return new Aoe(n,e,t)}(i,p,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=N6(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=N6(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Goe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&vu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vu(this._element,this._initialStyles),this._endStyles&&(vu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_p(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_p(this._element,this._endStyles),this._endStyles=null),vu(this._element,this._initialStyles),this._state=3)}}return n})();function nM(n){let e=null;return n.forEach((t,r)=>{(function Woe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class sH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:z6(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Koe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return L6(e,t)}getParentElement(e){return VP(e)}query(e,t,r){return F6(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const d=new Map,p=o.filter(w=>w instanceof sH);(function toe(n,e){return 0===n||0===e})(r,i)&&p.forEach(w=>{w.currentSnapshot.forEach((R,M)=>d.set(M,R))});let y=function Jse(n){return n.length?n[0]instanceof Map?n:n.map(e=>H6(e)):[]}(t).map(w=>dh(w));y=function noe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,z6(n,a)))}}return e}(e,y,d);const I=function qoe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=nM(e[0]),e.length>1&&(r=nM(e[e.length-1]))):e instanceof Map&&(t=nM(e)),t||r?new Goe(n,t,r):null}(e,y);return new sH(e,y,u,I)}}let Zoe=(()=>{class n extends S6{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:ki.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?D6(t):t;return oH(this._renderer,null,r,"register",[i]),new Qoe(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Cf),Te(Wi))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();class Qoe extends wie{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Yoe(this._id,e,t||{},this._renderer)}}class Yoe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return oH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const aH="@.disabled";let Joe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let p=this._rendererCache.get(s);return p||(p=new lH("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,p)),p}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=p=>{Array.isArray(p)?p.forEach(u):this.engine.registerTrigger(o,a,t,p.name,p)};return r.data.animation.forEach(u),new Xoe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Cf),Te(Zb),Te(ht))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();class lH{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==aH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Xoe extends lH{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==aH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function eae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function tae(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let nae=(()=>{class n extends Zb{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(Te(Wi),Te(UP),Te(QP),Te(Mf))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const uH=[{provide:S6,useClass:Zoe},{provide:QP,useFactory:function rae(){return new woe}},{provide:Zb,useClass:nae},{provide:Cf,useFactory:function iae(n,e,t){return new Joe(n,e,t)},deps:[yD,Zb,ht]}],rM=[{provide:UP,useFactory:()=>new Koe},{provide:I0,useValue:"BrowserAnimations"},...uH],cH=[{provide:UP,useClass:V6},{provide:I0,useValue:"NoopAnimations"},...uH];let sae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?cH:rM}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=On({type:n});static#n=this.\u0275inj=Mn({providers:rM,imports:[m2]})}return n})();const oae_firebase={apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"};let aae=(()=>{class n extends y_{pathId;ngOnInit(){this.pathId="url(#"+xP()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=Ue(n)))(i||n)}}();static \u0275cmp=Ir({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[_n,cc],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(Ho(),le(0,"svg",0)(1,"g"),_t(2,"path",1),_e(),le(3,"defs")(4,"clipPath",2),_t(5,"rect",3),_e()()()),2&r&&(Fa(i.getClassNames()),$t("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),be(1),$t("clip-path",i.pathId),be(3),ue("id",i.pathId))},encapsulation:2})}return n})(),yae=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({imports:[su,PP,lh,aae,lh]})}return n})(),Tae=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=Mn({imports:[su,lh]})}return n})(),bae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=On({type:n,bootstrap:[cse]});static#n=this.\u0275inj=Mn({imports:[m2,use,Kne,une,sae,Tae,wZ.initializeApp(oae_firebase),AZ,yae,yre,vie,Eie,kie]})}return n})();vG().bootstrapModule(bae).catch(n=>console.error(n))},990:function(li,er,ct){var O;li=ct.nmd(li),function(){var C,on="Expected a function",Sn="__lodash_hash_undefined__",de="__lodash_placeholder__",St=1/0,Rr=9007199254740991,te=4294967295,ge=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ce="[object Arguments]",xe="[object Array]",Ne="[object Boolean]",Je="[object Date]",Pn="[object Error]",yn="[object Function]",Kn="[object GeneratorFunction]",Tn="[object Map]",tr="[object Number]",ur="[object Object]",ps="[object Promise]",jt="[object RegExp]",xr="[object Set]",xi="[object String]",Pi="[object Symbol]",Pr="[object WeakMap]",Xr="[object ArrayBuffer]",zr="[object DataView]",Vr="[object Float32Array]",mn="[object Float64Array]",Ii="[object Int8Array]",nr="[object Int16Array]",qa="[object Int32Array]",Hn="[object Uint8Array]",Zn="[object Uint8ClampedArray]",gs="[object Uint16Array]",ms="[object Uint32Array]",Bs=/\b__p \+= '';/g,Ur=/\b(__p \+=) '' \+/g,Br=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ui=/&(?:amp|lt|gt|quot|#39);/g,Mi=/[&<>"']/g,vl=RegExp(ui.source),la=RegExp(Mi.source),Ga=/<%-([\s\S]+?)%>/g,uo=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/[\\^$.*+?()[\]{}|]/g,V=RegExp(b.source),oe=/^\s+/,$e=/\s/,ze=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mt=/\{\n\/\* \[wrapped with (.+)\] \*/,cn=/,? & /,Ve=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,An=/[()=,{}\[\]\/\s]/,Xe=/\\(\\)?/g,qr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ua=/\w*$/,Y=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,we=/^\[object .+?Constructor\]$/,Qe=/^0o[0-7]+$/i,Ut=/^(?:0|[1-9]\d*)$/,zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,W=/($^)/,yr=/['\n\r\u2028\u2029\\]/g,je="\\ud800-\\udfff",Pc="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Mc="\\u2700-\\u27bf",Oi="a-z\\xdf-\\xf6\\xf8-\\xff",fh="A-Z\\xc0-\\xd6\\xd8-\\xde",Ep="\\ufe0e\\ufe0f",E_="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",w_="["+je+"]",Tp="["+E_+"]",wu="["+Pc+"]",ph="\\d+",ci="["+Mc+"]",gt="["+Oi+"]",T_="[^"+je+E_+ph+Mc+Oi+fh+"]",Oc="\\ud83c[\\udffb-\\udfff]",He="[^"+je+"]",gh="(?:\\ud83c[\\udde6-\\uddff]){2}",Mn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ro="["+fh+"]",_h="(?:"+gt+"|"+T_+")",Il="(?:"+Ro+"|"+T_+")",El="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ka="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Nc="(?:"+wu+"|"+Oc+")?",Tu="["+Ep+"]?",bu=Tu+Nc+"(?:\\u200d(?:"+[He,gh,Mn].join("|")+")"+Tu+Nc+")*",Ni="(?:"+[ci,gh,Mn].join("|")+")"+bu,kc="(?:"+[He+wu+"?",wu,gh,Mn,w_].join("|")+")",vh=RegExp("['\u2019]","g"),Dn=RegExp(wu,"g"),bp=RegExp(Oc+"(?="+Oc+")|"+kc+bu,"g"),Cp=RegExp([Ro+"?"+gt+"+"+El+"(?="+[Tp,Ro,"$"].join("|")+")",Il+"+"+Ka+"(?="+[Tp,Ro+_h,"$"].join("|")+")",Ro+"?"+_h+"+"+El,Ro+"+"+Ka,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ph,Ni].join("|"),"g"),Ih=RegExp("[\\u200d"+je+Pc+Ep+"]"),Cu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Su=-1,$n={};$n[Vr]=$n[mn]=$n[Ii]=$n[nr]=$n[qa]=$n[Hn]=$n[Zn]=$n[gs]=$n[ms]=!0,$n[ce]=$n[xe]=$n[Xr]=$n[Ne]=$n[zr]=$n[Je]=$n[Pn]=$n[yn]=$n[Tn]=$n[tr]=$n[ur]=$n[jt]=$n[xr]=$n[xi]=$n[Pr]=!1;var vn={};vn[ce]=vn[xe]=vn[Xr]=vn[zr]=vn[Ne]=vn[Je]=vn[Vr]=vn[mn]=vn[Ii]=vn[nr]=vn[qa]=vn[Tn]=vn[tr]=vn[ur]=vn[jt]=vn[xr]=vn[xi]=vn[Pi]=vn[Hn]=vn[Zn]=vn[gs]=vn[ms]=!0,vn[Pn]=vn[yn]=vn[Pr]=!1;var Dp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lc=parseFloat,ts=parseInt,wl="object"==typeof global&&global&&global.Object===Object&&global,Fc="object"==typeof self&&self&&self.Object===Object&&self,Fn=wl||Fc||Function("return this")(),Rp=er&&!er.nodeType&&er,Za=Rp&&li&&!li.nodeType&&li,Eh=Za&&Za.exports===Rp,co=Eh&&wl.process,_s=function(){try{return Za&&Za.require&&Za.require("util").types||co&&co.binding&&co.binding("util")}catch{}}(),Hs=_s&&_s.isArrayBuffer,xp=_s&&_s.isDate,Te=_s&&_s.isMap,Au=_s&&_s.isRegExp,Me=_s&&_s.isSet,Du=_s&&_s.isTypedArray;function Ei(N,K,Z){switch(Z.length){case 0:return N.call(K);case 1:return N.call(K,Z[0]);case 2:return N.call(K,Z[0],Z[1]);case 3:return N.call(K,Z[0],Z[1],Z[2])}return N.apply(K,Z)}function xo(N,K,Z,ke){for(var It=-1,Et=null==N?0:N.length;++It<Et;){var Qn=N[It];K(ke,Qn,Z(Qn),N)}return ke}function $s(N,K){for(var Z=-1,ke=null==N?0:N.length;++Z<ke&&!1!==K(N[Z],Z,N););return N}function wh(N,K){for(var Z=null==N?0:N.length;Z--&&!1!==K(N[Z],Z,N););return N}function ho(N,K){for(var Z=-1,ke=null==N?0:N.length;++Z<ke;)if(!K(N[Z],Z,N))return!1;return!0}function vr(N,K){for(var Z=-1,ke=null==N?0:N.length,It=0,Et=[];++Z<ke;){var Qn=N[Z];K(Qn,Z,N)&&(Et[It++]=Qn)}return Et}function js(N,K){return!(null==N||!N.length)&&Mo(N,K,0)>-1}function ki(N,K,Z){for(var ke=-1,It=null==N?0:N.length;++ke<It;)if(Z(K,N[ke]))return!0;return!1}function hn(N,K){for(var Z=-1,ke=null==N?0:N.length,It=Array(ke);++Z<ke;)It[Z]=K(N[Z],Z,N);return It}function Gt(N,K){for(var Z=-1,ke=K.length,It=N.length;++Z<ke;)N[It+Z]=K[Z];return N}function Tl(N,K,Z,ke){var It=-1,Et=null==N?0:N.length;for(ke&&Et&&(Z=N[++It]);++It<Et;)Z=K(Z,N[It],It,N);return Z}function ca(N,K,Z,ke){var It=null==N?0:N.length;for(ke&&It&&(Z=N[--It]);It--;)Z=K(Z,N[It],It,N);return Z}function Ru(N,K){for(var Z=-1,ke=null==N?0:N.length;++Z<ke;)if(K(N[Z],Z,N))return!0;return!1}var xu=Ou("length");function Pu(N,K,Z){var ke;return Z(N,function(It,Et,Qn){if(K(It,Et,Qn))return ke=Et,!1}),ke}function di(N,K,Z,ke){for(var It=N.length,Et=Z+(ke?1:-1);ke?Et--:++Et<It;)if(K(N[Et],Et,N))return Et;return-1}function Mo(N,K,Z){return K==K?function nn(N,K,Z){for(var ke=Z-1,It=N.length;++ke<It;)if(N[ke]===K)return ke;return-1}(N,K,Z):di(N,Mu,Z)}function Pp(N,K,Z,ke){for(var It=Z-1,Et=N.length;++It<Et;)if(ke(N[It],K))return It;return-1}function Mu(N){return N!=N}function Oo(N,K){var Z=null==N?0:N.length;return Z?ku(N,K)/Z:NaN}function Ou(N){return function(K){return null==K?C:K[N]}}function Nu(N){return function(K){return null==N?C:N[K]}}function Mp(N,K,Z,ke,It){return It(N,function(Et,Qn,At){Z=ke?(ke=!1,Et):K(Z,Et,Qn,At)}),Z}function ku(N,K){for(var Z,ke=-1,It=N.length;++ke<It;){var Et=K(N[ke]);Et!==C&&(Z=Z===C?Et:Z+Et)}return Z}function Lu(N,K){for(var Z=-1,ke=Array(N);++Z<N;)ke[Z]=K(Z);return ke}function Uc(N){return N&&N.slice(0,Fi(N)+1).replace(oe,"")}function wi(N){return function(K){return N(K)}}function Fu(N,K){return hn(K,function(Z){return N[Z]})}function Cl(N,K){return N.has(K)}function Bc(N,K){for(var Z=-1,ke=N.length;++Z<ke&&Mo(K,N[Z],0)>-1;);return Z}function Vu(N,K){for(var Z=N.length;Z--&&Mo(K,N[Z],0)>-1;);return Z}var Op=Nu({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Th=Nu({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Np(N){return"\\"+Dp[N]}function Sl(N){return Ih.test(N)}function On(N){var K=-1,Z=Array(N.size);return N.forEach(function(ke,It){Z[++K]=[It,ke]}),Z}function Al(N,K){return function(Z){return N(K(Z))}}function zs(N,K){for(var Z=-1,ke=N.length,It=0,Et=[];++Z<ke;){var Qn=N[Z];(Qn===K||Qn===de)&&(N[Z]=de,Et[It++]=Z)}return Et}function st(N){var K=-1,Z=Array(N.size);return N.forEach(function(ke){Z[++K]=ke}),Z}function Mr(N){return Sl(N)?function kp(N){for(var K=bp.lastIndex=0;bp.test(N);)++K;return K}(N):xu(N)}function Gr(N){return Sl(N)?function Dl(N){return N.match(bp)||[]}(N):function Po(N){return N.split("")}(N)}function Fi(N){for(var K=N.length;K--&&$e.test(N.charAt(K)););return K}var $c=Nu({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),jn=function N(K){var l,Z=(K=null==K?Fn:jn.defaults(Fn.Object(),K,jn.pick(Fn,Sp))).Array,ke=K.Date,It=K.Error,Et=K.Function,Qn=K.Math,At=K.Object,ys=K.RegExp,Rl=K.String,et=K.TypeError,da=Z.prototype,qs=At.prototype,Vn=K["__core-js_shared__"],ha=Et.prototype.toString,rn=qs.hasOwnProperty,fo=0,fa=(l=/[^.]+$/.exec(Vn&&Vn.keys&&Vn.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",Uu=qs.toString,po=ha.call(At),No=Fn._,Bu=ys("^"+ha.call(rn).replace(b,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ko=Eh?K.Buffer:C,Rt=K.Symbol,Sh=K.Uint8Array,Lo=ko?ko.allocUnsafe:C,xl=Al(At.getPrototypeOf,At),Gs=At.create,Hu=qs.propertyIsEnumerable,Fo=da.splice,Pl=Rt?Rt.isConcatSpreadable:C,Er=Rt?Rt.iterator:C,$u=Rt?Rt.toStringTag:C,hi=function(){try{var l=Wl(At,"defineProperty");return l({},"",{}),l}catch{}}(),Vi=K.clearTimeout!==Fn.clearTimeout&&K.clearTimeout,ju=ke&&ke.now!==Fn.Date.now&&ke.now,Qa=K.setTimeout!==Fn.setTimeout&&K.setTimeout,Ya=Qn.ceil,ns=Qn.floor,zc=At.getOwnPropertySymbols,fE=ko?ko.isBuffer:C,S_=K.isFinite,Xb=da.join,pE=Al(At.keys,At),wr=Qn.max,Tr=Qn.min,Fp=ke.now,gE=K.parseInt,A_=Qn.random,mE=da.reverse,D_=Wl(K,"DataView"),qc=Wl(K,"Map"),Vp=Wl(K,"Promise"),Ja=Wl(K,"Set"),Ml=Wl(K,"WeakMap"),Gc=Wl(At,"create"),Ol=Ml&&new Ml,pa={},Up=oc(D_),_E=oc(qc),yE=oc(Vp),eC=oc(Ja),ga=oc(Ml),go=Rt?Rt.prototype:C,Nl=go?go.valueOf:C,Bp=go?go.toString:C;function S(l){if(kr(l)&&!kt(l)&&!(l instanceof Xt)){if(l instanceof fn)return l;if(rn.call(l,"__wrapped__"))return SE(l)}return new fn(l)}var rs=function(){function l(){}return function(c){if(!cr(c))return{};if(Gs)return Gs(c);l.prototype=c;var g=new l;return l.prototype=C,g}}();function Ti(){}function fn(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=C}function Xt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function ma(l){var c=-1,g=null==l?0:l.length;for(this.clear();++c<g;){var v=l[c];this.set(v[0],v[1])}}function fi(l){var c=-1,g=null==l?0:l.length;for(this.clear();++c<g;){var v=l[c];this.set(v[0],v[1])}}function ya(l){var c=-1,g=null==l?0:l.length;for(this.clear();++c<g;){var v=l[c];this.set(v[0],v[1])}}function va(l){var c=-1,g=null==l?0:l.length;for(this.__data__=new ya;++c<g;)this.add(l[c])}function mo(l){var c=this.__data__=new fi(l);this.size=c.size}function Kp(l,c){var g=kt(l),v=!g&&Jl(l),T=!g&&!v&&Xl(l),P=!g&&!v&&!T&&vd(l),k=g||v||T||P,B=k?Lu(l.length,Rl):[],z=B.length;for(var pe in l)(c||rn.call(l,pe))&&(!k||!("length"==pe||T&&("offset"==pe||"parent"==pe)||P&&("buffer"==pe||"byteLength"==pe||"byteOffset"==pe)||Zl(pe,z)))&&B.push(pe);return B}function Wu(l){var c=l.length;return c?l[Is(0,c-1)]:C}function N_(l,c){return sf(gi(l),Ia(c,0,l.length))}function Zp(l){return sf(gi(l))}function Mh(l,c,g){(g!==C&&!Ko(l[c],g)||g===C&&!(c in l))&&Vo(l,c,g)}function Qc(l,c,g){var v=l[c];(!rn.call(l,c)||!Ko(v,g)||g===C&&!(c in l))&&Vo(l,c,g)}function Yc(l,c){for(var g=l.length;g--;)if(Ko(l[g][0],c))return g;return-1}function Ui(l,c,g,v){return vs(l,function(T,P,k){c(v,T,g(T),k)}),v}function Oh(l,c){return l&&zo(c,Si(c),l)}function Vo(l,c,g){"__proto__"==c&&hi?hi(l,c,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[c]=g}function Ll(l,c){for(var g=-1,v=c.length,T=Z(v),P=null==l;++g<v;)T[g]=P?C:Rg(l,c[g]);return T}function Ia(l,c,g){return l==l&&(g!==C&&(l=l<=g?l:g),c!==C&&(l=l>=c?l:c)),l}function Bi(l,c,g,v,T,P){var k,B=1&c,z=2&c,pe=4&c;if(g&&(k=T?g(l,v,T,P):g(l)),k!==C)return k;if(!cr(l))return l;var me=kt(l);if(me){if(k=function sM(l){var c=l.length,g=new l.constructor(c);return c&&"string"==typeof l[0]&&rn.call(l,"index")&&(g.index=l.index,g.input=l.input),g}(l),!B)return gi(l,k)}else{var Se=$r(l),Pe=Se==yn||Se==Kn;if(Xl(l))return tg(l,B);if(Se==ur||Se==ce||Pe&&!T){if(k=z||Pe?{}:IE(l),!B)return z?function rg(l,c){return zo(l,rc(l),c)}(l,function k_(l,c){return l&&zo(c,Ys(c),l)}(k,l)):function ng(l,c){return zo(l,Kl(l),c)}(l,Oh(k,l))}else{if(!vn[Se])return T?l:{};k=function oM(l,c,g){var v=l.constructor;switch(c){case Xr:return Ul(l);case Ne:case Je:return new v(+l);case zr:return function id(l,c){var g=c?Ul(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}(l,g);case Vr:case mn:case Ii:case nr:case qa:case Hn:case Zn:case gs:case ms:return Jh(l,g);case Tn:return new v;case tr:case xi:return new v(l);case jt:return function Bl(l){var c=new l.constructor(l.source,ua.exec(l));return c.lastIndex=l.lastIndex,c}(l);case xr:return new v;case Pi:return function ec(l){return Nl?At(Nl.call(l)):{}}(l)}}(l,Se,B)}}P||(P=new mo);var Ye=P.get(l);if(Ye)return Ye;P.set(l,k),YC(l)?l.forEach(function(Tt){k.add(Bi(Tt,c,g,Tt,l,P))}):l0(l)&&l.forEach(function(Tt,tn){k.set(tn,Bi(Tt,c,g,tn,l,P))});var Qt=me?C:(pe?z?Pa:Gl:z?Ys:Si)(l);return $s(Qt||l,function(Tt,tn){Qt&&(Tt=l[tn=Tt]),Qc(k,tn,Bi(Tt,c,g,tn,l,P))}),k}function Jc(l,c,g){var v=g.length;if(null==l)return!v;for(l=At(l);v--;){var T=g[v],k=l[T];if(k===C&&!(T in l)||!(0,c[T])(k))return!1}return!0}function Ws(l,c,g){if("function"!=typeof l)throw new et(on);return Ci(function(){l.apply(C,g)},c)}function Ea(l,c,g,v){var T=-1,P=js,k=!0,B=l.length,z=[],pe=c.length;if(!B)return z;g&&(c=hn(c,wi(g))),v?(P=ki,k=!1):c.length>=200&&(P=Cl,k=!1,c=new va(c));e:for(;++T<B;){var me=l[T],Se=null==g?me:g(me);if(me=v||0!==me?me:0,k&&Se==Se){for(var Pe=pe;Pe--;)if(c[Pe]===Se)continue e;z.push(me)}else P(c,Se,v)||z.push(me)}return z}S.templateSettings={escape:Ga,evaluate:uo,interpolate:U,variable:"",imports:{_:S}},(S.prototype=Ti.prototype).constructor=S,(fn.prototype=rs(Ti.prototype)).constructor=fn,(Xt.prototype=rs(Ti.prototype)).constructor=Xt,ma.prototype.clear=function Ah(){this.__data__=Gc?Gc(null):{},this.size=0},ma.prototype.delete=function Kc(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c},ma.prototype.get=function $p(l){var c=this.__data__;if(Gc){var g=c[l];return g===Sn?C:g}return rn.call(c,l)?c[l]:C},ma.prototype.has=function qu(l){var c=this.__data__;return Gc?c[l]!==C:rn.call(c,l)},ma.prototype.set=function Dh(l,c){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=Gc&&c===C?Sn:c,this},fi.prototype.clear=function _a(){this.__data__=[],this.size=0},fi.prototype.delete=function kl(l){var c=this.__data__,g=Yc(c,l);return!(g<0||(g==c.length-1?c.pop():Fo.call(c,g,1),--this.size,0))},fi.prototype.get=function Zc(l){var c=this.__data__,g=Yc(c,l);return g<0?C:c[g][1]},fi.prototype.has=function R_(l){return Yc(this.__data__,l)>-1},fi.prototype.set=function jp(l,c){var g=this.__data__,v=Yc(g,l);return v<0?(++this.size,g.push([l,c])):g[v][1]=c,this},ya.prototype.clear=function Rh(){this.size=0,this.__data__={hash:new ma,map:new(qc||fi),string:new ma}},ya.prototype.delete=function zp(l){var c=Ma(this,l).delete(l);return this.size-=c?1:0,c},ya.prototype.get=function x_(l){return Ma(this,l).get(l)},ya.prototype.has=function qp(l){return Ma(this,l).has(l)},ya.prototype.set=function Gp(l,c){var g=Ma(this,l),v=g.size;return g.set(l,c),this.size+=g.size==v?0:1,this},va.prototype.add=va.prototype.push=function xh(l){return this.__data__.set(l,Sn),this},va.prototype.has=function Ph(l){return this.__data__.has(l)},mo.prototype.clear=function P_(){this.__data__=new fi,this.size=0},mo.prototype.delete=function Wp(l){var c=this.__data__,g=c.delete(l);return this.size=c.size,g},mo.prototype.get=function Gu(l){return this.__data__.get(l)},mo.prototype.has=function M_(l){return this.__data__.has(l)},mo.prototype.set=function O_(l,c){var g=this.__data__;if(g instanceof fi){var v=g.__data__;if(!qc||v.length<199)return v.push([l,c]),this.size=++g.size,this;g=this.__data__=new ya(v)}return g.set(l,c),this.size=g.size,this};var vs=ig(_o),bn=ig(Ku,!0);function kh(l,c){var g=!0;return vs(l,function(v,T,P){return g=!!c(v,T,P)}),g}function Uo(l,c,g){for(var v=-1,T=l.length;++v<T;){var P=l[v],k=c(P);if(null!=k&&(B===C?k==k&&!Qs(k):g(k,B)))var B=k,z=P}return z}function wa(l,c){var g=[];return vs(l,function(v,T,P){c(v,T,P)&&g.push(v)}),g}function Or(l,c,g,v,T){var P=-1,k=l.length;for(g||(g=lM),T||(T=[]);++P<k;){var B=l[P];c>0&&g(B)?c>1?Or(B,c-1,g,v,T):Gt(T,B):v||(T[T.length]=B)}return T}var Ta=sg(),$i=sg(!0);function _o(l,c){return l&&Ta(l,c,Si)}function Ku(l,c){return l&&$i(l,c,Si)}function Zu(l,c){return vr(c,function(g){return Na(l[g])})}function ji(l,c){for(var g=0,v=(c=$o(c,l)).length;null!=l&&g<v;)l=l[Oa(c[g++])];return g&&g==v?l:C}function Lh(l,c,g){var v=c(l);return kt(l)?v:Gt(v,g(l))}function ti(l){return null==l?l===C?"[object Undefined]":"[object Null]":$u&&$u in At(l)?function ag(l){var c=rn.call(l,$u),g=l[$u];try{l[$u]=C;var v=!0}catch{}var T=Uu.call(l);return v&&(c?l[$u]=g:delete l[$u]),T}(l):function lg(l){return Uu.call(l)}(l)}function Xc(l,c){return l>c}function ed(l,c){return null!=l&&rn.call(l,c)}function Qp(l,c){return null!=l&&c in At(l)}function pt(l,c,g){for(var v=g?ki:js,T=l[0].length,P=l.length,k=P,B=Z(P),z=1/0,pe=[];k--;){var me=l[k];k&&c&&(me=hn(me,wi(c))),z=Tr(me.length,z),B[k]=!g&&(c||T>=120&&me.length>=120)?new va(k&&me):C}me=l[0];var Se=-1,Pe=B[0];e:for(;++Se<T&&pe.length<z;){var Ye=me[Se],wt=c?c(Ye):Ye;if(Ye=g||0!==Ye?Ye:0,!(Pe?Cl(Pe,wt):v(pe,wt,g))){for(k=P;--k;){var Qt=B[k];if(!(Qt?Cl(Qt,wt):v(l[k],wt,g)))continue e}Pe&&Pe.push(wt),pe.push(Ye)}}return pe}function ba(l,c,g){var v=null==(l=bE(l,c=$o(c,l)))?l:l[Oa(ss(c))];return null==v?C:Ei(v,l,g)}function Jp(l){return kr(l)&&ti(l)==ce}function Ca(l,c,g,v,T){return l===c||(null==l||null==c||!kr(l)&&!kr(c)?l!=l&&c!=c:function Sa(l,c,g,v,T,P){var k=kt(l),B=kt(c),z=k?xe:$r(l),pe=B?xe:$r(c),me=(z=z==ce?ur:z)==ur,Se=(pe=pe==ce?ur:pe)==ur,Pe=z==pe;if(Pe&&Xl(l)){if(!Xl(c))return!1;k=!0,me=!1}if(Pe&&!me)return P||(P=new mo),k||vd(l)?ql(l,c,g,v,T,P):function Wo(l,c,g,v,T,P,k){switch(g){case zr:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case Xr:return!(l.byteLength!=c.byteLength||!P(new Sh(l),new Sh(c)));case Ne:case Je:case tr:return Ko(+l,+c);case Pn:return l.name==c.name&&l.message==c.message;case jt:case xi:return l==c+"";case Tn:var B=On;case xr:if(B||(B=st),l.size!=c.size&&!(1&v))return!1;var pe=k.get(l);if(pe)return pe==c;v|=2,k.set(l,c);var me=ql(B(l),B(c),v,T,P,k);return k.delete(l),me;case Pi:if(Nl)return Nl.call(l)==Nl.call(c)}return!1}(l,c,z,g,v,T,P);if(!(1&g)){var Ye=me&&rn.call(l,"__wrapped__"),wt=Se&&rn.call(c,"__wrapped__");if(Ye||wt){var Qt=Ye?l.value():l,Tt=wt?c.value():c;return P||(P=new mo),T(Qt,Tt,g,v,P)}}return!!Pe&&(P||(P=new mo),function og(l,c,g,v,T,P){var k=1&g,B=Gl(l),z=B.length;if(z!=Gl(c).length&&!k)return!1;for(var Se=z;Se--;){var Pe=B[Se];if(!(k?Pe in c:rn.call(c,Pe)))return!1}var Ye=P.get(l),wt=P.get(c);if(Ye&&wt)return Ye==c&&wt==l;var Qt=!0;P.set(l,c),P.set(c,l);for(var Tt=k;++Se<z;){var tn=l[Pe=B[Se]],We=c[Pe];if(v)var Ss=k?v(We,tn,Pe,c,l,P):v(tn,We,Pe,l,c,P);if(!(Ss===C?tn===We||T(tn,We,g,v,P):Ss)){Qt=!1;break}Tt||(Tt="constructor"==Pe)}if(Qt&&!Tt){var os=l.constructor,wo=c.constructor;os!=wo&&"constructor"in l&&"constructor"in c&&!("function"==typeof os&&os instanceof os&&"function"==typeof wo&&wo instanceof wo)&&(Qt=!1)}return P.delete(l),P.delete(c),Qt}(l,c,g,v,T,P))}(l,c,g,v,Ca,T))}function td(l,c,g,v){var T=g.length,P=T,k=!v;if(null==l)return!P;for(l=At(l);T--;){var B=g[T];if(k&&B[2]?B[1]!==l[B[0]]:!(B[0]in l))return!1}for(;++T<P;){var z=(B=g[T])[0],pe=l[z],me=B[1];if(k&&B[2]){if(pe===C&&!(z in l))return!1}else{var Se=new mo;if(v)var Pe=v(pe,me,z,l,c,Se);if(!(Pe===C?Ca(me,pe,3,v,Se):Pe))return!1}}return!0}function Uh(l){return!(!cr(l)||function tC(l){return!!fa&&fa in l}(l))&&(Na(l)?Bu:we).test(oc(l))}function en(l){return"function"==typeof l?l:null==l?_i:"object"==typeof l?kt(l)?is(l[0],l[1]):Fl(l):T0(l)}function ot(l){if(!nf(l))return pE(l);var c=[];for(var g in At(l))rn.call(l,g)&&"constructor"!=g&&c.push(g);return c}function br(l,c){return l<c}function Bh(l,c){var g=-1,v=Gi(l)?Z(l.length):[];return vs(l,function(T,P,k){v[++g]=c(T,P,k)}),v}function Fl(l){var c=tf(l);return 1==c.length&&c[0][2]?wE(c[0][0],c[0][1]):function(g){return g===l||td(g,l,c)}}function is(l,c){return EE(l)&&ud(c)?wE(Oa(l),c):function(g){var v=Rg(g,l);return v===C&&v===c?yy(g,l):Ca(c,v,3)}}function Vl(l,c,g,v,T){l!==c&&Ta(c,function(P,k){if(T||(T=new mo),cr(P))!function Qu(l,c,g,v,T,P,k){var B=G_(l,g),z=G_(c,g),pe=k.get(z);if(pe)Mh(l,g,pe);else{var me=P?P(B,z,g+"",l,c,k):C,Se=me===C;if(Se){var Pe=kt(z),Ye=!Pe&&Xl(z),wt=!Pe&&!Ye&&vd(z);me=z,Pe||Ye||wt?kt(B)?me=B:Yn(B)?me=gi(B):Ye?(Se=!1,me=tg(z,!0)):wt?(Se=!1,me=Jh(z,!0)):me=[]:Sg(z)||Jl(z)?(me=B,Jl(B)?me=tS(B):(!cr(B)||Na(B))&&(me=IE(z))):Se=!1}Se&&(k.set(z,me),T(me,z,v,P,k),k.delete(z)),Mh(l,g,me)}}(l,c,k,g,Vl,v,T);else{var B=v?v(G_(l,k),P,k+"",l,c,T):C;B===C&&(B=P),Mh(l,k,B)}},Ys)}function nd(l,c){var g=l.length;if(g)return Zl(c+=c<0?g:0,g)?l[c]:C}function Hh(l,c,g){c=c.length?hn(c,function(P){return kt(P)?function(k){return ji(k,1===P.length?P[0]:P)}:P}):[_i];var v=-1;return c=hn(c,wi(Ue())),function Vc(N,K){var Z=N.length;for(N.sort(K);Z--;)N[Z]=N[Z].value;return N}(Bh(l,function(P,k,B){return{criteria:hn(c,function(pe){return pe(P)}),index:++v,value:P}}),function(P,k){return function $_(l,c,g){for(var v=-1,T=l.criteria,P=c.criteria,k=T.length,B=g.length;++v<k;){var z=tc(T[v],P[v]);if(z)return v>=B?z:z*("desc"==g[v]?-1:1)}return l.index-c.index}(P,k,g)})}function Wr(l,c,g){for(var v=-1,T=c.length,P={};++v<T;){var k=c[v],B=ji(l,k);g(B,k)&&Xa(P,$o(k,l),B)}return P}function Yu(l,c,g,v){var T=v?Pp:Mo,P=-1,k=c.length,B=l;for(l===c&&(c=gi(c)),g&&(B=hn(l,wi(g)));++P<k;)for(var z=0,pe=c[P],me=g?g(pe):pe;(z=T(B,me,z,v))>-1;)B!==l&&Fo.call(B,z,1),Fo.call(l,z,1);return l}function Aa(l,c){for(var g=l?c.length:0,v=g-1;g--;){var T=c[g];if(g==v||T!==P){var P=T;Zl(T)?Fo.call(l,T,1):Kh(l,T)}}return l}function Is(l,c){return l+ns(A_()*(c-l+1))}function Ju(l,c){var g="";if(!l||c<1||c>Rr)return g;do{c%2&&(g+=l),(c=ns(c/2))&&(l+=l)}while(c);return g}function Ft(l,c){return rf(dd(l,c,_i),l+"")}function B_(l){return Wu(Eo(l))}function jh(l,c){var g=Eo(l);return sf(g,Ia(c,0,g.length))}function Xa(l,c,g,v){if(!cr(l))return l;for(var T=-1,P=(c=$o(c,l)).length,k=P-1,B=l;null!=B&&++T<P;){var z=Oa(c[T]),pe=g;if("__proto__"===z||"constructor"===z||"prototype"===z)return l;if(T!=k){var me=B[z];(pe=v?v(me,z,B):C)===C&&(pe=cr(me)?me:Zl(c[T+1])?[]:{})}Qc(B,z,pe),B=B[z]}return l}var Xu=Ol?function(l,c){return Ol.set(l,c),l}:_i,zh=hi?function(l,c){return hi(l,"toString",{configurable:!0,enumerable:!1,value:bf(c),writable:!0})}:_i;function H_(l){return sf(Eo(l))}function zi(l,c,g){var v=-1,T=l.length;c<0&&(c=-c>T?0:T+c),(g=g>T?T:g)<0&&(g+=T),T=c>g?0:g-c>>>0,c>>>=0;for(var P=Z(T);++v<T;)P[v]=l[v+c];return P}function qh(l,c){var g;return vs(l,function(v,T,P){return!(g=c(v,T,P))}),!!g}function Da(l,c,g){var v=0,T=null==l?v:l.length;if("number"==typeof c&&c==c&&T<=2147483647){for(;v<T;){var P=v+T>>>1,k=l[P];null!==k&&!Qs(k)&&(g?k<=c:k<c)?v=P+1:T=P}return T}return rd(l,c,_i,g)}function rd(l,c,g,v){var T=0,P=null==l?0:l.length;if(0===P)return 0;for(var k=(c=g(c))!=c,B=null===c,z=Qs(c),pe=c===C;T<P;){var me=ns((T+P)/2),Se=g(l[me]),Pe=Se!==C,Ye=null===Se,wt=Se==Se,Qt=Qs(Se);if(k)var Tt=v||wt;else Tt=pe?wt&&(v||Pe):B?wt&&Pe&&(v||!Ye):z?wt&&Pe&&!Ye&&(v||!Qt):!Ye&&!Qt&&(v?Se<=c:Se<c);Tt?T=me+1:P=me}return Tr(P,4294967294)}function Gh(l,c){for(var g=-1,v=l.length,T=0,P=[];++g<v;){var k=l[g],B=c?c(k):k;if(!g||!Ko(B,z)){var z=B;P[T++]=0===k?0:k}}return P}function Wh(l){return"number"==typeof l?l:Qs(l)?NaN:+l}function bi(l){if("string"==typeof l)return l;if(kt(l))return hn(l,bi)+"";if(Qs(l))return Bp?Bp.call(l):"";var c=l+"";return"0"==c&&1/l==-St?"-0":c}function Ra(l,c,g){var v=-1,T=js,P=l.length,k=!0,B=[],z=B;if(g)k=!1,T=ki;else if(P>=200){var pe=c?null:qe(l);if(pe)return st(pe);k=!1,T=Cl,z=new va}else z=c?[]:B;e:for(;++v<P;){var me=l[v],Se=c?c(me):me;if(me=g||0!==me?me:0,k&&Se==Se){for(var Pe=z.length;Pe--;)if(z[Pe]===Se)continue e;c&&z.push(Se),B.push(me)}else T(z,Se,g)||(z!==B&&z.push(Se),B.push(me))}return B}function Kh(l,c){return null==(l=bE(l,c=$o(c,l)))||delete l[Oa(ss(c))]}function pi(l,c,g,v){return Xa(l,c,g(ji(l,c)),v)}function yo(l,c,g,v){for(var T=l.length,P=v?T:-1;(v?P--:++P<T)&&c(l[P],P,l););return g?zi(l,v?0:P,v?P+1:T):zi(l,v?P+1:0,v?T:P)}function Un(l,c){var g=l;return g instanceof Xt&&(g=g.value()),Tl(c,function(v,T){return T.func.apply(T.thisArg,Gt([v],T.args))},g)}function Ho(l,c,g){var v=l.length;if(v<2)return v?Ra(l[0]):[];for(var T=-1,P=Z(v);++T<v;)for(var k=l[T],B=-1;++B<v;)B!=T&&(P[T]=Ea(P[T]||k,l[B],c,g));return Ra(Or(P,1),c,g)}function eg(l,c,g){for(var v=-1,T=l.length,P=c.length,k={};++v<T;)g(k,l[v],v<P?c[v]:C);return k}function Zh(l){return Yn(l)?l:[]}function Qh(l){return"function"==typeof l?l:_i}function $o(l,c){return kt(l)?l:EE(l,c)?[l]:CE(In(l))}var Yh=Ft;function Ks(l,c,g){var v=l.length;return g=g===C?v:g,!c&&g>=v?l:zi(l,c,g)}var jo=Vi||function(l){return Fn.clearTimeout(l)};function tg(l,c){if(c)return l.slice();var g=l.length,v=Lo?Lo(g):new l.constructor(g);return l.copy(v),v}function Ul(l){var c=new l.constructor(l.byteLength);return new Sh(c).set(new Sh(l)),c}function Jh(l,c){var g=c?Ul(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function tc(l,c){if(l!==c){var g=l!==C,v=null===l,T=l==l,P=Qs(l),k=c!==C,B=null===c,z=c==c,pe=Qs(c);if(!B&&!pe&&!P&&l>c||P&&k&&z&&!B&&!pe||v&&k&&z||!g&&z||!T)return 1;if(!v&&!P&&!pe&&l<c||pe&&g&&T&&!v&&!P||B&&g&&T||!k&&T||!z)return-1}return 0}function xa(l,c,g,v){for(var T=-1,P=l.length,k=g.length,B=-1,z=c.length,pe=wr(P-k,0),me=Z(z+pe),Se=!v;++B<z;)me[B]=c[B];for(;++T<k;)(Se||T<P)&&(me[g[T]]=l[T]);for(;pe--;)me[B++]=l[T++];return me}function Hl(l,c,g,v){for(var T=-1,P=l.length,k=-1,B=g.length,z=-1,pe=c.length,me=wr(P-B,0),Se=Z(me+pe),Pe=!v;++T<me;)Se[T]=l[T];for(var Ye=T;++z<pe;)Se[Ye+z]=c[z];for(;++k<B;)(Pe||T<P)&&(Se[Ye+g[k]]=l[T++]);return Se}function gi(l,c){var g=-1,v=l.length;for(c||(c=Z(v));++g<v;)c[g]=l[g];return c}function zo(l,c,g,v){var T=!g;g||(g={});for(var P=-1,k=c.length;++P<k;){var B=c[P],z=v?v(g[B],l[B],B,g,l):C;z===C&&(z=l[B]),T?Vo(g,B,z):Qc(g,B,z)}return g}function nc(l,c){return function(g,v){var T=kt(g)?xo:Ui,P=c?c():{};return T(g,l,Ue(v,2),P)}}function qo(l){return Ft(function(c,g){var v=-1,T=g.length,P=T>1?g[T-1]:C,k=T>2?g[2]:C;for(P=l.length>3&&"function"==typeof P?(T--,P):C,k&&Es(g[0],g[1],k)&&(P=T<3?C:P,T=1),c=At(c);++v<T;){var B=g[v];B&&l(c,B,v,P)}return c})}function ig(l,c){return function(g,v){if(null==g)return g;if(!Gi(g))return l(g,v);for(var T=g.length,P=c?T:-1,k=At(g);(c?P--:++P<T)&&!1!==v(k[P],P,k););return g}}function sg(l){return function(c,g,v){for(var T=-1,P=At(c),k=v(c),B=k.length;B--;){var z=k[l?B:++T];if(!1===g(P[z],z,P))break}return c}}function $l(l){return function(c){var g=Sl(c=In(c))?Gr(c):C,v=g?g[0]:c.charAt(0),T=g?Ks(g,1).join(""):c.slice(1);return v[l]()+T}}function jl(l){return function(c){return Tl(Lg(Ts(c).replace(vh,"")),l,"")}}function Go(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var g=rs(l.prototype),v=l.apply(g,c);return cr(v)?v:g}}function zl(l){return function(c,g,v){var T=At(c);if(!Gi(c)){var P=Ue(g,3);c=Si(c),g=function(B){return P(T[B],B,T)}}var k=l(c,g,v);return k>-1?T[P?c[k]:k]:C}}function j_(l){return Zs(function(c){var g=c.length,v=g,T=fn.prototype.thru;for(l&&c.reverse();v--;){var P=c[v];if("function"!=typeof P)throw new et(on);if(T&&!k&&"wrapper"==Nr(P))var k=new fn([],!0)}for(v=k?v:g;++v<g;){var B=Nr(P=c[v]),z="wrapper"==B?ad(P):C;k=z&&q_(z[0])&&424==z[1]&&!z[4].length&&1==z[9]?k[Nr(z[0])].apply(k,z[3]):1==P.length&&q_(P)?k[B]():k.thru(P)}return function(){var pe=arguments,me=pe[0];if(k&&1==pe.length&&kt(me))return k.plant(me).value();for(var Se=0,Pe=g?c[Se].apply(this,pe):me;++Se<g;)Pe=c[Se].call(this,Pe);return Pe}})}function sd(l,c,g,v,T,P,k,B,z,pe){var me=128&c,Se=1&c,Pe=2&c,Ye=24&c,wt=512&c,Qt=Pe?C:Go(l);return function Tt(){for(var tn=arguments.length,We=Z(tn),Ss=tn;Ss--;)We[Ss]=arguments[Ss];if(Ye)var os=el(Tt),wo=function Hc(N,K){for(var Z=N.length,ke=0;Z--;)N[Z]===K&&++ke;return ke}(We,os);if(v&&(We=xa(We,v,T,Ye)),P&&(We=Hl(We,P,k,Ye)),tn-=wo,Ye&&tn<pe){var ht=zs(We,os);return X(l,c,sd,Tt.placeholder,g,We,ht,B,z,pe-tn)}var Qo=Se?g:this,Yo=Pe?Qo[l]:l;return tn=We.length,B?We=function uM(l,c){for(var g=l.length,v=Tr(c.length,g),T=gi(l);v--;){var P=c[v];l[v]=Zl(P,g)?T[P]:C}return l}(We,B):wt&&tn>1&&We.reverse(),me&&z<tn&&(We.length=z),this&&this!==Fn&&this instanceof Tt&&(Yo=Qt||Go(Yo)),Yo.apply(Qo,We)}}function m(l,c){return function(g,v){return function Yp(l,c,g,v){return _o(l,function(T,P,k){c(v,g(T),P,k)}),v}(g,l,c(v),{})}}function h(l,c){return function(g,v){var T;if(g===C&&v===C)return c;if(g!==C&&(T=g),v!==C){if(T===C)return v;"string"==typeof g||"string"==typeof v?(g=bi(g),v=bi(v)):(g=Wh(g),v=Wh(v)),T=l(g,v)}return T}}function f(l){return Zs(function(c){return c=hn(c,wi(Ue())),Ft(function(g){var v=this;return l(c,function(T){return Ei(T,v,g)})})})}function _(l,c){var g=(c=c===C?" ":bi(c)).length;if(g<2)return g?Ju(c,l):c;var v=Ju(c,Ya(l/Mr(c)));return Sl(c)?Ks(Gr(v),0,l).join(""):v.slice(0,l)}function D(l){return function(c,g,v){return v&&"number"!=typeof v&&Es(c,g,v)&&(g=v=C),c=ka(c),g===C?(g=c,c=0):g=ka(g),function U_(l,c,g,v){for(var T=-1,P=wr(Ya((c-l)/(g||1)),0),k=Z(P);P--;)k[v?P:++T]=l,l+=g;return k}(c,g,v=v===C?c<g?1:-1:ka(v),l)}}function H(l){return function(c,g){return"string"==typeof c&&"string"==typeof g||(c=Zo(c),g=Zo(g)),l(c,g)}}function X(l,c,g,v,T,P,k,B,z,pe){var me=8&c;c|=me?32:64,4&(c&=~(me?64:32))||(c&=-4);var Qt=[l,c,T,me?P:C,me?k:C,me?C:P,me?C:k,B,z,pe],Tt=g.apply(C,Qt);return q_(l)&&nC(Tt,Qt),Tt.placeholder=v,sc(Tt,l,c)}function ve(l){var c=Qn[l];return function(g,v){if(g=Zo(g),(v=null==v?0:Tr(Bt(v),292))&&S_(g)){var T=(In(g)+"e").split("e");return+((T=(In(c(T[0]+"e"+(+T[1]+v)))+"e").split("e"))[0]+"e"+(+T[1]-v))}return c(g)}}var qe=Ja&&1/st(new Ja([,-0]))[1]==St?function(l){return new Ja(l)}:Oy;function rt(l){return function(c){var g=$r(c);return g==Tn?On(c):g==xr?function ei(N){var K=-1,Z=Array(N.size);return N.forEach(function(ke){Z[++K]=[ke,ke]}),Z}(c):function Li(N,K){return hn(K,function(Z){return[Z,N[Z]]})}(c,l(c))}}function Mt(l,c,g,v,T,P,k,B){var z=2&c;if(!z&&"function"!=typeof l)throw new et(on);var pe=v?v.length:0;if(pe||(c&=-97,v=T=C),k=k===C?k:wr(Bt(k),0),B=B===C?B:Bt(B),pe-=T?T.length:0,64&c){var me=v,Se=T;v=T=C}var Pe=z?C:ad(l),Ye=[l,c,g,v,T,me,Se,P,k,B];if(Pe&&function cd(l,c){var g=l[1],v=c[1],T=g|v;if(!(T<131)&&!(128==v&&8==g||128==v&&256==g&&l[7].length<=c[8]||384==v&&c[7].length<=c[8]&&8==g))return l;1&v&&(l[2]=c[2],T|=1&g?0:4);var B=c[3];if(B){var z=l[3];l[3]=z?xa(z,B,c[4]):B,l[4]=z?zs(l[3],de):c[4]}(B=c[5])&&(l[5]=(z=l[5])?Hl(z,B,c[6]):B,l[6]=z?zs(l[5],de):c[6]),(B=c[7])&&(l[7]=B),128&v&&(l[8]=null==l[8]?c[8]:Tr(l[8],c[8])),null==l[9]&&(l[9]=c[9]),l[0]=c[0],l[1]=T}(Ye,Pe),l=Ye[0],c=Ye[1],g=Ye[2],v=Ye[3],T=Ye[4],!(B=Ye[9]=Ye[9]===C?z?0:l.length:wr(Ye[9]-pe,0))&&24&c&&(c&=-25),c&&1!=c)wt=8==c||16==c?function ef(l,c,g){var v=Go(l);return function T(){for(var P=arguments.length,k=Z(P),B=P,z=el(T);B--;)k[B]=arguments[B];var pe=P<3&&k[0]!==z&&k[P-1]!==z?[]:zs(k,z);return(P-=pe.length)<g?X(l,c,sd,T.placeholder,C,k,pe,C,C,g-P):Ei(this&&this!==Fn&&this instanceof T?v:l,this,k)}}(l,c,B):32!=c&&33!=c||T.length?sd.apply(C,Ye):function E(l,c,g,v){var T=1&c,P=Go(l);return function k(){for(var B=-1,z=arguments.length,pe=-1,me=v.length,Se=Z(me+z),Pe=this&&this!==Fn&&this instanceof k?P:l;++pe<me;)Se[pe]=v[pe];for(;z--;)Se[pe++]=arguments[++B];return Ei(Pe,T?g:this,Se)}}(l,c,g,v);else var wt=function Xh(l,c,g){var v=1&c,T=Go(l);return function P(){return(this&&this!==Fn&&this instanceof P?T:l).apply(v?g:this,arguments)}}(l,c,g);return sc((Pe?Xu:nC)(wt,Ye),l,c)}function mi(l,c,g,v){return l===C||Ko(l,qs[g])&&!rn.call(v,g)?c:l}function vo(l,c,g,v,T,P){return cr(l)&&cr(c)&&(P.set(c,l),Vl(l,c,C,vo,P),P.delete(c)),l}function od(l){return Sg(l)?C:l}function ql(l,c,g,v,T,P){var k=1&g,B=l.length,z=c.length;if(B!=z&&!(k&&z>B))return!1;var pe=P.get(l),me=P.get(c);if(pe&&me)return pe==c&&me==l;var Se=-1,Pe=!0,Ye=2&g?new va:C;for(P.set(l,c),P.set(c,l);++Se<B;){var wt=l[Se],Qt=c[Se];if(v)var Tt=k?v(Qt,wt,Se,c,l,P):v(wt,Qt,Se,l,c,P);if(Tt!==C){if(Tt)continue;Pe=!1;break}if(Ye){if(!Ru(c,function(tn,We){if(!Cl(Ye,We)&&(wt===tn||T(wt,tn,g,v,P)))return Ye.push(We)})){Pe=!1;break}}else if(wt!==Qt&&!T(wt,Qt,g,v,P)){Pe=!1;break}}return P.delete(l),P.delete(c),Pe}function Zs(l){return rf(dd(l,C,RE),l+"")}function Gl(l){return Lh(l,Si,Kl)}function Pa(l){return Lh(l,Ys,rc)}var ad=Ol?function(l){return Ol.get(l)}:Oy;function Nr(l){for(var c=l.name+"",g=pa[c],v=rn.call(pa,c)?g.length:0;v--;){var T=g[v],P=T.func;if(null==P||P==l)return T.name}return c}function el(l){return(rn.call(S,"placeholder")?S:l).placeholder}function Ue(){var l=S.iteratee||Py;return l=l===Py?en:l,arguments.length?l(arguments[0],arguments[1]):l}function Ma(l,c){var g=l.__data__;return function ld(l){var c=typeof l;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==l:null===l}(c)?g["string"==typeof c?"string":"hash"]:g.map}function tf(l){for(var c=Si(l),g=c.length;g--;){var v=c[g],T=l[v];c[g]=[v,T,ud(T)]}return c}function Wl(l,c){var g=function Ir(N,K){return null==N?C:N[K]}(l,c);return Uh(g)?g:C}var Kl=zc?function(l){return null==l?[]:(l=At(l),vr(zc(l),function(c){return Hu.call(l,c)}))}:Ly,rc=zc?function(l){for(var c=[];l;)Gt(c,Kl(l)),l=xl(l);return c}:Ly,$r=ti;function ic(l,c,g){for(var v=-1,T=(c=$o(c,l)).length,P=!1;++v<T;){var k=Oa(c[v]);if(!(P=null!=l&&g(l,k)))break;l=l[k]}return P||++v!=T?P:!!(T=null==l?0:l.length)&&gf(T)&&Zl(k,T)&&(kt(l)||Jl(l))}function IE(l){return"function"!=typeof l.constructor||nf(l)?{}:rs(xl(l))}function lM(l){return kt(l)||Jl(l)||!!(Pl&&l&&l[Pl])}function Zl(l,c){var g=typeof l;return!!(c=c??Rr)&&("number"==g||"symbol"!=g&&Ut.test(l))&&l>-1&&l%1==0&&l<c}function Es(l,c,g){if(!cr(g))return!1;var v=typeof c;return!!("number"==v?Gi(g)&&Zl(c,g.length):"string"==v&&c in g)&&Ko(g[c],l)}function EE(l,c){if(kt(l))return!1;var g=typeof l;return!("number"!=g&&"symbol"!=g&&"boolean"!=g&&null!=l&&!Qs(l))||A.test(l)||!F.test(l)||null!=c&&l in At(c)}function q_(l){var c=Nr(l),g=S[c];if("function"!=typeof g||!(c in Xt.prototype))return!1;if(l===g)return!0;var v=ad(g);return!!v&&l===v[0]}(D_&&$r(new D_(new ArrayBuffer(1)))!=zr||qc&&$r(new qc)!=Tn||Vp&&$r(Vp.resolve())!=ps||Ja&&$r(new Ja)!=xr||Ml&&$r(new Ml)!=Pr)&&($r=function(l){var c=ti(l),g=c==ur?l.constructor:C,v=g?oc(g):"";if(v)switch(v){case Up:return zr;case _E:return Tn;case yE:return ps;case eC:return xr;case ga:return Pr}return c});var ni=Vn?Na:$g;function nf(l){var c=l&&l.constructor;return l===("function"==typeof c&&c.prototype||qs)}function ud(l){return l==l&&!cr(l)}function wE(l,c){return function(g){return null!=g&&g[l]===c&&(c!==C||l in At(g))}}function dd(l,c,g){return c=wr(c===C?l.length-1:c,0),function(){for(var v=arguments,T=-1,P=wr(v.length-c,0),k=Z(P);++T<P;)k[T]=v[c+T];T=-1;for(var B=Z(c+1);++T<c;)B[T]=v[T];return B[c]=g(k),Ei(l,this,B)}}function bE(l,c){return c.length<2?l:ji(l,zi(c,0,-1))}function G_(l,c){if(("constructor"!==c||"function"!=typeof l[c])&&"__proto__"!=c)return l[c]}var nC=rC(Xu),Ci=Qa||function(l,c){return Fn.setTimeout(l,c)},rf=rC(zh);function sc(l,c,g){var v=c+"";return rf(l,function aM(l,c){var g=c.length;if(!g)return l;var v=g-1;return c[v]=(g>1?"& ":"")+c[v],c=c.join(g>2?", ":" "),l.replace(ze,"{\n/* [wrapped with "+c+"] */\n")}(v,function iC(l,c){return $s(ge,function(g){var v="_."+g[0];c&g[1]&&!js(l,v)&&l.push(v)}),l.sort()}(function z_(l){var c=l.match(mt);return c?c[1].split(cn):[]}(v),g)))}function rC(l){var c=0,g=0;return function(){var v=Fp(),T=16-(v-g);if(g=v,T>0){if(++c>=800)return arguments[0]}else c=0;return l.apply(C,arguments)}}function sf(l,c){var g=-1,v=l.length,T=v-1;for(c=c===C?v:c;++g<c;){var P=Is(g,T),k=l[P];l[P]=l[g],l[g]=k}return l.length=c,l}var CE=function Io(l){var c=sy(l,function(v){return 500===g.size&&g.clear(),v}),g=c.cache;return c}(function(l){var c=[];return 46===l.charCodeAt(0)&&c.push(""),l.replace(x,function(g,v,T,P){c.push(T?P.replace(Xe,"$1"):v||g)}),c});function Oa(l){if("string"==typeof l||Qs(l))return l;var c=l+"";return"0"==c&&1/l==-St?"-0":c}function oc(l){if(null!=l){try{return ha.call(l)}catch{}try{return l+""}catch{}}return""}function SE(l){if(l instanceof Xt)return l.clone();var c=new fn(l.__wrapped__,l.__chain__);return c.__actions__=gi(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}var oC=Ft(function(l,c){return Yn(l)?Ea(l,Or(c,1,Yn,!0)):[]}),af=Ft(function(l,c){var g=ss(c);return Yn(g)&&(g=C),Yn(l)?Ea(l,Or(c,1,Yn,!0),Ue(g,2)):[]}),aC=Ft(function(l,c){var g=ss(c);return Yn(g)&&(g=C),Yn(l)?Ea(l,Or(c,1,Yn,!0),C,g):[]});function Z_(l,c,g){var v=null==l?0:l.length;if(!v)return-1;var T=null==g?0:Bt(g);return T<0&&(T=wr(v+T,0)),di(l,Ue(c,3),T)}function DE(l,c,g){var v=null==l?0:l.length;if(!v)return-1;var T=v-1;return g!==C&&(T=Bt(g),T=g<0?wr(v+T,0):Tr(T,v-1)),di(l,Ue(c,3),T,!0)}function RE(l){return null!=l&&l.length?Or(l,1):[]}function cC(l){return l&&l.length?l[0]:C}var cM=Ft(function(l){var c=hn(l,Zh);return c.length&&c[0]===l[0]?pt(c):[]}),hC=Ft(function(l){var c=ss(l),g=hn(l,Zh);return c===ss(g)?c=C:g.pop(),g.length&&g[0]===l[0]?pt(g,Ue(c,2)):[]}),fC=Ft(function(l){var c=ss(l),g=hn(l,Zh);return(c="function"==typeof c?c:C)&&g.pop(),g.length&&g[0]===l[0]?pt(g,C,c):[]});function ss(l){var c=null==l?0:l.length;return c?l[c-1]:C}var ME=Ft(mC);function mC(l,c){return l&&l.length&&c&&c.length?Yu(l,c):l}var _C=Zs(function(l,c){var g=null==l?0:l.length,v=Ll(l,c);return Aa(l,hn(c,function(T){return Zl(T,g)?+T:T}).sort(tc)),v});function uf(l){return null==l?l:mE.call(l)}var fd=Ft(function(l){return Ra(Or(l,1,Yn,!0))}),FE=Ft(function(l){var c=ss(l);return Yn(c)&&(c=C),Ra(Or(l,1,Yn,!0),Ue(c,2))}),VE=Ft(function(l){var c=ss(l);return c="function"==typeof c?c:C,Ra(Or(l,1,Yn,!0),C,c)});function Y_(l){if(!l||!l.length)return[];var c=0;return l=vr(l,function(g){if(Yn(g))return c=wr(g.length,c),!0}),Lu(c,function(g){return hn(l,Ou(g))})}function UE(l,c){if(!l||!l.length)return[];var g=Y_(l);return null==c?g:hn(g,function(v){return Ei(c,C,v)})}var IC=Ft(function(l,c){return Yn(l)?Ea(l,c):[]}),BE=Ft(function(l){return Ho(vr(l,Yn))}),J_=Ft(function(l){var c=ss(l);return Yn(c)&&(c=C),Ho(vr(l,Yn),Ue(c,2))}),EC=Ft(function(l){var c=ss(l);return c="function"==typeof c?c:C,Ho(vr(l,Yn),C,c)}),wC=Ft(Y_),bC=Ft(function(l){var c=l.length,g=c>1?l[c-1]:C;return g="function"==typeof g?(l.pop(),g):C,UE(l,g)});function $E(l){var c=S(l);return c.__chain__=!0,c}function pd(l,c){return c(l)}var jE=Zs(function(l){var c=l.length,g=c?l[0]:0,v=this.__wrapped__,T=function(P){return Ll(P,l)};return!(c>1||this.__actions__.length)&&v instanceof Xt&&Zl(g)?((v=v.slice(g,+g+(c?1:0))).__actions__.push({func:pd,args:[T],thisArg:C}),new fn(v,this.__chain__).thru(function(P){return c&&!P.length&&P.push(C),P})):this.thru(T)}),SC=nc(function(l,c,g){rn.call(l,g)?++l[g]:Vo(l,g,1)}),KE=zl(Z_),DC=zl(DE);function ZE(l,c){return(kt(l)?$s:vs)(l,Ue(c,3))}function gd(l,c){return(kt(l)?wh:bn)(l,Ue(c,3))}var xC=nc(function(l,c,g){rn.call(l,g)?l[g].push(c):Vo(l,g,[c])}),QE=Ft(function(l,c,g){var v=-1,T="function"==typeof c,P=Gi(l)?Z(l.length):[];return vs(l,function(k){P[++v]=T?Ei(c,k,g):ba(k,c,g)}),P}),YE=nc(function(l,c,g){Vo(l,g,c)});function df(l,c){return(kt(l)?hn:Bh)(l,Ue(c,3))}var mg=nc(function(l,c,g){l[g?0:1].push(c)},function(){return[[],[]]}),FC=Ft(function(l,c){if(null==l)return[];var g=c.length;return g>1&&Es(l,c[0],c[1])?c=[]:g>2&&Es(c[0],c[1],c[2])&&(c=[c[0]]),Hh(l,Or(c,1),[])}),hf=ju||function(){return Fn.Date.now()};function vg(l,c,g){return c=g?C:c,Mt(l,128,C,C,C,C,c=l&&null==c?l.length:c)}function Ig(l,c){var g;if("function"!=typeof c)throw new et(on);return l=Bt(l),function(){return--l>0&&(g=c.apply(this,arguments)),l<=1&&(c=C),g}}var ry=Ft(function(l,c,g){var v=1;if(g.length){var T=zs(g,el(ry));v|=32}return Mt(l,v,c,g,T)}),XE=Ft(function(l,c,g){var v=3;if(g.length){var T=zs(g,el(XE));v|=32}return Mt(c,v,l,g,T)});function Yl(l,c,g){var v,T,P,k,B,z,pe=0,me=!1,Se=!1,Pe=!0;if("function"!=typeof l)throw new et(on);function Ye(ht){var Qo=v,Yo=T;return v=T=C,pe=ht,k=l.apply(Yo,Qo)}function Tt(ht){var Qo=ht-z;return z===C||Qo>=c||Qo<0||Se&&ht-pe>=P}function tn(){var ht=hf();if(Tt(ht))return We(ht);B=Ci(tn,function Qt(ht){var D0=c-(ht-z);return Se?Tr(D0,P-(ht-pe)):D0}(ht))}function We(ht){return B=C,Pe&&v?Ye(ht):(v=T=C,k)}function wo(){var ht=hf(),Qo=Tt(ht);if(v=arguments,T=this,z=ht,Qo){if(B===C)return function wt(ht){return pe=ht,B=Ci(tn,c),me?Ye(ht):k}(z);if(Se)return jo(B),B=Ci(tn,c),Ye(z)}return B===C&&(B=Ci(tn,c)),k}return c=Zo(c)||0,cr(g)&&(me=!!g.leading,P=(Se="maxWait"in g)?wr(Zo(g.maxWait)||0,c):P,Pe="trailing"in g?!!g.trailing:Pe),wo.cancel=function Ss(){B!==C&&jo(B),pe=0,v=z=T=B=C},wo.flush=function os(){return B===C?k:We(hf())},wo}var e0=Ft(function(l,c){return Ws(l,1,c)}),t0=Ft(function(l,c,g){return Ws(l,Zo(c)||0,g)});function sy(l,c){if("function"!=typeof l||null!=c&&"function"!=typeof c)throw new et(on);var g=function(){var v=arguments,T=c?c.apply(this,v):v[0],P=g.cache;if(P.has(T))return P.get(T);var k=l.apply(this,v);return g.cache=P.set(T,k)||P,k};return g.cache=new(sy.Cache||ya),g}function ac(l){if("function"!=typeof l)throw new et(on);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}sy.Cache=ya;var n0=Yh(function(l,c){var g=(c=1==c.length&&kt(c[0])?hn(c[0],wi(Ue())):hn(Or(c,1),wi(Ue()))).length;return Ft(function(v){for(var T=-1,P=Tr(v.length,g);++T<P;)v[T]=c[T].call(this,v[T]);return Ei(l,this,v)})}),wg=Ft(function(l,c){var g=zs(c,el(wg));return Mt(l,32,C,c,g)}),oy=Ft(function(l,c){var g=zs(c,el(oy));return Mt(l,64,C,c,g)}),ay=Zs(function(l,c){return Mt(l,256,C,C,C,c)});function Ko(l,c){return l===c||l!=l&&c!=c}var HC=H(Xc),$C=H(function(l,c){return l>=c}),Jl=Jp(function(){return arguments}())?Jp:function(l){return kr(l)&&rn.call(l,"callee")&&!Hu.call(l,"callee")},kt=Z.isArray,Cg=Hs?wi(Hs):function L_(l){return kr(l)&&ti(l)==Xr};function Gi(l){return null!=l&&gf(l.length)&&!Na(l)}function Yn(l){return kr(l)&&Gi(l)}var Xl=fE||$g,vM=xp?wi(xp):function Vh(l){return kr(l)&&ti(l)==Je};function yd(l){if(!kr(l))return!1;var c=ti(l);return c==Pn||"[object DOMException]"==c||"string"==typeof l.message&&"string"==typeof l.name&&!Sg(l)}function Na(l){if(!cr(l))return!1;var c=ti(l);return c==yn||c==Kn||"[object AsyncFunction]"==c||"[object Proxy]"==c}function hy(l){return"number"==typeof l&&l==Bt(l)}function gf(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=Rr}function cr(l){var c=typeof l;return null!=l&&("object"==c||"function"==c)}function kr(l){return null!=l&&"object"==typeof l}var l0=Te?wi(Te):function F_(l){return kr(l)&&$r(l)==Tn};function QC(l){return"number"==typeof l||kr(l)&&ti(l)==tr}function Sg(l){if(!kr(l)||ti(l)!=ur)return!1;var c=xl(l);if(null===c)return!0;var g=rn.call(c,"constructor")&&c.constructor;return"function"==typeof g&&g instanceof g&&ha.call(g)==po}var u0=Au?wi(Au):function Xp(l){return kr(l)&&ti(l)==jt},YC=Me?wi(Me):function V_(l){return kr(l)&&$r(l)==xr};function _f(l){return"string"==typeof l||!kt(l)&&kr(l)&&ti(l)==xi}function Qs(l){return"symbol"==typeof l||kr(l)&&ti(l)==Pi}var vd=Du?wi(Du):function ye(l){return kr(l)&&gf(l.length)&&!!$n[ti(l)]},tl=H(br),yf=H(function(l,c){return l<=c});function py(l){if(!l)return[];if(Gi(l))return _f(l)?Gr(l):gi(l);if(Er&&l[Er])return function C_(N){for(var K,Z=[];!(K=N.next()).done;)Z.push(K.value);return Z}(l[Er]());var c=$r(l);return(c==Tn?On:c==xr?st:Eo)(l)}function ka(l){return l?(l=Zo(l))===St||l===-St?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function Bt(l){var c=ka(l),g=c%1;return c==c?g?c-g:c:0}function eS(l){return l?Ia(Bt(l),0,te):0}function Zo(l){if("number"==typeof l)return l;if(Qs(l))return NaN;if(cr(l)){var c="function"==typeof l.valueOf?l.valueOf():l;l=cr(c)?c+"":c}if("string"!=typeof l)return 0===l?l:+l;l=Uc(l);var g=j.test(l);return g||Qe.test(l)?ts(l.slice(2),g?2:8):Y.test(l)?NaN:+l}function tS(l){return zo(l,Ys(l))}function In(l){return null==l?"":bi(l)}var EM=qo(function(l,c){if(nf(c)||Gi(c))zo(c,Si(c),l);else for(var g in c)rn.call(c,g)&&Qc(l,g,c[g])}),nS=qo(function(l,c){zo(c,Ys(c),l)}),vf=qo(function(l,c,g,v){zo(c,Ys(c),l,v)}),rS=qo(function(l,c,g,v){zo(c,Si(c),l,v)}),iS=Zs(Ll),oS=Ft(function(l,c){l=At(l);var g=-1,v=c.length,T=v>2?c[2]:C;for(T&&Es(c[0],c[1],T)&&(v=1);++g<v;)for(var P=c[g],k=Ys(P),B=-1,z=k.length;++B<z;){var pe=k[B],me=l[pe];(me===C||Ko(me,qs[pe])&&!rn.call(l,pe))&&(l[pe]=P[pe])}return l}),c0=Ft(function(l){return l.push(C,vo),Ei(vy,C,l)});function Rg(l,c,g){var v=null==l?C:ji(l,c);return v===C?g:v}function yy(l,c){return null!=l&&ic(l,c,Qp)}var dS=m(function(l,c,g){null!=c&&"function"!=typeof c.toString&&(c=Uu.call(c)),l[c]=g},bf(_i)),hS=m(function(l,c,g){null!=c&&"function"!=typeof c.toString&&(c=Uu.call(c)),rn.call(l,c)?l[c].push(g):l[c]=[g]},Ue),d0=Ft(ba);function Si(l){return Gi(l)?Kp(l):ot(l)}function Ys(l){return Gi(l)?Kp(l,!0):function dt(l){if(!cr(l))return function TE(l){var c=[];if(null!=l)for(var g in At(l))c.push(g);return c}(l);var c=nf(l),g=[];for(var v in l)"constructor"==v&&(c||!rn.call(l,v))||g.push(v);return g}(l)}var Ef=qo(function(l,c,g){Vl(l,c,g)}),vy=qo(function(l,c,g,v){Vl(l,c,g,v)}),h0=Zs(function(l,c){var g={};if(null==l)return g;var v=!1;c=hn(c,function(P){return P=$o(P,l),v||(v=P.length>1),P}),zo(l,Pa(l),g),v&&(g=Bi(g,7,od));for(var T=c.length;T--;)Kh(g,c[T]);return g}),Ey=Zs(function(l,c){return null==l?{}:function $h(l,c){return Wr(l,c,function(g,v){return yy(l,v)})}(l,c)});function f0(l,c){if(null==l)return{};var g=hn(Pa(l),function(v){return[v]});return c=Ue(c),Wr(l,g,function(v,T){return c(v,T[0])})}var fS=rt(Si),Pg=rt(Ys);function Eo(l){return null==l?[]:Fu(l,Si(l))}var by=jl(function(l,c,g){return c=c.toLowerCase(),l+(g?wf(c):c)});function wf(l){return Tf(In(l).toLowerCase())}function Ts(l){return(l=In(l))&&l.replace(zt,Op).replace(Dn,"")}var yS=jl(function(l,c,g){return l+(g?"-":"")+c.toLowerCase()}),y0=jl(function(l,c,g){return l+(g?" ":"")+c.toLowerCase()}),Ed=$l("toLowerCase"),v0=jl(function(l,c,g){return l+(g?"_":"")+c.toLowerCase()}),wM=jl(function(l,c,g){return l+(g?" ":"")+Tf(c)}),wd=jl(function(l,c,g){return l+(g?" ":"")+c.toUpperCase()}),Tf=$l("toUpperCase");function Lg(l,c,g){return l=In(l),(c=g?C:c)===C?function bh(N){return Cu.test(N)}(l)?function Lp(N){return N.match(Cp)||[]}(l):function bl(N){return N.match(Ve)||[]}(l):l.match(c)||[]}var Td=Ft(function(l,c){try{return Ei(l,C,c)}catch(g){return yd(g)?g:new It(g)}}),Fg=Zs(function(l,c){return $s(c,function(g){g=Oa(g),Vo(l,g,ry(l[g],l))}),l});function bf(l){return function(){return l}}var CM=j_(),xy=j_(!0);function _i(l){return l}function Py(l){return en("function"==typeof l?l:Bi(l,1))}var SS=Ft(function(l,c){return function(g){return ba(g,l,c)}}),My=Ft(function(l,c){return function(g){return ba(l,g,c)}});function Ug(l,c,g){var v=Si(c),T=Zu(c,v);null==g&&(!cr(c)||!T.length&&v.length)&&(g=c,c=l,l=this,T=Zu(c,Si(c)));var P=!(cr(g)&&"chain"in g&&!g.chain),k=Na(l);return $s(T,function(B){var z=c[B];l[B]=z,k&&(l.prototype[B]=function(){var pe=this.__chain__;if(P||pe){var me=l(this.__wrapped__);return(me.__actions__=gi(this.__actions__)).push({func:z,args:arguments,thisArg:l}),me.__chain__=pe,me}return z.apply(l,Gt([this.value()],arguments))})}),l}function Oy(){}var DS=f(hn),Bg=f(ho),Ny=f(Ru);function T0(l){return EE(l)?Ou(Oa(l)):function Bo(l){return function(c){return ji(c,l)}}(l)}var ky=D(),Hg=D(!0);function Ly(){return[]}function $g(){return!1}var Cd=h(function(l,c){return l+c},0),ri=ve("ceil"),MS=h(function(l,c){return l/c},1),Cf=ve("floor"),DM=h(function(l,c){return l*c},1),Vy=ve("round"),A0=h(function(l,c){return l-c},0);return S.after=function yg(l,c){if("function"!=typeof c)throw new et(on);return l=Bt(l),function(){if(--l<1)return c.apply(this,arguments)}},S.ary=vg,S.assign=EM,S.assignIn=nS,S.assignInWith=vf,S.assignWith=rS,S.at=iS,S.before=Ig,S.bind=ry,S.bindAll=Fg,S.bindKey=XE,S.castArray=function bg(){if(!arguments.length)return[];var l=arguments[0];return kt(l)?l:[l]},S.chain=$E,S.chunk=function sC(l,c,g){c=(g?Es(l,c,g):c===C)?1:wr(Bt(c),0);var v=null==l?0:l.length;if(!v||c<1)return[];for(var T=0,P=0,k=Z(Ya(v/c));T<v;)k[P++]=zi(l,T,T+=c);return k},S.compact=function W_(l){for(var c=-1,g=null==l?0:l.length,v=0,T=[];++c<g;){var P=l[c];P&&(T[v++]=P)}return T},S.concat=function ug(){var l=arguments.length;if(!l)return[];for(var c=Z(l-1),g=arguments[0],v=l;v--;)c[v-1]=arguments[v];return Gt(kt(g)?gi(g):[g],Or(c,1))},S.cond=function bd(l){var c=null==l?0:l.length,g=Ue();return l=c?hn(l,function(v){if("function"!=typeof v[1])throw new et(on);return[g(v[0]),v[1]]}):[],Ft(function(v){for(var T=-1;++T<c;){var P=l[T];if(Ei(P[0],this,v))return Ei(P[1],this,v)}})},S.conforms=function Ry(l){return function Nh(l){var c=Si(l);return function(g){return Jc(g,l,c)}}(Bi(l,1))},S.constant=bf,S.countBy=SC,S.create=function sS(l,c){var g=rs(l);return null==c?g:Oh(g,c)},S.curry=function Eg(l,c,g){var v=Mt(l,8,C,C,C,C,C,c=g?C:c);return v.placeholder=Eg.placeholder,v},S.curryRight=function iy(l,c,g){var v=Mt(l,16,C,C,C,C,C,c=g?C:c);return v.placeholder=iy.placeholder,v},S.debounce=Yl,S.defaults=oS,S.defaultsDeep=c0,S.defer=e0,S.delay=t0,S.difference=oC,S.differenceBy=af,S.differenceWith=aC,S.drop=function cg(l,c,g){var v=null==l?0:l.length;return v?zi(l,(c=g||c===C?1:Bt(c))<0?0:c,v):[]},S.dropRight=function lC(l,c,g){var v=null==l?0:l.length;return v?zi(l,0,(c=v-(c=g||c===C?1:Bt(c)))<0?0:c):[]},S.dropRightWhile=function AE(l,c){return l&&l.length?yo(l,Ue(c,3),!0,!0):[]},S.dropWhile=function K_(l,c){return l&&l.length?yo(l,Ue(c,3),!0):[]},S.fill=function dg(l,c,g,v){var T=null==l?0:l.length;return T?(g&&"number"!=typeof g&&Es(l,c,g)&&(g=0,v=T),function Hi(l,c,g,v){var T=l.length;for((g=Bt(g))<0&&(g=-g>T?0:T+g),(v=v===C||v>T?T:Bt(v))<0&&(v+=T),v=g>v?0:eS(v);g<v;)l[g++]=c;return l}(l,c,g,v)):[]},S.filter=function AC(l,c){return(kt(l)?vr:wa)(l,Ue(c,3))},S.flatMap=function RC(l,c){return Or(df(l,c),1)},S.flatMapDeep=function ey(l,c){return Or(df(l,c),St)},S.flatMapDepth=function ty(l,c,g){return g=g===C?1:Bt(g),Or(df(l,c),g)},S.flatten=RE,S.flattenDeep=function hd(l){return null!=l&&l.length?Or(l,St):[]},S.flattenDepth=function lf(l,c){return null!=l&&l.length?Or(l,c=c===C?1:Bt(c)):[]},S.flip=function VC(l){return Mt(l,512)},S.flow=CM,S.flowRight=xy,S.fromPairs=function uC(l){for(var c=-1,g=null==l?0:l.length,v={};++c<g;){var T=l[c];v[T[0]]=T[1]}return v},S.functions=function uS(l){return null==l?[]:Zu(l,Si(l))},S.functionsIn=function Dg(l){return null==l?[]:Zu(l,Ys(l))},S.groupBy=xC,S.initial=function dC(l){return null!=l&&l.length?zi(l,0,-1):[]},S.intersection=cM,S.intersectionBy=hC,S.intersectionWith=fC,S.invert=dS,S.invertBy=hS,S.invokeMap=QE,S.iteratee=Py,S.keyBy=YE,S.keys=Si,S.keysIn=Ys,S.map=df,S.mapKeys=function If(l,c){var g={};return c=Ue(c,3),_o(l,function(v,T,P){Vo(g,c(v,T,P),v)}),g},S.mapValues=function Oe(l,c){var g={};return c=Ue(c,3),_o(l,function(v,T,P){Vo(g,T,c(v,T,P))}),g},S.matches=function w0(l){return Fl(Bi(l,1))},S.matchesProperty=function CS(l,c){return is(l,Bi(c,1))},S.memoize=sy,S.merge=Ef,S.mergeWith=vy,S.method=SS,S.methodOf=My,S.mixin=Ug,S.negate=ac,S.nthArg=function SM(l){return l=Bt(l),Ft(function(c){return nd(c,l)})},S.omit=h0,S.omitBy=function Iy(l,c){return f0(l,ac(Ue(c)))},S.once=function UC(l){return Ig(2,l)},S.orderBy=function md(l,c,g,v){return null==l?[]:(kt(c)||(c=null==c?[]:[c]),kt(g=v?C:g)||(g=null==g?[]:[g]),Hh(l,c,g))},S.over=DS,S.overArgs=n0,S.overEvery=Bg,S.overSome=Ny,S.partial=wg,S.partialRight=oy,S.partition=mg,S.pick=Ey,S.pickBy=f0,S.property=T0,S.propertyOf=function b0(l){return function(c){return null==l?C:ji(l,c)}},S.pull=ME,S.pullAll=mC,S.pullAllBy=function OE(l,c,g){return l&&l.length&&c&&c.length?Yu(l,c,Ue(g,2)):l},S.pullAllWith=function dM(l,c,g){return l&&l.length&&c&&c.length?Yu(l,c,C,g):l},S.pullAt=_C,S.range=ky,S.rangeRight=Hg,S.rearg=ay,S.reject=function _g(l,c){return(kt(l)?vr:wa)(l,ac(Ue(c,3)))},S.remove=function yC(l,c){var g=[];if(!l||!l.length)return g;var v=-1,T=[],P=l.length;for(c=Ue(c,3);++v<P;){var k=l[v];c(k,v,l)&&(g.push(k),T.push(v))}return Aa(l,T),g},S.rest=function r0(l,c){if("function"!=typeof l)throw new et(on);return Ft(l,c=c===C?c:Bt(c))},S.reverse=uf,S.sampleSize=function OC(l,c,g){return c=(g?Es(l,c,g):c===C)?1:Bt(c),(kt(l)?N_:jh)(l,c)},S.set=function g0(l,c,g){return null==l?l:Xa(l,c,g)},S.setWith=function xg(l,c,g,v){return v="function"==typeof v?v:C,null==l?l:Xa(l,c,g,v)},S.shuffle=function NC(l){return(kt(l)?Zp:H_)(l)},S.slice=function hM(l,c,g){var v=null==l?0:l.length;return v?(g&&"number"!=typeof g&&Es(l,c,g)?(c=0,g=v):(c=null==c?0:Bt(c),g=g===C?v:Bt(g)),zi(l,c,g)):[]},S.sortBy=FC,S.sortedUniq=function yM(l){return l&&l.length?Gh(l):[]},S.sortedUniqBy=function vC(l,c){return l&&l.length?Gh(l,Ue(c,2)):[]},S.split=function bs(l,c,g){return g&&"number"!=typeof g&&Es(l,c,g)&&(c=g=C),(g=g===C?te:g>>>0)?(l=In(l))&&("string"==typeof c||null!=c&&!u0(c))&&!(c=bi(c))&&Sl(l)?Ks(Gr(l),0,g):l.split(c,g):[]},S.spread=function Tg(l,c){if("function"!=typeof l)throw new et(on);return c=null==c?0:wr(Bt(c),0),Ft(function(g){var v=g[c],T=Ks(g,0,c);return v&&Gt(T,v),Ei(l,this,T)})},S.tail=function hg(l){var c=null==l?0:l.length;return c?zi(l,1,c):[]},S.take=function fg(l,c,g){return l&&l.length?zi(l,0,(c=g||c===C?1:Bt(c))<0?0:c):[]},S.takeRight=function NE(l,c,g){var v=null==l?0:l.length;return v?zi(l,(c=v-(c=g||c===C?1:Bt(c)))<0?0:c,v):[]},S.takeRightWhile=function kE(l,c){return l&&l.length?yo(l,Ue(c,3),!1,!0):[]},S.takeWhile=function LE(l,c){return l&&l.length?yo(l,Ue(c,3)):[]},S.tap=function ws(l,c){return c(l),l},S.throttle=function ff(l,c,g){var v=!0,T=!0;if("function"!=typeof l)throw new et(on);return cr(g)&&(v="leading"in g?!!g.leading:v,T="trailing"in g?!!g.trailing:T),Yl(l,c,{leading:v,maxWait:c,trailing:T})},S.thru=pd,S.toArray=py,S.toPairs=fS,S.toPairsIn=Pg,S.toPath=function jg(l){return kt(l)?hn(l,Oa):Qs(l)?[l]:gi(CE(In(l)))},S.toPlainObject=tS,S.transform=function pS(l,c,g){var v=kt(l),T=v||Xl(l)||vd(l);if(c=Ue(c,4),null==g){var P=l&&l.constructor;g=T?v?new P:[]:cr(l)&&Na(P)?rs(xl(l)):{}}return(T?$s:_o)(l,function(k,B,z){return c(g,k,B,z)}),g},S.unary=function s0(l){return vg(l,1)},S.union=fd,S.unionBy=FE,S.unionWith=VE,S.uniq=function pg(l){return l&&l.length?Ra(l):[]},S.uniqBy=function gg(l,c){return l&&l.length?Ra(l,Ue(c,2)):[]},S.uniqWith=function Ql(l,c){return c="function"==typeof c?c:C,l&&l.length?Ra(l,C,c):[]},S.unset=function wy(l,c){return null==l||Kh(l,c)},S.unzip=Y_,S.unzipWith=UE,S.update=function m0(l,c,g){return null==l?l:pi(l,c,Qh(g))},S.updateWith=function _0(l,c,g,v){return v="function"==typeof v?v:C,null==l?l:pi(l,c,Qh(g),v)},S.values=Eo,S.valuesIn=function gS(l){return null==l?[]:Fu(l,Ys(l))},S.without=IC,S.words=Lg,S.wrap=function ly(l,c){return wg(Qh(c),l)},S.xor=BE,S.xorBy=J_,S.xorWith=EC,S.zip=wC,S.zipObject=function TC(l,c){return eg(l||[],c||[],Qc)},S.zipObjectDeep=function HE(l,c){return eg(l||[],c||[],Xa)},S.zipWith=bC,S.entries=fS,S.entriesIn=Pg,S.extend=nS,S.extendWith=vf,Ug(S,S),S.add=Cd,S.attempt=Td,S.camelCase=by,S.capitalize=wf,S.ceil=ri,S.clamp=function Ty(l,c,g){return g===C&&(g=c,c=C),g!==C&&(g=(g=Zo(g))==g?g:0),c!==C&&(c=(c=Zo(c))==c?c:0),Ia(Zo(l),c,g)},S.clone=function o0(l){return Bi(l,4)},S.cloneDeep=function pf(l){return Bi(l,5)},S.cloneDeepWith=function BC(l,c){return Bi(l,5,c="function"==typeof c?c:C)},S.cloneWith=function uy(l,c){return Bi(l,4,c="function"==typeof c?c:C)},S.conformsTo=function a0(l,c){return null==c||Jc(l,c,Si(c))},S.deburr=Ts,S.defaultTo=function Vg(l,c){return null==l||l!=l?c:l},S.divide=MS,S.endsWith=function Og(l,c,g){l=In(l),c=bi(c);var v=l.length,T=g=g===C?v:Ia(Bt(g),0,v);return(g-=c.length)>=0&&l.slice(g,T)==c},S.eq=Ko,S.escape=function Cy(l){return(l=In(l))&&la.test(l)?l.replace(Mi,Th):l},S.escapeRegExp=function _S(l){return(l=In(l))&&V.test(l)?l.replace(b,"\\$&"):l},S.every=function WE(l,c,g){var v=kt(l)?ho:kh;return g&&Es(l,c,g)&&(c=C),v(l,Ue(c,3))},S.find=KE,S.findIndex=Z_,S.findKey=function Ag(l,c){return Pu(l,Ue(c,3),_o)},S.findLast=DC,S.findLastIndex=DE,S.findLastKey=function aS(l,c){return Pu(l,Ue(c,3),Ku)},S.floor=Cf,S.forEach=ZE,S.forEachRight=gd,S.forIn=function my(l,c){return null==l?l:Ta(l,Ue(c,3),Ys)},S.forInRight=function lS(l,c){return null==l?l:$i(l,Ue(c,3),Ys)},S.forOwn=function Id(l,c){return l&&_o(l,Ue(c,3))},S.forOwnRight=function _y(l,c){return l&&Ku(l,Ue(c,3))},S.get=Rg,S.gt=HC,S.gte=$C,S.has=function cS(l,c){return null!=l&&ic(l,c,ed)},S.hasIn=yy,S.head=cC,S.identity=_i,S.includes=function PC(l,c,g,v){l=Gi(l)?l:Eo(l),g=g&&!v?Bt(g):0;var T=l.length;return g<0&&(g=wr(T+g,0)),_f(l)?g<=T&&l.indexOf(c,g)>-1:!!T&&Mo(l,c,g)>-1},S.indexOf=function xE(l,c,g){var v=null==l?0:l.length;if(!v)return-1;var T=null==g?0:Bt(g);return T<0&&(T=wr(v+T,0)),Mo(l,c,T)},S.inRange=function Mg(l,c,g){return c=ka(c),g===C?(g=c,c=0):g=ka(g),function Fh(l,c,g){return l>=Tr(c,g)&&l<wr(c,g)}(l=Zo(l),c,g)},S.invoke=d0,S.isArguments=Jl,S.isArray=kt,S.isArrayBuffer=Cg,S.isArrayLike=Gi,S.isArrayLikeObject=Yn,S.isBoolean=function jC(l){return!0===l||!1===l||kr(l)&&ti(l)==Ne},S.isBuffer=Xl,S.isDate=vM,S.isElement=function zC(l){return kr(l)&&1===l.nodeType&&!Sg(l)},S.isEmpty=function cy(l){if(null==l)return!0;if(Gi(l)&&(kt(l)||"string"==typeof l||"function"==typeof l.splice||Xl(l)||vd(l)||Jl(l)))return!l.length;var c=$r(l);if(c==Tn||c==xr)return!l.size;if(nf(l))return!ot(l).length;for(var g in l)if(rn.call(l,g))return!1;return!0},S.isEqual=function qC(l,c){return Ca(l,c)},S.isEqualWith=function _d(l,c,g){var v=(g="function"==typeof g?g:C)?g(l,c):C;return v===C?Ca(l,c,C,g):!!v},S.isError=yd,S.isFinite=function dy(l){return"number"==typeof l&&S_(l)},S.isFunction=Na,S.isInteger=hy,S.isLength=gf,S.isMap=l0,S.isMatch=function GC(l,c){return l===c||td(l,c,tf(c))},S.isMatchWith=function WC(l,c,g){return g="function"==typeof g?g:C,td(l,c,tf(c),g)},S.isNaN=function KC(l){return QC(l)&&l!=+l},S.isNative=function eu(l){if(ni(l))throw new It("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Uh(l)},S.isNil=function ZC(l){return null==l},S.isNull=function mf(l){return null===l},S.isNumber=QC,S.isObject=cr,S.isObjectLike=kr,S.isPlainObject=Sg,S.isRegExp=u0,S.isSafeInteger=function IM(l){return hy(l)&&l>=-Rr&&l<=Rr},S.isSet=YC,S.isString=_f,S.isSymbol=Qs,S.isTypedArray=vd,S.isUndefined=function JC(l){return l===C},S.isWeakMap=function XC(l){return kr(l)&&$r(l)==Pr},S.isWeakSet=function fy(l){return kr(l)&&"[object WeakSet]"==ti(l)},S.join=function pC(l,c){return null==l?"":Xb.call(l,c)},S.kebabCase=yS,S.last=ss,S.lastIndexOf=function PE(l,c,g){var v=null==l?0:l.length;if(!v)return-1;var T=v;return g!==C&&(T=(T=Bt(g))<0?wr(v+T,0):Tr(T,v-1)),c==c?function Hr(N,K,Z){for(var ke=Z+1;ke--;)if(N[ke]===K)return ke;return ke}(l,c,T):di(l,Mu,T,!0)},S.lowerCase=y0,S.lowerFirst=Ed,S.lt=tl,S.lte=yf,S.max=function Cs(l){return l&&l.length?Uo(l,_i,Xc):C},S.maxBy=function OS(l,c){return l&&l.length?Uo(l,Ue(c,2),Xc):C},S.mean=function NS(l){return Oo(l,_i)},S.meanBy=function Sd(l,c){return Oo(l,Ue(c,2))},S.min=function S0(l){return l&&l.length?Uo(l,_i,br):C},S.minBy=function Fy(l,c){return l&&l.length?Uo(l,Ue(c,2),br):C},S.stubArray=Ly,S.stubFalse=$g,S.stubObject=function RS(){return{}},S.stubString=function C0(){return""},S.stubTrue=function AM(){return!0},S.multiply=DM,S.nth=function gC(l,c){return l&&l.length?nd(l,Bt(c)):C},S.noConflict=function AS(){return Fn._===this&&(Fn._=No),this},S.noop=Oy,S.now=hf,S.pad=function vS(l,c,g){l=In(l);var v=(c=Bt(c))?Mr(l):0;if(!c||v>=c)return l;var T=(c-v)/2;return _(ns(T),g)+l+_(Ya(T),g)},S.padEnd=function IS(l,c,g){l=In(l);var v=(c=Bt(c))?Mr(l):0;return c&&v<c?l+_(c-v,g):l},S.padStart=function ES(l,c,g){l=In(l);var v=(c=Bt(c))?Mr(l):0;return c&&v<c?_(c-v,g)+l:l},S.parseInt=function Sy(l,c,g){return g||null==c?c=0:c&&(c=+c),gE(In(l).replace(oe,""),c||0)},S.random=function mS(l,c,g){if(g&&"boolean"!=typeof g&&Es(l,c,g)&&(c=g=C),g===C&&("boolean"==typeof c?(g=c,c=C):"boolean"==typeof l&&(g=l,l=C)),l===C&&c===C?(l=0,c=1):(l=ka(l),c===C?(c=l,l=0):c=ka(c)),l>c){var v=l;l=c,c=v}if(g||l%1||c%1){var T=A_();return Tr(l+T*(c-l+Lc("1e-"+((T+"").length-1))),c)}return Is(l,c)},S.reduce=function JE(l,c,g){var v=kt(l)?Tl:Mp,T=arguments.length<3;return v(l,Ue(c,4),g,T,vs)},S.reduceRight=function ny(l,c,g){var v=kt(l)?ca:Mp,T=arguments.length<3;return v(l,Ue(c,4),g,T,bn)},S.repeat=function Ng(l,c,g){return c=(g?Es(l,c,g):c===C)?1:Bt(c),Ju(In(l),c)},S.replace=function wS(){var l=arguments,c=In(l[0]);return l.length<3?c:c.replace(l[1],l[2])},S.result=function p0(l,c,g){var v=-1,T=(c=$o(c,l)).length;for(T||(T=1,l=C);++v<T;){var P=null==l?C:l[Oa(c[v])];P===C&&(v=T,P=g),l=Na(P)?P.call(l):P}return l},S.round=Vy,S.runInContext=N,S.sample=function MC(l){return(kt(l)?Wu:B_)(l)},S.size=function kC(l){if(null==l)return 0;if(Gi(l))return _f(l)?Mr(l):l.length;var c=$r(l);return c==Tn||c==xr?l.size:ot(l).length},S.snakeCase=v0,S.some=function LC(l,c,g){var v=kt(l)?Ru:qh;return g&&Es(l,c,g)&&(c=C),v(l,Ue(c,3))},S.sortedIndex=function fM(l,c){return Da(l,c)},S.sortedIndexBy=function Q_(l,c,g){return rd(l,c,Ue(g,2))},S.sortedIndexOf=function pM(l,c){var g=null==l?0:l.length;if(g){var v=Da(l,c);if(v<g&&Ko(l[v],c))return v}return-1},S.sortedLastIndex=function gM(l,c){return Da(l,c,!0)},S.sortedLastIndexBy=function mM(l,c,g){return rd(l,c,Ue(g,2),!0)},S.sortedLastIndexOf=function _M(l,c){if(null!=l&&l.length){var v=Da(l,c,!0)-1;if(Ko(l[v],c))return v}return-1},S.startCase=wM,S.startsWith=function I0(l,c,g){return l=In(l),g=null==g?0:Ia(Bt(g),0,l.length),c=bi(c),l.slice(g,g+c.length)==c},S.subtract=A0,S.sum=function kS(l){return l&&l.length?ku(l,_i):0},S.sumBy=function LS(l,c){return l&&l.length?ku(l,Ue(c,2)):0},S.template=function E0(l,c,g){var v=S.templateSettings;g&&Es(l,c,g)&&(c=C),l=In(l),c=vf({},c,v,mi);var B,z,T=vf({},c.imports,v.imports,mi),P=Si(T),k=Fu(T,P),pe=0,me=c.interpolate||W,Se="__p += '",Pe=ys((c.escape||W).source+"|"+me.source+"|"+(me===U?qr:W).source+"|"+(c.evaluate||W).source+"|$","g"),Ye="//# sourceURL="+(rn.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Su+"]")+"\n";l.replace(Pe,function(Tt,tn,We,Ss,os,wo){return We||(We=Ss),Se+=l.slice(pe,wo).replace(yr,Np),tn&&(B=!0,Se+="' +\n__e("+tn+") +\n'"),os&&(z=!0,Se+="';\n"+os+";\n__p += '"),We&&(Se+="' +\n((__t = ("+We+")) == null ? '' : __t) +\n'"),pe=wo+Tt.length,Tt}),Se+="';\n";var wt=rn.call(c,"variable")&&c.variable;if(wt){if(An.test(wt))throw new It("Invalid `variable` option passed into `_.template`")}else Se="with (obj) {\n"+Se+"\n}\n";Se=(z?Se.replace(Bs,""):Se).replace(Ur,"$1").replace(Br,"$1;"),Se="function("+(wt||"obj")+") {\n"+(wt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(B?", __e = _.escape":"")+(z?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Se+"return __p\n}";var Qt=Td(function(){return Et(P,Ye+"return "+Se).apply(C,k)});if(Qt.source=Se,yd(Qt))throw Qt;return Qt},S.times=function xS(l,c){if((l=Bt(l))<1||l>Rr)return[];var g=te,v=Tr(l,te);c=Ue(c),l-=te;for(var T=Lu(v,c);++g<l;)c(g);return T},S.toFinite=ka,S.toInteger=Bt,S.toLength=eS,S.toLower=function TS(l){return In(l).toLowerCase()},S.toNumber=Zo,S.toSafeInteger=function gy(l){return l?Ia(Bt(l),-Rr,Rr):0===l?l:0},S.toString=In,S.toUpper=function TM(l){return In(l).toUpperCase()},S.trim=function bM(l,c,g){if((l=In(l))&&(g||c===C))return Uc(l);if(!l||!(c=bi(c)))return l;var v=Gr(l),T=Gr(c);return Ks(v,Bc(v,T),Vu(v,T)+1).join("")},S.trimEnd=function kg(l,c,g){if((l=In(l))&&(g||c===C))return l.slice(0,Fi(l)+1);if(!l||!(c=bi(c)))return l;var v=Gr(l);return Ks(v,0,Vu(v,Gr(c))+1).join("")},S.trimStart=function bS(l,c,g){if((l=In(l))&&(g||c===C))return l.replace(oe,"");if(!l||!(c=bi(c)))return l;var v=Gr(l);return Ks(v,Bc(v,Gr(c))).join("")},S.truncate=function Ay(l,c){var g=30,v="...";if(cr(c)){var T="separator"in c?c.separator:T;g="length"in c?Bt(c.length):g,v="omission"in c?bi(c.omission):v}var P=(l=In(l)).length;if(Sl(l)){var k=Gr(l);P=k.length}if(g>=P)return l;var B=g-Mr(v);if(B<1)return v;var z=k?Ks(k,0,B).join(""):l.slice(0,B);if(T===C)return z+v;if(k&&(B+=z.length-B),u0(T)){if(l.slice(B).search(T)){var pe,me=z;for(T.global||(T=ys(T.source,In(ua.exec(T))+"g")),T.lastIndex=0;pe=T.exec(me);)var Se=pe.index;z=z.slice(0,Se===C?B:Se)}}else if(l.indexOf(bi(T),B)!=B){var Pe=z.lastIndexOf(T);Pe>-1&&(z=z.slice(0,Pe))}return z+v},S.unescape=function Dy(l){return(l=In(l))&&vl.test(l)?l.replace(ui,$c):l},S.uniqueId=function PS(l){var c=++fo;return In(l)+c},S.upperCase=wd,S.upperFirst=Tf,S.each=ZE,S.eachRight=gd,S.first=cC,Ug(S,function(){var l={};return _o(S,function(c,g){rn.call(S.prototype,g)||(l[g]=c)}),l}(),{chain:!1}),S.VERSION="4.17.21",$s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){S[l].placeholder=S}),$s(["drop","take"],function(l,c){Xt.prototype[l]=function(g){g=g===C?1:wr(Bt(g),0);var v=this.__filtered__&&!c?new Xt(this):this.clone();return v.__filtered__?v.__takeCount__=Tr(g,v.__takeCount__):v.__views__.push({size:Tr(g,te),type:l+(v.__dir__<0?"Right":"")}),v},Xt.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),$s(["filter","map","takeWhile"],function(l,c){var g=c+1,v=1==g||3==g;Xt.prototype[l]=function(T){var P=this.clone();return P.__iteratees__.push({iteratee:Ue(T,3),type:g}),P.__filtered__=P.__filtered__||v,P}}),$s(["head","last"],function(l,c){var g="take"+(c?"Right":"");Xt.prototype[l]=function(){return this[g](1).value()[0]}}),$s(["initial","tail"],function(l,c){var g="drop"+(c?"":"Right");Xt.prototype[l]=function(){return this.__filtered__?new Xt(this):this[g](1)}}),Xt.prototype.compact=function(){return this.filter(_i)},Xt.prototype.find=function(l){return this.filter(l).head()},Xt.prototype.findLast=function(l){return this.reverse().find(l)},Xt.prototype.invokeMap=Ft(function(l,c){return"function"==typeof l?new Xt(this):this.map(function(g){return ba(g,l,c)})}),Xt.prototype.reject=function(l){return this.filter(ac(Ue(l)))},Xt.prototype.slice=function(l,c){l=Bt(l);var g=this;return g.__filtered__&&(l>0||c<0)?new Xt(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),c!==C&&(g=(c=Bt(c))<0?g.dropRight(-c):g.take(c-l)),g)},Xt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Xt.prototype.toArray=function(){return this.take(te)},_o(Xt.prototype,function(l,c){var g=/^(?:filter|find|map|reject)|While$/.test(c),v=/^(?:head|last)$/.test(c),T=S[v?"take"+("last"==c?"Right":""):c],P=v||/^find/.test(c);T&&(S.prototype[c]=function(){var k=this.__wrapped__,B=v?[1]:arguments,z=k instanceof Xt,pe=B[0],me=z||kt(k),Se=function(tn){var We=T.apply(S,Gt([tn],B));return v&&Pe?We[0]:We};me&&g&&"function"==typeof pe&&1!=pe.length&&(z=me=!1);var Pe=this.__chain__,wt=P&&!Pe,Qt=z&&!this.__actions__.length;if(!P&&me){k=Qt?k:new Xt(this);var Tt=l.apply(k,B);return Tt.__actions__.push({func:pd,args:[Se],thisArg:C}),new fn(Tt,Pe)}return wt&&Qt?l.apply(this,B):(Tt=this.thru(Se),wt?v?Tt.value()[0]:Tt.value():Tt)})}),$s(["pop","push","shift","sort","splice","unshift"],function(l){var c=da[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",v=/^(?:pop|shift)$/.test(l);S.prototype[l]=function(){var T=arguments;if(v&&!this.__chain__){var P=this.value();return c.apply(kt(P)?P:[],T)}return this[g](function(k){return c.apply(kt(k)?k:[],T)})}}),_o(Xt.prototype,function(l,c){var g=S[c];if(g){var v=g.name+"";rn.call(pa,v)||(pa[v]=[]),pa[v].push({name:c,func:g})}}),pa[sd(C,2).name]=[{name:"wrapper",func:C}],Xt.prototype.clone=function Wc(){var l=new Xt(this.__wrapped__);return l.__actions__=gi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=gi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=gi(this.__views__),l},Xt.prototype.reverse=function Hp(){if(this.__filtered__){var l=new Xt(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},Xt.prototype.value=function zu(){var l=this.__wrapped__.value(),c=this.__dir__,g=kt(l),v=c<0,T=g?l.length:0,P=function vE(l,c,g){for(var v=-1,T=g.length;++v<T;){var P=g[v],k=P.size;switch(P.type){case"drop":l+=k;break;case"dropRight":c-=k;break;case"take":c=Tr(c,l+k);break;case"takeRight":l=wr(l,c-k)}}return{start:l,end:c}}(0,T,this.__views__),k=P.start,B=P.end,z=B-k,pe=v?B:k-1,me=this.__iteratees__,Se=me.length,Pe=0,Ye=Tr(z,this.__takeCount__);if(!g||!v&&T==z&&Ye==z)return Un(l,this.__actions__);var wt=[];e:for(;z--&&Pe<Ye;){for(var Qt=-1,Tt=l[pe+=c];++Qt<Se;){var tn=me[Qt],Ss=tn.type,os=(0,tn.iteratee)(Tt);if(2==Ss)Tt=os;else if(!os){if(1==Ss)continue e;break e}}wt[Pe++]=Tt}return wt},S.prototype.at=jE,S.prototype.chain=function X_(){return $E(this)},S.prototype.commit=function qi(){return new fn(this.value(),this.__chain__)},S.prototype.next=function cf(){this.__values__===C&&(this.__values__=py(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?C:this.__values__[this.__index__++]}},S.prototype.plant=function qE(l){for(var c,g=this;g instanceof Ti;){var v=SE(g);v.__index__=0,v.__values__=C,c?T.__wrapped__=v:c=v;var T=v;g=g.__wrapped__}return T.__wrapped__=l,c},S.prototype.reverse=function CC(){var l=this.__wrapped__;if(l instanceof Xt){var c=l;return this.__actions__.length&&(c=new Xt(this)),(c=c.reverse()).__actions__.push({func:pd,args:[uf],thisArg:C}),new fn(c,this.__chain__)}return this.thru(uf)},S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=function GE(){return Un(this.__wrapped__,this.__actions__)},S.prototype.first=S.prototype.head,Er&&(S.prototype[Er]=function zE(){return this}),S}();Fn._=jn,(O=function(){return jn}.call(er,ct,er,li))!==C&&(li.exports=O)}.call(this)},106:(li,er,ct)=>{"use strict";ct.d(er,{Z:()=>or});var O=ct(58),C=ct(537),q=ct(534),Ze=ct(879);class dn{constructor(ft,Ct){this._delegate=ft,this.firebase=Ct,(0,q._addComponent)(ft,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=ft.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this._delegate.automaticDataCollectionEnabled=ft}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ft=>{this._delegate.checkDestroyed(),ft()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(ft,Ct=q._DEFAULT_ENTRY_NAME){var Rn;this._delegate.checkDestroyed();const xn=this._delegate.container.getProvider(ft);return!xn.isInitialized()&&"EXPLICIT"===(null===(Rn=xn.getComponent())||void 0===Rn?void 0:Rn.instantiationMode)&&xn.initialize(),xn.getImmediate({identifier:Ct})}_removeServiceInstance(ft,Ct=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ft).clearInstance(Ct)}_addComponent(ft){(0,q._addComponent)(this._delegate,ft)}_addOrOverwriteComponent(ft){(0,q._addOrOverwriteComponent)(this._delegate,ft)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const mr=new O.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function an(){const bt=function Sn(bt){const ft={},Ct={__esModule:!0,initializeApp:function Dt(Nt,Ce={}){const sn=q.initializeApp(Nt,Ce);if((0,O.r3)(ft,sn.name))return ft[sn.name];const Bn=new bt(sn,Ct);return ft[sn.name]=Bn,Bn},app:xn,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function _r(Nt){const Ce=Nt.name,sn=Ce.replace("-compat","");if(q._registerComponent(Nt)&&"PUBLIC"===Nt.type){const Bn=(ar=xn())=>{if("function"!=typeof ar[sn])throw mr.create("invalid-app-argument",{appName:Ce});return ar[sn]()};void 0!==Nt.serviceProps&&(0,O.ZB)(Bn,Nt.serviceProps),Ct[sn]=Bn,bt.prototype[sn]=function(...ar){return this._getService.bind(this,Ce).apply(this,Nt.multipleInstances?ar:[])}}return"PUBLIC"===Nt.type?Ct[sn]:null},removeApp:function Rn(Nt){delete ft[Nt]},useAsService:function Wn(Nt,Ce){return"serverAuth"===Ce?null:Ce},modularAPIs:q}};function xn(Nt){if(!(0,O.r3)(ft,Nt=Nt||q._DEFAULT_ENTRY_NAME))throw mr.create("no-app",{appName:Nt});return ft[Nt]}return Ct.default=Ct,Object.defineProperty(Ct,"apps",{get:function ln(){return Object.keys(ft).map(Nt=>ft[Nt])}}),xn.App=bt,Ct}(dn);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:an,extendNamespace:function ft(Ct){(0,O.ZB)(bt,Ct)},createSubscribe:O.ne,ErrorFactory:O.LL,deepExtend:O.ZB}),bt}(),Ie=new Ze.Yd("@firebase/app-compat");if((0,O.jU)()&&void 0!==self.firebase){Ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&Ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const or=de;!function Wt(bt){(0,q.registerVersion)("@firebase/app-compat","0.2.23",bt)}()},534:(li,er,ct)=>{"use strict";ct.r(er),ct.d(er,{FirebaseError:()=>Ze.ZR,SDK_VERSION:()=>gs,_DEFAULT_ENTRY_NAME:()=>Pi,_addComponent:()=>Xr,_addOrOverwriteComponent:()=>zr,_apps:()=>Pr,_clearComponents:()=>nr,_components:()=>es,_getProvider:()=>mn,_registerComponent:()=>Vr,_removeServiceInstance:()=>Ii,deleteApp:()=>Br,getApp:()=>Bs,getApps:()=>Ur,initializeApp:()=>ms,onLog:()=>vl,registerVersion:()=>Mi,setLogLevel:()=>la});var O=ct(861),C=ct(537),q=ct(879),Ze=ct(58);const dn=(Y,j)=>j.some(we=>Y instanceof we);let on,mr;const de=new WeakMap,Ie=new WeakMap,Ke=new WeakMap,vt=new WeakMap,Wt=new WeakMap;let ft={get(Y,j,we){if(Y instanceof IDBTransaction){if("done"===j)return Ie.get(Y);if("objectStoreNames"===j)return Y.objectStoreNames||Ke.get(Y);if("store"===j)return we.objectStoreNames[1]?void 0:we.objectStore(we.objectStoreNames[0])}return Dt(Y[j])},set:(Y,j,we)=>(Y[j]=we,!0),has:(Y,j)=>Y instanceof IDBTransaction&&("done"===j||"store"===j)||j in Y};function xn(Y){return"function"==typeof Y?function Rn(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function an(){return mr||(mr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...j){return Y.apply(ln(this),j),Dt(de.get(this))}:function(...j){return Dt(Y.apply(ln(this),j))}:function(j,...we){const Qe=Y.call(ln(this),j,...we);return Ke.set(Qe,j.sort?j.sort():[j]),Dt(Qe)}}(Y):(Y instanceof IDBTransaction&&function bt(Y){if(Ie.has(Y))return;const j=new Promise((we,Qe)=>{const Ut=()=>{Y.removeEventListener("complete",zt),Y.removeEventListener("error",W),Y.removeEventListener("abort",W)},zt=()=>{we(),Ut()},W=()=>{Qe(Y.error||new DOMException("AbortError","AbortError")),Ut()};Y.addEventListener("complete",zt),Y.addEventListener("error",W),Y.addEventListener("abort",W)});Ie.set(Y,j)}(Y),dn(Y,function Sn(){return on||(on=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,ft):Y)}function Dt(Y){if(Y instanceof IDBRequest)return function or(Y){const j=new Promise((we,Qe)=>{const Ut=()=>{Y.removeEventListener("success",zt),Y.removeEventListener("error",W)},zt=()=>{we(Dt(Y.result)),Ut()},W=()=>{Qe(Y.error),Ut()};Y.addEventListener("success",zt),Y.addEventListener("error",W)});return j.then(we=>{we instanceof IDBCursor&&de.set(we,Y)}).catch(()=>{}),Wt.set(j,Y),j}(Y);if(vt.has(Y))return vt.get(Y);const j=xn(Y);return j!==Y&&(vt.set(Y,j),Wt.set(j,Y)),j}const ln=Y=>Wt.get(Y),Nt=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],sn=new Map;function Bn(Y,j){if(!(Y instanceof IDBDatabase)||j in Y||"string"!=typeof j)return;if(sn.get(j))return sn.get(j);const we=j.replace(/FromIndex$/,""),Qe=j!==we,Ut=Ce.includes(we);if(!(we in(Qe?IDBIndex:IDBObjectStore).prototype)||!Ut&&!Nt.includes(we))return;const zt=function(){var W=(0,O.Z)(function*(yr,...je){const Zt=this.transaction(yr,Ut?"readwrite":"readonly");let Eu=Zt.store;return Qe&&(Eu=Eu.index(je.shift())),(yield Promise.all([Eu[we](...je),Ut&&Zt.done]))[0]});return function(je){return W.apply(this,arguments)}}();return sn.set(j,zt),zt}!function Ct(Y){ft=Y(ft)}(Y=>({...Y,get:(j,we,Qe)=>Bn(j,we)||Y.get(j,we,Qe),has:(j,we)=>!!Bn(j,we)||Y.has(j,we)}));class ar{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function lr(Y){const j=Y.getComponent();return"VERSION"===j?.type}(we)){const Qe=we.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(we=>we).join(" ")}}const Fs="@firebase/app",St=new q.Yd("@firebase/app"),Pi="[DEFAULT]",Us={[Fs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pr=new Map,es=new Map;function Xr(Y,j){try{Y.container.addComponent(j)}catch(we){St.debug(`Component ${j.name} failed to register with FirebaseApp ${Y.name}`,we)}}function zr(Y,j){Y.container.addOrOverwriteComponent(j)}function Vr(Y){const j=Y.name;if(es.has(j))return St.debug(`There were multiple attempts to register component ${j}.`),!1;es.set(j,Y);for(const we of Pr.values())Xr(we,Y);return!0}function mn(Y,j){const we=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),Y.container.getProvider(j)}function Ii(Y,j,we=Pi){mn(Y,j).clearInstance(we)}function nr(){es.clear()}const Hn=new Ze.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(j,we,Qe){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const gs="10.6.0";function ms(Y,j={}){let we=Y;"object"!=typeof j&&(j={name:j});const Qe=Object.assign({name:Pi,automaticDataCollectionEnabled:!1},j),Ut=Qe.name;if("string"!=typeof Ut||!Ut)throw Hn.create("bad-app-name",{appName:String(Ut)});if(we||(we=(0,Ze.aH)()),!we)throw Hn.create("no-options");const zt=Pr.get(Ut);if(zt){if((0,Ze.vZ)(we,zt.options)&&(0,Ze.vZ)(Qe,zt.config))return zt;throw Hn.create("duplicate-app",{appName:Ut})}const W=new C.H0(Ut);for(const je of es.values())W.addComponent(je);const yr=new Zn(we,Qe,W);return Pr.set(Ut,yr),yr}function Bs(Y=Pi){const j=Pr.get(Y);if(!j&&Y===Pi&&(0,Ze.aH)())return ms();if(!j)throw Hn.create("no-app",{appName:Y});return j}function Ur(){return Array.from(Pr.values())}function Br(Y){return ui.apply(this,arguments)}function ui(){return(ui=(0,O.Z)(function*(Y){const j=Y.name;Pr.has(j)&&(Pr.delete(j),yield Promise.all(Y.container.getProviders().map(we=>we.delete())),Y.isDeleted=!0)})).apply(this,arguments)}function Mi(Y,j,we){var Qe;let Ut=null!==(Qe=Us[Y])&&void 0!==Qe?Qe:Y;we&&(Ut+=`-${we}`);const zt=Ut.match(/\s|\//),W=j.match(/\s|\//);if(zt||W){const yr=[`Unable to register library "${Ut}" with version "${j}":`];return zt&&yr.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),zt&&W&&yr.push("and"),W&&yr.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void St.warn(yr.join(" "))}Vr(new C.wA(`${Ut}-version`,()=>({library:Ut,version:j}),"VERSION"))}function vl(Y,j){if(null!==Y&&"function"!=typeof Y)throw Hn.create("invalid-log-argument");(0,q.Am)(Y,j)}function la(Y){(0,q.Ub)(Y)}const Ga="firebase-heartbeat-database",uo=1,U="firebase-heartbeat-store";let F=null;function A(){return F||(F=function _r(Y,j,{blocked:we,upgrade:Qe,blocking:Ut,terminated:zt}={}){const W=indexedDB.open(Y,j),yr=Dt(W);return Qe&&W.addEventListener("upgradeneeded",je=>{Qe(Dt(W.result),je.oldVersion,je.newVersion,Dt(W.transaction),je)}),we&&W.addEventListener("blocked",je=>we(je.oldVersion,je.newVersion,je)),yr.then(je=>{zt&&je.addEventListener("close",()=>zt()),Ut&&je.addEventListener("versionchange",Zt=>Ut(Zt.oldVersion,Zt.newVersion,Zt))}).catch(()=>{}),yr}(Ga,uo,{upgrade:(Y,j)=>{0===j&&Y.createObjectStore(U)}}).catch(Y=>{throw Hn.create("idb-open",{originalErrorMessage:Y.message})})),F}function b(){return(b=(0,O.Z)(function*(Y){try{return yield(yield A()).transaction(U).objectStore(U).get($e(Y))}catch(j){if(j instanceof Ze.ZR)St.warn(j.message);else{const we=Hn.create("idb-get",{originalErrorMessage:j?.message});St.warn(we.message)}}})).apply(this,arguments)}function V(Y,j){return oe.apply(this,arguments)}function oe(){return(oe=(0,O.Z)(function*(Y,j){try{const Qe=(yield A()).transaction(U,"readwrite");yield Qe.objectStore(U).put(j,$e(Y)),yield Qe.done}catch(we){if(we instanceof Ze.ZR)St.warn(we.message);else{const Qe=Hn.create("idb-set",{originalErrorMessage:we?.message});St.warn(Qe.message)}}})).apply(this,arguments)}function $e(Y){return`${Y.name}!${Y.options.appId}`}class cn{constructor(j){this.container=j,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new Xe(we),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var j=this;return(0,O.Z)(function*(){var we;const Ut=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=Ve();if(null==(null===(we=j._heartbeatsCache)||void 0===we?void 0:we.heartbeats)&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==zt&&!j._heartbeatsCache.heartbeats.some(W=>W.date===zt))return j._heartbeatsCache.heartbeats.push({date:zt,agent:Ut}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(W=>{const yr=new Date(W.date).valueOf();return Date.now()-yr<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,O.Z)(function*(){var we;if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null==(null===(we=j._heartbeatsCache)||void 0===we?void 0:we.heartbeats)||0===j._heartbeatsCache.heartbeats.length)return"";const Qe=Ve(),{heartbeatsToSend:Ut,unsentEntries:zt}=function An(Y,j=1024){const we=[];let Qe=Y.slice();for(const Ut of Y){const zt=we.find(W=>W.agent===Ut.agent);if(zt){if(zt.dates.push(Ut.date),qr(we)>j){zt.dates.pop();break}}else if(we.push({agent:Ut.agent,dates:[Ut.date]}),qr(we)>j){we.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:we,unsentEntries:Qe}}(j._heartbeatsCache.heartbeats),W=(0,Ze.L)(JSON.stringify({version:2,heartbeats:Ut}));return j._heartbeatsCache.lastSentHeartbeatDate=Qe,zt.length>0?(j._heartbeatsCache.heartbeats=zt,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),W})()}}function Ve(){return(new Date).toISOString().substring(0,10)}class Xe{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,Ze.hl)()&&(0,Ze.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,O.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function x(Y){return b.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var we=this;return(0,O.Z)(function*(){var Qe;if(yield we._canUseIndexedDBPromise){const zt=yield we.read();return V(we.app,{lastSentHeartbeatDate:null!==(Qe=j.lastSentHeartbeatDate)&&void 0!==Qe?Qe:zt.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var we=this;return(0,O.Z)(function*(){var Qe;if(yield we._canUseIndexedDBPromise){const zt=yield we.read();return V(we.app,{lastSentHeartbeatDate:null!==(Qe=j.lastSentHeartbeatDate)&&void 0!==Qe?Qe:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...j.heartbeats]})}})()}}function qr(Y){return(0,Ze.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function ua(Y){Vr(new C.wA("platform-logger",j=>new ar(j),"PRIVATE")),Vr(new C.wA("heartbeat",j=>new cn(j),"PRIVATE")),Mi(Fs,"0.9.23",Y),Mi(Fs,"0.9.23","esm2017"),Mi("fire-js","")}("")},537:(li,er,ct)=>{"use strict";ct.d(er,{H0:()=>Sn,wA:()=>q});var O=ct(861),C=ct(58);class q{constructor(de,Ie,Ke){this.name=de,this.instanceFactory=Ie,this.type=Ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const Ze="[DEFAULT]";class dn{constructor(de,Ie){this.name=de,this.container=Ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const Ie=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(Ie)){const Ke=new C.BH;if(this.instancesDeferred.set(Ie,Ke),this.isInitialized(Ie)||this.shouldAutoInitialize())try{const vt=this.getOrInitializeService({instanceIdentifier:Ie});vt&&Ke.resolve(vt)}catch{}}return this.instancesDeferred.get(Ie).promise}getImmediate(de){var Ie;const Ke=this.normalizeInstanceIdentifier(de?.identifier),vt=null!==(Ie=de?.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(Ke)&&!this.shouldAutoInitialize()){if(vt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ke})}catch(Wt){if(vt)return null;throw Wt}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function mr(an){return"EAGER"===an.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:Ze})}catch{}for(const[Ie,Ke]of this.instancesDeferred.entries()){const vt=this.normalizeInstanceIdentifier(Ie);try{const Wt=this.getOrInitializeService({instanceIdentifier:vt});Ke.resolve(Wt)}catch{}}}}clearInstance(de=Ze){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,O.Z)(function*(){const Ie=Array.from(de.instances.values());yield Promise.all([...Ie.filter(Ke=>"INTERNAL"in Ke).map(Ke=>Ke.INTERNAL.delete()),...Ie.filter(Ke=>"_delete"in Ke).map(Ke=>Ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=Ze){return this.instances.has(de)}getOptions(de=Ze){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:Ie={}}=de,Ke=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(Ke))throw Error(`${this.name}(${Ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const vt=this.getOrInitializeService({instanceIdentifier:Ke,options:Ie});for(const[Wt,or]of this.instancesDeferred.entries())Ke===this.normalizeInstanceIdentifier(Wt)&&or.resolve(vt);return vt}onInit(de,Ie){var Ke;const vt=this.normalizeInstanceIdentifier(Ie),Wt=null!==(Ke=this.onInitCallbacks.get(vt))&&void 0!==Ke?Ke:new Set;Wt.add(de),this.onInitCallbacks.set(vt,Wt);const or=this.instances.get(vt);return or&&de(or,vt),()=>{Wt.delete(de)}}invokeOnInitCallbacks(de,Ie){const Ke=this.onInitCallbacks.get(Ie);if(Ke)for(const vt of Ke)try{vt(de,Ie)}catch{}}getOrInitializeService({instanceIdentifier:de,options:Ie={}}){let Ke=this.instances.get(de);if(!Ke&&this.component&&(Ke=this.component.instanceFactory(this.container,{instanceIdentifier:(an=de,an===Ze?void 0:an),options:Ie}),this.instances.set(de,Ke),this.instancesOptions.set(de,Ie),this.invokeOnInitCallbacks(Ke,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Ke)}catch{}var an;return Ke||null}normalizeInstanceIdentifier(de=Ze){return this.component?this.component.multipleInstances?de:Ze:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Sn{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const Ie=this.getProvider(de.name);if(Ie.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);Ie.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const Ie=new dn(de,this);return this.providers.set(de,Ie),Ie}getProviders(){return Array.from(this.providers.values())}}},879:(li,er,ct)=>{"use strict";ct.d(er,{Am:()=>an,Ub:()=>Sn,Yd:()=>mr,in:()=>C});const O=[];var C=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(C||{});const q={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},Ze=C.INFO,dn={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},on=(de,Ie,...Ke)=>{if(Ie<de.logLevel)return;const vt=(new Date).toISOString(),Wt=dn[Ie];if(!Wt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ie})`);console[Wt](`[${vt}]  ${de.name}:`,...Ke)};class mr{constructor(Ie){this.name=Ie,this._logLevel=Ze,this._logHandler=on,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(Ie){if(!(Ie in C))throw new TypeError(`Invalid value "${Ie}" assigned to \`logLevel\``);this._logLevel=Ie}setLogLevel(Ie){this._logLevel="string"==typeof Ie?q[Ie]:Ie}get logHandler(){return this._logHandler}set logHandler(Ie){if("function"!=typeof Ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ie){this._userLogHandler=Ie}debug(...Ie){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...Ie),this._logHandler(this,C.DEBUG,...Ie)}log(...Ie){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...Ie),this._logHandler(this,C.VERBOSE,...Ie)}info(...Ie){this._userLogHandler&&this._userLogHandler(this,C.INFO,...Ie),this._logHandler(this,C.INFO,...Ie)}warn(...Ie){this._userLogHandler&&this._userLogHandler(this,C.WARN,...Ie),this._logHandler(this,C.WARN,...Ie)}error(...Ie){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...Ie),this._logHandler(this,C.ERROR,...Ie)}}function Sn(de){O.forEach(Ie=>{Ie.setLogLevel(de)})}function an(de,Ie){for(const Ke of O){let vt=null;Ie&&Ie.level&&(vt=q[Ie.level]),Ke.userLogHandler=null===de?null:(Wt,or,...bt)=>{const ft=bt.map(Ct=>{if(null==Ct)return null;if("string"==typeof Ct)return Ct;if("number"==typeof Ct||"boolean"==typeof Ct)return Ct.toString();if(Ct instanceof Error)return Ct.message;try{return JSON.stringify(Ct)}catch{return null}}).filter(Ct=>Ct).join(" ");or>=(vt??Wt.logLevel)&&de({level:C[or].toLowerCase(),message:ft,args:bt,type:Wt.name})}}}},365:(li,er,ct)=>{"use strict";ct.r(er);var O=ct(861),C=ct(106),q=ct(562),Ze=ct(58),mr=(ct(534),ct(879),ct(537));function Sn(){return window}function Ie(){return Ie=(0,O.Z)(function*(A,x,b){var V;const{BuildInfo:oe}=Sn();(0,q.au)(x.sessionId,"AuthEvent did not contain a session ID");const $e=yield function Ct(A){return Rn.apply(this,arguments)}(x.sessionId),ze={};return(0,q.av)()?ze.ibi=oe.packageName:(0,q.aw)()?ze.apn=oe.packageName:(0,q.ax)(A,"operation-not-supported-in-this-environment"),oe.displayName&&(ze.appDisplayName=oe.displayName),ze.sessionId=$e,(0,q.ay)(A,b,x.type,void 0,null!==(V=x.eventId)&&void 0!==V?V:void 0,ze)}),Ie.apply(this,arguments)}function vt(){return(vt=(0,O.Z)(function*(A){const{BuildInfo:x}=Sn(),b={};(0,q.av)()?b.iosBundleId=x.packageName:(0,q.aw)()?b.androidPackageName=x.packageName:(0,q.ax)(A,"operation-not-supported-in-this-environment"),yield(0,q.az)(A,b)})).apply(this,arguments)}function bt(){return(bt=(0,O.Z)(function*(A,x,b){const{cordova:V}=Sn();let oe=()=>{};try{yield new Promise(($e,ze)=>{let mt=null;function cn(){var Xe;$e();const qr=null===(Xe=V.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof qr&&qr(),"function"==typeof b?.close&&b.close()}function Ve(){mt||(mt=window.setTimeout(()=>{ze((0,q.aB)(A,"redirect-cancelled-by-user"))},2e3))}function An(){"visible"===document?.visibilityState&&Ve()}x.addPassiveListener(cn),document.addEventListener("resume",Ve,!1),(0,q.aw)()&&document.addEventListener("visibilitychange",An,!1),oe=()=>{x.removePassiveListener(cn),document.removeEventListener("resume",Ve,!1),document.removeEventListener("visibilitychange",An,!1),mt&&window.clearTimeout(mt)}})}finally{oe()}})).apply(this,arguments)}function Rn(){return(Rn=(0,O.Z)(function*(A){const x=function xn(A){if((0,q.au)(/[0-9a-zA-Z]+/.test(A),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(A);const x=new ArrayBuffer(A.length),b=new Uint8Array(x);for(let V=0;V<A.length;V++)b[V]=A.charCodeAt(V);return b}(A),b=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(b)).map(oe=>oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ln extends q.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(x)),super.onEvent(x)}initialized(){var x=this;return(0,O.Z)(function*(){yield x.initPromise})()}}function Nt(A){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(A){const x=yield ar()._get(lr(A));return x&&(yield ar()._remove(lr(A))),x})).apply(this,arguments)}function Bn(){const A=[];for(let b=0;b<20;b++){const V=Math.floor(62*Math.random());A.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(V))}return A.join("")}function ar(){return(0,q.aE)(q.b)}function lr(A){return(0,q.aF)("authEvent",A.config.apiKey,A.name)}function St(A){if(!A?.includes("?"))return{};const[x,...b]=A.split("?");return(0,Ze.zd)(b.join("?"))}const ee=class ao{constructor(){this._redirectPersistence=q.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=q.aG,this._overrideRedirectResult=q.aH}_initialize(x){var b=this;return(0,O.Z)(function*(){const V=x._key();let oe=b.eventManagers.get(V);return oe||(oe=new ln(x),b.eventManagers.set(V,oe),b.attachCallbackListeners(x,oe)),oe})()}_openPopup(x){(0,q.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,b,V,oe){var $e=this;return(0,O.Z)(function*(){!function ft(A){var x,b,V,oe,$e,ze,mt,cn,Ve,An;const Xe=Sn();(0,q.aC)("function"==typeof(null===(x=Xe?.universalLinks)||void 0===x?void 0:x.subscribe),A,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,q.aC)(typeof(null===(b=Xe?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,q.aC)("function"==typeof(null===($e=null===(oe=null===(V=Xe?.cordova)||void 0===V?void 0:V.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===$e?void 0:$e.openUrl),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.aC)("function"==typeof(null===(cn=null===(mt=null===(ze=Xe?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===mt?void 0:mt.browsertab)||void 0===cn?void 0:cn.isAvailable),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.aC)("function"==typeof(null===(An=null===(Ve=Xe?.cordova)||void 0===Ve?void 0:Ve.InAppBrowser)||void 0===An?void 0:An.open),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const ze=yield $e._initialize(x);yield ze.initialized(),ze.resetRedirect(),(0,q.aI)(),yield $e._originValidation(x);const mt=function _r(A,x,b=null){return{type:x,eventId:b,urlResponse:null,sessionId:Bn(),postBody:null,tenantId:A.tenantId,error:(0,q.aB)(A,"no-auth-event")}}(x,V,oe);yield function Wn(A,x){return ar()._set(lr(A),x)}(x,mt);const cn=yield function de(A,x,b){return Ie.apply(this,arguments)}(x,mt,b),Ve=yield function Wt(A){const{cordova:x}=Sn();return new Promise(b=>{x.plugins.browsertab.isAvailable(V=>{let oe=null;V?x.plugins.browsertab.openUrl(A):oe=x.InAppBrowser.open(A,(0,q.aA)()?"_blank":"_system","location=yes"),b(oe)})})}(cn);return function or(A,x,b){return bt.apply(this,arguments)}(x,ze,Ve)})()}_isIframeWebStorageSupported(x,b){throw new Error("Method not implemented.")}_originValidation(x){const b=x._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Ke(A){return vt.apply(this,arguments)}(x)),this.originValidationPromises[b]}attachCallbackListeners(x,b){const{universalLinks:V,handleOpenURL:oe,BuildInfo:$e}=Sn(),ze=setTimeout((0,O.Z)(function*(){yield Nt(x),b.onEvent(te())}),500),mt=function(){var An=(0,O.Z)(function*(Xe){clearTimeout(ze);const qr=yield Nt(x);let ua=null;qr&&Xe?.url&&(ua=function sn(A,x){var b,V;const oe=function Vs(A){const x=St(A),b=x.link?decodeURIComponent(x.link):void 0,V=St(b).link,oe=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return St(oe).link||oe||V||b||A}(x);if(oe.includes("/__/auth/callback")){const $e=St(oe),ze=$e.firebaseError?function Fs(A){try{return JSON.parse(A)}catch{return null}}(decodeURIComponent($e.firebaseError)):null,mt=null===(V=null===(b=ze?.code)||void 0===b?void 0:b.split("auth/"))||void 0===V?void 0:V[1],cn=mt?(0,q.aB)(mt):null;return cn?{type:A.type,eventId:A.eventId,tenantId:A.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:A.type,eventId:A.eventId,tenantId:A.tenantId,sessionId:A.sessionId,urlResponse:oe,postBody:null}}return null}(qr,Xe.url)),b.onEvent(ua||te())});return function(qr){return An.apply(this,arguments)}}();typeof V<"u"&&"function"==typeof V.subscribe&&V.subscribe(null,mt);const cn=oe,Ve=`${$e.packageName.toLowerCase()}://`;Sn().handleOpenURL=function(){var An=(0,O.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(Ve)&&mt({url:Xe}),"function"==typeof cn)try{cn(Xe)}catch(qr){console.error(qr)}});return function(Xe){return An.apply(this,arguments)}}()}};function te(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,q.aB)("no-auth-event")}}function xe(){var A;return(null===(A=self?.location)||void 0===A?void 0:A.protocol)||null}function Ne(A=(0,Ze.z$)()){return!("file:"!==xe()&&"ionic:"!==xe()&&"capacitor:"!==xe()||!A.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const A=self.localStorage,x=q.aN();if(A)return A.setItem(x,"1"),A.removeItem(x),!function yn(A=(0,Ze.z$)()){return function un(){return(0,Ze.w1)()&&11===document?.documentMode}()||function Pn(A=(0,Ze.z$)()){return/Edge\/\d+/.test(A)}(A)}()||(0,Ze.hl)()}catch{return Tn()&&(0,Ze.hl)()}return!1}function Tn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function tr(){return(function Kt(){return"http:"===xe()||"https:"===xe()}()||(0,Ze.ru)()||Ne())&&!function Je(){return(0,Ze.b$)()||(0,Ze.UG)()}()&&Kn()&&!Tn()}function Jr(){return Ne()&&typeof document<"u"}function ps(){return(ps=(0,O.Z)(function*(){return!!Jr()&&new Promise(A=>{const x=setTimeout(()=>{A(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),A(!0)})})})).apply(this,arguments)}const jt={LOCAL:"local",NONE:"none",SESSION:"session"},xr=q.aC,xi="persistence";function Us(A){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,O.Z)(function*(A){yield A._initializationPromise;const x=Xr(),b=q.aF(xi,A.config.apiKey,A.name);x&&x.setItem(b,A._getPersistence())})).apply(this,arguments)}function Xr(){var A;try{return(null===(A=function lo(){return typeof window<"u"?window:null}())||void 0===A?void 0:A.sessionStorage)||null}catch{return null}}const zr=q.aC;class Vr{constructor(){this.browserResolver=q.aE(q.k),this.cordovaResolver=q.aE(ee),this.underlyingResolver=null,this._redirectPersistence=q.a,this._completeRedirectFn=q.aG,this._overrideRedirectResult=q.aH}_initialize(x){var b=this;return(0,O.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,b,V,oe){var $e=this;return(0,O.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openPopup(x,b,V,oe)})()}_openRedirect(x,b,V,oe){var $e=this;return(0,O.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openRedirect(x,b,V,oe)})()}_isIframeWebStorageSupported(x,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,b)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return Jr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,O.Z)(function*(){if(x.underlyingResolver)return;const b=yield function ur(){return ps.apply(this,arguments)}();x.underlyingResolver=b?x.cordovaResolver:x.browserResolver})()}}function mn(A){return A.unwrap()}function nr(A){return Hn(A)}function Hn(A){const{_tokenResponse:x}=A instanceof Ze.ZR?A.customData:A;if(!x)return null;if(!(A instanceof Ze.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return q.P.credentialFromResult(A);const b=x.providerId;if(!b||b===q.p.PASSWORD)return null;let V;switch(b){case q.p.GOOGLE:V=q.X;break;case q.p.FACEBOOK:V=q.W;break;case q.p.GITHUB:V=q.Y;break;case q.p.TWITTER:V=q.$;break;default:const{oauthIdToken:oe,oauthAccessToken:$e,oauthTokenSecret:ze,pendingToken:mt,nonce:cn}=x;return $e||ze||oe||mt?mt?b.startsWith("saml.")?q.aQ._create(b,mt):q.N._fromParams({providerId:b,signInMethod:b,pendingToken:mt,idToken:oe,accessToken:$e}):new q.Z(b).credential({idToken:oe,accessToken:$e,rawNonce:cn}):null}return A instanceof Ze.ZR?V.credentialFromError(A):V.credentialFromResult(A)}function Zn(A,x){return x.catch(b=>{throw b instanceof Ze.ZR&&function qa(A,x){var b;const V=null===(b=x.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new Bs(A,q.as(A,x));else if(V){const oe=Hn(x),$e=x;oe&&($e.credential=oe,$e.tenantId=V.tenantId||void 0,$e.email=V.email||void 0,$e.phoneNumber=V.phoneNumber||void 0)}}(A,b),b}).then(b=>{const oe=b.user;return{operationType:b.operationType,credential:nr(b),additionalUserInfo:q.aq(b),user:Ur.getOrCreate(oe)}})}function gs(A,x){return ms.apply(this,arguments)}function ms(){return(ms=(0,O.Z)(function*(A,x){const b=yield x;return{verificationId:b.verificationId,confirm:V=>Zn(A,b.confirm(V))}})).apply(this,arguments)}class Bs{constructor(x,b){this.resolver=b,this.auth=function Ii(A){return A.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return Zn(mn(this.auth),this.resolver.resolveSignIn(x))}}class Ur{constructor(x){this._delegate=x,this.multiFactor=q.at(x)}static getOrCreate(x){return Ur.USER_MAP.has(x)||Ur.USER_MAP.set(x,new Ur(x)),Ur.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var b=this;return(0,O.Z)(function*(){return Zn(b.auth,q.a2(b._delegate,x))})()}linkWithPhoneNumber(x,b){var V=this;return(0,O.Z)(function*(){return gs(V.auth,q.l(V._delegate,x,b))})()}linkWithPopup(x){var b=this;return(0,O.Z)(function*(){return Zn(b.auth,q.d(b._delegate,x,Vr))})()}linkWithRedirect(x){var b=this;return(0,O.Z)(function*(){return yield Us(q.aJ(b.auth)),q.g(b._delegate,x,Vr)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var b=this;return(0,O.Z)(function*(){return Zn(b.auth,q.a3(b._delegate,x))})()}reauthenticateWithPhoneNumber(x,b){return gs(this.auth,q.r(this._delegate,x,b))}reauthenticateWithPopup(x){return Zn(this.auth,q.e(this._delegate,x,Vr))}reauthenticateWithRedirect(x){var b=this;return(0,O.Z)(function*(){return yield Us(q.aJ(b.auth)),q.h(b._delegate,x,Vr)})()}sendEmailVerification(x){return q.ag(this._delegate,x)}unlink(x){var b=this;return(0,O.Z)(function*(){return yield q.ap(b._delegate,x),b})()}updateEmail(x){return q.al(this._delegate,x)}updatePassword(x){return q.am(this._delegate,x)}updatePhoneNumber(x){return q.u(this._delegate,x)}updateProfile(x){return q.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,b){return q.ah(this._delegate,x,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ur.USER_MAP=new WeakMap;const Br=q.aC;let ui=(()=>{class A{constructor(b,V){if(this.app=b,V.isInitialized())return this._delegate=V.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:oe}=b.options;Br(oe,"invalid-api-key",{appName:b.name}),Br(oe,"invalid-api-key",{appName:b.name});const $e=typeof window<"u"?Vr:void 0;this._delegate=V.initialize({options:{persistence:vl(oe,b.name),popupRedirectResolver:$e}}),this._delegate._updateErrorMap(q.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ur.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,V){q.K(this._delegate,b,V)}applyActionCode(b){return q.a7(this._delegate,b)}checkActionCode(b){return q.a8(this._delegate,b)}confirmPasswordReset(b,V){return q.a6(this._delegate,b,V)}createUserWithEmailAndPassword(b,V){var oe=this;return(0,O.Z)(function*(){return Zn(oe._delegate,q.aa(oe._delegate,b,V))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return q.af(this._delegate,b)}isSignInWithEmailLink(b){return q.ad(this._delegate,b)}getRedirectResult(){var b=this;return(0,O.Z)(function*(){Br(tr(),b._delegate,"operation-not-supported-in-this-environment");const V=yield q.j(b._delegate,Vr);return V?Zn(b._delegate,Promise.resolve(V)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function se(A,x){(0,q.aJ)(A)._logFramework(x)}(this._delegate,b)}onAuthStateChanged(b,V,oe){const{next:$e,error:ze,complete:mt}=Mi(b,V,oe);return this._delegate.onAuthStateChanged($e,ze,mt)}onIdTokenChanged(b,V,oe){const{next:$e,error:ze,complete:mt}=Mi(b,V,oe);return this._delegate.onIdTokenChanged($e,ze,mt)}sendSignInLinkToEmail(b,V){return q.ac(this._delegate,b,V)}sendPasswordResetEmail(b,V){return q.a5(this._delegate,b,V||void 0)}setPersistence(b){var V=this;return(0,O.Z)(function*(){let oe;switch(function Pi(A,x){xr(Object.values(jt).includes(x),A,"invalid-persistence-type"),(0,Ze.b$)()?xr(x!==jt.SESSION,A,"unsupported-persistence-type"):(0,Ze.UG)()?xr(x===jt.NONE,A,"unsupported-persistence-type"):Tn()?xr(x===jt.NONE||x===jt.LOCAL&&(0,Ze.hl)(),A,"unsupported-persistence-type"):xr(x===jt.NONE||Kn(),A,"unsupported-persistence-type")}(V._delegate,b),b){case jt.SESSION:oe=q.a;break;case jt.LOCAL:oe=(yield q.aE(q.i)._isAvailable())?q.i:q.b;break;case jt.NONE:oe=q.U;break;default:return q.ax("argument-error",{appName:V._delegate.name})}return V._delegate.setPersistence(oe)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Zn(this._delegate,q.a0(this._delegate))}signInWithCredential(b){return Zn(this._delegate,q.a1(this._delegate,b))}signInWithCustomToken(b){return Zn(this._delegate,q.a4(this._delegate,b))}signInWithEmailAndPassword(b,V){return Zn(this._delegate,q.ab(this._delegate,b,V))}signInWithEmailLink(b,V){return Zn(this._delegate,q.ae(this._delegate,b,V))}signInWithPhoneNumber(b,V){return gs(this._delegate,q.s(this._delegate,b,V))}signInWithPopup(b){var V=this;return(0,O.Z)(function*(){return Br(tr(),V._delegate,"operation-not-supported-in-this-environment"),Zn(V._delegate,q.c(V._delegate,b,Vr))})()}signInWithRedirect(b){var V=this;return(0,O.Z)(function*(){return Br(tr(),V._delegate,"operation-not-supported-in-this-environment"),yield Us(V._delegate),q.f(V._delegate,b,Vr)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return q.a9(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return A.Persistence=jt,A})();function Mi(A,x,b){let V=A;"function"!=typeof A&&({next:V,error:x,complete:b}=A);const oe=V;return{next:ze=>oe(ze&&Ur.getOrCreate(ze)),error:x,complete:b}}function vl(A,x){const b=function es(A,x){const b=Xr();if(!b)return[];const V=q.aF(xi,A,x);switch(b.getItem(V)){case jt.NONE:return[q.U];case jt.LOCAL:return[q.i,q.a];case jt.SESSION:return[q.a];default:return[]}}(A,x);if(typeof self<"u"&&!b.includes(q.i)&&b.push(q.i),typeof window<"u")for(const V of[q.b,q.a])b.includes(V)||b.push(V);return b.includes(q.U)||b.push(q.U),b}class la{constructor(){this.providerId="phone",this._delegate=new q.P(mn(C.Z.auth()))}static credential(x,b){return q.P.credential(x,b)}verifyPhoneNumber(x,b){return this._delegate.verifyPhoneNumber(x,b)}unwrap(){return this._delegate}}la.PHONE_SIGN_IN_METHOD=q.P.PHONE_SIGN_IN_METHOD,la.PROVIDER_ID=q.P.PROVIDER_ID;const Ga=q.aC;class uo{constructor(x,b,V=C.Z.app()){var oe;Ga(null===(oe=V.options)||void 0===oe?void 0:oe.apiKey,"invalid-api-key",{appName:V.name}),this._delegate=new q.R(V.auth(),x,b),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function F(A){A.INTERNAL.registerComponent(new mr.wA("auth-compat",x=>{const b=x.getProvider("app-compat").getImmediate(),V=x.getProvider("auth");return new ui(b,V)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q.A.EMAIL_SIGNIN,PASSWORD_RESET:q.A.PASSWORD_RESET,RECOVER_EMAIL:q.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:q.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:q.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:q.A.VERIFY_EMAIL}},EmailAuthProvider:q.V,FacebookAuthProvider:q.W,GithubAuthProvider:q.Y,GoogleAuthProvider:q.X,OAuthProvider:q.Z,SAMLAuthProvider:q._,PhoneAuthProvider:la,PhoneMultiFactorGenerator:q.m,RecaptchaVerifier:uo,TwitterAuthProvider:q.$,Auth:ui,AuthCredential:q.L,Error:Ze.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),A.registerVersion("@firebase/auth-compat","0.4.9")}(C.Z)},861:(li,er,ct)=>{"use strict";function O(q,Ze,dn,on,mr,Sn,an){try{var de=q[Sn](an),Ie=de.value}catch(Ke){return void dn(Ke)}de.done?Ze(Ie):Promise.resolve(Ie).then(on,mr)}function C(q){return function(){var Ze=this,dn=arguments;return new Promise(function(on,mr){var Sn=q.apply(Ze,dn);function an(Ie){O(Sn,on,mr,an,de,"next",Ie)}function de(Ie){O(Sn,on,mr,an,de,"throw",Ie)}an(void 0)})}}ct.d(er,{Z:()=>C})},582:(li,er,ct)=>{"use strict";function Ze(ee,te){var se={};for(var ne in ee)Object.prototype.hasOwnProperty.call(ee,ne)&&te.indexOf(ne)<0&&(se[ne]=ee[ne]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(ne=Object.getOwnPropertySymbols(ee);ge<ne.length;ge++)te.indexOf(ne[ge])<0&&Object.prototype.propertyIsEnumerable.call(ee,ne[ge])&&(se[ne[ge]]=ee[ne[ge]])}return se}function Ke(ee,te,se,ne){return new(se||(se=Promise))(function(ce,xe){function Kt(un){try{Je(ne.next(un))}catch(Pn){xe(Pn)}}function Ne(un){try{Je(ne.throw(un))}catch(Pn){xe(Pn)}}function Je(un){un.done?ce(un.value):function ge(ce){return ce instanceof se?ce:new se(function(xe){xe(ce)})}(un.value).then(Kt,Ne)}Je((ne=ne.apply(ee,te||[])).next())})}function Dt(ee){return this instanceof Dt?(this.v=ee,this):new Dt(ee)}function ln(ee,te,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ne=se.apply(ee,te||[]),ce=[];return ge={},xe("next"),xe("throw"),xe("return"),ge[Symbol.asyncIterator]=function(){return this},ge;function xe(yn){ne[yn]&&(ge[yn]=function(Kn){return new Promise(function(Tn,tr){ce.push([yn,Kn,Tn,tr])>1||Kt(yn,Kn)})})}function Kt(yn,Kn){try{!function Ne(yn){yn.value instanceof Dt?Promise.resolve(yn.value.v).then(Je,un):Pn(ce[0][2],yn)}(ne[yn](Kn))}catch(Tn){Pn(ce[0][3],Tn)}}function Je(yn){Kt("next",yn)}function un(yn){Kt("throw",yn)}function Pn(yn,Kn){yn(Kn),ce.shift(),ce.length&&Kt(ce[0][0],ce[0][1])}}function Wn(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,te=ee[Symbol.asyncIterator];return te?te.call(ee):(ee=function bt(ee){var te="function"==typeof Symbol&&Symbol.iterator,se=te&&ee[te],ne=0;if(se)return se.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ne>=ee.length&&(ee=void 0),{value:ee&&ee[ne++],done:!ee}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),se={},ne("next"),ne("throw"),ne("return"),se[Symbol.asyncIterator]=function(){return this},se);function ne(ce){se[ce]=ee[ce]&&function(xe){return new Promise(function(Kt,Ne){!function ge(ce,xe,Kt,Ne){Promise.resolve(Ne).then(function(Je){ce({value:Je,done:Kt})},xe)}(Kt,Ne,(xe=ee[ce](xe)).done,xe.value)})}}}ct.d(er,{FC:()=>ln,KL:()=>Wn,_T:()=>Ze,mG:()=>Ke,qq:()=>Dt}),"function"==typeof SuppressedError&&SuppressedError}},li=>{li(li.s=378)}]);